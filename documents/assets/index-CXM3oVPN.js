var UD=Object.defineProperty;var qD=(t,e,n)=>e in t?UD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ft=(t,e,n)=>qD(t,typeof e!="symbol"?e+"":e,n);function HD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ws(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $D(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Mm={exports:{}},$u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1;function VD(){if(E1)return $u;E1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return $u.Fragment=e,$u.jsx=n,$u.jsxs=n,$u}var C1;function YD(){return C1||(C1=1,Mm.exports=VD()),Mm.exports}var x=YD(),jm={exports:{}},jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1;function XD(){if(A1)return jt;A1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function g(k){return k===null||typeof k!="object"?null:(k=p&&k[p]||k["@@iterator"],typeof k=="function"?k:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function A(k,le,se){this.props=k,this.context=le,this.refs=w,this.updater=se||v}A.prototype.isReactComponent={},A.prototype.setState=function(k,le){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,le,"setState")},A.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function S(){}S.prototype=A.prototype;function L(k,le,se){this.props=k,this.context=le,this.refs=w,this.updater=se||v}var P=L.prototype=new S;P.constructor=L,_(P,A.prototype),P.isPureReactComponent=!0;var F=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function z(k,le,se,B,U,I){return se=I.ref,{$$typeof:t,type:k,key:le,ref:se!==void 0?se:null,props:I}}function T(k,le){return z(k.type,le,void 0,void 0,void 0,k.props)}function N(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function $(k){var le={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(se){return le[se]})}var V=/\/+/g;function G(k,le){return typeof k=="object"&&k!==null&&k.key!=null?$(""+k.key):le.toString(36)}function re(){}function Y(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(re,re):(k.status="pending",k.then(function(le){k.status==="pending"&&(k.status="fulfilled",k.value=le)},function(le){k.status==="pending"&&(k.status="rejected",k.reason=le)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function M(k,le,se,B,U){var I=typeof k;(I==="undefined"||I==="boolean")&&(k=null);var W=!1;if(k===null)W=!0;else switch(I){case"bigint":case"string":case"number":W=!0;break;case"object":switch(k.$$typeof){case t:case e:W=!0;break;case d:return W=k._init,M(W(k._payload),le,se,B,U)}}if(W)return U=U(k),W=B===""?"."+G(k,0):B,F(U)?(se="",W!=null&&(se=W.replace(V,"$&/")+"/"),M(U,le,se,"",function(pe){return pe})):U!=null&&(N(U)&&(U=T(U,se+(U.key==null||k&&k.key===U.key?"":(""+U.key).replace(V,"$&/")+"/")+W)),le.push(U)),1;W=0;var ae=B===""?".":B+":";if(F(k))for(var oe=0;oe<k.length;oe++)B=k[oe],I=ae+G(B,oe),W+=M(B,le,se,I,U);else if(oe=g(k),typeof oe=="function")for(k=oe.call(k),oe=0;!(B=k.next()).done;)B=B.value,I=ae+G(B,oe++),W+=M(B,le,se,I,U);else if(I==="object"){if(typeof k.then=="function")return M(Y(k),le,se,B,U);throw le=String(k),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return W}function D(k,le,se){if(k==null)return k;var B=[],U=0;return M(k,B,"","",function(I){return le.call(se,I,U++)}),B}function j(k){if(k._status===-1){var le=k._result;le=le(),le.then(function(se){(k._status===0||k._status===-1)&&(k._status=1,k._result=se)},function(se){(k._status===0||k._status===-1)&&(k._status=2,k._result=se)}),k._status===-1&&(k._status=0,k._result=le)}if(k._status===1)return k._result.default;throw k._result}var Z=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function ne(){}return jt.Children={map:D,forEach:function(k,le,se){D(k,function(){le.apply(this,arguments)},se)},count:function(k){var le=0;return D(k,function(){le++}),le},toArray:function(k){return D(k,function(le){return le})||[]},only:function(k){if(!N(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},jt.Component=A,jt.Fragment=n,jt.Profiler=i,jt.PureComponent=L,jt.StrictMode=r,jt.Suspense=c,jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,jt.__COMPILER_RUNTIME={__proto__:null,c:function(k){return R.H.useMemoCache(k)}},jt.cache=function(k){return function(){return k.apply(null,arguments)}},jt.cloneElement=function(k,le,se){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var B=_({},k.props),U=k.key,I=void 0;if(le!=null)for(W in le.ref!==void 0&&(I=void 0),le.key!==void 0&&(U=""+le.key),le)!O.call(le,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&le.ref===void 0||(B[W]=le[W]);var W=arguments.length-2;if(W===1)B.children=se;else if(1<W){for(var ae=Array(W),oe=0;oe<W;oe++)ae[oe]=arguments[oe+2];B.children=ae}return z(k.type,U,void 0,void 0,I,B)},jt.createContext=function(k){return k={$$typeof:o,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:a,_context:k},k},jt.createElement=function(k,le,se){var B,U={},I=null;if(le!=null)for(B in le.key!==void 0&&(I=""+le.key),le)O.call(le,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(U[B]=le[B]);var W=arguments.length-2;if(W===1)U.children=se;else if(1<W){for(var ae=Array(W),oe=0;oe<W;oe++)ae[oe]=arguments[oe+2];U.children=ae}if(k&&k.defaultProps)for(B in W=k.defaultProps,W)U[B]===void 0&&(U[B]=W[B]);return z(k,I,void 0,void 0,null,U)},jt.createRef=function(){return{current:null}},jt.forwardRef=function(k){return{$$typeof:u,render:k}},jt.isValidElement=N,jt.lazy=function(k){return{$$typeof:d,_payload:{_status:-1,_result:k},_init:j}},jt.memo=function(k,le){return{$$typeof:f,type:k,compare:le===void 0?null:le}},jt.startTransition=function(k){var le=R.T,se={};R.T=se;try{var B=k(),U=R.S;U!==null&&U(se,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(ne,Z)}catch(I){Z(I)}finally{R.T=le}},jt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},jt.use=function(k){return R.H.use(k)},jt.useActionState=function(k,le,se){return R.H.useActionState(k,le,se)},jt.useCallback=function(k,le){return R.H.useCallback(k,le)},jt.useContext=function(k){return R.H.useContext(k)},jt.useDebugValue=function(){},jt.useDeferredValue=function(k,le){return R.H.useDeferredValue(k,le)},jt.useEffect=function(k,le,se){var B=R.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return B.useEffect(k,le)},jt.useId=function(){return R.H.useId()},jt.useImperativeHandle=function(k,le,se){return R.H.useImperativeHandle(k,le,se)},jt.useInsertionEffect=function(k,le){return R.H.useInsertionEffect(k,le)},jt.useLayoutEffect=function(k,le){return R.H.useLayoutEffect(k,le)},jt.useMemo=function(k,le){return R.H.useMemo(k,le)},jt.useOptimistic=function(k,le){return R.H.useOptimistic(k,le)},jt.useReducer=function(k,le,se){return R.H.useReducer(k,le,se)},jt.useRef=function(k){return R.H.useRef(k)},jt.useState=function(k){return R.H.useState(k)},jt.useSyncExternalStore=function(k,le,se){return R.H.useSyncExternalStore(k,le,se)},jt.useTransition=function(){return R.H.useTransition()},jt.version="19.1.0",jt}var T1;function cv(){return T1||(T1=1,jm.exports=XD()),jm.exports}var ie=cv();const er=ws(ie),D1=HD({__proto__:null,default:er},[ie]);var Lm={exports:{}},Vu={},Pm={exports:{}},Im={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O1;function GD(){return O1||(O1=1,function(t){function e(D,j){var Z=D.length;D.push(j);e:for(;0<Z;){var ne=Z-1>>>1,k=D[ne];if(0<i(k,j))D[ne]=j,D[Z]=k,Z=ne;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var j=D[0],Z=D.pop();if(Z!==j){D[0]=Z;e:for(var ne=0,k=D.length,le=k>>>1;ne<le;){var se=2*(ne+1)-1,B=D[se],U=se+1,I=D[U];if(0>i(B,Z))U<k&&0>i(I,B)?(D[ne]=I,D[U]=Z,ne=U):(D[ne]=B,D[se]=Z,ne=se);else if(U<k&&0>i(I,Z))D[ne]=I,D[U]=Z,ne=U;else break e}}return j}function i(D,j){var Z=D.sortIndex-j.sortIndex;return Z!==0?Z:D.id-j.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],f=[],d=1,p=null,g=3,v=!1,_=!1,w=!1,A=!1,S=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function F(D){for(var j=n(f);j!==null;){if(j.callback===null)r(f);else if(j.startTime<=D)r(f),j.sortIndex=j.expirationTime,e(c,j);else break;j=n(f)}}function R(D){if(w=!1,F(D),!_)if(n(c)!==null)_=!0,O||(O=!0,G());else{var j=n(f);j!==null&&M(R,j.startTime-D)}}var O=!1,z=-1,T=5,N=-1;function $(){return A?!0:!(t.unstable_now()-N<T)}function V(){if(A=!1,O){var D=t.unstable_now();N=D;var j=!0;try{e:{_=!1,w&&(w=!1,L(z),z=-1),v=!0;var Z=g;try{t:{for(F(D),p=n(c);p!==null&&!(p.expirationTime>D&&$());){var ne=p.callback;if(typeof ne=="function"){p.callback=null,g=p.priorityLevel;var k=ne(p.expirationTime<=D);if(D=t.unstable_now(),typeof k=="function"){p.callback=k,F(D),j=!0;break t}p===n(c)&&r(c),F(D)}else r(c);p=n(c)}if(p!==null)j=!0;else{var le=n(f);le!==null&&M(R,le.startTime-D),j=!1}}break e}finally{p=null,g=Z,v=!1}j=void 0}}finally{j?G():O=!1}}}var G;if(typeof P=="function")G=function(){P(V)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Y=re.port2;re.port1.onmessage=V,G=function(){Y.postMessage(null)}}else G=function(){S(V,0)};function M(D,j){z=S(function(){D(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(D){switch(g){case 1:case 2:case 3:var j=3;break;default:j=g}var Z=g;g=j;try{return D()}finally{g=Z}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(D,j){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Z=g;g=D;try{return j()}finally{g=Z}},t.unstable_scheduleCallback=function(D,j,Z){var ne=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ne+Z:ne):Z=ne,D){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=Z+k,D={id:d++,callback:j,priorityLevel:D,startTime:Z,expirationTime:k,sortIndex:-1},Z>ne?(D.sortIndex=Z,e(f,D),n(c)===null&&D===n(f)&&(w?(L(z),z=-1):w=!0,M(R,Z-ne))):(D.sortIndex=k,e(c,D),_||v||(_=!0,O||(O=!0,G()))),D},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(D){var j=g;return function(){var Z=g;g=j;try{return D.apply(this,arguments)}finally{g=Z}}}}(Im)),Im}var k1;function WD(){return k1||(k1=1,Pm.exports=GD()),Pm.exports}var Bm={exports:{}},_r={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1;function ZD(){if(N1)return _r;N1=1;var t=cv();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:d}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return _r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_r.createPortal=function(c,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,d)},_r.flushSync=function(c){var f=o.T,d=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=f,r.p=d,r.d.f()}},_r.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},_r.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},_r.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var d=f.as,p=u(d,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):d==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},_r.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=u(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},_r.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,p=u(d,f.crossOrigin);r.d.L(c,d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},_r.preloadModule=function(c,f){if(typeof c=="string")if(f){var d=u(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},_r.requestFormReset=function(c){r.d.r(c)},_r.unstable_batchedUpdates=function(c,f){return c(f)},_r.useFormState=function(c,f,d){return o.H.useFormState(c,f,d)},_r.useFormStatus=function(){return o.H.useHostTransitionStatus()},_r.version="19.1.0",_r}var R1;function iE(){if(R1)return Bm.exports;R1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bm.exports=ZD(),Bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M1;function KD(){if(M1)return Vu;M1=1;var t=WD(),e=cv(),n=iE();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function c(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var h=s,m=l;;){var y=h.return;if(y===null)break;var C=y.alternate;if(C===null){if(m=y.return,m!==null){h=m;continue}break}if(y.child===C.child){for(C=y.child;C;){if(C===h)return u(y),s;if(C===m)return u(y),l;C=C.sibling}throw Error(r(188))}if(h.return!==m.return)h=y,m=C;else{for(var K=!1,ue=y.child;ue;){if(ue===h){K=!0,h=y,m=C;break}if(ue===m){K=!0,m=y,h=C;break}ue=ue.sibling}if(!K){for(ue=C.child;ue;){if(ue===h){K=!0,h=C,m=y;break}if(ue===m){K=!0,m=C,h=y;break}ue=ue.sibling}if(!K)throw Error(r(189))}}if(h.alternate!==m)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:l}function f(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=f(s),l!==null)return l;s=s.sibling}return null}var d=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),P=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function G(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var re=Symbol.for("react.client.reference");function Y(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===re?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case A:return"Profiler";case w:return"StrictMode";case R:return"Suspense";case O:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case v:return"Portal";case P:return(s.displayName||"Context")+".Provider";case L:return(s._context.displayName||"Context")+".Consumer";case F:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case z:return l=s.displayName||null,l!==null?l:Y(s.type)||"Memo";case T:l=s._payload,s=s._init;try{return Y(s(l))}catch{}}return null}var M=Array.isArray,D=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ne=[],k=-1;function le(s){return{current:s}}function se(s){0>k||(s.current=ne[k],ne[k]=null,k--)}function B(s,l){k++,ne[k]=s.current,s.current=l}var U=le(null),I=le(null),W=le(null),ae=le(null);function oe(s,l){switch(B(W,l),B(I,s),B(U,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?Q_(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=Q_(l),s=J_(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}se(U),B(U,s)}function pe(){se(U),se(I),se(W)}function De(s){s.memoizedState!==null&&B(ae,s);var l=U.current,h=J_(l,s.type);l!==h&&(B(I,s),B(U,h))}function de(s){I.current===s&&(se(U),se(I)),ae.current===s&&(se(ae),zu._currentValue=Z)}var he=Object.prototype.hasOwnProperty,Te=t.unstable_scheduleCallback,fe=t.unstable_cancelCallback,ce=t.unstable_shouldYield,ve=t.unstable_requestPaint,Se=t.unstable_now,we=t.unstable_getCurrentPriorityLevel,H=t.unstable_ImmediatePriority,X=t.unstable_UserBlockingPriority,ee=t.unstable_NormalPriority,te=t.unstable_LowPriority,ge=t.unstable_IdlePriority,Re=t.log,xe=t.unstable_setDisableYieldValue,me=null,Ee=null;function je(s){if(typeof Re=="function"&&xe(s),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(me,s)}catch{}}var Pe=Math.clz32?Math.clz32:Ke,qe=Math.log,We=Math.LN2;function Ke(s){return s>>>=0,s===0?32:31-(qe(s)/We|0)|0}var Qe=256,at=4194304;function xt(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function bt(s,l,h){var m=s.pendingLanes;if(m===0)return 0;var y=0,C=s.suspendedLanes,K=s.pingedLanes;s=s.warmLanes;var ue=m&134217727;return ue!==0?(m=ue&~C,m!==0?y=xt(m):(K&=ue,K!==0?y=xt(K):h||(h=ue&~s,h!==0&&(y=xt(h))))):(ue=m&~C,ue!==0?y=xt(ue):K!==0?y=xt(K):h||(h=m&~s,h!==0&&(y=xt(h)))),y===0?0:l!==0&&l!==y&&(l&C)===0&&(C=y&-y,h=l&-l,C>=h||C===32&&(h&4194048)!==0)?l:y}function gt(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Rt(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wn(){var s=Qe;return Qe<<=1,(Qe&4194048)===0&&(Qe=256),s}function Wt(){var s=at;return at<<=1,(at&62914560)===0&&(at=4194304),s}function Cn(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function Bt(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Jt(s,l,h,m,y,C){var K=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var ue=s.entanglements,Ae=s.expirationTimes,ze=s.hiddenUpdates;for(h=K&~h;0<h;){var $e=31-Pe(h),Xe=1<<$e;ue[$e]=0,Ae[$e]=-1;var Fe=ze[$e];if(Fe!==null)for(ze[$e]=null,$e=0;$e<Fe.length;$e++){var Ue=Fe[$e];Ue!==null&&(Ue.lane&=-536870913)}h&=~Xe}m!==0&&ut(s,m,0),C!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=C&~(K&~l))}function ut(s,l,h){s.pendingLanes|=l,s.suspendedLanes&=~l;var m=31-Pe(l);s.entangledLanes|=l,s.entanglements[m]=s.entanglements[m]|1073741824|h&4194090}function lt(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var m=31-Pe(h),y=1<<m;y&l|s[m]&l&&(s[m]|=l),h&=~y}}function st(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ht(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function cn(){var s=j.p;return s!==0?s:(s=window.event,s===void 0?32:y1(s.type))}function Vn(s,l){var h=j.p;try{return j.p=s,l()}finally{j.p=h}}var et=Math.random().toString(36).slice(2),q="__reactFiber$"+et,Q="__reactProps$"+et,ye="__reactContainer$"+et,Ne="__reactEvents$"+et,Ge="__reactListeners$"+et,nt="__reactHandles$"+et,vt="__reactResources$"+et,zt="__reactMarker$"+et;function At(s){delete s[q],delete s[Q],delete s[Ne],delete s[Ge],delete s[nt]}function nn(s){var l=s[q];if(l)return l;for(var h=s.parentNode;h;){if(l=h[ye]||h[q]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=r1(s);s!==null;){if(h=s[q])return h;s=r1(s)}return l}s=h,h=s.parentNode}return null}function yn(s){if(s=s[q]||s[ye]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function lr(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function jn(s){var l=s[vt];return l||(l=s[vt]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Vt(s){s[zt]=!0}var gr=new Set,Ln={};function Sn(s,l){Nt(s,l),Nt(s+"Capture",l)}function Nt(s,l){for(Ln[s]=l,s=0;s<l.length;s++)gr.add(l[s])}var ur=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kn={},Dr={};function Hr(s){return he.call(Dr,s)?!0:he.call(kn,s)?!1:ur.test(s)?Dr[s]=!0:(kn[s]=!0,!1)}function Mi(s,l,h){if(Hr(l))if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+h)}}function So(s,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+h)}}function xi(s,l,h,m){if(m===null)s.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(l,h,""+m)}}var Xl,Cs;function Ra(s){if(Xl===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);Xl=l&&l[1]||"",Cs=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xl+s+Cs}var Gl=!1;function Wl(s,l){if(!s||Gl)return"";Gl=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var Xe=function(){throw Error()};if(Object.defineProperty(Xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Xe,[])}catch(Ue){var Fe=Ue}Reflect.construct(s,[],Xe)}else{try{Xe.call()}catch(Ue){Fe=Ue}s.call(Xe.prototype)}}else{try{throw Error()}catch(Ue){Fe=Ue}(Xe=s())&&typeof Xe.catch=="function"&&Xe.catch(function(){})}}catch(Ue){if(Ue&&Fe&&typeof Ue.stack=="string")return[Ue.stack,Fe.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=m.DetermineComponentFrameRoot(),K=C[0],ue=C[1];if(K&&ue){var Ae=K.split(`
`),ze=ue.split(`
`);for(y=m=0;m<Ae.length&&!Ae[m].includes("DetermineComponentFrameRoot");)m++;for(;y<ze.length&&!ze[y].includes("DetermineComponentFrameRoot");)y++;if(m===Ae.length||y===ze.length)for(m=Ae.length-1,y=ze.length-1;1<=m&&0<=y&&Ae[m]!==ze[y];)y--;for(;1<=m&&0<=y;m--,y--)if(Ae[m]!==ze[y]){if(m!==1||y!==1)do if(m--,y--,0>y||Ae[m]!==ze[y]){var $e=`
`+Ae[m].replace(" at new "," at ");return s.displayName&&$e.includes("<anonymous>")&&($e=$e.replace("<anonymous>",s.displayName)),$e}while(1<=m&&0<=y);break}}}finally{Gl=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?Ra(h):""}function Pd(s){switch(s.tag){case 26:case 27:case 5:return Ra(s.type);case 16:return Ra("Lazy");case 13:return Ra("Suspense");case 19:return Ra("SuspenseList");case 0:case 15:return Wl(s.type,!1);case 11:return Wl(s.type.render,!1);case 1:return Wl(s.type,!0);case 31:return Ra("Activity");default:return""}}function Ma(s){try{var l="";do l+=Pd(s),s=s.return;while(s);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function vr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function As(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Eo(s){var l=As(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),m=""+s[l];if(!s.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,C=h.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return y.call(this)},set:function(K){m=""+K,C.call(this,K)}}),Object.defineProperty(s,l,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(K){m=""+K},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Co(s){s._valueTracker||(s._valueTracker=Eo(s))}function Ts(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),m="";return s&&(m=As(s)?s.checked?"true":"false":s.value),s=m,s!==h?(l.setValue(s),!0):!1}function Ao(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Id=/[\n"\\]/g;function Or(s){return s.replace(Id,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Zl(s,l,h,m,y,C,K,ue){s.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?s.type=K:s.removeAttribute("type"),l!=null?K==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+vr(l)):s.value!==""+vr(l)&&(s.value=""+vr(l)):K!=="submit"&&K!=="reset"||s.removeAttribute("value"),l!=null?To(s,K,vr(l)):h!=null?To(s,K,vr(h)):m!=null&&s.removeAttribute("value"),y==null&&C!=null&&(s.defaultChecked=!!C),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"?s.name=""+vr(ue):s.removeAttribute("name")}function ja(s,l,h,m,y,C,K,ue){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.type=C),l!=null||h!=null){if(!(C!=="submit"&&C!=="reset"||l!=null))return;h=h!=null?""+vr(h):"",l=l!=null?""+vr(l):h,ue||l===s.value||(s.value=l),s.defaultValue=l}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=ue?s.checked:!!m,s.defaultChecked=!!m,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(s.name=K)}function To(s,l,h){l==="number"&&Ao(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function La(s,l,h,m){if(s=s.options,l){l={};for(var y=0;y<h.length;y++)l["$"+h[y]]=!0;for(h=0;h<s.length;h++)y=l.hasOwnProperty("$"+s[h].value),s[h].selected!==y&&(s[h].selected=y),y&&m&&(s[h].defaultSelected=!0)}else{for(h=""+vr(h),l=null,y=0;y<s.length;y++){if(s[y].value===h){s[y].selected=!0,m&&(s[y].defaultSelected=!0);return}l!==null||s[y].disabled||(l=s[y])}l!==null&&(l.selected=!0)}}function Ds(s,l,h){if(l!=null&&(l=""+vr(l),l!==s.value&&(s.value=l),h==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=h!=null?""+vr(h):""}function ji(s,l,h,m){if(l==null){if(m!=null){if(h!=null)throw Error(r(92));if(M(m)){if(1<m.length)throw Error(r(93));m=m[0]}h=m}h==null&&(h=""),l=h}h=vr(l),s.defaultValue=h,m=s.textContent,m===h&&m!==""&&m!==null&&(s.value=m)}function Pa(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var Bd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kr(s,l,h){var m=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":m?s.setProperty(l,h):typeof h!="number"||h===0||Bd.has(l)?l==="float"?s.cssFloat=h:s[l]=(""+h).trim():s[l]=h+"px"}function Kl(s,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var y in l)m=l[y],l.hasOwnProperty(y)&&h[y]!==m&&kr(s,y,m)}else for(var C in l)l.hasOwnProperty(C)&&kr(s,C,l[C])}function Do(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(s){return Gc.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ia=null;function $r(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Li=null,Pi=null;function Os(s){var l=yn(s);if(l&&(s=l.stateNode)){var h=s[Q]||null;e:switch(s=l.stateNode,l.type){case"input":if(Zl(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Or(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var m=h[l];if(m!==s&&m.form===s.form){var y=m[Q]||null;if(!y)throw Error(r(90));Zl(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(l=0;l<h.length;l++)m=h[l],m.form===s.form&&Ts(m)}break e;case"textarea":Ds(s,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&La(s,!!h.multiple,l,!1)}}}var Ba=!1;function Oo(s,l,h){if(Ba)return s(l,h);Ba=!0;try{var m=s(l);return m}finally{if(Ba=!1,(Li!==null||Pi!==null)&&(If(),Li&&(l=Li,s=Pi,Pi=Li=null,Os(l),s)))for(l=0;l<s.length;l++)Os(s[l])}}function fn(s,l){var h=s.stateNode;if(h===null)return null;var m=h[Q]||null;if(m===null)return null;h=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ql=!1;if(ii)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){Ql=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{Ql=!1}var ai=null,wi=null,ks=null;function Jl(){if(ks)return ks;var s,l=wi,h=l.length,m,y="value"in ai?ai.value:ai.textContent,C=y.length;for(s=0;s<h&&l[s]===y[s];s++);var K=h-s;for(m=1;m<=K&&l[h-m]===y[C-m];m++);return ks=y.slice(s,1<m?1-m:void 0)}function Ns(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Rs(){return!0}function eu(){return!1}function yr(s){function l(h,m,y,C,K){this._reactName=h,this._targetInst=y,this.type=m,this.nativeEvent=C,this.target=K,this.currentTarget=null;for(var ue in s)s.hasOwnProperty(ue)&&(h=s[ue],this[ue]=h?h(C):C[ue]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Rs:eu,this.isPropagationStopped=eu,this}return d(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),l}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nr=yr(Ii),Ms=d({},Ii,{view:0,detail:0}),Wc=yr(Ms),tu,nu,Si,za=d({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ro,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Si&&(Si&&s.type==="mousemove"?(tu=s.screenX-Si.screenX,nu=s.screenY-Si.screenY):nu=tu=0,Si=s),tu)},movementY:function(s){return"movementY"in s?s.movementY:nu}}),ko=yr(za),Fd=d({},za,{dataTransfer:0}),Zc=yr(Fd),Ud=d({},Ms,{relatedTarget:0}),la=yr(Ud),ru=d({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),No=yr(ru),Kc=d({},Ii,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Qc=yr(Kc),Jc=d({},Ii,{data:0}),iu=yr(Jc),ef={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rf(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=nf[s])?!!l[s]:!1}function Ro(){return rf}var qd=d({},Ms,{key:function(s){if(s.key){var l=ef[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Ns(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?tf[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ro,charCode:function(s){return s.type==="keypress"?Ns(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ns(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),b=yr(qd),J=d({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=yr(J),be=d({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ro}),_e=yr(be),Ce=d({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=yr(Ce),ke=d({},za,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Je=yr(ke),Me=d({},Ii,{newState:0,oldState:0}),Be=yr(Me),Ft=[9,13,27,32],ot=ii&&"CompositionEvent"in window,Ye=null;ii&&"documentMode"in document&&(Ye=document.documentMode);var it=ii&&"TextEvent"in window&&!Ye,Mt=ii&&(!ot||Ye&&8<Ye&&11>=Ye),Ot=" ",Ut=!1;function rt(s,l){switch(s){case"keyup":return Ft.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var pt=!1;function pn(s,l){switch(s){case"compositionend":return tt(l);case"keypress":return l.which!==32?null:(Ut=!0,Ot);case"textInput":return s=l.data,s===Ot&&Ut?null:s;default:return null}}function dt(s,l){if(pt)return s==="compositionend"||!ot&&rt(s,l)?(s=Jl(),ks=wi=ai=null,pt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Mt&&l.locale!=="ko"?null:l.data;default:return null}}var Zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ht(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Zt[s.type]:l==="textarea"}function wt(s,l,h,m){Li?Pi?Pi.push(m):Pi=[m]:Li=m,l=Hf(l,"onChange"),0<l.length&&(h=new Nr("onChange","change",null,h,m),s.push({event:h,listeners:l}))}var Tt=null,en=null;function ua(s){X_(s,0)}function Vr(s){var l=lr(s);if(Ts(l))return s}function js(s,l){if(s==="change")return l}var Ls=!1;if(ii){var Hd;if(ii){var $d="oninput"in document;if(!$d){var gy=document.createElement("div");gy.setAttribute("oninput","return;"),$d=typeof gy.oninput=="function"}Hd=$d}else Hd=!1;Ls=Hd&&(!document.documentMode||9<document.documentMode)}function vy(){Tt&&(Tt.detachEvent("onpropertychange",yy),en=Tt=null)}function yy(s){if(s.propertyName==="value"&&Vr(en)){var l=[];wt(l,en,s,$r(s)),Oo(ua,l)}}function vT(s,l,h){s==="focusin"?(vy(),Tt=l,en=h,Tt.attachEvent("onpropertychange",yy)):s==="focusout"&&vy()}function yT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Vr(en)}function bT(s,l){if(s==="click")return Vr(l)}function _T(s,l){if(s==="input"||s==="change")return Vr(l)}function xT(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Yr=typeof Object.is=="function"?Object.is:xT;function au(s,l){if(Yr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),m=Object.keys(l);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var y=h[m];if(!he.call(l,y)||!Yr(s[y],l[y]))return!1}return!0}function by(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function _y(s,l){var h=by(s);s=0;for(var m;h;){if(h.nodeType===3){if(m=s+h.textContent.length,s<=l&&m>=l)return{node:h,offset:l-s};s=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=by(h)}}function xy(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?xy(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function wy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Ao(s.document);l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=Ao(s.document)}return l}function Vd(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var wT=ii&&"documentMode"in document&&11>=document.documentMode,Mo=null,Yd=null,su=null,Xd=!1;function Sy(s,l,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Xd||Mo==null||Mo!==Ao(m)||(m=Mo,"selectionStart"in m&&Vd(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),su&&au(su,m)||(su=m,m=Hf(Yd,"onSelect"),0<m.length&&(l=new Nr("onSelect","select",null,l,h),s.push({event:l,listeners:m}),l.target=Mo)))}function Ps(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var jo={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},Gd={},Ey={};ii&&(Ey=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function Is(s){if(Gd[s])return Gd[s];if(!jo[s])return s;var l=jo[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in Ey)return Gd[s]=l[h];return s}var Cy=Is("animationend"),Ay=Is("animationiteration"),Ty=Is("animationstart"),ST=Is("transitionrun"),ET=Is("transitionstart"),CT=Is("transitioncancel"),Dy=Is("transitionend"),Oy=new Map,Wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wd.push("scrollEnd");function Ei(s,l){Oy.set(s,l),Sn(l,[s])}var ky=new WeakMap;function si(s,l){if(typeof s=="object"&&s!==null){var h=ky.get(s);return h!==void 0?h:(l={value:s,source:l,stack:Ma(l)},ky.set(s,l),l)}return{value:s,source:l,stack:Ma(l)}}var oi=[],Lo=0,Zd=0;function af(){for(var s=Lo,l=Zd=Lo=0;l<s;){var h=oi[l];oi[l++]=null;var m=oi[l];oi[l++]=null;var y=oi[l];oi[l++]=null;var C=oi[l];if(oi[l++]=null,m!==null&&y!==null){var K=m.pending;K===null?y.next=y:(y.next=K.next,K.next=y),m.pending=y}C!==0&&Ny(h,y,C)}}function sf(s,l,h,m){oi[Lo++]=s,oi[Lo++]=l,oi[Lo++]=h,oi[Lo++]=m,Zd|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function Kd(s,l,h,m){return sf(s,l,h,m),of(s)}function Po(s,l){return sf(s,null,null,l),of(s)}function Ny(s,l,h){s.lanes|=h;var m=s.alternate;m!==null&&(m.lanes|=h);for(var y=!1,C=s.return;C!==null;)C.childLanes|=h,m=C.alternate,m!==null&&(m.childLanes|=h),C.tag===22&&(s=C.stateNode,s===null||s._visibility&1||(y=!0)),s=C,C=C.return;return s.tag===3?(C=s.stateNode,y&&l!==null&&(y=31-Pe(h),s=C.hiddenUpdates,m=s[y],m===null?s[y]=[l]:m.push(l),l.lane=h|536870912),C):null}function of(s){if(50<Nu)throw Nu=0,rm=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Io={};function AT(s,l,h,m){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(s,l,h,m){return new AT(s,l,h,m)}function Qd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ca(s,l){var h=s.alternate;return h===null?(h=Xr(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function Ry(s,l){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,l=h.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function lf(s,l,h,m,y,C){var K=0;if(m=s,typeof s=="function")Qd(s)&&(K=1);else if(typeof s=="string")K=DD(s,h,U.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case N:return s=Xr(31,h,l,y),s.elementType=N,s.lanes=C,s;case _:return Bs(h.children,y,C,l);case w:K=8,y|=24;break;case A:return s=Xr(12,h,l,y|2),s.elementType=A,s.lanes=C,s;case R:return s=Xr(13,h,l,y),s.elementType=R,s.lanes=C,s;case O:return s=Xr(19,h,l,y),s.elementType=O,s.lanes=C,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case S:case P:K=10;break e;case L:K=9;break e;case F:K=11;break e;case z:K=14;break e;case T:K=16,m=null;break e}K=29,h=Error(r(130,s===null?"null":typeof s,"")),m=null}return l=Xr(K,h,l,y),l.elementType=s,l.type=m,l.lanes=C,l}function Bs(s,l,h,m){return s=Xr(7,s,m,l),s.lanes=h,s}function Jd(s,l,h){return s=Xr(6,s,null,l),s.lanes=h,s}function ep(s,l,h){return l=Xr(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var Bo=[],zo=0,uf=null,cf=0,li=[],ui=0,zs=null,fa=1,ha="";function Fs(s,l){Bo[zo++]=cf,Bo[zo++]=uf,uf=s,cf=l}function My(s,l,h){li[ui++]=fa,li[ui++]=ha,li[ui++]=zs,zs=s;var m=fa;s=ha;var y=32-Pe(m)-1;m&=~(1<<y),h+=1;var C=32-Pe(l)+y;if(30<C){var K=y-y%5;C=(m&(1<<K)-1).toString(32),m>>=K,y-=K,fa=1<<32-Pe(l)+y|h<<y|m,ha=C+s}else fa=1<<C|h<<y|m,ha=s}function tp(s){s.return!==null&&(Fs(s,1),My(s,1,0))}function np(s){for(;s===uf;)uf=Bo[--zo],Bo[zo]=null,cf=Bo[--zo],Bo[zo]=null;for(;s===zs;)zs=li[--ui],li[ui]=null,ha=li[--ui],li[ui]=null,fa=li[--ui],li[ui]=null}var Ar=null,Pn=null,sn=!1,Us=null,Bi=!1,rp=Error(r(519));function qs(s){var l=Error(r(418,""));throw uu(si(l,s)),rp}function jy(s){var l=s.stateNode,h=s.type,m=s.memoizedProps;switch(l[q]=s,l[Q]=m,h){case"dialog":Xt("cancel",l),Xt("close",l);break;case"iframe":case"object":case"embed":Xt("load",l);break;case"video":case"audio":for(h=0;h<Mu.length;h++)Xt(Mu[h],l);break;case"source":Xt("error",l);break;case"img":case"image":case"link":Xt("error",l),Xt("load",l);break;case"details":Xt("toggle",l);break;case"input":Xt("invalid",l),ja(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Co(l);break;case"select":Xt("invalid",l);break;case"textarea":Xt("invalid",l),ji(l,m.value,m.defaultValue,m.children),Co(l)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||m.suppressHydrationWarning===!0||K_(l.textContent,h)?(m.popover!=null&&(Xt("beforetoggle",l),Xt("toggle",l)),m.onScroll!=null&&Xt("scroll",l),m.onScrollEnd!=null&&Xt("scrollend",l),m.onClick!=null&&(l.onclick=$f),l=!0):l=!1,l||qs(s)}function Ly(s){for(Ar=s.return;Ar;)switch(Ar.tag){case 5:case 13:Bi=!1;return;case 27:case 3:Bi=!0;return;default:Ar=Ar.return}}function ou(s){if(s!==Ar)return!1;if(!sn)return Ly(s),sn=!0,!1;var l=s.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||bm(s.type,s.memoizedProps)),h=!h),h&&Pn&&qs(s),Ly(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(h=s.data,h==="/$"){if(l===0){Pn=Ai(s.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;s=s.nextSibling}Pn=null}}else l===27?(l=Pn,ts(s.type)?(s=Sm,Sm=null,Pn=s):Pn=l):Pn=Ar?Ai(s.stateNode.nextSibling):null;return!0}function lu(){Pn=Ar=null,sn=!1}function Py(){var s=Us;return s!==null&&(jr===null?jr=s:jr.push.apply(jr,s),Us=null),s}function uu(s){Us===null?Us=[s]:Us.push(s)}var ip=le(null),Hs=null,da=null;function Fa(s,l,h){B(ip,l._currentValue),l._currentValue=h}function pa(s){s._currentValue=ip.current,se(ip)}function ap(s,l,h){for(;s!==null;){var m=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),s===h)break;s=s.return}}function sp(s,l,h,m){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var C=y.dependencies;if(C!==null){var K=y.child;C=C.firstContext;e:for(;C!==null;){var ue=C;C=y;for(var Ae=0;Ae<l.length;Ae++)if(ue.context===l[Ae]){C.lanes|=h,ue=C.alternate,ue!==null&&(ue.lanes|=h),ap(C.return,h,s),m||(K=null);break e}C=ue.next}}else if(y.tag===18){if(K=y.return,K===null)throw Error(r(341));K.lanes|=h,C=K.alternate,C!==null&&(C.lanes|=h),ap(K,h,s),K=null}else K=y.child;if(K!==null)K.return=y;else for(K=y;K!==null;){if(K===s){K=null;break}if(y=K.sibling,y!==null){y.return=K.return,K=y;break}K=K.return}y=K}}function cu(s,l,h,m){s=null;for(var y=l,C=!1;y!==null;){if(!C){if((y.flags&524288)!==0)C=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var K=y.alternate;if(K===null)throw Error(r(387));if(K=K.memoizedProps,K!==null){var ue=y.type;Yr(y.pendingProps.value,K.value)||(s!==null?s.push(ue):s=[ue])}}else if(y===ae.current){if(K=y.alternate,K===null)throw Error(r(387));K.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(zu):s=[zu])}y=y.return}s!==null&&sp(l,s,h,m),l.flags|=262144}function ff(s){for(s=s.firstContext;s!==null;){if(!Yr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function $s(s){Hs=s,da=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function br(s){return Iy(Hs,s)}function hf(s,l){return Hs===null&&$s(s),Iy(s,l)}function Iy(s,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},da===null){if(s===null)throw Error(r(308));da=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else da=da.next=l;return h}var TT=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(h,m){s.push(m)}};this.abort=function(){l.aborted=!0,s.forEach(function(h){return h()})}},DT=t.unstable_scheduleCallback,OT=t.unstable_NormalPriority,Zn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function op(){return{controller:new TT,data:new Map,refCount:0}}function fu(s){s.refCount--,s.refCount===0&&DT(OT,function(){s.controller.abort()})}var hu=null,lp=0,Fo=0,Uo=null;function kT(s,l){if(hu===null){var h=hu=[];lp=0,Fo=cm(),Uo={status:"pending",value:void 0,then:function(m){h.push(m)}}}return lp++,l.then(By,By),l}function By(){if(--lp===0&&hu!==null){Uo!==null&&(Uo.status="fulfilled");var s=hu;hu=null,Fo=0,Uo=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function NT(s,l){var h=[],m={status:"pending",value:null,reason:null,then:function(y){h.push(y)}};return s.then(function(){m.status="fulfilled",m.value=l;for(var y=0;y<h.length;y++)(0,h[y])(l)},function(y){for(m.status="rejected",m.reason=y,y=0;y<h.length;y++)(0,h[y])(void 0)}),m}var zy=D.S;D.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&kT(s,l),zy!==null&&zy(s,l)};var Vs=le(null);function up(){var s=Vs.current;return s!==null?s:An.pooledCache}function df(s,l){l===null?B(Vs,Vs.current):B(Vs,l.pool)}function Fy(){var s=up();return s===null?null:{parent:Zn._currentValue,pool:s}}var du=Error(r(460)),Uy=Error(r(474)),pf=Error(r(542)),cp={then:function(){}};function qy(s){return s=s.status,s==="fulfilled"||s==="rejected"}function mf(){}function Hy(s,l,h){switch(h=s[h],h===void 0?s.push(l):h!==l&&(l.then(mf,mf),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Vy(s),s;default:if(typeof l.status=="string")l.then(mf,mf);else{if(s=An,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(m){if(l.status==="pending"){var y=l;y.status="fulfilled",y.value=m}},function(m){if(l.status==="pending"){var y=l;y.status="rejected",y.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Vy(s),s}throw pu=l,du}}var pu=null;function $y(){if(pu===null)throw Error(r(459));var s=pu;return pu=null,s}function Vy(s){if(s===du||s===pf)throw Error(r(483))}var Ua=!1;function fp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hp(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function qa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ha(s,l,h){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(mn&2)!==0){var y=m.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),m.pending=l,l=of(s),Ny(s,null,h),l}return sf(s,m,l,h),of(s)}function mu(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var m=l.lanes;m&=s.pendingLanes,h|=m,l.lanes=h,lt(s,h)}}function dp(s,l){var h=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var y=null,C=null;if(h=h.firstBaseUpdate,h!==null){do{var K={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};C===null?y=C=K:C=C.next=K,h=h.next}while(h!==null);C===null?y=C=l:C=C.next=l}else y=C=l;h={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:C,shared:m.shared,callbacks:m.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}var pp=!1;function gu(){if(pp){var s=Uo;if(s!==null)throw s}}function vu(s,l,h,m){pp=!1;var y=s.updateQueue;Ua=!1;var C=y.firstBaseUpdate,K=y.lastBaseUpdate,ue=y.shared.pending;if(ue!==null){y.shared.pending=null;var Ae=ue,ze=Ae.next;Ae.next=null,K===null?C=ze:K.next=ze,K=Ae;var $e=s.alternate;$e!==null&&($e=$e.updateQueue,ue=$e.lastBaseUpdate,ue!==K&&(ue===null?$e.firstBaseUpdate=ze:ue.next=ze,$e.lastBaseUpdate=Ae))}if(C!==null){var Xe=y.baseState;K=0,$e=ze=Ae=null,ue=C;do{var Fe=ue.lane&-536870913,Ue=Fe!==ue.lane;if(Ue?(tn&Fe)===Fe:(m&Fe)===Fe){Fe!==0&&Fe===Fo&&(pp=!0),$e!==null&&($e=$e.next={lane:0,tag:ue.tag,payload:ue.payload,callback:null,next:null});e:{var Dt=s,St=ue;Fe=l;var xn=h;switch(St.tag){case 1:if(Dt=St.payload,typeof Dt=="function"){Xe=Dt.call(xn,Xe,Fe);break e}Xe=Dt;break e;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=St.payload,Fe=typeof Dt=="function"?Dt.call(xn,Xe,Fe):Dt,Fe==null)break e;Xe=d({},Xe,Fe);break e;case 2:Ua=!0}}Fe=ue.callback,Fe!==null&&(s.flags|=64,Ue&&(s.flags|=8192),Ue=y.callbacks,Ue===null?y.callbacks=[Fe]:Ue.push(Fe))}else Ue={lane:Fe,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},$e===null?(ze=$e=Ue,Ae=Xe):$e=$e.next=Ue,K|=Fe;if(ue=ue.next,ue===null){if(ue=y.shared.pending,ue===null)break;Ue=ue,ue=Ue.next,Ue.next=null,y.lastBaseUpdate=Ue,y.shared.pending=null}}while(!0);$e===null&&(Ae=Xe),y.baseState=Ae,y.firstBaseUpdate=ze,y.lastBaseUpdate=$e,C===null&&(y.shared.lanes=0),Ka|=K,s.lanes=K,s.memoizedState=Xe}}function Yy(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function Xy(s,l){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)Yy(h[s],l)}var qo=le(null),gf=le(0);function Gy(s,l){s=xa,B(gf,s),B(qo,l),xa=s|l.baseLanes}function mp(){B(gf,xa),B(qo,qo.current)}function gp(){xa=gf.current,se(qo),se(gf)}var $a=0,qt=null,bn=null,Yn=null,vf=!1,Ho=!1,Ys=!1,yf=0,yu=0,$o=null,RT=0;function qn(){throw Error(r(321))}function vp(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!Yr(s[h],l[h]))return!1;return!0}function yp(s,l,h,m,y,C){return $a=C,qt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,D.H=s===null||s.memoizedState===null?Nb:Rb,Ys=!1,C=h(m,y),Ys=!1,Ho&&(C=Zy(l,h,m,y)),Wy(s),C}function Wy(s){D.H=Ef;var l=bn!==null&&bn.next!==null;if($a=0,Yn=bn=qt=null,vf=!1,yu=0,$o=null,l)throw Error(r(300));s===null||nr||(s=s.dependencies,s!==null&&ff(s)&&(nr=!0))}function Zy(s,l,h,m){qt=s;var y=0;do{if(Ho&&($o=null),yu=0,Ho=!1,25<=y)throw Error(r(301));if(y+=1,Yn=bn=null,s.updateQueue!=null){var C=s.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}D.H=zT,C=l(h,m)}while(Ho);return C}function MT(){var s=D.H,l=s.useState()[0];return l=typeof l.then=="function"?bu(l):l,s=s.useState()[0],(bn!==null?bn.memoizedState:null)!==s&&(qt.flags|=1024),l}function bp(){var s=yf!==0;return yf=0,s}function _p(s,l,h){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~h}function xp(s){if(vf){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}vf=!1}$a=0,Yn=bn=qt=null,Ho=!1,yu=yf=0,$o=null}function Rr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?qt.memoizedState=Yn=s:Yn=Yn.next=s,Yn}function Xn(){if(bn===null){var s=qt.alternate;s=s!==null?s.memoizedState:null}else s=bn.next;var l=Yn===null?qt.memoizedState:Yn.next;if(l!==null)Yn=l,bn=s;else{if(s===null)throw qt.alternate===null?Error(r(467)):Error(r(310));bn=s,s={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Yn===null?qt.memoizedState=Yn=s:Yn=Yn.next=s}return Yn}function wp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bu(s){var l=yu;return yu+=1,$o===null&&($o=[]),s=Hy($o,s,l),l=qt,(Yn===null?l.memoizedState:Yn.next)===null&&(l=l.alternate,D.H=l===null||l.memoizedState===null?Nb:Rb),s}function bf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return bu(s);if(s.$$typeof===P)return br(s)}throw Error(r(438,String(s)))}function Sp(s){var l=null,h=qt.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var m=qt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(y){return y.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=wp(),qt.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(s),m=0;m<s;m++)h[m]=$;return l.index++,h}function ma(s,l){return typeof l=="function"?l(s):l}function _f(s){var l=Xn();return Ep(l,bn,s)}function Ep(s,l,h){var m=s.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=h;var y=s.baseQueue,C=m.pending;if(C!==null){if(y!==null){var K=y.next;y.next=C.next,C.next=K}l.baseQueue=y=C,m.pending=null}if(C=s.baseState,y===null)s.memoizedState=C;else{l=y.next;var ue=K=null,Ae=null,ze=l,$e=!1;do{var Xe=ze.lane&-536870913;if(Xe!==ze.lane?(tn&Xe)===Xe:($a&Xe)===Xe){var Fe=ze.revertLane;if(Fe===0)Ae!==null&&(Ae=Ae.next={lane:0,revertLane:0,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),Xe===Fo&&($e=!0);else if(($a&Fe)===Fe){ze=ze.next,Fe===Fo&&($e=!0);continue}else Xe={lane:0,revertLane:ze.revertLane,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},Ae===null?(ue=Ae=Xe,K=C):Ae=Ae.next=Xe,qt.lanes|=Fe,Ka|=Fe;Xe=ze.action,Ys&&h(C,Xe),C=ze.hasEagerState?ze.eagerState:h(C,Xe)}else Fe={lane:Xe,revertLane:ze.revertLane,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},Ae===null?(ue=Ae=Fe,K=C):Ae=Ae.next=Fe,qt.lanes|=Xe,Ka|=Xe;ze=ze.next}while(ze!==null&&ze!==l);if(Ae===null?K=C:Ae.next=ue,!Yr(C,s.memoizedState)&&(nr=!0,$e&&(h=Uo,h!==null)))throw h;s.memoizedState=C,s.baseState=K,s.baseQueue=Ae,m.lastRenderedState=C}return y===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function Cp(s){var l=Xn(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var m=h.dispatch,y=h.pending,C=l.memoizedState;if(y!==null){h.pending=null;var K=y=y.next;do C=s(C,K.action),K=K.next;while(K!==y);Yr(C,l.memoizedState)||(nr=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),h.lastRenderedState=C}return[C,m]}function Ky(s,l,h){var m=qt,y=Xn(),C=sn;if(C){if(h===void 0)throw Error(r(407));h=h()}else h=l();var K=!Yr((bn||y).memoizedState,h);K&&(y.memoizedState=h,nr=!0),y=y.queue;var ue=eb.bind(null,m,y,s);if(_u(2048,8,ue,[s]),y.getSnapshot!==l||K||Yn!==null&&Yn.memoizedState.tag&1){if(m.flags|=2048,Vo(9,xf(),Jy.bind(null,m,y,h,l),null),An===null)throw Error(r(349));C||($a&124)!==0||Qy(m,l,h)}return h}function Qy(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=qt.updateQueue,l===null?(l=wp(),qt.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function Jy(s,l,h,m){l.value=h,l.getSnapshot=m,tb(l)&&nb(s)}function eb(s,l,h){return h(function(){tb(l)&&nb(s)})}function tb(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!Yr(s,h)}catch{return!0}}function nb(s){var l=Po(s,2);l!==null&&Qr(l,s,2)}function Ap(s){var l=Rr();if(typeof s=="function"){var h=s;if(s=h(),Ys){je(!0);try{h()}finally{je(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:s},l}function rb(s,l,h,m){return s.baseState=h,Ep(s,bn,typeof m=="function"?m:ma)}function jT(s,l,h,m,y){if(Sf(s))throw Error(r(485));if(s=l.action,s!==null){var C={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){C.listeners.push(K)}};D.T!==null?h(!0):C.isTransition=!1,m(C),h=l.pending,h===null?(C.next=l.pending=C,ib(l,C)):(C.next=h.next,l.pending=h.next=C)}}function ib(s,l){var h=l.action,m=l.payload,y=s.state;if(l.isTransition){var C=D.T,K={};D.T=K;try{var ue=h(y,m),Ae=D.S;Ae!==null&&Ae(K,ue),ab(s,l,ue)}catch(ze){Tp(s,l,ze)}finally{D.T=C}}else try{C=h(y,m),ab(s,l,C)}catch(ze){Tp(s,l,ze)}}function ab(s,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){sb(s,l,m)},function(m){return Tp(s,l,m)}):sb(s,l,h)}function sb(s,l,h){l.status="fulfilled",l.value=h,ob(l),s.state=h,l=s.pending,l!==null&&(h=l.next,h===l?s.pending=null:(h=h.next,l.next=h,ib(s,h)))}function Tp(s,l,h){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=h,ob(l),l=l.next;while(l!==m)}s.action=null}function ob(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function lb(s,l){return l}function ub(s,l){if(sn){var h=An.formState;if(h!==null){e:{var m=qt;if(sn){if(Pn){t:{for(var y=Pn,C=Bi;y.nodeType!==8;){if(!C){y=null;break t}if(y=Ai(y.nextSibling),y===null){y=null;break t}}C=y.data,y=C==="F!"||C==="F"?y:null}if(y){Pn=Ai(y.nextSibling),m=y.data==="F!";break e}}qs(m)}m=!1}m&&(l=h[0])}}return h=Rr(),h.memoizedState=h.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lb,lastRenderedState:l},h.queue=m,h=Db.bind(null,qt,m),m.dispatch=h,m=Ap(!1),C=Rp.bind(null,qt,!1,m.queue),m=Rr(),y={state:l,dispatch:null,action:s,pending:null},m.queue=y,h=jT.bind(null,qt,y,C,h),y.dispatch=h,m.memoizedState=s,[l,h,!1]}function cb(s){var l=Xn();return fb(l,bn,s)}function fb(s,l,h){if(l=Ep(s,l,lb)[0],s=_f(ma)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=bu(l)}catch(K){throw K===du?pf:K}else m=l;l=Xn();var y=l.queue,C=y.dispatch;return h!==l.memoizedState&&(qt.flags|=2048,Vo(9,xf(),LT.bind(null,y,h),null)),[m,C,s]}function LT(s,l){s.action=l}function hb(s){var l=Xn(),h=bn;if(h!==null)return fb(l,h,s);Xn(),l=l.memoizedState,h=Xn();var m=h.queue.dispatch;return h.memoizedState=s,[l,m,!1]}function Vo(s,l,h,m){return s={tag:s,create:h,deps:m,inst:l,next:null},l=qt.updateQueue,l===null&&(l=wp(),qt.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=s.next=s:(m=h.next,h.next=s,s.next=m,l.lastEffect=s),s}function xf(){return{destroy:void 0,resource:void 0}}function db(){return Xn().memoizedState}function wf(s,l,h,m){var y=Rr();m=m===void 0?null:m,qt.flags|=s,y.memoizedState=Vo(1|l,xf(),h,m)}function _u(s,l,h,m){var y=Xn();m=m===void 0?null:m;var C=y.memoizedState.inst;bn!==null&&m!==null&&vp(m,bn.memoizedState.deps)?y.memoizedState=Vo(l,C,h,m):(qt.flags|=s,y.memoizedState=Vo(1|l,C,h,m))}function pb(s,l){wf(8390656,8,s,l)}function mb(s,l){_u(2048,8,s,l)}function gb(s,l){return _u(4,2,s,l)}function vb(s,l){return _u(4,4,s,l)}function yb(s,l){if(typeof l=="function"){s=s();var h=l(s);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function bb(s,l,h){h=h!=null?h.concat([s]):null,_u(4,4,yb.bind(null,l,s),h)}function Dp(){}function _b(s,l){var h=Xn();l=l===void 0?null:l;var m=h.memoizedState;return l!==null&&vp(l,m[1])?m[0]:(h.memoizedState=[s,l],s)}function xb(s,l){var h=Xn();l=l===void 0?null:l;var m=h.memoizedState;if(l!==null&&vp(l,m[1]))return m[0];if(m=s(),Ys){je(!0);try{s()}finally{je(!1)}}return h.memoizedState=[m,l],m}function Op(s,l,h){return h===void 0||($a&1073741824)!==0?s.memoizedState=l:(s.memoizedState=h,s=E_(),qt.lanes|=s,Ka|=s,h)}function wb(s,l,h,m){return Yr(h,l)?h:qo.current!==null?(s=Op(s,h,m),Yr(s,l)||(nr=!0),s):($a&42)===0?(nr=!0,s.memoizedState=h):(s=E_(),qt.lanes|=s,Ka|=s,l)}function Sb(s,l,h,m,y){var C=j.p;j.p=C!==0&&8>C?C:8;var K=D.T,ue={};D.T=ue,Rp(s,!1,l,h);try{var Ae=y(),ze=D.S;if(ze!==null&&ze(ue,Ae),Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var $e=NT(Ae,m);xu(s,l,$e,Kr(s))}else xu(s,l,m,Kr(s))}catch(Xe){xu(s,l,{then:function(){},status:"rejected",reason:Xe},Kr())}finally{j.p=C,D.T=K}}function PT(){}function kp(s,l,h,m){if(s.tag!==5)throw Error(r(476));var y=Eb(s).queue;Sb(s,y,l,Z,h===null?PT:function(){return Cb(s),h(m)})}function Eb(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:Z},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:h},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function Cb(s){var l=Eb(s).next.queue;xu(s,l,{},Kr())}function Np(){return br(zu)}function Ab(){return Xn().memoizedState}function Tb(){return Xn().memoizedState}function IT(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var h=Kr();s=qa(h);var m=Ha(l,s,h);m!==null&&(Qr(m,l,h),mu(m,l,h)),l={cache:op()},s.payload=l;return}l=l.return}}function BT(s,l,h){var m=Kr();h={lane:m,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Sf(s)?Ob(l,h):(h=Kd(s,l,h,m),h!==null&&(Qr(h,s,m),kb(h,l,m)))}function Db(s,l,h){var m=Kr();xu(s,l,h,m)}function xu(s,l,h,m){var y={lane:m,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Sf(s))Ob(l,y);else{var C=s.alternate;if(s.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var K=l.lastRenderedState,ue=C(K,h);if(y.hasEagerState=!0,y.eagerState=ue,Yr(ue,K))return sf(s,l,y,0),An===null&&af(),!1}catch{}finally{}if(h=Kd(s,l,y,m),h!==null)return Qr(h,s,m),kb(h,l,m),!0}return!1}function Rp(s,l,h,m){if(m={lane:2,revertLane:cm(),action:m,hasEagerState:!1,eagerState:null,next:null},Sf(s)){if(l)throw Error(r(479))}else l=Kd(s,h,m,2),l!==null&&Qr(l,s,2)}function Sf(s){var l=s.alternate;return s===qt||l!==null&&l===qt}function Ob(s,l){Ho=vf=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function kb(s,l,h){if((h&4194048)!==0){var m=l.lanes;m&=s.pendingLanes,h|=m,l.lanes=h,lt(s,h)}}var Ef={readContext:br,use:bf,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useLayoutEffect:qn,useInsertionEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useSyncExternalStore:qn,useId:qn,useHostTransitionStatus:qn,useFormState:qn,useActionState:qn,useOptimistic:qn,useMemoCache:qn,useCacheRefresh:qn},Nb={readContext:br,use:bf,useCallback:function(s,l){return Rr().memoizedState=[s,l===void 0?null:l],s},useContext:br,useEffect:pb,useImperativeHandle:function(s,l,h){h=h!=null?h.concat([s]):null,wf(4194308,4,yb.bind(null,l,s),h)},useLayoutEffect:function(s,l){return wf(4194308,4,s,l)},useInsertionEffect:function(s,l){wf(4,2,s,l)},useMemo:function(s,l){var h=Rr();l=l===void 0?null:l;var m=s();if(Ys){je(!0);try{s()}finally{je(!1)}}return h.memoizedState=[m,l],m},useReducer:function(s,l,h){var m=Rr();if(h!==void 0){var y=h(l);if(Ys){je(!0);try{h(l)}finally{je(!1)}}}else y=l;return m.memoizedState=m.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},m.queue=s,s=s.dispatch=BT.bind(null,qt,s),[m.memoizedState,s]},useRef:function(s){var l=Rr();return s={current:s},l.memoizedState=s},useState:function(s){s=Ap(s);var l=s.queue,h=Db.bind(null,qt,l);return l.dispatch=h,[s.memoizedState,h]},useDebugValue:Dp,useDeferredValue:function(s,l){var h=Rr();return Op(h,s,l)},useTransition:function(){var s=Ap(!1);return s=Sb.bind(null,qt,s.queue,!0,!1),Rr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,h){var m=qt,y=Rr();if(sn){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),An===null)throw Error(r(349));(tn&124)!==0||Qy(m,l,h)}y.memoizedState=h;var C={value:h,getSnapshot:l};return y.queue=C,pb(eb.bind(null,m,C,s),[s]),m.flags|=2048,Vo(9,xf(),Jy.bind(null,m,C,h,l),null),h},useId:function(){var s=Rr(),l=An.identifierPrefix;if(sn){var h=ha,m=fa;h=(m&~(1<<32-Pe(m)-1)).toString(32)+h,l="«"+l+"R"+h,h=yf++,0<h&&(l+="H"+h.toString(32)),l+="»"}else h=RT++,l="«"+l+"r"+h.toString(32)+"»";return s.memoizedState=l},useHostTransitionStatus:Np,useFormState:ub,useActionState:ub,useOptimistic:function(s){var l=Rr();l.memoizedState=l.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=Rp.bind(null,qt,!0,h),h.dispatch=l,[s,l]},useMemoCache:Sp,useCacheRefresh:function(){return Rr().memoizedState=IT.bind(null,qt)}},Rb={readContext:br,use:bf,useCallback:_b,useContext:br,useEffect:mb,useImperativeHandle:bb,useInsertionEffect:gb,useLayoutEffect:vb,useMemo:xb,useReducer:_f,useRef:db,useState:function(){return _f(ma)},useDebugValue:Dp,useDeferredValue:function(s,l){var h=Xn();return wb(h,bn.memoizedState,s,l)},useTransition:function(){var s=_f(ma)[0],l=Xn().memoizedState;return[typeof s=="boolean"?s:bu(s),l]},useSyncExternalStore:Ky,useId:Ab,useHostTransitionStatus:Np,useFormState:cb,useActionState:cb,useOptimistic:function(s,l){var h=Xn();return rb(h,bn,s,l)},useMemoCache:Sp,useCacheRefresh:Tb},zT={readContext:br,use:bf,useCallback:_b,useContext:br,useEffect:mb,useImperativeHandle:bb,useInsertionEffect:gb,useLayoutEffect:vb,useMemo:xb,useReducer:Cp,useRef:db,useState:function(){return Cp(ma)},useDebugValue:Dp,useDeferredValue:function(s,l){var h=Xn();return bn===null?Op(h,s,l):wb(h,bn.memoizedState,s,l)},useTransition:function(){var s=Cp(ma)[0],l=Xn().memoizedState;return[typeof s=="boolean"?s:bu(s),l]},useSyncExternalStore:Ky,useId:Ab,useHostTransitionStatus:Np,useFormState:hb,useActionState:hb,useOptimistic:function(s,l){var h=Xn();return bn!==null?rb(h,bn,s,l):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:Sp,useCacheRefresh:Tb},Yo=null,wu=0;function Cf(s){var l=wu;return wu+=1,Yo===null&&(Yo=[]),Hy(Yo,s,l)}function Su(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function Af(s,l){throw l.$$typeof===p?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function Mb(s){var l=s._init;return l(s._payload)}function jb(s){function l(Le,Oe){if(s){var Ie=Le.deletions;Ie===null?(Le.deletions=[Oe],Le.flags|=16):Ie.push(Oe)}}function h(Le,Oe){if(!s)return null;for(;Oe!==null;)l(Le,Oe),Oe=Oe.sibling;return null}function m(Le){for(var Oe=new Map;Le!==null;)Le.key!==null?Oe.set(Le.key,Le):Oe.set(Le.index,Le),Le=Le.sibling;return Oe}function y(Le,Oe){return Le=ca(Le,Oe),Le.index=0,Le.sibling=null,Le}function C(Le,Oe,Ie){return Le.index=Ie,s?(Ie=Le.alternate,Ie!==null?(Ie=Ie.index,Ie<Oe?(Le.flags|=67108866,Oe):Ie):(Le.flags|=67108866,Oe)):(Le.flags|=1048576,Oe)}function K(Le){return s&&Le.alternate===null&&(Le.flags|=67108866),Le}function ue(Le,Oe,Ie,Ve){return Oe===null||Oe.tag!==6?(Oe=Jd(Ie,Le.mode,Ve),Oe.return=Le,Oe):(Oe=y(Oe,Ie),Oe.return=Le,Oe)}function Ae(Le,Oe,Ie,Ve){var ct=Ie.type;return ct===_?$e(Le,Oe,Ie.props.children,Ve,Ie.key):Oe!==null&&(Oe.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===T&&Mb(ct)===Oe.type)?(Oe=y(Oe,Ie.props),Su(Oe,Ie),Oe.return=Le,Oe):(Oe=lf(Ie.type,Ie.key,Ie.props,null,Le.mode,Ve),Su(Oe,Ie),Oe.return=Le,Oe)}function ze(Le,Oe,Ie,Ve){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==Ie.containerInfo||Oe.stateNode.implementation!==Ie.implementation?(Oe=ep(Ie,Le.mode,Ve),Oe.return=Le,Oe):(Oe=y(Oe,Ie.children||[]),Oe.return=Le,Oe)}function $e(Le,Oe,Ie,Ve,ct){return Oe===null||Oe.tag!==7?(Oe=Bs(Ie,Le.mode,Ve,ct),Oe.return=Le,Oe):(Oe=y(Oe,Ie),Oe.return=Le,Oe)}function Xe(Le,Oe,Ie){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=Jd(""+Oe,Le.mode,Ie),Oe.return=Le,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case g:return Ie=lf(Oe.type,Oe.key,Oe.props,null,Le.mode,Ie),Su(Ie,Oe),Ie.return=Le,Ie;case v:return Oe=ep(Oe,Le.mode,Ie),Oe.return=Le,Oe;case T:var Ve=Oe._init;return Oe=Ve(Oe._payload),Xe(Le,Oe,Ie)}if(M(Oe)||G(Oe))return Oe=Bs(Oe,Le.mode,Ie,null),Oe.return=Le,Oe;if(typeof Oe.then=="function")return Xe(Le,Cf(Oe),Ie);if(Oe.$$typeof===P)return Xe(Le,hf(Le,Oe),Ie);Af(Le,Oe)}return null}function Fe(Le,Oe,Ie,Ve){var ct=Oe!==null?Oe.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return ct!==null?null:ue(Le,Oe,""+Ie,Ve);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case g:return Ie.key===ct?Ae(Le,Oe,Ie,Ve):null;case v:return Ie.key===ct?ze(Le,Oe,Ie,Ve):null;case T:return ct=Ie._init,Ie=ct(Ie._payload),Fe(Le,Oe,Ie,Ve)}if(M(Ie)||G(Ie))return ct!==null?null:$e(Le,Oe,Ie,Ve,null);if(typeof Ie.then=="function")return Fe(Le,Oe,Cf(Ie),Ve);if(Ie.$$typeof===P)return Fe(Le,Oe,hf(Le,Ie),Ve);Af(Le,Ie)}return null}function Ue(Le,Oe,Ie,Ve,ct){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Le=Le.get(Ie)||null,ue(Oe,Le,""+Ve,ct);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case g:return Le=Le.get(Ve.key===null?Ie:Ve.key)||null,Ae(Oe,Le,Ve,ct);case v:return Le=Le.get(Ve.key===null?Ie:Ve.key)||null,ze(Oe,Le,Ve,ct);case T:var $t=Ve._init;return Ve=$t(Ve._payload),Ue(Le,Oe,Ie,Ve,ct)}if(M(Ve)||G(Ve))return Le=Le.get(Ie)||null,$e(Oe,Le,Ve,ct,null);if(typeof Ve.then=="function")return Ue(Le,Oe,Ie,Cf(Ve),ct);if(Ve.$$typeof===P)return Ue(Le,Oe,Ie,hf(Oe,Ve),ct);Af(Oe,Ve)}return null}function Dt(Le,Oe,Ie,Ve){for(var ct=null,$t=null,mt=Oe,Et=Oe=0,ir=null;mt!==null&&Et<Ie.length;Et++){mt.index>Et?(ir=mt,mt=null):ir=mt.sibling;var an=Fe(Le,mt,Ie[Et],Ve);if(an===null){mt===null&&(mt=ir);break}s&&mt&&an.alternate===null&&l(Le,mt),Oe=C(an,Oe,Et),$t===null?ct=an:$t.sibling=an,$t=an,mt=ir}if(Et===Ie.length)return h(Le,mt),sn&&Fs(Le,Et),ct;if(mt===null){for(;Et<Ie.length;Et++)mt=Xe(Le,Ie[Et],Ve),mt!==null&&(Oe=C(mt,Oe,Et),$t===null?ct=mt:$t.sibling=mt,$t=mt);return sn&&Fs(Le,Et),ct}for(mt=m(mt);Et<Ie.length;Et++)ir=Ue(mt,Le,Et,Ie[Et],Ve),ir!==null&&(s&&ir.alternate!==null&&mt.delete(ir.key===null?Et:ir.key),Oe=C(ir,Oe,Et),$t===null?ct=ir:$t.sibling=ir,$t=ir);return s&&mt.forEach(function(ss){return l(Le,ss)}),sn&&Fs(Le,Et),ct}function St(Le,Oe,Ie,Ve){if(Ie==null)throw Error(r(151));for(var ct=null,$t=null,mt=Oe,Et=Oe=0,ir=null,an=Ie.next();mt!==null&&!an.done;Et++,an=Ie.next()){mt.index>Et?(ir=mt,mt=null):ir=mt.sibling;var ss=Fe(Le,mt,an.value,Ve);if(ss===null){mt===null&&(mt=ir);break}s&&mt&&ss.alternate===null&&l(Le,mt),Oe=C(ss,Oe,Et),$t===null?ct=ss:$t.sibling=ss,$t=ss,mt=ir}if(an.done)return h(Le,mt),sn&&Fs(Le,Et),ct;if(mt===null){for(;!an.done;Et++,an=Ie.next())an=Xe(Le,an.value,Ve),an!==null&&(Oe=C(an,Oe,Et),$t===null?ct=an:$t.sibling=an,$t=an);return sn&&Fs(Le,Et),ct}for(mt=m(mt);!an.done;Et++,an=Ie.next())an=Ue(mt,Le,Et,an.value,Ve),an!==null&&(s&&an.alternate!==null&&mt.delete(an.key===null?Et:an.key),Oe=C(an,Oe,Et),$t===null?ct=an:$t.sibling=an,$t=an);return s&&mt.forEach(function(FD){return l(Le,FD)}),sn&&Fs(Le,Et),ct}function xn(Le,Oe,Ie,Ve){if(typeof Ie=="object"&&Ie!==null&&Ie.type===_&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case g:e:{for(var ct=Ie.key;Oe!==null;){if(Oe.key===ct){if(ct=Ie.type,ct===_){if(Oe.tag===7){h(Le,Oe.sibling),Ve=y(Oe,Ie.props.children),Ve.return=Le,Le=Ve;break e}}else if(Oe.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===T&&Mb(ct)===Oe.type){h(Le,Oe.sibling),Ve=y(Oe,Ie.props),Su(Ve,Ie),Ve.return=Le,Le=Ve;break e}h(Le,Oe);break}else l(Le,Oe);Oe=Oe.sibling}Ie.type===_?(Ve=Bs(Ie.props.children,Le.mode,Ve,Ie.key),Ve.return=Le,Le=Ve):(Ve=lf(Ie.type,Ie.key,Ie.props,null,Le.mode,Ve),Su(Ve,Ie),Ve.return=Le,Le=Ve)}return K(Le);case v:e:{for(ct=Ie.key;Oe!==null;){if(Oe.key===ct)if(Oe.tag===4&&Oe.stateNode.containerInfo===Ie.containerInfo&&Oe.stateNode.implementation===Ie.implementation){h(Le,Oe.sibling),Ve=y(Oe,Ie.children||[]),Ve.return=Le,Le=Ve;break e}else{h(Le,Oe);break}else l(Le,Oe);Oe=Oe.sibling}Ve=ep(Ie,Le.mode,Ve),Ve.return=Le,Le=Ve}return K(Le);case T:return ct=Ie._init,Ie=ct(Ie._payload),xn(Le,Oe,Ie,Ve)}if(M(Ie))return Dt(Le,Oe,Ie,Ve);if(G(Ie)){if(ct=G(Ie),typeof ct!="function")throw Error(r(150));return Ie=ct.call(Ie),St(Le,Oe,Ie,Ve)}if(typeof Ie.then=="function")return xn(Le,Oe,Cf(Ie),Ve);if(Ie.$$typeof===P)return xn(Le,Oe,hf(Le,Ie),Ve);Af(Le,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,Oe!==null&&Oe.tag===6?(h(Le,Oe.sibling),Ve=y(Oe,Ie),Ve.return=Le,Le=Ve):(h(Le,Oe),Ve=Jd(Ie,Le.mode,Ve),Ve.return=Le,Le=Ve),K(Le)):h(Le,Oe)}return function(Le,Oe,Ie,Ve){try{wu=0;var ct=xn(Le,Oe,Ie,Ve);return Yo=null,ct}catch(mt){if(mt===du||mt===pf)throw mt;var $t=Xr(29,mt,null,Le.mode);return $t.lanes=Ve,$t.return=Le,$t}finally{}}}var Xo=jb(!0),Lb=jb(!1),ci=le(null),zi=null;function Va(s){var l=s.alternate;B(Kn,Kn.current&1),B(ci,s),zi===null&&(l===null||qo.current!==null||l.memoizedState!==null)&&(zi=s)}function Pb(s){if(s.tag===22){if(B(Kn,Kn.current),B(ci,s),zi===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(zi=s)}}else Ya()}function Ya(){B(Kn,Kn.current),B(ci,ci.current)}function ga(s){se(ci),zi===s&&(zi=null),se(Kn)}var Kn=le(0);function Tf(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||wm(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Mp(s,l,h,m){l=s.memoizedState,h=h(m,l),h=h==null?l:d({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var jp={enqueueSetState:function(s,l,h){s=s._reactInternals;var m=Kr(),y=qa(m);y.payload=l,h!=null&&(y.callback=h),l=Ha(s,y,m),l!==null&&(Qr(l,s,m),mu(l,s,m))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var m=Kr(),y=qa(m);y.tag=1,y.payload=l,h!=null&&(y.callback=h),l=Ha(s,y,m),l!==null&&(Qr(l,s,m),mu(l,s,m))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=Kr(),m=qa(h);m.tag=2,l!=null&&(m.callback=l),l=Ha(s,m,h),l!==null&&(Qr(l,s,h),mu(l,s,h))}};function Ib(s,l,h,m,y,C,K){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,C,K):l.prototype&&l.prototype.isPureReactComponent?!au(h,m)||!au(y,C):!0}function Bb(s,l,h,m){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,m),l.state!==s&&jp.enqueueReplaceState(l,l.state,null)}function Xs(s,l){var h=l;if("ref"in l){h={};for(var m in l)m!=="ref"&&(h[m]=l[m])}if(s=s.defaultProps){h===l&&(h=d({},h));for(var y in s)h[y]===void 0&&(h[y]=s[y])}return h}var Df=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function zb(s){Df(s)}function Fb(s){console.error(s)}function Ub(s){Df(s)}function Of(s,l){try{var h=s.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function qb(s,l,h){try{var m=s.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Lp(s,l,h){return h=qa(h),h.tag=3,h.payload={element:null},h.callback=function(){Of(s,l)},h}function Hb(s){return s=qa(s),s.tag=3,s}function $b(s,l,h,m){var y=h.type.getDerivedStateFromError;if(typeof y=="function"){var C=m.value;s.payload=function(){return y(C)},s.callback=function(){qb(l,h,m)}}var K=h.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(s.callback=function(){qb(l,h,m),typeof y!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var ue=m.stack;this.componentDidCatch(m.value,{componentStack:ue!==null?ue:""})})}function FT(s,l,h,m,y){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=h.alternate,l!==null&&cu(l,h,y,!0),h=ci.current,h!==null){switch(h.tag){case 13:return zi===null?am():h.alternate===null&&In===0&&(In=3),h.flags&=-257,h.flags|=65536,h.lanes=y,m===cp?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([m]):l.add(m),om(s,m,y)),!1;case 22:return h.flags|=65536,m===cp?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([m]):h.add(m)),om(s,m,y)),!1}throw Error(r(435,h.tag))}return om(s,m,y),am(),!1}if(sn)return l=ci.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=y,m!==rp&&(s=Error(r(422),{cause:m}),uu(si(s,h)))):(m!==rp&&(l=Error(r(423),{cause:m}),uu(si(l,h))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,m=si(m,h),y=Lp(s.stateNode,m,y),dp(s,y),In!==4&&(In=2)),!1;var C=Error(r(520),{cause:m});if(C=si(C,h),ku===null?ku=[C]:ku.push(C),In!==4&&(In=2),l===null)return!0;m=si(m,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,s=y&-y,h.lanes|=s,s=Lp(h.stateNode,m,s),dp(h,s),!1;case 1:if(l=h.type,C=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Qa===null||!Qa.has(C))))return h.flags|=65536,y&=-y,h.lanes|=y,y=Hb(y),$b(y,s,h,m),dp(h,y),!1}h=h.return}while(h!==null);return!1}var Vb=Error(r(461)),nr=!1;function cr(s,l,h,m){l.child=s===null?Lb(l,null,h,m):Xo(l,s.child,h,m)}function Yb(s,l,h,m,y){h=h.render;var C=l.ref;if("ref"in m){var K={};for(var ue in m)ue!=="ref"&&(K[ue]=m[ue])}else K=m;return $s(l),m=yp(s,l,h,K,C,y),ue=bp(),s!==null&&!nr?(_p(s,l,y),va(s,l,y)):(sn&&ue&&tp(l),l.flags|=1,cr(s,l,m,y),l.child)}function Xb(s,l,h,m,y){if(s===null){var C=h.type;return typeof C=="function"&&!Qd(C)&&C.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=C,Gb(s,l,C,m,y)):(s=lf(h.type,null,m,l,l.mode,y),s.ref=l.ref,s.return=l,l.child=s)}if(C=s.child,!Hp(s,y)){var K=C.memoizedProps;if(h=h.compare,h=h!==null?h:au,h(K,m)&&s.ref===l.ref)return va(s,l,y)}return l.flags|=1,s=ca(C,m),s.ref=l.ref,s.return=l,l.child=s}function Gb(s,l,h,m,y){if(s!==null){var C=s.memoizedProps;if(au(C,m)&&s.ref===l.ref)if(nr=!1,l.pendingProps=m=C,Hp(s,y))(s.flags&131072)!==0&&(nr=!0);else return l.lanes=s.lanes,va(s,l,y)}return Pp(s,l,h,m,y)}function Wb(s,l,h){var m=l.pendingProps,y=m.children,C=s!==null?s.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=C!==null?C.baseLanes|h:h,s!==null){for(y=l.child=s.child,C=0;y!==null;)C=C|y.lanes|y.childLanes,y=y.sibling;l.childLanes=C&~m}else l.childLanes=0,l.child=null;return Zb(s,l,m,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&df(l,C!==null?C.cachePool:null),C!==null?Gy(l,C):mp(),Pb(l);else return l.lanes=l.childLanes=536870912,Zb(s,l,C!==null?C.baseLanes|h:h,h)}else C!==null?(df(l,C.cachePool),Gy(l,C),Ya(),l.memoizedState=null):(s!==null&&df(l,null),mp(),Ya());return cr(s,l,y,h),l.child}function Zb(s,l,h,m){var y=up();return y=y===null?null:{parent:Zn._currentValue,pool:y},l.memoizedState={baseLanes:h,cachePool:y},s!==null&&df(l,null),mp(),Pb(l),s!==null&&cu(s,l,m,!0),null}function kf(s,l){var h=l.ref;if(h===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(s===null||s.ref!==h)&&(l.flags|=4194816)}}function Pp(s,l,h,m,y){return $s(l),h=yp(s,l,h,m,void 0,y),m=bp(),s!==null&&!nr?(_p(s,l,y),va(s,l,y)):(sn&&m&&tp(l),l.flags|=1,cr(s,l,h,y),l.child)}function Kb(s,l,h,m,y,C){return $s(l),l.updateQueue=null,h=Zy(l,m,h,y),Wy(s),m=bp(),s!==null&&!nr?(_p(s,l,C),va(s,l,C)):(sn&&m&&tp(l),l.flags|=1,cr(s,l,h,C),l.child)}function Qb(s,l,h,m,y){if($s(l),l.stateNode===null){var C=Io,K=h.contextType;typeof K=="object"&&K!==null&&(C=br(K)),C=new h(m,C),l.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=jp,l.stateNode=C,C._reactInternals=l,C=l.stateNode,C.props=m,C.state=l.memoizedState,C.refs={},fp(l),K=h.contextType,C.context=typeof K=="object"&&K!==null?br(K):Io,C.state=l.memoizedState,K=h.getDerivedStateFromProps,typeof K=="function"&&(Mp(l,h,K,m),C.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(K=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),K!==C.state&&jp.enqueueReplaceState(C,C.state,null),vu(l,m,C,y),gu(),C.state=l.memoizedState),typeof C.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(s===null){C=l.stateNode;var ue=l.memoizedProps,Ae=Xs(h,ue);C.props=Ae;var ze=C.context,$e=h.contextType;K=Io,typeof $e=="object"&&$e!==null&&(K=br($e));var Xe=h.getDerivedStateFromProps;$e=typeof Xe=="function"||typeof C.getSnapshotBeforeUpdate=="function",ue=l.pendingProps!==ue,$e||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(ue||ze!==K)&&Bb(l,C,m,K),Ua=!1;var Fe=l.memoizedState;C.state=Fe,vu(l,m,C,y),gu(),ze=l.memoizedState,ue||Fe!==ze||Ua?(typeof Xe=="function"&&(Mp(l,h,Xe,m),ze=l.memoizedState),(Ae=Ua||Ib(l,h,Ae,m,Fe,ze,K))?($e||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=ze),C.props=m,C.state=ze,C.context=K,m=Ae):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{C=l.stateNode,hp(s,l),K=l.memoizedProps,$e=Xs(h,K),C.props=$e,Xe=l.pendingProps,Fe=C.context,ze=h.contextType,Ae=Io,typeof ze=="object"&&ze!==null&&(Ae=br(ze)),ue=h.getDerivedStateFromProps,(ze=typeof ue=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(K!==Xe||Fe!==Ae)&&Bb(l,C,m,Ae),Ua=!1,Fe=l.memoizedState,C.state=Fe,vu(l,m,C,y),gu();var Ue=l.memoizedState;K!==Xe||Fe!==Ue||Ua||s!==null&&s.dependencies!==null&&ff(s.dependencies)?(typeof ue=="function"&&(Mp(l,h,ue,m),Ue=l.memoizedState),($e=Ua||Ib(l,h,$e,m,Fe,Ue,Ae)||s!==null&&s.dependencies!==null&&ff(s.dependencies))?(ze||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(m,Ue,Ae),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(m,Ue,Ae)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||K===s.memoizedProps&&Fe===s.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||K===s.memoizedProps&&Fe===s.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Ue),C.props=m,C.state=Ue,C.context=Ae,m=$e):(typeof C.componentDidUpdate!="function"||K===s.memoizedProps&&Fe===s.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||K===s.memoizedProps&&Fe===s.memoizedState||(l.flags|=1024),m=!1)}return C=m,kf(s,l),m=(l.flags&128)!==0,C||m?(C=l.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:C.render(),l.flags|=1,s!==null&&m?(l.child=Xo(l,s.child,null,y),l.child=Xo(l,null,h,y)):cr(s,l,h,y),l.memoizedState=C.state,s=l.child):s=va(s,l,y),s}function Jb(s,l,h,m){return lu(),l.flags|=256,cr(s,l,h,m),l.child}var Ip={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bp(s){return{baseLanes:s,cachePool:Fy()}}function zp(s,l,h){return s=s!==null?s.childLanes&~h:0,l&&(s|=fi),s}function e_(s,l,h){var m=l.pendingProps,y=!1,C=(l.flags&128)!==0,K;if((K=C)||(K=s!==null&&s.memoizedState===null?!1:(Kn.current&2)!==0),K&&(y=!0,l.flags&=-129),K=(l.flags&32)!==0,l.flags&=-33,s===null){if(sn){if(y?Va(l):Ya(),sn){var ue=Pn,Ae;if(Ae=ue){e:{for(Ae=ue,ue=Bi;Ae.nodeType!==8;){if(!ue){ue=null;break e}if(Ae=Ai(Ae.nextSibling),Ae===null){ue=null;break e}}ue=Ae}ue!==null?(l.memoizedState={dehydrated:ue,treeContext:zs!==null?{id:fa,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},Ae=Xr(18,null,null,0),Ae.stateNode=ue,Ae.return=l,l.child=Ae,Ar=l,Pn=null,Ae=!0):Ae=!1}Ae||qs(l)}if(ue=l.memoizedState,ue!==null&&(ue=ue.dehydrated,ue!==null))return wm(ue)?l.lanes=32:l.lanes=536870912,null;ga(l)}return ue=m.children,m=m.fallback,y?(Ya(),y=l.mode,ue=Nf({mode:"hidden",children:ue},y),m=Bs(m,y,h,null),ue.return=l,m.return=l,ue.sibling=m,l.child=ue,y=l.child,y.memoizedState=Bp(h),y.childLanes=zp(s,K,h),l.memoizedState=Ip,m):(Va(l),Fp(l,ue))}if(Ae=s.memoizedState,Ae!==null&&(ue=Ae.dehydrated,ue!==null)){if(C)l.flags&256?(Va(l),l.flags&=-257,l=Up(s,l,h)):l.memoizedState!==null?(Ya(),l.child=s.child,l.flags|=128,l=null):(Ya(),y=m.fallback,ue=l.mode,m=Nf({mode:"visible",children:m.children},ue),y=Bs(y,ue,h,null),y.flags|=2,m.return=l,y.return=l,m.sibling=y,l.child=m,Xo(l,s.child,null,h),m=l.child,m.memoizedState=Bp(h),m.childLanes=zp(s,K,h),l.memoizedState=Ip,l=y);else if(Va(l),wm(ue)){if(K=ue.nextSibling&&ue.nextSibling.dataset,K)var ze=K.dgst;K=ze,m=Error(r(419)),m.stack="",m.digest=K,uu({value:m,source:null,stack:null}),l=Up(s,l,h)}else if(nr||cu(s,l,h,!1),K=(h&s.childLanes)!==0,nr||K){if(K=An,K!==null&&(m=h&-h,m=(m&42)!==0?1:st(m),m=(m&(K.suspendedLanes|h))!==0?0:m,m!==0&&m!==Ae.retryLane))throw Ae.retryLane=m,Po(s,m),Qr(K,s,m),Vb;ue.data==="$?"||am(),l=Up(s,l,h)}else ue.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=Ae.treeContext,Pn=Ai(ue.nextSibling),Ar=l,sn=!0,Us=null,Bi=!1,s!==null&&(li[ui++]=fa,li[ui++]=ha,li[ui++]=zs,fa=s.id,ha=s.overflow,zs=l),l=Fp(l,m.children),l.flags|=4096);return l}return y?(Ya(),y=m.fallback,ue=l.mode,Ae=s.child,ze=Ae.sibling,m=ca(Ae,{mode:"hidden",children:m.children}),m.subtreeFlags=Ae.subtreeFlags&65011712,ze!==null?y=ca(ze,y):(y=Bs(y,ue,h,null),y.flags|=2),y.return=l,m.return=l,m.sibling=y,l.child=m,m=y,y=l.child,ue=s.child.memoizedState,ue===null?ue=Bp(h):(Ae=ue.cachePool,Ae!==null?(ze=Zn._currentValue,Ae=Ae.parent!==ze?{parent:ze,pool:ze}:Ae):Ae=Fy(),ue={baseLanes:ue.baseLanes|h,cachePool:Ae}),y.memoizedState=ue,y.childLanes=zp(s,K,h),l.memoizedState=Ip,m):(Va(l),h=s.child,s=h.sibling,h=ca(h,{mode:"visible",children:m.children}),h.return=l,h.sibling=null,s!==null&&(K=l.deletions,K===null?(l.deletions=[s],l.flags|=16):K.push(s)),l.child=h,l.memoizedState=null,h)}function Fp(s,l){return l=Nf({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function Nf(s,l){return s=Xr(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Up(s,l,h){return Xo(l,s.child,null,h),s=Fp(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function t_(s,l,h){s.lanes|=l;var m=s.alternate;m!==null&&(m.lanes|=l),ap(s.return,l,h)}function qp(s,l,h,m,y){var C=s.memoizedState;C===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:y}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=m,C.tail=h,C.tailMode=y)}function n_(s,l,h){var m=l.pendingProps,y=m.revealOrder,C=m.tail;if(cr(s,l,m.children,h),m=Kn.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&t_(s,h,l);else if(s.tag===19)t_(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}switch(B(Kn,m),y){case"forwards":for(h=l.child,y=null;h!==null;)s=h.alternate,s!==null&&Tf(s)===null&&(y=h),h=h.sibling;h=y,h===null?(y=l.child,l.child=null):(y=h.sibling,h.sibling=null),qp(l,!1,y,h,C);break;case"backwards":for(h=null,y=l.child,l.child=null;y!==null;){if(s=y.alternate,s!==null&&Tf(s)===null){l.child=y;break}s=y.sibling,y.sibling=h,h=y,y=s}qp(l,!0,h,null,C);break;case"together":qp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function va(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),Ka|=l.lanes,(h&l.childLanes)===0)if(s!==null){if(cu(s,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,h=ca(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=ca(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function Hp(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&ff(s)))}function UT(s,l,h){switch(l.tag){case 3:oe(l,l.stateNode.containerInfo),Fa(l,Zn,s.memoizedState.cache),lu();break;case 27:case 5:De(l);break;case 4:oe(l,l.stateNode.containerInfo);break;case 10:Fa(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Va(l),l.flags|=128,null):(h&l.child.childLanes)!==0?e_(s,l,h):(Va(l),s=va(s,l,h),s!==null?s.sibling:null);Va(l);break;case 19:var y=(s.flags&128)!==0;if(m=(h&l.childLanes)!==0,m||(cu(s,l,h,!1),m=(h&l.childLanes)!==0),y){if(m)return n_(s,l,h);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),B(Kn,Kn.current),m)break;return null;case 22:case 23:return l.lanes=0,Wb(s,l,h);case 24:Fa(l,Zn,s.memoizedState.cache)}return va(s,l,h)}function r_(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps)nr=!0;else{if(!Hp(s,h)&&(l.flags&128)===0)return nr=!1,UT(s,l,h);nr=(s.flags&131072)!==0}else nr=!1,sn&&(l.flags&1048576)!==0&&My(l,cf,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var m=l.elementType,y=m._init;if(m=y(m._payload),l.type=m,typeof m=="function")Qd(m)?(s=Xs(m,s),l.tag=1,l=Qb(null,l,m,s,h)):(l.tag=0,l=Pp(null,l,m,s,h));else{if(m!=null){if(y=m.$$typeof,y===F){l.tag=11,l=Yb(null,l,m,s,h);break e}else if(y===z){l.tag=14,l=Xb(null,l,m,s,h);break e}}throw l=Y(m)||m,Error(r(306,l,""))}}return l;case 0:return Pp(s,l,l.type,l.pendingProps,h);case 1:return m=l.type,y=Xs(m,l.pendingProps),Qb(s,l,m,y,h);case 3:e:{if(oe(l,l.stateNode.containerInfo),s===null)throw Error(r(387));m=l.pendingProps;var C=l.memoizedState;y=C.element,hp(s,l),vu(l,m,null,h);var K=l.memoizedState;if(m=K.cache,Fa(l,Zn,m),m!==C.cache&&sp(l,[Zn],h,!0),gu(),m=K.element,C.isDehydrated)if(C={element:m,isDehydrated:!1,cache:K.cache},l.updateQueue.baseState=C,l.memoizedState=C,l.flags&256){l=Jb(s,l,m,h);break e}else if(m!==y){y=si(Error(r(424)),l),uu(y),l=Jb(s,l,m,h);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Pn=Ai(s.firstChild),Ar=l,sn=!0,Us=null,Bi=!0,h=Lb(l,null,m,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(lu(),m===y){l=va(s,l,h);break e}cr(s,l,m,h)}l=l.child}return l;case 26:return kf(s,l),s===null?(h=o1(l.type,null,l.pendingProps,null))?l.memoizedState=h:sn||(h=l.type,s=l.pendingProps,m=Vf(W.current).createElement(h),m[q]=l,m[Q]=s,hr(m,h,s),Vt(m),l.stateNode=m):l.memoizedState=o1(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return De(l),s===null&&sn&&(m=l.stateNode=i1(l.type,l.pendingProps,W.current),Ar=l,Bi=!0,y=Pn,ts(l.type)?(Sm=y,Pn=Ai(m.firstChild)):Pn=y),cr(s,l,l.pendingProps.children,h),kf(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&sn&&((y=m=Pn)&&(m=mD(m,l.type,l.pendingProps,Bi),m!==null?(l.stateNode=m,Ar=l,Pn=Ai(m.firstChild),Bi=!1,y=!0):y=!1),y||qs(l)),De(l),y=l.type,C=l.pendingProps,K=s!==null?s.memoizedProps:null,m=C.children,bm(y,C)?m=null:K!==null&&bm(y,K)&&(l.flags|=32),l.memoizedState!==null&&(y=yp(s,l,MT,null,null,h),zu._currentValue=y),kf(s,l),cr(s,l,m,h),l.child;case 6:return s===null&&sn&&((s=h=Pn)&&(h=gD(h,l.pendingProps,Bi),h!==null?(l.stateNode=h,Ar=l,Pn=null,s=!0):s=!1),s||qs(l)),null;case 13:return e_(s,l,h);case 4:return oe(l,l.stateNode.containerInfo),m=l.pendingProps,s===null?l.child=Xo(l,null,m,h):cr(s,l,m,h),l.child;case 11:return Yb(s,l,l.type,l.pendingProps,h);case 7:return cr(s,l,l.pendingProps,h),l.child;case 8:return cr(s,l,l.pendingProps.children,h),l.child;case 12:return cr(s,l,l.pendingProps.children,h),l.child;case 10:return m=l.pendingProps,Fa(l,l.type,m.value),cr(s,l,m.children,h),l.child;case 9:return y=l.type._context,m=l.pendingProps.children,$s(l),y=br(y),m=m(y),l.flags|=1,cr(s,l,m,h),l.child;case 14:return Xb(s,l,l.type,l.pendingProps,h);case 15:return Gb(s,l,l.type,l.pendingProps,h);case 19:return n_(s,l,h);case 31:return m=l.pendingProps,h=l.mode,m={mode:m.mode,children:m.children},s===null?(h=Nf(m,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=ca(s.child,m),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return Wb(s,l,h);case 24:return $s(l),m=br(Zn),s===null?(y=up(),y===null&&(y=An,C=op(),y.pooledCache=C,C.refCount++,C!==null&&(y.pooledCacheLanes|=h),y=C),l.memoizedState={parent:m,cache:y},fp(l),Fa(l,Zn,y)):((s.lanes&h)!==0&&(hp(s,l),vu(l,null,null,h),gu()),y=s.memoizedState,C=l.memoizedState,y.parent!==m?(y={parent:m,cache:m},l.memoizedState=y,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=y),Fa(l,Zn,m)):(m=C.cache,Fa(l,Zn,m),m!==y.cache&&sp(l,[Zn],h,!0))),cr(s,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ya(s){s.flags|=4}function i_(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!h1(l)){if(l=ci.current,l!==null&&((tn&4194048)===tn?zi!==null:(tn&62914560)!==tn&&(tn&536870912)===0||l!==zi))throw pu=cp,Uy;s.flags|=8192}}function Rf(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Wt():536870912,s.lanes|=l,Ko|=l)}function Eu(s,l){if(!sn)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function Mn(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,m=0;if(l)for(var y=s.child;y!==null;)h|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)h|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=m,s.childLanes=h,l}function qT(s,l,h){var m=l.pendingProps;switch(np(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(l),null;case 1:return Mn(l),null;case 3:return h=l.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),pa(Zn),pe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(ou(l)?ya(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Py())),Mn(l),null;case 26:return h=l.memoizedState,s===null?(ya(l),h!==null?(Mn(l),i_(l,h)):(Mn(l),l.flags&=-16777217)):h?h!==s.memoizedState?(ya(l),Mn(l),i_(l,h)):(Mn(l),l.flags&=-16777217):(s.memoizedProps!==m&&ya(l),Mn(l),l.flags&=-16777217),null;case 27:de(l),h=W.current;var y=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==m&&ya(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Mn(l),null}s=U.current,ou(l)?jy(l):(s=i1(y,m,h),l.stateNode=s,ya(l))}return Mn(l),null;case 5:if(de(l),h=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==m&&ya(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Mn(l),null}if(s=U.current,ou(l))jy(l);else{switch(y=Vf(W.current),s){case 1:s=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:s=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":s=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":s=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":s=y.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof m.is=="string"?y.createElement("select",{is:m.is}):y.createElement("select"),m.multiple?s.multiple=!0:m.size&&(s.size=m.size);break;default:s=typeof m.is=="string"?y.createElement(h,{is:m.is}):y.createElement(h)}}s[q]=l,s[Q]=m;e:for(y=l.child;y!==null;){if(y.tag===5||y.tag===6)s.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===l)break e;for(;y.sibling===null;){if(y.return===null||y.return===l)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}l.stateNode=s;e:switch(hr(s,h,m),h){case"button":case"input":case"select":case"textarea":s=!!m.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ya(l)}}return Mn(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==m&&ya(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(s=W.current,ou(l)){if(s=l.stateNode,h=l.memoizedProps,m=null,y=Ar,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}s[q]=l,s=!!(s.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||K_(s.nodeValue,h)),s||qs(l)}else s=Vf(s).createTextNode(m),s[q]=l,l.stateNode=s}return Mn(l),null;case 13:if(m=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=ou(l),m!==null&&m.dehydrated!==null){if(s===null){if(!y)throw Error(r(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[q]=l}else lu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Mn(l),y=!1}else y=Py(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return l.flags&256?(ga(l),l):(ga(l),null)}if(ga(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=m!==null,s=s!==null&&s.memoizedState!==null,h){m=l.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool);var C=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(C=m.memoizedState.cachePool.pool),C!==y&&(m.flags|=2048)}return h!==s&&h&&(l.child.flags|=8192),Rf(l,l.updateQueue),Mn(l),null;case 4:return pe(),s===null&&pm(l.stateNode.containerInfo),Mn(l),null;case 10:return pa(l.type),Mn(l),null;case 19:if(se(Kn),y=l.memoizedState,y===null)return Mn(l),null;if(m=(l.flags&128)!==0,C=y.rendering,C===null)if(m)Eu(y,!1);else{if(In!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(C=Tf(s),C!==null){for(l.flags|=128,Eu(y,!1),s=C.updateQueue,l.updateQueue=s,Rf(l,s),l.subtreeFlags=0,s=h,h=l.child;h!==null;)Ry(h,s),h=h.sibling;return B(Kn,Kn.current&1|2),l.child}s=s.sibling}y.tail!==null&&Se()>Lf&&(l.flags|=128,m=!0,Eu(y,!1),l.lanes=4194304)}else{if(!m)if(s=Tf(C),s!==null){if(l.flags|=128,m=!0,s=s.updateQueue,l.updateQueue=s,Rf(l,s),Eu(y,!0),y.tail===null&&y.tailMode==="hidden"&&!C.alternate&&!sn)return Mn(l),null}else 2*Se()-y.renderingStartTime>Lf&&h!==536870912&&(l.flags|=128,m=!0,Eu(y,!1),l.lanes=4194304);y.isBackwards?(C.sibling=l.child,l.child=C):(s=y.last,s!==null?s.sibling=C:l.child=C,y.last=C)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=Se(),l.sibling=null,s=Kn.current,B(Kn,m?s&1|2:s&1),l):(Mn(l),null);case 22:case 23:return ga(l),gp(),m=l.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(h&536870912)!==0&&(l.flags&128)===0&&(Mn(l),l.subtreeFlags&6&&(l.flags|=8192)):Mn(l),h=l.updateQueue,h!==null&&Rf(l,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048),s!==null&&se(Vs),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),pa(Zn),Mn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function HT(s,l){switch(np(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return pa(Zn),pe(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return de(l),null;case 13:if(ga(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));lu()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return se(Kn),null;case 4:return pe(),null;case 10:return pa(l.type),null;case 22:case 23:return ga(l),gp(),s!==null&&se(Vs),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return pa(Zn),null;case 25:return null;default:return null}}function a_(s,l){switch(np(l),l.tag){case 3:pa(Zn),pe();break;case 26:case 27:case 5:de(l);break;case 4:pe();break;case 13:ga(l);break;case 19:se(Kn);break;case 10:pa(l.type);break;case 22:case 23:ga(l),gp(),s!==null&&se(Vs);break;case 24:pa(Zn)}}function Cu(s,l){try{var h=l.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var y=m.next;h=y;do{if((h.tag&s)===s){m=void 0;var C=h.create,K=h.inst;m=C(),K.destroy=m}h=h.next}while(h!==y)}}catch(ue){En(l,l.return,ue)}}function Xa(s,l,h){try{var m=l.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var C=y.next;m=C;do{if((m.tag&s)===s){var K=m.inst,ue=K.destroy;if(ue!==void 0){K.destroy=void 0,y=l;var Ae=h,ze=ue;try{ze()}catch($e){En(y,Ae,$e)}}}m=m.next}while(m!==C)}}catch($e){En(l,l.return,$e)}}function s_(s){var l=s.updateQueue;if(l!==null){var h=s.stateNode;try{Xy(l,h)}catch(m){En(s,s.return,m)}}}function o_(s,l,h){h.props=Xs(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(m){En(s,l,m)}}function Au(s,l){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof h=="function"?s.refCleanup=h(m):h.current=m}}catch(y){En(s,l,y)}}function Fi(s,l){var h=s.ref,m=s.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(y){En(s,l,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(y){En(s,l,y)}else h.current=null}function l_(s){var l=s.type,h=s.memoizedProps,m=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break e;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(y){En(s,s.return,y)}}function $p(s,l,h){try{var m=s.stateNode;cD(m,s.type,h,l),m[Q]=l}catch(y){En(s,s.return,y)}}function u_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ts(s.type)||s.tag===4}function Vp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||u_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ts(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Yp(s,l,h){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(s),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=$f));else if(m!==4&&(m===27&&ts(s.type)&&(h=s.stateNode,l=null),s=s.child,s!==null))for(Yp(s,l,h),s=s.sibling;s!==null;)Yp(s,l,h),s=s.sibling}function Mf(s,l,h){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(m!==4&&(m===27&&ts(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(Mf(s,l,h),s=s.sibling;s!==null;)Mf(s,l,h),s=s.sibling}function c_(s){var l=s.stateNode,h=s.memoizedProps;try{for(var m=s.type,y=l.attributes;y.length;)l.removeAttributeNode(y[0]);hr(l,m,h),l[q]=s,l[Q]=h}catch(C){En(s,s.return,C)}}var ba=!1,Hn=!1,Xp=!1,f_=typeof WeakSet=="function"?WeakSet:Set,rr=null;function $T(s,l){if(s=s.containerInfo,vm=Kf,s=wy(s),Vd(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var y=m.anchorOffset,C=m.focusNode;m=m.focusOffset;try{h.nodeType,C.nodeType}catch{h=null;break e}var K=0,ue=-1,Ae=-1,ze=0,$e=0,Xe=s,Fe=null;t:for(;;){for(var Ue;Xe!==h||y!==0&&Xe.nodeType!==3||(ue=K+y),Xe!==C||m!==0&&Xe.nodeType!==3||(Ae=K+m),Xe.nodeType===3&&(K+=Xe.nodeValue.length),(Ue=Xe.firstChild)!==null;)Fe=Xe,Xe=Ue;for(;;){if(Xe===s)break t;if(Fe===h&&++ze===y&&(ue=K),Fe===C&&++$e===m&&(Ae=K),(Ue=Xe.nextSibling)!==null)break;Xe=Fe,Fe=Xe.parentNode}Xe=Ue}h=ue===-1||Ae===-1?null:{start:ue,end:Ae}}else h=null}h=h||{start:0,end:0}}else h=null;for(ym={focusedElem:s,selectionRange:h},Kf=!1,rr=l;rr!==null;)if(l=rr,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,rr=s;else for(;rr!==null;){switch(l=rr,C=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&C!==null){s=void 0,h=l,y=C.memoizedProps,C=C.memoizedState,m=h.stateNode;try{var Dt=Xs(h.type,y,h.elementType===h.type);s=m.getSnapshotBeforeUpdate(Dt,C),m.__reactInternalSnapshotBeforeUpdate=s}catch(St){En(h,h.return,St)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,h=s.nodeType,h===9)xm(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":xm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,rr=s;break}rr=l.return}}function h_(s,l,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:Ga(s,h),m&4&&Cu(5,h);break;case 1:if(Ga(s,h),m&4)if(s=h.stateNode,l===null)try{s.componentDidMount()}catch(K){En(h,h.return,K)}else{var y=Xs(h.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(y,l,s.__reactInternalSnapshotBeforeUpdate)}catch(K){En(h,h.return,K)}}m&64&&s_(h),m&512&&Au(h,h.return);break;case 3:if(Ga(s,h),m&64&&(s=h.updateQueue,s!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{Xy(s,l)}catch(K){En(h,h.return,K)}}break;case 27:l===null&&m&4&&c_(h);case 26:case 5:Ga(s,h),l===null&&m&4&&l_(h),m&512&&Au(h,h.return);break;case 12:Ga(s,h);break;case 13:Ga(s,h),m&4&&m_(s,h),m&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=JT.bind(null,h),vD(s,h))));break;case 22:if(m=h.memoizedState!==null||ba,!m){l=l!==null&&l.memoizedState!==null||Hn,y=ba;var C=Hn;ba=m,(Hn=l)&&!C?Wa(s,h,(h.subtreeFlags&8772)!==0):Ga(s,h),ba=y,Hn=C}break;case 30:break;default:Ga(s,h)}}function d_(s){var l=s.alternate;l!==null&&(s.alternate=null,d_(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&At(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Rn=null,Mr=!1;function _a(s,l,h){for(h=h.child;h!==null;)p_(s,l,h),h=h.sibling}function p_(s,l,h){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(me,h)}catch{}switch(h.tag){case 26:Hn||Fi(h,l),_a(s,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Hn||Fi(h,l);var m=Rn,y=Mr;ts(h.type)&&(Rn=h.stateNode,Mr=!1),_a(s,l,h),Lu(h.stateNode),Rn=m,Mr=y;break;case 5:Hn||Fi(h,l);case 6:if(m=Rn,y=Mr,Rn=null,_a(s,l,h),Rn=m,Mr=y,Rn!==null)if(Mr)try{(Rn.nodeType===9?Rn.body:Rn.nodeName==="HTML"?Rn.ownerDocument.body:Rn).removeChild(h.stateNode)}catch(C){En(h,l,C)}else try{Rn.removeChild(h.stateNode)}catch(C){En(h,l,C)}break;case 18:Rn!==null&&(Mr?(s=Rn,n1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),Hu(s)):n1(Rn,h.stateNode));break;case 4:m=Rn,y=Mr,Rn=h.stateNode.containerInfo,Mr=!0,_a(s,l,h),Rn=m,Mr=y;break;case 0:case 11:case 14:case 15:Hn||Xa(2,h,l),Hn||Xa(4,h,l),_a(s,l,h);break;case 1:Hn||(Fi(h,l),m=h.stateNode,typeof m.componentWillUnmount=="function"&&o_(h,l,m)),_a(s,l,h);break;case 21:_a(s,l,h);break;case 22:Hn=(m=Hn)||h.memoizedState!==null,_a(s,l,h),Hn=m;break;default:_a(s,l,h)}}function m_(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Hu(s)}catch(h){En(l,l.return,h)}}function VT(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new f_),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new f_),l;default:throw Error(r(435,s.tag))}}function Gp(s,l){var h=VT(s);l.forEach(function(m){var y=eD.bind(null,s,m);h.has(m)||(h.add(m),m.then(y,y))})}function Gr(s,l){var h=l.deletions;if(h!==null)for(var m=0;m<h.length;m++){var y=h[m],C=s,K=l,ue=K;e:for(;ue!==null;){switch(ue.tag){case 27:if(ts(ue.type)){Rn=ue.stateNode,Mr=!1;break e}break;case 5:Rn=ue.stateNode,Mr=!1;break e;case 3:case 4:Rn=ue.stateNode.containerInfo,Mr=!0;break e}ue=ue.return}if(Rn===null)throw Error(r(160));p_(C,K,y),Rn=null,Mr=!1,C=y.alternate,C!==null&&(C.return=null),y.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)g_(l,s),l=l.sibling}var Ci=null;function g_(s,l){var h=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Gr(l,s),Wr(s),m&4&&(Xa(3,s,s.return),Cu(3,s),Xa(5,s,s.return));break;case 1:Gr(l,s),Wr(s),m&512&&(Hn||h===null||Fi(h,h.return)),m&64&&ba&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var y=Ci;if(Gr(l,s),Wr(s),m&512&&(Hn||h===null||Fi(h,h.return)),m&4){var C=h!==null?h.memoizedState:null;if(m=s.memoizedState,h===null)if(m===null)if(s.stateNode===null){e:{m=s.type,h=s.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":C=y.getElementsByTagName("title")[0],(!C||C[zt]||C[q]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=y.createElement(m),y.head.insertBefore(C,y.querySelector("head > title"))),hr(C,m,h),C[q]=s,Vt(C),m=C;break e;case"link":var K=c1("link","href",y).get(m+(h.href||""));if(K){for(var ue=0;ue<K.length;ue++)if(C=K[ue],C.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&C.getAttribute("rel")===(h.rel==null?null:h.rel)&&C.getAttribute("title")===(h.title==null?null:h.title)&&C.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){K.splice(ue,1);break t}}C=y.createElement(m),hr(C,m,h),y.head.appendChild(C);break;case"meta":if(K=c1("meta","content",y).get(m+(h.content||""))){for(ue=0;ue<K.length;ue++)if(C=K[ue],C.getAttribute("content")===(h.content==null?null:""+h.content)&&C.getAttribute("name")===(h.name==null?null:h.name)&&C.getAttribute("property")===(h.property==null?null:h.property)&&C.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&C.getAttribute("charset")===(h.charSet==null?null:h.charSet)){K.splice(ue,1);break t}}C=y.createElement(m),hr(C,m,h),y.head.appendChild(C);break;default:throw Error(r(468,m))}C[q]=s,Vt(C),m=C}s.stateNode=m}else f1(y,s.type,s.stateNode);else s.stateNode=u1(y,m,s.memoizedProps);else C!==m?(C===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):C.count--,m===null?f1(y,s.type,s.stateNode):u1(y,m,s.memoizedProps)):m===null&&s.stateNode!==null&&$p(s,s.memoizedProps,h.memoizedProps)}break;case 27:Gr(l,s),Wr(s),m&512&&(Hn||h===null||Fi(h,h.return)),h!==null&&m&4&&$p(s,s.memoizedProps,h.memoizedProps);break;case 5:if(Gr(l,s),Wr(s),m&512&&(Hn||h===null||Fi(h,h.return)),s.flags&32){y=s.stateNode;try{Pa(y,"")}catch(Ue){En(s,s.return,Ue)}}m&4&&s.stateNode!=null&&(y=s.memoizedProps,$p(s,y,h!==null?h.memoizedProps:y)),m&1024&&(Xp=!0);break;case 6:if(Gr(l,s),Wr(s),m&4){if(s.stateNode===null)throw Error(r(162));m=s.memoizedProps,h=s.stateNode;try{h.nodeValue=m}catch(Ue){En(s,s.return,Ue)}}break;case 3:if(Gf=null,y=Ci,Ci=Yf(l.containerInfo),Gr(l,s),Ci=y,Wr(s),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Hu(l.containerInfo)}catch(Ue){En(s,s.return,Ue)}Xp&&(Xp=!1,v_(s));break;case 4:m=Ci,Ci=Yf(s.stateNode.containerInfo),Gr(l,s),Wr(s),Ci=m;break;case 12:Gr(l,s),Wr(s);break;case 13:Gr(l,s),Wr(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(em=Se()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Gp(s,m)));break;case 22:y=s.memoizedState!==null;var Ae=h!==null&&h.memoizedState!==null,ze=ba,$e=Hn;if(ba=ze||y,Hn=$e||Ae,Gr(l,s),Hn=$e,ba=ze,Wr(s),m&8192)e:for(l=s.stateNode,l._visibility=y?l._visibility&-2:l._visibility|1,y&&(h===null||Ae||ba||Hn||Gs(s)),h=null,l=s;;){if(l.tag===5||l.tag===26){if(h===null){Ae=h=l;try{if(C=Ae.stateNode,y)K=C.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{ue=Ae.stateNode;var Xe=Ae.memoizedProps.style,Fe=Xe!=null&&Xe.hasOwnProperty("display")?Xe.display:null;ue.style.display=Fe==null||typeof Fe=="boolean"?"":(""+Fe).trim()}}catch(Ue){En(Ae,Ae.return,Ue)}}}else if(l.tag===6){if(h===null){Ae=l;try{Ae.stateNode.nodeValue=y?"":Ae.memoizedProps}catch(Ue){En(Ae,Ae.return,Ue)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=s.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,Gp(s,h))));break;case 19:Gr(l,s),Wr(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Gp(s,m)));break;case 30:break;case 21:break;default:Gr(l,s),Wr(s)}}function Wr(s){var l=s.flags;if(l&2){try{for(var h,m=s.return;m!==null;){if(u_(m)){h=m;break}m=m.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var y=h.stateNode,C=Vp(s);Mf(s,C,y);break;case 5:var K=h.stateNode;h.flags&32&&(Pa(K,""),h.flags&=-33);var ue=Vp(s);Mf(s,ue,K);break;case 3:case 4:var Ae=h.stateNode.containerInfo,ze=Vp(s);Yp(s,ze,Ae);break;default:throw Error(r(161))}}catch($e){En(s,s.return,$e)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function v_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;v_(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Ga(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)h_(s,l.alternate,l),l=l.sibling}function Gs(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Xa(4,l,l.return),Gs(l);break;case 1:Fi(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&o_(l,l.return,h),Gs(l);break;case 27:Lu(l.stateNode);case 26:case 5:Fi(l,l.return),Gs(l);break;case 22:l.memoizedState===null&&Gs(l);break;case 30:Gs(l);break;default:Gs(l)}s=s.sibling}}function Wa(s,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,y=s,C=l,K=C.flags;switch(C.tag){case 0:case 11:case 15:Wa(y,C,h),Cu(4,C);break;case 1:if(Wa(y,C,h),m=C,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ze){En(m,m.return,ze)}if(m=C,y=m.updateQueue,y!==null){var ue=m.stateNode;try{var Ae=y.shared.hiddenCallbacks;if(Ae!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Ae.length;y++)Yy(Ae[y],ue)}catch(ze){En(m,m.return,ze)}}h&&K&64&&s_(C),Au(C,C.return);break;case 27:c_(C);case 26:case 5:Wa(y,C,h),h&&m===null&&K&4&&l_(C),Au(C,C.return);break;case 12:Wa(y,C,h);break;case 13:Wa(y,C,h),h&&K&4&&m_(y,C);break;case 22:C.memoizedState===null&&Wa(y,C,h),Au(C,C.return);break;case 30:break;default:Wa(y,C,h)}l=l.sibling}}function Wp(s,l){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&fu(h))}function Zp(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&fu(s))}function Ui(s,l,h,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)y_(s,l,h,m),l=l.sibling}function y_(s,l,h,m){var y=l.flags;switch(l.tag){case 0:case 11:case 15:Ui(s,l,h,m),y&2048&&Cu(9,l);break;case 1:Ui(s,l,h,m);break;case 3:Ui(s,l,h,m),y&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&fu(s)));break;case 12:if(y&2048){Ui(s,l,h,m),s=l.stateNode;try{var C=l.memoizedProps,K=C.id,ue=C.onPostCommit;typeof ue=="function"&&ue(K,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Ae){En(l,l.return,Ae)}}else Ui(s,l,h,m);break;case 13:Ui(s,l,h,m);break;case 23:break;case 22:C=l.stateNode,K=l.alternate,l.memoizedState!==null?C._visibility&2?Ui(s,l,h,m):Tu(s,l):C._visibility&2?Ui(s,l,h,m):(C._visibility|=2,Go(s,l,h,m,(l.subtreeFlags&10256)!==0)),y&2048&&Wp(K,l);break;case 24:Ui(s,l,h,m),y&2048&&Zp(l.alternate,l);break;default:Ui(s,l,h,m)}}function Go(s,l,h,m,y){for(y=y&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var C=s,K=l,ue=h,Ae=m,ze=K.flags;switch(K.tag){case 0:case 11:case 15:Go(C,K,ue,Ae,y),Cu(8,K);break;case 23:break;case 22:var $e=K.stateNode;K.memoizedState!==null?$e._visibility&2?Go(C,K,ue,Ae,y):Tu(C,K):($e._visibility|=2,Go(C,K,ue,Ae,y)),y&&ze&2048&&Wp(K.alternate,K);break;case 24:Go(C,K,ue,Ae,y),y&&ze&2048&&Zp(K.alternate,K);break;default:Go(C,K,ue,Ae,y)}l=l.sibling}}function Tu(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=s,m=l,y=m.flags;switch(m.tag){case 22:Tu(h,m),y&2048&&Wp(m.alternate,m);break;case 24:Tu(h,m),y&2048&&Zp(m.alternate,m);break;default:Tu(h,m)}l=l.sibling}}var Du=8192;function Wo(s){if(s.subtreeFlags&Du)for(s=s.child;s!==null;)b_(s),s=s.sibling}function b_(s){switch(s.tag){case 26:Wo(s),s.flags&Du&&s.memoizedState!==null&&kD(Ci,s.memoizedState,s.memoizedProps);break;case 5:Wo(s);break;case 3:case 4:var l=Ci;Ci=Yf(s.stateNode.containerInfo),Wo(s),Ci=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=Du,Du=16777216,Wo(s),Du=l):Wo(s));break;default:Wo(s)}}function __(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Ou(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];rr=m,w_(m,s)}__(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)x_(s),s=s.sibling}function x_(s){switch(s.tag){case 0:case 11:case 15:Ou(s),s.flags&2048&&Xa(9,s,s.return);break;case 3:Ou(s);break;case 12:Ou(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,jf(s)):Ou(s);break;default:Ou(s)}}function jf(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];rr=m,w_(m,s)}__(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Xa(8,l,l.return),jf(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,jf(l));break;default:jf(l)}s=s.sibling}}function w_(s,l){for(;rr!==null;){var h=rr;switch(h.tag){case 0:case 11:case 15:Xa(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:fu(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,rr=m;else e:for(h=s;rr!==null;){m=rr;var y=m.sibling,C=m.return;if(d_(m),m===h){rr=null;break e}if(y!==null){y.return=C,rr=y;break e}rr=C}}}var YT={getCacheForType:function(s){var l=br(Zn),h=l.data.get(s);return h===void 0&&(h=s(),l.data.set(s,h)),h}},XT=typeof WeakMap=="function"?WeakMap:Map,mn=0,An=null,Yt=null,tn=0,gn=0,Zr=null,Za=!1,Zo=!1,Kp=!1,xa=0,In=0,Ka=0,Ws=0,Qp=0,fi=0,Ko=0,ku=null,jr=null,Jp=!1,em=0,Lf=1/0,Pf=null,Qa=null,fr=0,Ja=null,Qo=null,Jo=0,tm=0,nm=null,S_=null,Nu=0,rm=null;function Kr(){if((mn&2)!==0&&tn!==0)return tn&-tn;if(D.T!==null){var s=Fo;return s!==0?s:cm()}return cn()}function E_(){fi===0&&(fi=(tn&536870912)===0||sn?wn():536870912);var s=ci.current;return s!==null&&(s.flags|=32),fi}function Qr(s,l,h){(s===An&&(gn===2||gn===9)||s.cancelPendingCommit!==null)&&(el(s,0),es(s,tn,fi,!1)),Bt(s,h),((mn&2)===0||s!==An)&&(s===An&&((mn&2)===0&&(Ws|=h),In===4&&es(s,tn,fi,!1)),qi(s))}function C_(s,l,h){if((mn&6)!==0)throw Error(r(327));var m=!h&&(l&124)===0&&(l&s.expiredLanes)===0||gt(s,l),y=m?ZT(s,l):sm(s,l,!0),C=m;do{if(y===0){Zo&&!m&&es(s,l,0,!1);break}else{if(h=s.current.alternate,C&&!GT(h)){y=sm(s,l,!1),C=!1;continue}if(y===2){if(C=l,s.errorRecoveryDisabledLanes&C)var K=0;else K=s.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){l=K;e:{var ue=s;y=ku;var Ae=ue.current.memoizedState.isDehydrated;if(Ae&&(el(ue,K).flags|=256),K=sm(ue,K,!1),K!==2){if(Kp&&!Ae){ue.errorRecoveryDisabledLanes|=C,Ws|=C,y=4;break e}C=jr,jr=y,C!==null&&(jr===null?jr=C:jr.push.apply(jr,C))}y=K}if(C=!1,y!==2)continue}}if(y===1){el(s,0),es(s,l,0,!0);break}e:{switch(m=s,C=y,C){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:es(m,l,fi,!Za);break e;case 2:jr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(y=em+300-Se(),10<y)){if(es(m,l,fi,!Za),bt(m,0,!0)!==0)break e;m.timeoutHandle=e1(A_.bind(null,m,h,jr,Pf,Jp,l,fi,Ws,Ko,Za,C,2,-0,0),y);break e}A_(m,h,jr,Pf,Jp,l,fi,Ws,Ko,Za,C,0,-0,0)}}break}while(!0);qi(s)}function A_(s,l,h,m,y,C,K,ue,Ae,ze,$e,Xe,Fe,Ue){if(s.timeoutHandle=-1,Xe=l.subtreeFlags,(Xe&8192||(Xe&16785408)===16785408)&&(Bu={stylesheets:null,count:0,unsuspend:OD},b_(l),Xe=ND(),Xe!==null)){s.cancelPendingCommit=Xe(M_.bind(null,s,l,C,h,m,y,K,ue,Ae,$e,1,Fe,Ue)),es(s,C,K,!ze);return}M_(s,l,C,h,m,y,K,ue,Ae)}function GT(s){for(var l=s;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var y=h[m],C=y.getSnapshot;y=y.value;try{if(!Yr(C(),y))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function es(s,l,h,m){l&=~Qp,l&=~Ws,s.suspendedLanes|=l,s.pingedLanes&=~l,m&&(s.warmLanes|=l),m=s.expirationTimes;for(var y=l;0<y;){var C=31-Pe(y),K=1<<C;m[C]=-1,y&=~K}h!==0&&ut(s,h,l)}function If(){return(mn&6)===0?(Ru(0),!1):!0}function im(){if(Yt!==null){if(gn===0)var s=Yt.return;else s=Yt,da=Hs=null,xp(s),Yo=null,wu=0,s=Yt;for(;s!==null;)a_(s.alternate,s),s=s.return;Yt=null}}function el(s,l){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,hD(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),im(),An=s,Yt=h=ca(s.current,null),tn=l,gn=0,Zr=null,Za=!1,Zo=gt(s,l),Kp=!1,Ko=fi=Qp=Ws=Ka=In=0,jr=ku=null,Jp=!1,(l&8)!==0&&(l|=l&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=l;0<m;){var y=31-Pe(m),C=1<<y;l|=s[y],m&=~C}return xa=l,af(),h}function T_(s,l){qt=null,D.H=Ef,l===du||l===pf?(l=$y(),gn=3):l===Uy?(l=$y(),gn=4):gn=l===Vb?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Zr=l,Yt===null&&(In=1,Of(s,si(l,s.current)))}function D_(){var s=D.H;return D.H=Ef,s===null?Ef:s}function O_(){var s=D.A;return D.A=YT,s}function am(){In=4,Za||(tn&4194048)!==tn&&ci.current!==null||(Zo=!0),(Ka&134217727)===0&&(Ws&134217727)===0||An===null||es(An,tn,fi,!1)}function sm(s,l,h){var m=mn;mn|=2;var y=D_(),C=O_();(An!==s||tn!==l)&&(Pf=null,el(s,l)),l=!1;var K=In;e:do try{if(gn!==0&&Yt!==null){var ue=Yt,Ae=Zr;switch(gn){case 8:im(),K=6;break e;case 3:case 2:case 9:case 6:ci.current===null&&(l=!0);var ze=gn;if(gn=0,Zr=null,tl(s,ue,Ae,ze),h&&Zo){K=0;break e}break;default:ze=gn,gn=0,Zr=null,tl(s,ue,Ae,ze)}}WT(),K=In;break}catch($e){T_(s,$e)}while(!0);return l&&s.shellSuspendCounter++,da=Hs=null,mn=m,D.H=y,D.A=C,Yt===null&&(An=null,tn=0,af()),K}function WT(){for(;Yt!==null;)k_(Yt)}function ZT(s,l){var h=mn;mn|=2;var m=D_(),y=O_();An!==s||tn!==l?(Pf=null,Lf=Se()+500,el(s,l)):Zo=gt(s,l);e:do try{if(gn!==0&&Yt!==null){l=Yt;var C=Zr;t:switch(gn){case 1:gn=0,Zr=null,tl(s,l,C,1);break;case 2:case 9:if(qy(C)){gn=0,Zr=null,N_(l);break}l=function(){gn!==2&&gn!==9||An!==s||(gn=7),qi(s)},C.then(l,l);break e;case 3:gn=7;break e;case 4:gn=5;break e;case 7:qy(C)?(gn=0,Zr=null,N_(l)):(gn=0,Zr=null,tl(s,l,C,7));break;case 5:var K=null;switch(Yt.tag){case 26:K=Yt.memoizedState;case 5:case 27:var ue=Yt;if(!K||h1(K)){gn=0,Zr=null;var Ae=ue.sibling;if(Ae!==null)Yt=Ae;else{var ze=ue.return;ze!==null?(Yt=ze,Bf(ze)):Yt=null}break t}}gn=0,Zr=null,tl(s,l,C,5);break;case 6:gn=0,Zr=null,tl(s,l,C,6);break;case 8:im(),In=6;break e;default:throw Error(r(462))}}KT();break}catch($e){T_(s,$e)}while(!0);return da=Hs=null,D.H=m,D.A=y,mn=h,Yt!==null?0:(An=null,tn=0,af(),In)}function KT(){for(;Yt!==null&&!ce();)k_(Yt)}function k_(s){var l=r_(s.alternate,s,xa);s.memoizedProps=s.pendingProps,l===null?Bf(s):Yt=l}function N_(s){var l=s,h=l.alternate;switch(l.tag){case 15:case 0:l=Kb(h,l,l.pendingProps,l.type,void 0,tn);break;case 11:l=Kb(h,l,l.pendingProps,l.type.render,l.ref,tn);break;case 5:xp(l);default:a_(h,l),l=Yt=Ry(l,xa),l=r_(h,l,xa)}s.memoizedProps=s.pendingProps,l===null?Bf(s):Yt=l}function tl(s,l,h,m){da=Hs=null,xp(l),Yo=null,wu=0;var y=l.return;try{if(FT(s,y,l,h,tn)){In=1,Of(s,si(h,s.current)),Yt=null;return}}catch(C){if(y!==null)throw Yt=y,C;In=1,Of(s,si(h,s.current)),Yt=null;return}l.flags&32768?(sn||m===1?s=!0:Zo||(tn&536870912)!==0?s=!1:(Za=s=!0,(m===2||m===9||m===3||m===6)&&(m=ci.current,m!==null&&m.tag===13&&(m.flags|=16384))),R_(l,s)):Bf(l)}function Bf(s){var l=s;do{if((l.flags&32768)!==0){R_(l,Za);return}s=l.return;var h=qT(l.alternate,l,xa);if(h!==null){Yt=h;return}if(l=l.sibling,l!==null){Yt=l;return}Yt=l=s}while(l!==null);In===0&&(In=5)}function R_(s,l){do{var h=HT(s.alternate,s);if(h!==null){h.flags&=32767,Yt=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(s=s.sibling,s!==null)){Yt=s;return}Yt=s=h}while(s!==null);In=6,Yt=null}function M_(s,l,h,m,y,C,K,ue,Ae){s.cancelPendingCommit=null;do zf();while(fr!==0);if((mn&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(C=l.lanes|l.childLanes,C|=Zd,Jt(s,h,C,K,ue,Ae),s===An&&(Yt=An=null,tn=0),Qo=l,Ja=s,Jo=h,tm=C,nm=y,S_=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,tD(ee,function(){return B_(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=D.T,D.T=null,y=j.p,j.p=2,K=mn,mn|=4;try{$T(s,l,h)}finally{mn=K,j.p=y,D.T=m}}fr=1,j_(),L_(),P_()}}function j_(){if(fr===1){fr=0;var s=Ja,l=Qo,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=D.T,D.T=null;var m=j.p;j.p=2;var y=mn;mn|=4;try{g_(l,s);var C=ym,K=wy(s.containerInfo),ue=C.focusedElem,Ae=C.selectionRange;if(K!==ue&&ue&&ue.ownerDocument&&xy(ue.ownerDocument.documentElement,ue)){if(Ae!==null&&Vd(ue)){var ze=Ae.start,$e=Ae.end;if($e===void 0&&($e=ze),"selectionStart"in ue)ue.selectionStart=ze,ue.selectionEnd=Math.min($e,ue.value.length);else{var Xe=ue.ownerDocument||document,Fe=Xe&&Xe.defaultView||window;if(Fe.getSelection){var Ue=Fe.getSelection(),Dt=ue.textContent.length,St=Math.min(Ae.start,Dt),xn=Ae.end===void 0?St:Math.min(Ae.end,Dt);!Ue.extend&&St>xn&&(K=xn,xn=St,St=K);var Le=_y(ue,St),Oe=_y(ue,xn);if(Le&&Oe&&(Ue.rangeCount!==1||Ue.anchorNode!==Le.node||Ue.anchorOffset!==Le.offset||Ue.focusNode!==Oe.node||Ue.focusOffset!==Oe.offset)){var Ie=Xe.createRange();Ie.setStart(Le.node,Le.offset),Ue.removeAllRanges(),St>xn?(Ue.addRange(Ie),Ue.extend(Oe.node,Oe.offset)):(Ie.setEnd(Oe.node,Oe.offset),Ue.addRange(Ie))}}}}for(Xe=[],Ue=ue;Ue=Ue.parentNode;)Ue.nodeType===1&&Xe.push({element:Ue,left:Ue.scrollLeft,top:Ue.scrollTop});for(typeof ue.focus=="function"&&ue.focus(),ue=0;ue<Xe.length;ue++){var Ve=Xe[ue];Ve.element.scrollLeft=Ve.left,Ve.element.scrollTop=Ve.top}}Kf=!!vm,ym=vm=null}finally{mn=y,j.p=m,D.T=h}}s.current=l,fr=2}}function L_(){if(fr===2){fr=0;var s=Ja,l=Qo,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=D.T,D.T=null;var m=j.p;j.p=2;var y=mn;mn|=4;try{h_(s,l.alternate,l)}finally{mn=y,j.p=m,D.T=h}}fr=3}}function P_(){if(fr===4||fr===3){fr=0,ve();var s=Ja,l=Qo,h=Jo,m=S_;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?fr=5:(fr=0,Qo=Ja=null,I_(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(Qa=null),ht(h),l=l.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(me,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=D.T,y=j.p,j.p=2,D.T=null;try{for(var C=s.onRecoverableError,K=0;K<m.length;K++){var ue=m[K];C(ue.value,{componentStack:ue.stack})}}finally{D.T=l,j.p=y}}(Jo&3)!==0&&zf(),qi(s),y=s.pendingLanes,(h&4194090)!==0&&(y&42)!==0?s===rm?Nu++:(Nu=0,rm=s):Nu=0,Ru(0)}}function I_(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,fu(l)))}function zf(s){return j_(),L_(),P_(),B_()}function B_(){if(fr!==5)return!1;var s=Ja,l=tm;tm=0;var h=ht(Jo),m=D.T,y=j.p;try{j.p=32>h?32:h,D.T=null,h=nm,nm=null;var C=Ja,K=Jo;if(fr=0,Qo=Ja=null,Jo=0,(mn&6)!==0)throw Error(r(331));var ue=mn;if(mn|=4,x_(C.current),y_(C,C.current,K,h),mn=ue,Ru(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(me,C)}catch{}return!0}finally{j.p=y,D.T=m,I_(s,l)}}function z_(s,l,h){l=si(h,l),l=Lp(s.stateNode,l,2),s=Ha(s,l,2),s!==null&&(Bt(s,2),qi(s))}function En(s,l,h){if(s.tag===3)z_(s,s,h);else for(;l!==null;){if(l.tag===3){z_(l,s,h);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Qa===null||!Qa.has(m))){s=si(h,s),h=Hb(2),m=Ha(l,h,2),m!==null&&($b(h,m,l,s),Bt(m,2),qi(m));break}}l=l.return}}function om(s,l,h){var m=s.pingCache;if(m===null){m=s.pingCache=new XT;var y=new Set;m.set(l,y)}else y=m.get(l),y===void 0&&(y=new Set,m.set(l,y));y.has(h)||(Kp=!0,y.add(h),s=QT.bind(null,s,l,h),l.then(s,s))}function QT(s,l,h){var m=s.pingCache;m!==null&&m.delete(l),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,An===s&&(tn&h)===h&&(In===4||In===3&&(tn&62914560)===tn&&300>Se()-em?(mn&2)===0&&el(s,0):Qp|=h,Ko===tn&&(Ko=0)),qi(s)}function F_(s,l){l===0&&(l=Wt()),s=Po(s,l),s!==null&&(Bt(s,l),qi(s))}function JT(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),F_(s,h)}function eD(s,l){var h=0;switch(s.tag){case 13:var m=s.stateNode,y=s.memoizedState;y!==null&&(h=y.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),F_(s,h)}function tD(s,l){return Te(s,l)}var Ff=null,nl=null,lm=!1,Uf=!1,um=!1,Zs=0;function qi(s){s!==nl&&s.next===null&&(nl===null?Ff=nl=s:nl=nl.next=s),Uf=!0,lm||(lm=!0,rD())}function Ru(s,l){if(!um&&Uf){um=!0;do for(var h=!1,m=Ff;m!==null;){if(s!==0){var y=m.pendingLanes;if(y===0)var C=0;else{var K=m.suspendedLanes,ue=m.pingedLanes;C=(1<<31-Pe(42|s)+1)-1,C&=y&~(K&~ue),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(h=!0,$_(m,C))}else C=tn,C=bt(m,m===An?C:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(C&3)===0||gt(m,C)||(h=!0,$_(m,C));m=m.next}while(h);um=!1}}function nD(){U_()}function U_(){Uf=lm=!1;var s=0;Zs!==0&&(fD()&&(s=Zs),Zs=0);for(var l=Se(),h=null,m=Ff;m!==null;){var y=m.next,C=q_(m,l);C===0?(m.next=null,h===null?Ff=y:h.next=y,y===null&&(nl=h)):(h=m,(s!==0||(C&3)!==0)&&(Uf=!0)),m=y}Ru(s)}function q_(s,l){for(var h=s.suspendedLanes,m=s.pingedLanes,y=s.expirationTimes,C=s.pendingLanes&-62914561;0<C;){var K=31-Pe(C),ue=1<<K,Ae=y[K];Ae===-1?((ue&h)===0||(ue&m)!==0)&&(y[K]=Rt(ue,l)):Ae<=l&&(s.expiredLanes|=ue),C&=~ue}if(l=An,h=tn,h=bt(s,s===l?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,h===0||s===l&&(gn===2||gn===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&fe(m),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||gt(s,h)){if(l=h&-h,l===s.callbackPriority)return l;switch(m!==null&&fe(m),ht(h)){case 2:case 8:h=X;break;case 32:h=ee;break;case 268435456:h=ge;break;default:h=ee}return m=H_.bind(null,s),h=Te(h,m),s.callbackPriority=l,s.callbackNode=h,l}return m!==null&&m!==null&&fe(m),s.callbackPriority=2,s.callbackNode=null,2}function H_(s,l){if(fr!==0&&fr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(zf()&&s.callbackNode!==h)return null;var m=tn;return m=bt(s,s===An?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(C_(s,m,l),q_(s,Se()),s.callbackNode!=null&&s.callbackNode===h?H_.bind(null,s):null)}function $_(s,l){if(zf())return null;C_(s,l,!0)}function rD(){dD(function(){(mn&6)!==0?Te(H,nD):U_()})}function cm(){return Zs===0&&(Zs=wn()),Zs}function V_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:sa(""+s)}function Y_(s,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,s.id&&h.setAttribute("form",s.id),l.parentNode.insertBefore(h,l),s=new FormData(s),h.parentNode.removeChild(h),s}function iD(s,l,h,m,y){if(l==="submit"&&h&&h.stateNode===y){var C=V_((y[Q]||null).action),K=m.submitter;K&&(l=(l=K[Q]||null)?V_(l.formAction):K.getAttribute("formAction"),l!==null&&(C=l,K=null));var ue=new Nr("action","action",null,m,y);s.push({event:ue,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Zs!==0){var Ae=K?Y_(y,K):new FormData(y);kp(h,{pending:!0,data:Ae,method:y.method,action:C},null,Ae)}}else typeof C=="function"&&(ue.preventDefault(),Ae=K?Y_(y,K):new FormData(y),kp(h,{pending:!0,data:Ae,method:y.method,action:C},C,Ae))},currentTarget:y}]})}}for(var fm=0;fm<Wd.length;fm++){var hm=Wd[fm],aD=hm.toLowerCase(),sD=hm[0].toUpperCase()+hm.slice(1);Ei(aD,"on"+sD)}Ei(Cy,"onAnimationEnd"),Ei(Ay,"onAnimationIteration"),Ei(Ty,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(ST,"onTransitionRun"),Ei(ET,"onTransitionStart"),Ei(CT,"onTransitionCancel"),Ei(Dy,"onTransitionEnd"),Nt("onMouseEnter",["mouseout","mouseover"]),Nt("onMouseLeave",["mouseout","mouseover"]),Nt("onPointerEnter",["pointerout","pointerover"]),Nt("onPointerLeave",["pointerout","pointerover"]),Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function X_(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var m=s[h],y=m.event;m=m.listeners;e:{var C=void 0;if(l)for(var K=m.length-1;0<=K;K--){var ue=m[K],Ae=ue.instance,ze=ue.currentTarget;if(ue=ue.listener,Ae!==C&&y.isPropagationStopped())break e;C=ue,y.currentTarget=ze;try{C(y)}catch($e){Df($e)}y.currentTarget=null,C=Ae}else for(K=0;K<m.length;K++){if(ue=m[K],Ae=ue.instance,ze=ue.currentTarget,ue=ue.listener,Ae!==C&&y.isPropagationStopped())break e;C=ue,y.currentTarget=ze;try{C(y)}catch($e){Df($e)}y.currentTarget=null,C=Ae}}}}function Xt(s,l){var h=l[Ne];h===void 0&&(h=l[Ne]=new Set);var m=s+"__bubble";h.has(m)||(G_(l,s,2,!1),h.add(m))}function dm(s,l,h){var m=0;l&&(m|=4),G_(h,s,m,l)}var qf="_reactListening"+Math.random().toString(36).slice(2);function pm(s){if(!s[qf]){s[qf]=!0,gr.forEach(function(h){h!=="selectionchange"&&(oD.has(h)||dm(h,!1,s),dm(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[qf]||(l[qf]=!0,dm("selectionchange",!1,l))}}function G_(s,l,h,m){switch(y1(l)){case 2:var y=jD;break;case 8:y=LD;break;default:y=Dm}h=y.bind(null,l,h,s),y=void 0,!Ql||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),m?y!==void 0?s.addEventListener(l,h,{capture:!0,passive:y}):s.addEventListener(l,h,!0):y!==void 0?s.addEventListener(l,h,{passive:y}):s.addEventListener(l,h,!1)}function mm(s,l,h,m,y){var C=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var K=m.tag;if(K===3||K===4){var ue=m.stateNode.containerInfo;if(ue===y)break;if(K===4)for(K=m.return;K!==null;){var Ae=K.tag;if((Ae===3||Ae===4)&&K.stateNode.containerInfo===y)return;K=K.return}for(;ue!==null;){if(K=nn(ue),K===null)return;if(Ae=K.tag,Ae===5||Ae===6||Ae===26||Ae===27){m=C=K;continue e}ue=ue.parentNode}}m=m.return}Oo(function(){var ze=C,$e=$r(h),Xe=[];e:{var Fe=Oy.get(s);if(Fe!==void 0){var Ue=Nr,Dt=s;switch(s){case"keypress":if(Ns(h)===0)break e;case"keydown":case"keyup":Ue=b;break;case"focusin":Dt="focus",Ue=la;break;case"focusout":Dt="blur",Ue=la;break;case"beforeblur":case"afterblur":Ue=la;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=Zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=_e;break;case Cy:case Ay:case Ty:Ue=No;break;case Dy:Ue=He;break;case"scroll":case"scrollend":Ue=Wc;break;case"wheel":Ue=Je;break;case"copy":case"cut":case"paste":Ue=Qc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=E;break;case"toggle":case"beforetoggle":Ue=Be}var St=(l&4)!==0,xn=!St&&(s==="scroll"||s==="scrollend"),Le=St?Fe!==null?Fe+"Capture":null:Fe;St=[];for(var Oe=ze,Ie;Oe!==null;){var Ve=Oe;if(Ie=Ve.stateNode,Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||Ie===null||Le===null||(Ve=fn(Oe,Le),Ve!=null&&St.push(ju(Oe,Ve,Ie))),xn)break;Oe=Oe.return}0<St.length&&(Fe=new Ue(Fe,Dt,null,h,$e),Xe.push({event:Fe,listeners:St}))}}if((l&7)===0){e:{if(Fe=s==="mouseover"||s==="pointerover",Ue=s==="mouseout"||s==="pointerout",Fe&&h!==Ia&&(Dt=h.relatedTarget||h.fromElement)&&(nn(Dt)||Dt[ye]))break e;if((Ue||Fe)&&(Fe=$e.window===$e?$e:(Fe=$e.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,Ue?(Dt=h.relatedTarget||h.toElement,Ue=ze,Dt=Dt?nn(Dt):null,Dt!==null&&(xn=a(Dt),St=Dt.tag,Dt!==xn||St!==5&&St!==27&&St!==6)&&(Dt=null)):(Ue=null,Dt=ze),Ue!==Dt)){if(St=ko,Ve="onMouseLeave",Le="onMouseEnter",Oe="mouse",(s==="pointerout"||s==="pointerover")&&(St=E,Ve="onPointerLeave",Le="onPointerEnter",Oe="pointer"),xn=Ue==null?Fe:lr(Ue),Ie=Dt==null?Fe:lr(Dt),Fe=new St(Ve,Oe+"leave",Ue,h,$e),Fe.target=xn,Fe.relatedTarget=Ie,Ve=null,nn($e)===ze&&(St=new St(Le,Oe+"enter",Dt,h,$e),St.target=Ie,St.relatedTarget=xn,Ve=St),xn=Ve,Ue&&Dt)t:{for(St=Ue,Le=Dt,Oe=0,Ie=St;Ie;Ie=rl(Ie))Oe++;for(Ie=0,Ve=Le;Ve;Ve=rl(Ve))Ie++;for(;0<Oe-Ie;)St=rl(St),Oe--;for(;0<Ie-Oe;)Le=rl(Le),Ie--;for(;Oe--;){if(St===Le||Le!==null&&St===Le.alternate)break t;St=rl(St),Le=rl(Le)}St=null}else St=null;Ue!==null&&W_(Xe,Fe,Ue,St,!1),Dt!==null&&xn!==null&&W_(Xe,xn,Dt,St,!0)}}e:{if(Fe=ze?lr(ze):window,Ue=Fe.nodeName&&Fe.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&Fe.type==="file")var ct=js;else if(Ht(Fe))if(Ls)ct=_T;else{ct=yT;var $t=vT}else Ue=Fe.nodeName,!Ue||Ue.toLowerCase()!=="input"||Fe.type!=="checkbox"&&Fe.type!=="radio"?ze&&Do(ze.elementType)&&(ct=js):ct=bT;if(ct&&(ct=ct(s,ze))){wt(Xe,ct,h,$e);break e}$t&&$t(s,Fe,ze),s==="focusout"&&ze&&Fe.type==="number"&&ze.memoizedProps.value!=null&&To(Fe,"number",Fe.value)}switch($t=ze?lr(ze):window,s){case"focusin":(Ht($t)||$t.contentEditable==="true")&&(Mo=$t,Yd=ze,su=null);break;case"focusout":su=Yd=Mo=null;break;case"mousedown":Xd=!0;break;case"contextmenu":case"mouseup":case"dragend":Xd=!1,Sy(Xe,h,$e);break;case"selectionchange":if(wT)break;case"keydown":case"keyup":Sy(Xe,h,$e)}var mt;if(ot)e:{switch(s){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else pt?rt(s,h)&&(Et="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(Et="onCompositionStart");Et&&(Mt&&h.locale!=="ko"&&(pt||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&pt&&(mt=Jl()):(ai=$e,wi="value"in ai?ai.value:ai.textContent,pt=!0)),$t=Hf(ze,Et),0<$t.length&&(Et=new iu(Et,s,null,h,$e),Xe.push({event:Et,listeners:$t}),mt?Et.data=mt:(mt=tt(h),mt!==null&&(Et.data=mt)))),(mt=it?pn(s,h):dt(s,h))&&(Et=Hf(ze,"onBeforeInput"),0<Et.length&&($t=new iu("onBeforeInput","beforeinput",null,h,$e),Xe.push({event:$t,listeners:Et}),$t.data=mt)),iD(Xe,s,ze,h,$e)}X_(Xe,l)})}function ju(s,l,h){return{instance:s,listener:l,currentTarget:h}}function Hf(s,l){for(var h=l+"Capture",m=[];s!==null;){var y=s,C=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||C===null||(y=fn(s,h),y!=null&&m.unshift(ju(s,y,C)),y=fn(s,l),y!=null&&m.push(ju(s,y,C))),s.tag===3)return m;s=s.return}return[]}function rl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function W_(s,l,h,m,y){for(var C=l._reactName,K=[];h!==null&&h!==m;){var ue=h,Ae=ue.alternate,ze=ue.stateNode;if(ue=ue.tag,Ae!==null&&Ae===m)break;ue!==5&&ue!==26&&ue!==27||ze===null||(Ae=ze,y?(ze=fn(h,C),ze!=null&&K.unshift(ju(h,ze,Ae))):y||(ze=fn(h,C),ze!=null&&K.push(ju(h,ze,Ae)))),h=h.return}K.length!==0&&s.push({event:l,listeners:K})}var lD=/\r\n?/g,uD=/\u0000|\uFFFD/g;function Z_(s){return(typeof s=="string"?s:""+s).replace(lD,`
`).replace(uD,"")}function K_(s,l){return l=Z_(l),Z_(s)===l}function $f(){}function _n(s,l,h,m,y,C){switch(h){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Pa(s,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Pa(s,""+m);break;case"className":So(s,"class",m);break;case"tabIndex":So(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":So(s,h,m);break;case"style":Kl(s,m,C);break;case"data":if(l!=="object"){So(s,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||h!=="href")){s.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(h);break}m=sa(""+m),s.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(h==="formAction"?(l!=="input"&&_n(s,l,"name",y.name,y,null),_n(s,l,"formEncType",y.formEncType,y,null),_n(s,l,"formMethod",y.formMethod,y,null),_n(s,l,"formTarget",y.formTarget,y,null)):(_n(s,l,"encType",y.encType,y,null),_n(s,l,"method",y.method,y,null),_n(s,l,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(h);break}m=sa(""+m),s.setAttribute(h,m);break;case"onClick":m!=null&&(s.onclick=$f);break;case"onScroll":m!=null&&Xt("scroll",s);break;case"onScrollEnd":m!=null&&Xt("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}h=sa(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(h,""+m):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":m===!0?s.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(h,m):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(h,m):s.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(h):s.setAttribute(h,m);break;case"popover":Xt("beforetoggle",s),Xt("toggle",s),Mi(s,"popover",m);break;case"xlinkActuate":xi(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":xi(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":xi(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":xi(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":xi(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":xi(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":xi(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":xi(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":xi(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Mi(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=zd.get(h)||h,Mi(s,h,m))}}function gm(s,l,h,m,y,C){switch(h){case"style":Kl(s,m,C);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"children":typeof m=="string"?Pa(s,m):(typeof m=="number"||typeof m=="bigint")&&Pa(s,""+m);break;case"onScroll":m!=null&&Xt("scroll",s);break;case"onScrollEnd":m!=null&&Xt("scrollend",s);break;case"onClick":m!=null&&(s.onclick=$f);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ln.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(y=h.endsWith("Capture"),l=h.slice(2,y?h.length-7:void 0),C=s[Q]||null,C=C!=null?C[h]:null,typeof C=="function"&&s.removeEventListener(l,C,y),typeof m=="function")){typeof C!="function"&&C!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(l,m,y);break e}h in s?s[h]=m:m===!0?s.setAttribute(h,""):Mi(s,h,m)}}}function hr(s,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xt("error",s),Xt("load",s);var m=!1,y=!1,C;for(C in h)if(h.hasOwnProperty(C)){var K=h[C];if(K!=null)switch(C){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:_n(s,l,C,K,h,null)}}y&&_n(s,l,"srcSet",h.srcSet,h,null),m&&_n(s,l,"src",h.src,h,null);return;case"input":Xt("invalid",s);var ue=C=K=y=null,Ae=null,ze=null;for(m in h)if(h.hasOwnProperty(m)){var $e=h[m];if($e!=null)switch(m){case"name":y=$e;break;case"type":K=$e;break;case"checked":Ae=$e;break;case"defaultChecked":ze=$e;break;case"value":C=$e;break;case"defaultValue":ue=$e;break;case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(r(137,l));break;default:_n(s,l,m,$e,h,null)}}ja(s,C,ue,Ae,ze,K,y,!1),Co(s);return;case"select":Xt("invalid",s),m=K=C=null;for(y in h)if(h.hasOwnProperty(y)&&(ue=h[y],ue!=null))switch(y){case"value":C=ue;break;case"defaultValue":K=ue;break;case"multiple":m=ue;default:_n(s,l,y,ue,h,null)}l=C,h=K,s.multiple=!!m,l!=null?La(s,!!m,l,!1):h!=null&&La(s,!!m,h,!0);return;case"textarea":Xt("invalid",s),C=y=m=null;for(K in h)if(h.hasOwnProperty(K)&&(ue=h[K],ue!=null))switch(K){case"value":m=ue;break;case"defaultValue":y=ue;break;case"children":C=ue;break;case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(91));break;default:_n(s,l,K,ue,h,null)}ji(s,m,y,C),Co(s);return;case"option":for(Ae in h)if(h.hasOwnProperty(Ae)&&(m=h[Ae],m!=null))switch(Ae){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:_n(s,l,Ae,m,h,null)}return;case"dialog":Xt("beforetoggle",s),Xt("toggle",s),Xt("cancel",s),Xt("close",s);break;case"iframe":case"object":Xt("load",s);break;case"video":case"audio":for(m=0;m<Mu.length;m++)Xt(Mu[m],s);break;case"image":Xt("error",s),Xt("load",s);break;case"details":Xt("toggle",s);break;case"embed":case"source":case"link":Xt("error",s),Xt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ze in h)if(h.hasOwnProperty(ze)&&(m=h[ze],m!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:_n(s,l,ze,m,h,null)}return;default:if(Do(l)){for($e in h)h.hasOwnProperty($e)&&(m=h[$e],m!==void 0&&gm(s,l,$e,m,h,void 0));return}}for(ue in h)h.hasOwnProperty(ue)&&(m=h[ue],m!=null&&_n(s,l,ue,m,h,null))}function cD(s,l,h,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,C=null,K=null,ue=null,Ae=null,ze=null,$e=null;for(Ue in h){var Xe=h[Ue];if(h.hasOwnProperty(Ue)&&Xe!=null)switch(Ue){case"checked":break;case"value":break;case"defaultValue":Ae=Xe;default:m.hasOwnProperty(Ue)||_n(s,l,Ue,null,m,Xe)}}for(var Fe in m){var Ue=m[Fe];if(Xe=h[Fe],m.hasOwnProperty(Fe)&&(Ue!=null||Xe!=null))switch(Fe){case"type":C=Ue;break;case"name":y=Ue;break;case"checked":ze=Ue;break;case"defaultChecked":$e=Ue;break;case"value":K=Ue;break;case"defaultValue":ue=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(r(137,l));break;default:Ue!==Xe&&_n(s,l,Fe,Ue,m,Xe)}}Zl(s,K,ue,Ae,ze,$e,C,y);return;case"select":Ue=K=ue=Fe=null;for(C in h)if(Ae=h[C],h.hasOwnProperty(C)&&Ae!=null)switch(C){case"value":break;case"multiple":Ue=Ae;default:m.hasOwnProperty(C)||_n(s,l,C,null,m,Ae)}for(y in m)if(C=m[y],Ae=h[y],m.hasOwnProperty(y)&&(C!=null||Ae!=null))switch(y){case"value":Fe=C;break;case"defaultValue":ue=C;break;case"multiple":K=C;default:C!==Ae&&_n(s,l,y,C,m,Ae)}l=ue,h=K,m=Ue,Fe!=null?La(s,!!h,Fe,!1):!!m!=!!h&&(l!=null?La(s,!!h,l,!0):La(s,!!h,h?[]:"",!1));return;case"textarea":Ue=Fe=null;for(ue in h)if(y=h[ue],h.hasOwnProperty(ue)&&y!=null&&!m.hasOwnProperty(ue))switch(ue){case"value":break;case"children":break;default:_n(s,l,ue,null,m,y)}for(K in m)if(y=m[K],C=h[K],m.hasOwnProperty(K)&&(y!=null||C!=null))switch(K){case"value":Fe=y;break;case"defaultValue":Ue=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==C&&_n(s,l,K,y,m,C)}Ds(s,Fe,Ue);return;case"option":for(var Dt in h)if(Fe=h[Dt],h.hasOwnProperty(Dt)&&Fe!=null&&!m.hasOwnProperty(Dt))switch(Dt){case"selected":s.selected=!1;break;default:_n(s,l,Dt,null,m,Fe)}for(Ae in m)if(Fe=m[Ae],Ue=h[Ae],m.hasOwnProperty(Ae)&&Fe!==Ue&&(Fe!=null||Ue!=null))switch(Ae){case"selected":s.selected=Fe&&typeof Fe!="function"&&typeof Fe!="symbol";break;default:_n(s,l,Ae,Fe,m,Ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in h)Fe=h[St],h.hasOwnProperty(St)&&Fe!=null&&!m.hasOwnProperty(St)&&_n(s,l,St,null,m,Fe);for(ze in m)if(Fe=m[ze],Ue=h[ze],m.hasOwnProperty(ze)&&Fe!==Ue&&(Fe!=null||Ue!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,l));break;default:_n(s,l,ze,Fe,m,Ue)}return;default:if(Do(l)){for(var xn in h)Fe=h[xn],h.hasOwnProperty(xn)&&Fe!==void 0&&!m.hasOwnProperty(xn)&&gm(s,l,xn,void 0,m,Fe);for($e in m)Fe=m[$e],Ue=h[$e],!m.hasOwnProperty($e)||Fe===Ue||Fe===void 0&&Ue===void 0||gm(s,l,$e,Fe,m,Ue);return}}for(var Le in h)Fe=h[Le],h.hasOwnProperty(Le)&&Fe!=null&&!m.hasOwnProperty(Le)&&_n(s,l,Le,null,m,Fe);for(Xe in m)Fe=m[Xe],Ue=h[Xe],!m.hasOwnProperty(Xe)||Fe===Ue||Fe==null&&Ue==null||_n(s,l,Xe,Fe,m,Ue)}var vm=null,ym=null;function Vf(s){return s.nodeType===9?s:s.ownerDocument}function Q_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J_(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function bm(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var _m=null;function fD(){var s=window.event;return s&&s.type==="popstate"?s===_m?!1:(_m=s,!0):(_m=null,!1)}var e1=typeof setTimeout=="function"?setTimeout:void 0,hD=typeof clearTimeout=="function"?clearTimeout:void 0,t1=typeof Promise=="function"?Promise:void 0,dD=typeof queueMicrotask=="function"?queueMicrotask:typeof t1<"u"?function(s){return t1.resolve(null).then(s).catch(pD)}:e1;function pD(s){setTimeout(function(){throw s})}function ts(s){return s==="head"}function n1(s,l){var h=l,m=0,y=0;do{var C=h.nextSibling;if(s.removeChild(h),C&&C.nodeType===8)if(h=C.data,h==="/$"){if(0<m&&8>m){h=m;var K=s.ownerDocument;if(h&1&&Lu(K.documentElement),h&2&&Lu(K.body),h&4)for(h=K.head,Lu(h),K=h.firstChild;K;){var ue=K.nextSibling,Ae=K.nodeName;K[zt]||Ae==="SCRIPT"||Ae==="STYLE"||Ae==="LINK"&&K.rel.toLowerCase()==="stylesheet"||h.removeChild(K),K=ue}}if(y===0){s.removeChild(C),Hu(l);return}y--}else h==="$"||h==="$?"||h==="$!"?y++:m=h.charCodeAt(0)-48;else m=0;h=C}while(h);Hu(l)}function xm(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":xm(h),At(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function mD(s,l,h,m){for(;s.nodeType===1;){var y=h;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[zt])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(C=s.getAttribute("rel"),C==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(C!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(C=s.getAttribute("src"),(C!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&C&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var C=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===C)return s}else return s;if(s=Ai(s.nextSibling),s===null)break}return null}function gD(s,l,h){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=Ai(s.nextSibling),s===null))return null;return s}function wm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function vD(s,l){var h=s.ownerDocument;if(s.data!=="$?"||h.readyState==="complete")l();else{var m=function(){l(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function Ai(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var Sm=null;function r1(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return s;l--}else h==="/$"&&l++}s=s.previousSibling}return null}function i1(s,l,h){switch(l=Vf(h),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Lu(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);At(s)}var hi=new Map,a1=new Set;function Yf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var wa=j.d;j.d={f:yD,r:bD,D:_D,C:xD,L:wD,m:SD,X:CD,S:ED,M:AD};function yD(){var s=wa.f(),l=If();return s||l}function bD(s){var l=yn(s);l!==null&&l.tag===5&&l.type==="form"?Cb(l):wa.r(s)}var il=typeof document>"u"?null:document;function s1(s,l,h){var m=il;if(m&&typeof l=="string"&&l){var y=Or(l);y='link[rel="'+s+'"][href="'+y+'"]',typeof h=="string"&&(y+='[crossorigin="'+h+'"]'),a1.has(y)||(a1.add(y),s={rel:s,crossOrigin:h,href:l},m.querySelector(y)===null&&(l=m.createElement("link"),hr(l,"link",s),Vt(l),m.head.appendChild(l)))}}function _D(s){wa.D(s),s1("dns-prefetch",s,null)}function xD(s,l){wa.C(s,l),s1("preconnect",s,l)}function wD(s,l,h){wa.L(s,l,h);var m=il;if(m&&s&&l){var y='link[rel="preload"][as="'+Or(l)+'"]';l==="image"&&h&&h.imageSrcSet?(y+='[imagesrcset="'+Or(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(y+='[imagesizes="'+Or(h.imageSizes)+'"]')):y+='[href="'+Or(s)+'"]';var C=y;switch(l){case"style":C=al(s);break;case"script":C=sl(s)}hi.has(C)||(s=d({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:s,as:l},h),hi.set(C,s),m.querySelector(y)!==null||l==="style"&&m.querySelector(Pu(C))||l==="script"&&m.querySelector(Iu(C))||(l=m.createElement("link"),hr(l,"link",s),Vt(l),m.head.appendChild(l)))}}function SD(s,l){wa.m(s,l);var h=il;if(h&&s){var m=l&&typeof l.as=="string"?l.as:"script",y='link[rel="modulepreload"][as="'+Or(m)+'"][href="'+Or(s)+'"]',C=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=sl(s)}if(!hi.has(C)&&(s=d({rel:"modulepreload",href:s},l),hi.set(C,s),h.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Iu(C)))return}m=h.createElement("link"),hr(m,"link",s),Vt(m),h.head.appendChild(m)}}}function ED(s,l,h){wa.S(s,l,h);var m=il;if(m&&s){var y=jn(m).hoistableStyles,C=al(s);l=l||"default";var K=y.get(C);if(!K){var ue={loading:0,preload:null};if(K=m.querySelector(Pu(C)))ue.loading=5;else{s=d({rel:"stylesheet",href:s,"data-precedence":l},h),(h=hi.get(C))&&Em(s,h);var Ae=K=m.createElement("link");Vt(Ae),hr(Ae,"link",s),Ae._p=new Promise(function(ze,$e){Ae.onload=ze,Ae.onerror=$e}),Ae.addEventListener("load",function(){ue.loading|=1}),Ae.addEventListener("error",function(){ue.loading|=2}),ue.loading|=4,Xf(K,l,m)}K={type:"stylesheet",instance:K,count:1,state:ue},y.set(C,K)}}}function CD(s,l){wa.X(s,l);var h=il;if(h&&s){var m=jn(h).hoistableScripts,y=sl(s),C=m.get(y);C||(C=h.querySelector(Iu(y)),C||(s=d({src:s,async:!0},l),(l=hi.get(y))&&Cm(s,l),C=h.createElement("script"),Vt(C),hr(C,"link",s),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},m.set(y,C))}}function AD(s,l){wa.M(s,l);var h=il;if(h&&s){var m=jn(h).hoistableScripts,y=sl(s),C=m.get(y);C||(C=h.querySelector(Iu(y)),C||(s=d({src:s,async:!0,type:"module"},l),(l=hi.get(y))&&Cm(s,l),C=h.createElement("script"),Vt(C),hr(C,"link",s),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},m.set(y,C))}}function o1(s,l,h,m){var y=(y=W.current)?Yf(y):null;if(!y)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=al(h.href),h=jn(y).hoistableStyles,m=h.get(l),m||(m={type:"style",instance:null,count:0,state:null},h.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=al(h.href);var C=jn(y).hoistableStyles,K=C.get(s);if(K||(y=y.ownerDocument||y,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(s,K),(C=y.querySelector(Pu(s)))&&!C._p&&(K.instance=C,K.state.loading=5),hi.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},hi.set(s,h),C||TD(y,s,h,K.state))),l&&m===null)throw Error(r(528,""));return K}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=sl(h),h=jn(y).hoistableScripts,m=h.get(l),m||(m={type:"script",instance:null,count:0,state:null},h.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function al(s){return'href="'+Or(s)+'"'}function Pu(s){return'link[rel="stylesheet"]['+s+"]"}function l1(s){return d({},s,{"data-precedence":s.precedence,precedence:null})}function TD(s,l,h,m){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=s.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),hr(l,"link",h),Vt(l),s.head.appendChild(l))}function sl(s){return'[src="'+Or(s)+'"]'}function Iu(s){return"script[async]"+s}function u1(s,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var m=s.querySelector('style[data-href~="'+Or(h.href)+'"]');if(m)return l.instance=m,Vt(m),m;var y=d({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),Vt(m),hr(m,"style",y),Xf(m,h.precedence,s),l.instance=m;case"stylesheet":y=al(h.href);var C=s.querySelector(Pu(y));if(C)return l.state.loading|=4,l.instance=C,Vt(C),C;m=l1(h),(y=hi.get(y))&&Em(m,y),C=(s.ownerDocument||s).createElement("link"),Vt(C);var K=C;return K._p=new Promise(function(ue,Ae){K.onload=ue,K.onerror=Ae}),hr(C,"link",m),l.state.loading|=4,Xf(C,h.precedence,s),l.instance=C;case"script":return C=sl(h.src),(y=s.querySelector(Iu(C)))?(l.instance=y,Vt(y),y):(m=h,(y=hi.get(C))&&(m=d({},h),Cm(m,y)),s=s.ownerDocument||s,y=s.createElement("script"),Vt(y),hr(y,"link",m),s.head.appendChild(y),l.instance=y);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Xf(m,h.precedence,s));return l.instance}function Xf(s,l,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,C=y,K=0;K<m.length;K++){var ue=m[K];if(ue.dataset.precedence===l)C=ue;else if(C!==y)break}C?C.parentNode.insertBefore(s,C.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(s,l.firstChild))}function Em(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function Cm(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Gf=null;function c1(s,l,h){if(Gf===null){var m=new Map,y=Gf=new Map;y.set(h,m)}else y=Gf,m=y.get(h),m||(m=new Map,y.set(h,m));if(m.has(s))return m;for(m.set(s,null),h=h.getElementsByTagName(s),y=0;y<h.length;y++){var C=h[y];if(!(C[zt]||C[q]||s==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var K=C.getAttribute(l)||"";K=s+K;var ue=m.get(K);ue?ue.push(C):m.set(K,[C])}}return m}function f1(s,l,h){s=s.ownerDocument||s,s.head.insertBefore(h,l==="title"?s.querySelector("head > title"):null)}function DD(s,l,h){if(h===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function h1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Bu=null;function OD(){}function kD(s,l,h){if(Bu===null)throw Error(r(475));var m=Bu;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=al(h.href),C=s.querySelector(Pu(y));if(C){s=C._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(m.count++,m=Wf.bind(m),s.then(m,m)),l.state.loading|=4,l.instance=C,Vt(C);return}C=s.ownerDocument||s,h=l1(h),(y=hi.get(y))&&Em(h,y),C=C.createElement("link"),Vt(C);var K=C;K._p=new Promise(function(ue,Ae){K.onload=ue,K.onerror=Ae}),hr(C,"link",h),l.instance=C}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=Wf.bind(m),s.addEventListener("load",l),s.addEventListener("error",l))}}function ND(){if(Bu===null)throw Error(r(475));var s=Bu;return s.stylesheets&&s.count===0&&Am(s,s.stylesheets),0<s.count?function(l){var h=setTimeout(function(){if(s.stylesheets&&Am(s,s.stylesheets),s.unsuspend){var m=s.unsuspend;s.unsuspend=null,m()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(h)}}:null}function Wf(){if(this.count--,this.count===0){if(this.stylesheets)Am(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Zf=null;function Am(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Zf=new Map,l.forEach(RD,s),Zf=null,Wf.call(s))}function RD(s,l){if(!(l.state.loading&4)){var h=Zf.get(s);if(h)var m=h.get(null);else{h=new Map,Zf.set(s,h);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<y.length;C++){var K=y[C];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(h.set(K.dataset.precedence,K),m=K)}m&&h.set(null,m)}y=l.instance,K=y.getAttribute("data-precedence"),C=h.get(K)||m,C===m&&h.set(null,y),h.set(K,y),this.count++,m=Wf.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),C?C.parentNode.insertBefore(y,C.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),l.state.loading|=4}}var zu={$$typeof:P,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function MD(s,l,h,m,y,C,K,ue){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cn(0),this.hiddenUpdates=Cn(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=C,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function d1(s,l,h,m,y,C,K,ue,Ae,ze,$e,Xe){return s=new MD(s,l,h,K,ue,Ae,ze,Xe),l=1,C===!0&&(l|=24),C=Xr(3,null,null,l),s.current=C,C.stateNode=s,l=op(),l.refCount++,s.pooledCache=l,l.refCount++,C.memoizedState={element:m,isDehydrated:h,cache:l},fp(C),s}function p1(s){return s?(s=Io,s):Io}function m1(s,l,h,m,y,C){y=p1(y),m.context===null?m.context=y:m.pendingContext=y,m=qa(l),m.payload={element:h},C=C===void 0?null:C,C!==null&&(m.callback=C),h=Ha(s,m,l),h!==null&&(Qr(h,s,l),mu(h,s,l))}function g1(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function Tm(s,l){g1(s,l),(s=s.alternate)&&g1(s,l)}function v1(s){if(s.tag===13){var l=Po(s,67108864);l!==null&&Qr(l,s,67108864),Tm(s,67108864)}}var Kf=!0;function jD(s,l,h,m){var y=D.T;D.T=null;var C=j.p;try{j.p=2,Dm(s,l,h,m)}finally{j.p=C,D.T=y}}function LD(s,l,h,m){var y=D.T;D.T=null;var C=j.p;try{j.p=8,Dm(s,l,h,m)}finally{j.p=C,D.T=y}}function Dm(s,l,h,m){if(Kf){var y=Om(m);if(y===null)mm(s,l,m,Qf,h),b1(s,m);else if(ID(y,s,l,h,m))m.stopPropagation();else if(b1(s,m),l&4&&-1<PD.indexOf(s)){for(;y!==null;){var C=yn(y);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var K=xt(C.pendingLanes);if(K!==0){var ue=C;for(ue.pendingLanes|=2,ue.entangledLanes|=2;K;){var Ae=1<<31-Pe(K);ue.entanglements[1]|=Ae,K&=~Ae}qi(C),(mn&6)===0&&(Lf=Se()+500,Ru(0))}}break;case 13:ue=Po(C,2),ue!==null&&Qr(ue,C,2),If(),Tm(C,2)}if(C=Om(m),C===null&&mm(s,l,m,Qf,h),C===y)break;y=C}y!==null&&m.stopPropagation()}else mm(s,l,m,null,h)}}function Om(s){return s=$r(s),km(s)}var Qf=null;function km(s){if(Qf=null,s=nn(s),s!==null){var l=a(s);if(l===null)s=null;else{var h=l.tag;if(h===13){if(s=o(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Qf=s,null}function y1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(we()){case H:return 2;case X:return 8;case ee:case te:return 32;case ge:return 268435456;default:return 32}default:return 32}}var Nm=!1,ns=null,rs=null,is=null,Fu=new Map,Uu=new Map,as=[],PD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b1(s,l){switch(s){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Fu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uu.delete(l.pointerId)}}function qu(s,l,h,m,y,C){return s===null||s.nativeEvent!==C?(s={blockedOn:l,domEventName:h,eventSystemFlags:m,nativeEvent:C,targetContainers:[y]},l!==null&&(l=yn(l),l!==null&&v1(l)),s):(s.eventSystemFlags|=m,l=s.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),s)}function ID(s,l,h,m,y){switch(l){case"focusin":return ns=qu(ns,s,l,h,m,y),!0;case"dragenter":return rs=qu(rs,s,l,h,m,y),!0;case"mouseover":return is=qu(is,s,l,h,m,y),!0;case"pointerover":var C=y.pointerId;return Fu.set(C,qu(Fu.get(C)||null,s,l,h,m,y)),!0;case"gotpointercapture":return C=y.pointerId,Uu.set(C,qu(Uu.get(C)||null,s,l,h,m,y)),!0}return!1}function _1(s){var l=nn(s.target);if(l!==null){var h=a(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){s.blockedOn=l,Vn(s.priority,function(){if(h.tag===13){var m=Kr();m=st(m);var y=Po(h,m);y!==null&&Qr(y,h,m),Tm(h,m)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Jf(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=Om(s.nativeEvent);if(h===null){h=s.nativeEvent;var m=new h.constructor(h.type,h);Ia=m,h.target.dispatchEvent(m),Ia=null}else return l=yn(h),l!==null&&v1(l),s.blockedOn=h,!1;l.shift()}return!0}function x1(s,l,h){Jf(s)&&h.delete(l)}function BD(){Nm=!1,ns!==null&&Jf(ns)&&(ns=null),rs!==null&&Jf(rs)&&(rs=null),is!==null&&Jf(is)&&(is=null),Fu.forEach(x1),Uu.forEach(x1)}function eh(s,l){s.blockedOn===l&&(s.blockedOn=null,Nm||(Nm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,BD)))}var th=null;function w1(s){th!==s&&(th=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){th===s&&(th=null);for(var l=0;l<s.length;l+=3){var h=s[l],m=s[l+1],y=s[l+2];if(typeof m!="function"){if(km(m||h)===null)continue;break}var C=yn(h);C!==null&&(s.splice(l,3),l-=3,kp(C,{pending:!0,data:y,method:h.method,action:m},m,y))}}))}function Hu(s){function l(Ae){return eh(Ae,s)}ns!==null&&eh(ns,s),rs!==null&&eh(rs,s),is!==null&&eh(is,s),Fu.forEach(l),Uu.forEach(l);for(var h=0;h<as.length;h++){var m=as[h];m.blockedOn===s&&(m.blockedOn=null)}for(;0<as.length&&(h=as[0],h.blockedOn===null);)_1(h),h.blockedOn===null&&as.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var y=h[m],C=h[m+1],K=y[Q]||null;if(typeof C=="function")K||w1(h);else if(K){var ue=null;if(C&&C.hasAttribute("formAction")){if(y=C,K=C[Q]||null)ue=K.formAction;else if(km(y)!==null)continue}else ue=K.action;typeof ue=="function"?h[m+1]=ue:(h.splice(m,3),m-=3),w1(h)}}}function Rm(s){this._internalRoot=s}nh.prototype.render=Rm.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,m=Kr();m1(h,m,s,l,null,null)},nh.prototype.unmount=Rm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;m1(s.current,2,null,s,null,null),If(),l[ye]=null}};function nh(s){this._internalRoot=s}nh.prototype.unstable_scheduleHydration=function(s){if(s){var l=cn();s={blockedOn:null,target:s,priority:l};for(var h=0;h<as.length&&l!==0&&l<as[h].priority;h++);as.splice(h,0,s),h===0&&_1(s)}};var S1=e.version;if(S1!=="19.1.0")throw Error(r(527,S1,"19.1.0"));j.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=c(l),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var zD={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{me=rh.inject(zD),Ee=rh}catch{}}return Vu.createRoot=function(s,l){if(!i(s))throw Error(r(299));var h=!1,m="",y=zb,C=Fb,K=Ub,ue=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(K=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(ue=l.unstable_transitionCallbacks)),l=d1(s,1,!1,null,null,h,m,y,C,K,ue,null),s[ye]=l.current,pm(s),new Rm(l)},Vu.hydrateRoot=function(s,l,h){if(!i(s))throw Error(r(299));var m=!1,y="",C=zb,K=Fb,ue=Ub,Ae=null,ze=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(y=h.identifierPrefix),h.onUncaughtError!==void 0&&(C=h.onUncaughtError),h.onCaughtError!==void 0&&(K=h.onCaughtError),h.onRecoverableError!==void 0&&(ue=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(Ae=h.unstable_transitionCallbacks),h.formState!==void 0&&(ze=h.formState)),l=d1(s,1,!0,l,h??null,m,y,C,K,ue,Ae,ze),l.context=p1(null),h=l.current,m=Kr(),m=st(m),y=qa(m),y.callback=null,Ha(h,y,m),h=m,l.current.lanes=h,Bt(l,h),qi(l),s[ye]=l.current,pm(s),new nh(l)},Vu.version="19.1.0",Vu}var j1;function QD(){if(j1)return Lm.exports;j1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lm.exports=KD(),Lm.exports}var JD=QD();const eO=ws(JD),tO="modulepreload",nO=function(t){return"/documents/"+t},L1={},Rl=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(f){return Promise.all(f.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=o(n.map(f=>{if(f=nO(f),f in L1)return;L1[f]=!0;const d=f.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":tO,d||(g.as="script"),g.crossOrigin="",g.href=f,c&&g.setAttribute("nonce",c),document.head.appendChild(g),d)return new Promise((v,_)=>{g.addEventListener("load",v),g.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return i.then(o=>{for(const u of o||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},rO=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Rl(async()=>{const{default:r}=await Promise.resolve().then(()=>zl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class fv extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class iO extends fv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class aO extends fv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class sO extends fv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var S0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(S0||(S0={}));var oO=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(d){try{f(r.next(d))}catch(p){o(p)}}function c(d){try{f(r.throw(d))}catch(p){o(p)}}function f(d){d.done?a(d.value):i(d.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};class lO{constructor(e,{headers:n={},customFetch:r,region:i=S0.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=rO(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return oO(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=n;let u={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(u["x-region"]=c);let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(u["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(u["Content-Type"]="application/json",f=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:f}).catch(_=>{throw new iO(_)}),p=d.headers.get("x-relay-error");if(p&&p==="true")throw new aO(d);if(!d.ok)throw new sO(d);let g=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield d.json():g==="application/octet-stream"?v=yield d.blob():g==="text/event-stream"?v=d:g==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(i){return{data:null,error:i}}})}}var ar={},ol={},ll={},ul={},cl={},fl={},uO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ml=uO();const cO=Ml.fetch,aE=Ml.fetch.bind(Ml),sE=Ml.Headers,fO=Ml.Request,hO=Ml.Response,zl=Object.freeze(Object.defineProperty({__proto__:null,Headers:sE,Request:fO,Response:hO,default:aE,fetch:cO},Symbol.toStringTag,{value:"Module"})),dO=$D(zl);var ah={},P1;function oE(){if(P1)return ah;P1=1,Object.defineProperty(ah,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ah.default=t,ah}var I1;function lE(){if(I1)return fl;I1=1;var t=fl&&fl.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(fl,"__esModule",{value:!0});const e=t(dO),n=t(oE());class r{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=Object.assign({},this.headers),this.headers[a]=o,this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let c=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var d,p,g;let v=null,_=null,w=null,A=f.status,S=f.statusText;if(f.ok){if(this.method!=="HEAD"){const R=await f.text();R===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=R:_=JSON.parse(R))}const P=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),F=(p=f.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");P&&F&&F.length>1&&(w=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(v={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,w=null,A=406,S="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const P=await f.text();try{v=JSON.parse(P),Array.isArray(v)&&f.status===404&&(_=[],v=null,A=200,S="OK")}catch{f.status===404&&P===""?(A=204,S="No Content"):v={message:P}}if(v&&this.isMaybeSingle&&(!((g=v==null?void 0:v.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,A=200,S="OK"),v&&this.shouldThrowOnError)throw new n.default(v)}return{error:v,data:_,count:w,status:A,statusText:S}});return this.shouldThrowOnError||(c=c.catch(f=>{var d,p,g;return{error:{message:`${(d=f==null?void 0:f.name)!==null&&d!==void 0?d:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(p=f==null?void 0:f.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(g=f==null?void 0:f.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),c.then(a,o)}returns(){return this}overrideTypes(){return this}}return fl.default=r,fl}var B1;function uE(){if(B1)return cl;B1=1;var t=cl&&cl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(cl,"__esModule",{value:!0});const e=t(lE());class n extends e.default{select(i){let a=!1;const o=(i??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:u,referencedTable:c=u}={}){const f=c?`${c}.order`:"order",d=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${d?`${d},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:u=o}={}){const c=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:u=!1,wal:c=!1,format:f="text"}={}){var d;const p=[i?"analyze":null,a?"verbose":null,o?"settings":null,u?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(d=this.headers.Accept)!==null&&d!==void 0?d:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${g}"; options=${p};`,f==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return cl.default=n,cl}var z1;function hv(){if(z1)return ul;z1=1;var t=ul&&ul.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ul,"__esModule",{value:!0});const e=t(uE());class n extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const o=Array.from(new Set(a)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:o,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const f=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${c}fts${f}.${a}`),this}match(i){return Object.entries(i).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(i,a,o){return this.url.searchParams.append(i,`not.${a}.${o}`),this}or(i,{foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,a,o){return this.url.searchParams.append(i,`${a}.${o}`),this}}return ul.default=n,ul}var F1;function cE(){if(F1)return ll;F1=1;var t=ll&&ll.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ll,"__esModule",{value:!0});const e=t(hv());class n{constructor(i,{headers:a={},schema:o,fetch:u}){this.url=i,this.headers=a,this.schema=o,this.fetch=u}select(i,{head:a=!1,count:o}={}){const u=a?"HEAD":"GET";let c=!1;const f=(i??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",f),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:a,defaultToNull:o=!0}={}){const u="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const f=i.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(f.length>0){const d=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:u,defaultToNull:c=!0}={}){const f="POST",d=[`resolution=${o?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&d.push(this.headers.Prefer),u&&d.push(`count=${u}`),c||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(i)){const p=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(p.length>0){const g=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:a}={}){const o="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),this.headers.Prefer=u.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const a="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return ll.default=n,ll}var Yu={},Xu={},U1;function pO(){return U1||(U1=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.version=void 0,Xu.version="0.0.0-automated"),Xu}var q1;function mO(){if(q1)return Yu;q1=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.DEFAULT_HEADERS=void 0;const t=pO();return Yu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Yu}var H1;function gO(){if(H1)return ol;H1=1;var t=ol&&ol.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ol,"__esModule",{value:!0});const e=t(cE()),n=t(hv()),r=mO();class i{constructor(o,{headers:u={},schema:c,fetch:f}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),u),this.schemaName=c,this.fetch=f}from(o){const u=new URL(`${this.url}/${o}`);return new e.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,u={},{head:c=!1,get:f=!1,count:d}={}){let p;const g=new URL(`${this.url}/rpc/${o}`);let v;c||f?(p=c?"HEAD":"GET",Object.entries(u).filter(([w,A])=>A!==void 0).map(([w,A])=>[w,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([w,A])=>{g.searchParams.append(w,A)})):(p="POST",v=u);const _=Object.assign({},this.headers);return d&&(_.Prefer=`count=${d}`),new n.default({method:p,url:g,headers:_,schema:this.schemaName,body:v,fetch:this.fetch,allowEmpty:!1})}}return ol.default=i,ol}var $1;function vO(){if($1)return ar;$1=1;var t=ar&&ar.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(ar,"__esModule",{value:!0}),ar.PostgrestError=ar.PostgrestBuilder=ar.PostgrestTransformBuilder=ar.PostgrestFilterBuilder=ar.PostgrestQueryBuilder=ar.PostgrestClient=void 0;const e=t(gO());ar.PostgrestClient=e.default;const n=t(cE());ar.PostgrestQueryBuilder=n.default;const r=t(hv());ar.PostgrestFilterBuilder=r.default;const i=t(uE());ar.PostgrestTransformBuilder=i.default;const a=t(lE());ar.PostgrestBuilder=a.default;const o=t(oE());return ar.PostgrestError=o.default,ar.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},ar}var yO=vO();const bO=ws(yO),{PostgrestClient:_O,PostgrestQueryBuilder:P9,PostgrestFilterBuilder:I9,PostgrestTransformBuilder:B9,PostgrestBuilder:z9,PostgrestError:F9}=bO,xO="2.11.2",wO={"X-Client-Info":`realtime-js/${xO}`},SO="1.0.0",fE=1e4,EO=1e3;var El;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(El||(El={}));var ei;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ei||(ei={}));var Di;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Di||(Di={}));var E0;(function(t){t.websocket="websocket"})(E0||(E0={}));var so;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(so||(so={}));class CO{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const u=r.decode(e.slice(o,o+i));o=o+i;const c=r.decode(e.slice(o,o+a));o=o+a;const f=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:u,event:c,payload:f}}}class hE{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Tn||(Tn={}));const V1=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,o)=>(a[o]=AO(o,t,e,i),a),{})},AO=(t,e,n,r)=>{const i=e.find(u=>u.name===t),a=i==null?void 0:i.type,o=n[t];return a&&!r.includes(a)?dE(a,o):C0(o)},dE=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return kO(e,n)}switch(t){case Tn.bool:return TO(e);case Tn.float4:case Tn.float8:case Tn.int2:case Tn.int4:case Tn.int8:case Tn.numeric:case Tn.oid:return DO(e);case Tn.json:case Tn.jsonb:return OO(e);case Tn.timestamp:return NO(e);case Tn.abstime:case Tn.date:case Tn.daterange:case Tn.int4range:case Tn.int8range:case Tn.money:case Tn.reltime:case Tn.text:case Tn.time:case Tn.timestamptz:case Tn.timetz:case Tn.tsrange:case Tn.tstzrange:return C0(e);default:return C0(e)}},C0=t=>t,TO=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},DO=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},OO=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},kO=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(u=>dE(e,u))}return t},NO=t=>typeof t=="string"?t.replace(" ","T"):t,pE=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class zm{constructor(e,n,r={},i=fE){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Y1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Y1||(Y1={}));class gc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gc.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=gc.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=gc.syncDiff(this.state,i,a,o),u())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),o=this.transformState(n),u={},c={};return this.map(a,(f,d)=>{o[f]||(c[f]=d)}),this.map(o,(f,d)=>{const p=a[f];if(p){const g=d.map(A=>A.presence_ref),v=p.map(A=>A.presence_ref),_=d.filter(A=>v.indexOf(A.presence_ref)<0),w=p.filter(A=>g.indexOf(A.presence_ref)<0);_.length>0&&(u[f]=_),w.length>0&&(c[f]=w)}else u[f]=d}),this.syncDiff(a,{joins:u,leaves:c},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(u,c)=>{var f;const d=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(c),d.length>0){const p=e[u].map(v=>v.presence_ref),g=d.filter(v=>p.indexOf(v.presence_ref)<0);e[u].unshift(...g)}r(u,d,c)}),this.map(o,(u,c)=>{let f=e[u];if(!f)return;const d=c.map(p=>p.presence_ref);f=f.filter(p=>d.indexOf(p.presence_ref)<0),e[u]=f,i(u,f,c),f.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var X1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(X1||(X1={}));var G1;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(G1||(G1={}));var Aa;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Aa||(Aa={}));class dv{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ei.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new zm(this,Di.join,this.params,this.timeout),this.rejoinTimer=new hE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ei.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ei.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ei.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ei.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Di.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new gc(this),this.broadcastEndpointURL=pE(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:o,private:u}}=this.params;this._onError(d=>e==null?void 0:e(Aa.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Aa.CLOSED));const c={},f={broadcast:a,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:u};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var p;if(this.socket.setAuth(),d===void 0){e==null||e(Aa.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,_=[];for(let w=0;w<v;w++){const A=g[w],{filter:{event:S,schema:L,table:P,filter:F}}=A,R=d&&d[w];if(R&&R.event===S&&R.schema===L&&R.table===P&&R.filter===F)_.push(Object.assign(Object.assign({},A),{id:R.id}));else{this.unsubscribe(),e==null||e(Aa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Aa.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(Aa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Aa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,u,c;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ei.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Di.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new zm(this,Di.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new zm(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const o=e.toLocaleLowerCase(),{close:u,error:c,leave:f,join:d}=Di;if(r&&[u,c,f,d].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var _,w,A;return((_=v.filter)===null||_===void 0?void 0:_.event)==="*"||((A=(w=v.filter)===null||w===void 0?void 0:w.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(v=>v.callback(g,r)):(a=this.bindings[o])===null||a===void 0||a.filter(v=>{var _,w,A,S,L,P;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const F=v.id,R=(_=v.filter)===null||_===void 0?void 0:_.event;return F&&((w=n.ids)===null||w===void 0?void 0:w.includes(F))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((A=n.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const F=(L=(S=v==null?void 0:v.filter)===null||S===void 0?void 0:S.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return F==="*"||F===((P=n==null?void 0:n.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const _=g.data,{schema:w,table:A,commit_timestamp:S,type:L,errors:P}=_;g=Object.assign(Object.assign({},{schema:w,table:A,commit_timestamp:S,eventType:L,new:{},old:{},errors:P}),this._getPayloadRecords(_))}v.callback(g,r)})}_isClosed(){return this.state===ei.closed}_isJoined(){return this.state===ei.joined}_isJoining(){return this.state===ei.joining}_isLeaving(){return this.state===ei.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&dv.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Di.close,{},e)}_onError(e){this._on(Di.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ei.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=V1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=V1(e.columns,e.old_record)),n}}const RO=()=>{},MO=typeof WebSocket<"u",jO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class LO{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=wO,this.params={},this.timeout=fE,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=RO,this.conn=null,this.sendBuffer=[],this.serializer=new CO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...u)=>Rl(async()=>{const{default:c}=await Promise.resolve().then(()=>zl);return{default:c}},void 0).then(({default:c})=>c(...u)):o=fetch,(...u)=>o(...u)},this.endPoint=`${e}/${E0.websocket}`,this.httpEndpoint=pE(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,o)=>o(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new hE(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(MO){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new PO(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Rl(async()=>{const{default:e}=await import("./browser-B84-yI_y.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:SO}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case El.connecting:return so.Connecting;case El.open:return so.Open;case El.closing:return so.Closing;default:return so.Closed}}isConnected(){return this.connectionState()===so.Open}channel(e,n={config:{}}){const r=new dv(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:i,ref:a}=e,o=()=>{this.encode(e,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(Di.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(EO,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:a,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,a,o)),this.stateChangeCallbacks.message.forEach(u=>u(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Di.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([jO],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class PO{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=El.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class pv extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function or(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class IO extends pv{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class A0 extends pv{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var BO=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(d){try{f(r.next(d))}catch(p){o(p)}}function c(d){try{f(r.throw(d))}catch(p){o(p)}}function f(d){d.done?a(d.value):i(d.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};const mE=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Rl(async()=>{const{default:r}=await Promise.resolve().then(()=>zl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},zO=()=>BO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Rl(()=>Promise.resolve().then(()=>zl),void 0)).Response:Response}),T0=t=>{if(Array.isArray(t))return t.map(n=>T0(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=T0(r)}),e};var bo=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(d){try{f(r.next(d))}catch(p){o(p)}}function c(d){try{f(r.throw(d))}catch(p){o(p)}}function f(d){d.done?a(d.value):i(d.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};const Fm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),FO=(t,e,n)=>bo(void 0,void 0,void 0,function*(){const r=yield zO();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new IO(Fm(i),t.status||500))}).catch(i=>{e(new A0(Fm(i),i))}):e(new A0(Fm(t),t))}),UO=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function Fc(t,e,n,r,i,a){return bo(this,void 0,void 0,function*(){return new Promise((o,u)=>{t(n,UO(e,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>FO(c,u,r))})})}function Wh(t,e,n,r){return bo(this,void 0,void 0,function*(){return Fc(t,"GET",e,n,r)})}function ds(t,e,n,r,i){return bo(this,void 0,void 0,function*(){return Fc(t,"POST",e,r,i,n)})}function qO(t,e,n,r,i){return bo(this,void 0,void 0,function*(){return Fc(t,"PUT",e,r,i,n)})}function HO(t,e,n,r){return bo(this,void 0,void 0,function*(){return Fc(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function gE(t,e,n,r,i){return bo(this,void 0,void 0,function*(){return Fc(t,"DELETE",e,r,i,n)})}var Lr=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(d){try{f(r.next(d))}catch(p){o(p)}}function c(d){try{f(r.throw(d))}catch(p){o(p)}}function f(d){d.done?a(d.value):i(d.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};const $O={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},W1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class VO{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=mE(i)}uploadOrUpdate(e,n,r,i){return Lr(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},W1),i);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,c&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const f=this._removeEmptyFolders(n),d=this._getFinalPath(f),p=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:a,headers:u},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield p.json();return p.ok?{data:{path:f,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(a){if(or(a))return{data:null,error:a};throw a}})}upload(e,n,r){return Lr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Lr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${o}`);u.searchParams.set("token",n);try{let c;const f=Object.assign({upsert:W1.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",f.cacheControl)):(c=r,d["cache-control"]=`max-age=${f.cacheControl}`,d["content-type"]=f.contentType);const p=yield this.fetch(u.toString(),{method:"PUT",body:c,headers:d}),g=yield p.json();return p.ok?{data:{path:a,fullPath:g.Key},error:null}:{data:null,error:g}}catch(c){if(or(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Lr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield ds(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),u=o.searchParams.get("token");if(!u)throw new pv("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:u},error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}})}update(e,n,r){return Lr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Lr(this,void 0,void 0,function*(){try{return{data:yield ds(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(or(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Lr(this,void 0,void 0,function*(){try{return{data:{path:(yield ds(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(or(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Lr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield ds(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(or(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Lr(this,void 0,void 0,function*(){try{const i=yield ds(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(or(i))return{data:null,error:i};throw i}})}download(e,n){return Lr(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield Wh(this.fetch,`${this.url}/${i}/${u}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(or(u))return{data:null,error:u};throw u}})}info(e){return Lr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Wh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:T0(r),error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}})}exists(e){return Lr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield HO(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(or(r)&&r instanceof A0){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(e){return Lr(this,void 0,void 0,function*(){try{return{data:yield gE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}})}list(e,n,r){return Lr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},$O),n),{prefix:e||""});return{data:yield ds(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(or(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const YO="2.7.1",XO={"X-Client-Info":`storage-js/${YO}`};var hl=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(d){try{f(r.next(d))}catch(p){o(p)}}function c(d){try{f(r.throw(d))}catch(p){o(p)}}function f(d){d.done?a(d.value):i(d.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};class GO{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},XO),n),this.fetch=mE(r)}listBuckets(){return hl(this,void 0,void 0,function*(){try{return{data:yield Wh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(or(e))return{data:null,error:e};throw e}})}getBucket(e){return hl(this,void 0,void 0,function*(){try{return{data:yield Wh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return hl(this,void 0,void 0,function*(){try{return{data:yield ds(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return hl(this,void 0,void 0,function*(){try{return{data:yield qO(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}})}emptyBucket(e){return hl(this,void 0,void 0,function*(){try{return{data:yield ds(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}})}deleteBucket(e){return hl(this,void 0,void 0,function*(){try{return{data:yield gE(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}})}}class WO extends GO{constructor(e,n={},r){super(e,n,r)}from(e){return new VO(this.url,this.headers,e,this.fetch)}}const ZO="2.49.4";let sc="";typeof Deno<"u"?sc="deno":typeof document<"u"?sc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sc="react-native":sc="node";const KO={"X-Client-Info":`supabase-js-${sc}/${ZO}`},QO={headers:KO},JO={schema:"public"},ek={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tk={};var nk=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(d){try{f(r.next(d))}catch(p){o(p)}}function c(d){try{f(r.throw(d))}catch(p){o(p)}}function f(d){d.done?a(d.value):i(d.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};const rk=t=>{let e;return t?e=t:typeof fetch>"u"?e=aE:e=fetch,(...n)=>e(...n)},ik=()=>typeof Headers>"u"?sE:Headers,ak=(t,e,n)=>{const r=rk(n),i=ik();return(a,o)=>nk(void 0,void 0,void 0,function*(){var u;const c=(u=yield e())!==null&&u!==void 0?u:t;let f=new i(o==null?void 0:o.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:f}))})};var sk=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(d){try{f(r.next(d))}catch(p){o(p)}}function c(d){try{f(r.throw(d))}catch(p){o(p)}}function f(d){d.done?a(d.value):i(d.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};function ok(t){return t.replace(/\/$/,"")}function lk(t,e){const{db:n,auth:r,realtime:i,global:a}=t,{db:o,auth:u,realtime:c,global:f}=e,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},u),r),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},f),a),accessToken:()=>sk(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const vE="2.69.1",wl=30*1e3,D0=3,Um=D0*wl,uk="http://localhost:9999",ck="supabase.auth.token",fk={"X-Client-Info":`gotrue-js/${vE}`},O0="X-Supabase-Api-Version",yE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},hk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dk=6e5;class mv extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function It(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class pk extends mv{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function mk(t){return It(t)&&t.name==="AuthApiError"}class bE extends mv{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ss extends mv{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class cs extends Ss{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gk(t){return It(t)&&t.name==="AuthSessionMissingError"}class qm extends Ss{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sh extends Ss{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class oh extends Ss{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vk(t){return It(t)&&t.name==="AuthImplicitGrantRedirectError"}class Z1 extends Ss{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class k0 extends Ss{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Hm(t){return It(t)&&t.name==="AuthRetryableFetchError"}class K1 extends Ss{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class vc extends Ss{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Q1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),J1=` 	
\r=`.split(""),yk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<J1.length;e+=1)t[J1[e].charCodeAt(0)]=-2;for(let e=0;e<Q1.length;e+=1)t[Q1[e].charCodeAt(0)]=e;return t})();function _E(t,e,n){const r=yk[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ex(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{xk(o,r,n)};for(let o=0;o<t.length;o+=1)_E(t.charCodeAt(o),i,a);return e.join("")}function bk(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function _k(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}bk(r,e)}}function xk(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function wk(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)_E(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Sk(t){const e=[];return _k(t,n=>e.push(n)),new Uint8Array(e)}function Ek(t){return Math.round(Date.now()/1e3)+t}function Ck(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const $i=()=>typeof window<"u"&&typeof document<"u",Ks={tested:!1,writable:!1},yc=()=>{if(!$i())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ks.tested)return Ks.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ks.tested=!0,Ks.writable=!0}catch{Ks.tested=!0,Ks.writable=!1}return Ks.writable};function Ak(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const xE=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Rl(async()=>{const{default:r}=await Promise.resolve().then(()=>zl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Tk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wE=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},lh=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},uh=async(t,e)=>{await t.removeItem(e)};class bd{constructor(){this.promise=new bd.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}bd.promiseConstructor=Promise;function $m(t){const e=t.split(".");if(e.length!==3)throw new vc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!hk.test(e[r]))throw new vc("JWT not in base64url format");return{header:JSON.parse(ex(e[0])),payload:JSON.parse(ex(e[1])),signature:wk(e[2]),raw:{header:e[0],payload:e[1]}}}async function Dk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Ok(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function kk(t){return("0"+t.toString(16)).substr(-2)}function Nk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,kk).join("")}async function Rk(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Mk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Rk(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dl(t,e,n=!1){const r=Nk();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await wE(t,`${e}-code-verifier`,i);const a=await Mk(r);return[a,r===a?"plain":"s256"]}const jk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Lk(t){const e=t.headers.get(O0);if(!e||!e.match(jk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Pk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Ik(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Bk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ro=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zk=[502,503,504];async function tx(t){var e;if(!Tk(t))throw new k0(ro(t),0);if(zk.includes(t.status))throw new k0(ro(t),t.status);let n;try{n=await t.json()}catch(a){throw new bE(ro(a),a)}let r;const i=Lk(t);if(i&&i.getTime()>=yE["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new K1(ro(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new cs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new K1(ro(n),t.status,n.weak_password.reasons);throw new pk(ro(n),t.status||500,r)}const Fk=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Kt(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[O0]||(a[O0]=yE["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Uk(t,e,n+u,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Uk(t,e,n,r,i,a){const o=Fk(e,r,i,a);let u;try{u=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new k0(ro(c),0)}if(u.ok||await tx(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await tx(c)}}function fs(t){var e;let n=null;Vk(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Ek(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function nx(t){const e=fs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ps(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function qk(t){return{data:t,error:null}}function Hk(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,o=Bk(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:u,user:c},error:null}}function $k(t){return t}function Vk(t){return t.access_token&&t.refresh_token&&t.expires_in}var Yk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Xk{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=xE(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await Kt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Kt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ps})}catch(r){if(It(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Yk(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Kt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Hk,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(It(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Kt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ps})}catch(n){if(It(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,o,u,c;try{const f={nextPage:null,lastPage:0,total:0},d=await Kt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:$k});if(d.error)throw d.error;const p=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(u=d.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(_=>{const w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(_.split(";")[1].split("=")[1]);f[`${A}Page`]=w}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(It(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){try{return await Kt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ps})}catch(n){if(It(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await Kt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ps})}catch(r){if(It(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await Kt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ps})}catch(r){if(It(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await Kt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(It(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await Kt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}}}const Gk={getItem:t=>yc()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{yc()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{yc()&&globalThis.localStorage.removeItem(t)}};function rx(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Wk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const pl={debug:!!(globalThis&&yc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class SE extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Zk extends SE{}async function Kk(t,e,n){pl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),pl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){pl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{pl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw pl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Zk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(pl.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Wk();const Qk={url:uk,storageKey:ck,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ix(t,e,n){return await n()}class Ac{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ac.nextInstanceID,Ac.nextInstanceID+=1,this.instanceID>0&&$i()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Qk),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Xk({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=xE(i.fetch),this.lock=i.lock||ix,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:$i()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Kk:this.lock=ix,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:yc()?this.storage=Gk:(this.memoryStorage={},this.storage=rx(this.memoryStorage)):(this.memoryStorage={},this.storage=rx(this.memoryStorage)),$i()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vE}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Ak(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),$i()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),vk(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return It(n)?{error:n}:{error:new bE("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:fs}),{data:o,error:u}=a;if(u||!o)return{data:{user:null,session:null},error:u};const c=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(a){if(It(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:d,password:p,options:g}=e;let v=null,_=null;this.flowType==="pkce"&&([v,_]=await dl(this.storage,this.storageKey)),a=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:_},xform:fs})}else if("phone"in e){const{phone:d,password:p,options:g}=e;a=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:fs})}else throw new sh("You must provide either an email or phone number and a password");const{data:o,error:u}=a;if(u||!o)return{data:{user:null,session:null},error:u};const c=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(a){if(It(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:o,options:u}=e;n=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:nx})}else if("phone"in e){const{phone:a,password:o,options:u}=e;n=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:nx})}else throw new sh("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new qm}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(It(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await lh(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:fs});if(await uh(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new qm}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(It(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=e,u=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:fs}),{data:c,error:f}=u;return f?{data:{user:null,session:null},error:f}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new qm}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:f})}catch(n){if(It(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,o;try{if("email"in e){const{email:u,options:c}=e;let f=null,d=null;this.flowType==="pkce"&&([f,d]=await dl(this.storage,this.storageKey));const{error:p}=await Kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:f,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:u,options:c}=e,{data:f,error:d}=await Kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:d}}throw new sh("You must provide either an email or phone number.")}catch(u){if(It(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:u}=await Kt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:fs});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,f=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(i){if(It(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await dl(this.storage,this.storageKey)),await Kt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:qk})}catch(a){if(It(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new cs;const{error:i}=await Kt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(It(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:o}=await Kt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:o,error:u}=await Kt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:u}}throw new sh("You must provide either an email or phone number and a type")}catch(n){if(It(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await lh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Um:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,f,d)=>(!o&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,f,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ps}):await this._useSession(async n=>{var r,i,a;const{data:o,error:u}=n;if(u)throw u;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cs}:await Kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ps})})}catch(n){if(It(n))return gk(n)&&(await this._removeSession(),await uh(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new cs;const o=i.session;let u=null,c=null;this.flowType==="pkce"&&e.email!=null&&([u,c]=await dl(this.storage,this.storageKey));const{data:f,error:d}=await Kt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:c}),jwt:o.access_token,xform:ps});if(d)throw d;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(It(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new cs;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=$m(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:u,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(It(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:u}=n;if(u)throw u;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new cs;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(It(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!$i())throw new oh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new oh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Z1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new oh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Z1("No code detected.");const{data:L,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:u,expires_at:c,token_type:f}=e;if(!a||!u||!o||!f)throw new oh("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(u);let g=d+p;c&&(g=parseInt(c));const v=g-d;v*1e3<=wl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const _=g-p;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,g,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,g,d);const{data:w,error:A}=await this._getUser(a);if(A)throw A;const S={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:g,refresh_token:o,token_type:f,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(r){if(It(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await lh(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:u}=await this.admin.signOut(o,e);if(u&&!(mk(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await uh(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Ck(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await dl(this.storage,this.storageKey,!0));try{return await Kt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(It(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,u,c,f,d;const{data:p,error:g}=a;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Kt(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return $i()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(It(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await Kt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(It(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Ok(async i=>(i>0&&await Dk(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Kt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:fs})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Hm(a)&&Date.now()+o-r<wl})}catch(r){if(this._debug(n,"error",r),It(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),$i()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await lh(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Um;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Um}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),Hm(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new cs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new bd;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new cs;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={session:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),It(a)){const o={session:null,error:a};return Hm(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await wE(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await uh(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$i()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/wl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${wl}ms, refresh threshold is ${D0} ticks`),i<=D0&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof SE)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$i()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await dl(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Kt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(It(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:f}=await Kt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(It(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:u}=await Kt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:u})})}catch(n){if(It(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Kt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(It(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=$m(i.access_token);let u=null;o.aal&&(u=o.aal);let c=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+dk>Date.now()))return r;const{data:i,error:a}=await Kt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new vc("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===e),!r)throw new vc("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:v,error:_}=await this.getSession();if(_||!v.session)return{data:null,error:_};r=v.session.access_token}const{header:i,payload:a,signature:o,raw:{header:u,payload:c}}=$m(r);if(Pk(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:a,header:i,signature:o},error:null}}const f=Ik(i.alg),d=await this.fetchJwk(i.kid,n),p=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,o,Sk(`${u}.${c}`)))throw new vc("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}}}Ac.nextInstanceID=0;const Jk=Ac;class e3 extends Jk{constructor(e){super(e)}}var t3=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(d){try{f(r.next(d))}catch(p){o(p)}}function c(d){try{f(r.throw(d))}catch(p){o(p)}}function f(d){d.done?a(d.value):i(d.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};class n3{constructor(e,n,r){var i,a,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const u=ok(e);this.realtimeUrl=`${u}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${u}/auth/v1`,this.storageUrl=`${u}/storage/v1`,this.functionsUrl=`${u}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,f={db:JO,realtime:tk,auth:Object.assign(Object.assign({},ek),{storageKey:c}),global:QO},d=lk(r??{},f);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=ak(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new _O(`${u}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new lO(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new WO(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return t3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:a,flowType:o,lock:u,debug:c},f,d){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new e3({url:this.authUrl,headers:Object.assign(Object.assign({},p),f),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:u,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new LO(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const r3=(t,e,n)=>new n3(t,e,n);var Vm={exports:{}},Qt={},sr={},ax;function Fl(){if(ax)return sr;ax=1;function t(S,L,P){if(P===void 0&&(P=Array.prototype),S&&typeof P.find=="function")return P.find.call(S,L);for(var F=0;F<S.length;F++)if(n(S,F)){var R=S[F];if(L.call(void 0,R,F,S))return R}}function e(S,L){return L===void 0&&(L=Object),L&&typeof L.getOwnPropertyDescriptors=="function"&&(S=L.create(null,L.getOwnPropertyDescriptors(S))),L&&typeof L.freeze=="function"?L.freeze(S):S}function n(S,L){return Object.prototype.hasOwnProperty.call(S,L)}function r(S,L){if(S===null||typeof S!="object")throw new TypeError("target is not an object");for(var P in L)n(L,P)&&(S[P]=L[P]);return S}var i=e({allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,formnovalidate:!0,hidden:!0,ismap:!0,itemscope:!0,loop:!0,multiple:!0,muted:!0,nomodule:!0,novalidate:!0,open:!0,playsinline:!0,readonly:!0,required:!0,reversed:!0,selected:!0});function a(S){return n(i,S.toLowerCase())}var o=e({area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function u(S){return n(o,S.toLowerCase())}var c=e({script:!1,style:!1,textarea:!0,title:!0});function f(S){var L=S.toLowerCase();return n(c,L)&&!c[L]}function d(S){var L=S.toLowerCase();return n(c,L)&&c[L]}function p(S){return S===v.HTML}function g(S){return p(S)||S===v.XML_XHTML_APPLICATION}var v=e({HTML:"text/html",XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),_=Object.keys(v).map(function(S){return v[S]});function w(S){return _.indexOf(S)>-1}var A=e({HTML:"http://www.w3.org/1999/xhtml",SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return sr.assign=r,sr.find=t,sr.freeze=e,sr.HTML_BOOLEAN_ATTRIBUTES=i,sr.HTML_RAW_TEXT_ELEMENTS=c,sr.HTML_VOID_ELEMENTS=o,sr.hasDefaultHTMLNamespace=g,sr.hasOwn=n,sr.isHTMLBooleanAttribute=a,sr.isHTMLRawTextElement=f,sr.isHTMLEscapableRawTextElement=d,sr.isHTMLMimeType=p,sr.isHTMLVoidElement=u,sr.isValidMimeType=w,sr.MIME_TYPE=v,sr.NAMESPACE=A,sr}var ml={},sx;function _d(){if(sx)return ml;sx=1;var t=Fl();function e(g,v){g.prototype=Object.create(Error.prototype,{constructor:{value:g},name:{value:g.name,enumerable:!0,writable:v}})}var n=t.freeze({Error:"Error",IndexSizeError:"IndexSizeError",DomstringSizeError:"DomstringSizeError",HierarchyRequestError:"HierarchyRequestError",WrongDocumentError:"WrongDocumentError",InvalidCharacterError:"InvalidCharacterError",NoDataAllowedError:"NoDataAllowedError",NoModificationAllowedError:"NoModificationAllowedError",NotFoundError:"NotFoundError",NotSupportedError:"NotSupportedError",InUseAttributeError:"InUseAttributeError",InvalidStateError:"InvalidStateError",SyntaxError:"SyntaxError",InvalidModificationError:"InvalidModificationError",NamespaceError:"NamespaceError",InvalidAccessError:"InvalidAccessError",ValidationError:"ValidationError",TypeMismatchError:"TypeMismatchError",SecurityError:"SecurityError",NetworkError:"NetworkError",AbortError:"AbortError",URLMismatchError:"URLMismatchError",QuotaExceededError:"QuotaExceededError",TimeoutError:"TimeoutError",InvalidNodeTypeError:"InvalidNodeTypeError",DataCloneError:"DataCloneError",EncodingError:"EncodingError",NotReadableError:"NotReadableError",UnknownError:"UnknownError",ConstraintError:"ConstraintError",DataError:"DataError",TransactionInactiveError:"TransactionInactiveError",ReadOnlyError:"ReadOnlyError",VersionError:"VersionError",OperationError:"OperationError",NotAllowedError:"NotAllowedError",OptOutError:"OptOutError"}),r=Object.keys(n);function i(g){return typeof g=="number"&&g>=1&&g<=25}function a(g){return typeof g=="string"&&g.substring(g.length-n.Error.length)===n.Error}function o(g,v){i(g)?(this.name=r[g],this.message=v||""):(this.message=g,this.name=a(v)?v:n.Error),Error.captureStackTrace&&Error.captureStackTrace(this,o)}e(o,!0),Object.defineProperties(o.prototype,{code:{enumerable:!0,get:function(){var g=r.indexOf(this.name);return i(g)?g:0}}});for(var u={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25},c=Object.entries(u),f=0;f<c.length;f++){var d=c[f][0];o[d]=c[f][1]}function p(g,v){this.message=g,this.locator=v,Error.captureStackTrace&&Error.captureStackTrace(this,p)}return e(p),ml.DOMException=o,ml.DOMExceptionName=n,ml.ExceptionCode=u,ml.ParseError=p,ml}var Bn={},Lt={},ox;function EE(){if(ox)return Lt;ox=1;function t(ut){try{typeof ut!="function"&&(ut=RegExp);var lt=new ut("𝌆","u").exec("𝌆");return!!lt&&lt[0].length===2}catch{}return!1}var e=t();function n(ut){if(ut.source[0]!=="[")throw new Error(ut+" can not be used with chars");return ut.source.slice(1,ut.source.lastIndexOf("]"))}function r(ut,lt){if(ut.source[0]!=="[")throw new Error("/"+ut.source+"/ can not be used with chars_without");if(!lt||typeof lt!="string")throw new Error(JSON.stringify(lt)+" is not a valid search");if(ut.source.indexOf(lt)===-1)throw new Error('"'+lt+'" is not is /'+ut.source+"/");if(lt==="-"&&ut.source.indexOf(lt)!==1)throw new Error('"'+lt+'" is not at the first postion of /'+ut.source+"/");return new RegExp(ut.source.replace(lt,""),e?"u":"")}function i(ut){var lt=this;return new RegExp(Array.prototype.slice.call(arguments).map(function(st){var ht=typeof st=="string";if(ht&&lt===void 0&&st==="|")throw new Error("use regg instead of reg to wrap expressions with `|`!");return ht?st:st.source}).join(""),e?"mu":"m")}function a(ut){if(arguments.length===0)throw new Error("no parameters provided");return i.apply(a,["(?:"].concat(Array.prototype.slice.call(arguments),[")"]))}var o="�",u=/[-\x09\x0A\x0D\x20-\x2C\x2E-\uD7FF\uE000-\uFFFD]/;e&&(u=i("[",n(u),"\\u{10000}-\\u{10FFFF}","]"));var c=/[\x20\x09\x0D\x0A]/,f=n(c),d=i(c,"+"),p=i(c,"*"),g=/[:_a-zA-Z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;e&&(g=i("[",n(g),"\\u{10000}-\\u{10FFFF}","]"));var v=n(g),_=i("[",v,n(/[-.0-9\xB7]/),n(/[\u0300-\u036F\u203F-\u2040]/),"]"),w=i(g,_,"*"),A=i(_,"+"),S=i("&",w,";"),L=a(/&#[0-9]+;|&#x[0-9a-fA-F]+;/),P=a(S,"|",L),F=i("%",w,";"),R=a(i('"',a(/[^%&"]/,"|",F,"|",P),"*",'"'),"|",i("'",a(/[^%&']/,"|",F,"|",P),"*","'")),O=a('"',a(/[^<&"]/,"|",P),"*",'"',"|","'",a(/[^<&']/,"|",P),"*","'"),z=r(g,":"),T=r(_,":"),N=i(z,T,"*"),$=i(N,a(":",N),"?"),V=i("^",$,"$"),G=i("(",$,")"),re=a(/"[^"]*"|'[^']*'/),Y=i(/^<\?/,"(",w,")",a(d,"(",u,"*?)"),"?",/\?>/),M=/[\x20\x0D\x0Aa-zA-Z0-9-'()+,./:=?;!*#@$_%]/,D=a('"',M,'*"',"|","'",r(M,"'"),"*'"),j="<!--",Z="-->",ne=i(j,a(r(u,"-"),"|",i("-",r(u,"-"))),"*",Z),k="#PCDATA",le=a(i(/\(/,p,k,a(p,/\|/,p,$),"*",p,/\)\*/),"|",i(/\(/,p,k,p,/\)/)),se=/[?*+]?/,B=i(/\([^>]+\)/,se),U=a("EMPTY","|","ANY","|",le,"|",B),I="<!ELEMENT",W=i(I,d,a($,"|",F),d,a(U,"|",F),p,">"),ae=i("NOTATION",d,/\(/,p,w,a(p,/\|/,p,w),"*",p,/\)/),oe=i(/\(/,p,A,a(p,/\|/,p,A),"*",p,/\)/),pe=a(ae,"|",oe),De=a(/CDATA|ID|IDREF|IDREFS|ENTITY|ENTITIES|NMTOKEN|NMTOKENS/,"|",pe),de=a(/#REQUIRED|#IMPLIED/,"|",a(a("#FIXED",d),"?",O)),he=a(d,w,d,De,d,de),Te="<!ATTLIST",fe=i(Te,d,w,he,"*",p,">"),ce="about:legacy-compat",ve=a('"'+ce+'"',"|","'"+ce+"'"),Se="SYSTEM",we="PUBLIC",H=a(a(Se,d,re),"|",a(we,d,D,d,re)),X=i("^",a(a(Se,d,"(?<SystemLiteralOnly>",re,")"),"|",a(we,d,"(?<PubidLiteral>",D,")",d,"(?<SystemLiteral>",re,")"))),ee=a(d,"NDATA",d,w),te=a(R,"|",a(H,ee,"?")),ge="<!ENTITY",Re=i(ge,d,w,d,te,p,">"),xe=a(R,"|",H),me=i(ge,d,"%",d,w,d,xe,p,">"),Ee=a(Re,"|",me),je=i(we,d,D),Pe=i("<!NOTATION",d,w,d,a(H,"|",je),p,">"),qe=i(p,"=",p),We=/1[.]\d+/,Ke=i(d,"version",qe,a("'",We,"'","|",'"',We,'"')),Qe=/[A-Za-z][-A-Za-z0-9._]*/,at=a(d,"encoding",qe,a('"',Qe,'"',"|","'",Qe,"'")),xt=a(d,"standalone",qe,a("'",a("yes","|","no"),"'","|",'"',a("yes","|","no"),'"')),bt=i(/^<\?xml/,Ke,at,"?",xt,"?",p,/\?>/),gt="<!DOCTYPE",Rt="<![CDATA[",wn="]]>",Wt=/<!\[CDATA\[/,Cn=/\]\]>/,Bt=i(u,"*?",Cn),Jt=i(Wt,Bt);return Lt.chars=n,Lt.chars_without=r,Lt.detectUnicodeSupport=t,Lt.reg=i,Lt.regg=a,Lt.ABOUT_LEGACY_COMPAT=ce,Lt.ABOUT_LEGACY_COMPAT_SystemLiteral=ve,Lt.AttlistDecl=fe,Lt.CDATA_START=Rt,Lt.CDATA_END=wn,Lt.CDSect=Jt,Lt.Char=u,Lt.Comment=ne,Lt.COMMENT_START=j,Lt.COMMENT_END=Z,Lt.DOCTYPE_DECL_START=gt,Lt.elementdecl=W,Lt.EntityDecl=Ee,Lt.EntityValue=R,Lt.ExternalID=H,Lt.ExternalID_match=X,Lt.Name=w,Lt.NotationDecl=Pe,Lt.Reference=P,Lt.PEReference=F,Lt.PI=Y,Lt.PUBLIC=we,Lt.PubidLiteral=D,Lt.QName=$,Lt.QName_exact=V,Lt.QName_group=G,Lt.S=d,Lt.SChar_s=f,Lt.S_OPT=p,Lt.SYSTEM=Se,Lt.SystemLiteral=re,Lt.UNICODE_REPLACEMENT_CHARACTER=o,Lt.UNICODE_SUPPORT=e,Lt.XMLDecl=bt,Lt}var lx;function CE(){if(lx)return Bn;lx=1;var t=Fl(),e=t.find,n=t.hasDefaultHTMLNamespace,r=t.hasOwn,i=t.isHTMLMimeType,a=t.isHTMLRawTextElement,o=t.isHTMLVoidElement,u=t.MIME_TYPE,c=t.NAMESPACE,f=Symbol(),d=_d(),p=d.DOMException,g=d.DOMExceptionName,v=EE();function _(q){if(q!==f)throw new TypeError("Illegal constructor")}function w(q){return q!==""}function A(q){return q?q.split(/[\t\n\f\r ]+/).filter(w):[]}function S(q,Q){return r(q,Q)||(q[Q]=!0),q}function L(q){if(!q)return[];var Q=A(q);return Object.keys(Q.reduce(S,{}))}function P(q){return function(Q){return q&&q.indexOf(Q)!==-1}}function F(q){if(!v.QName_exact.test(q))throw new p(p.INVALID_CHARACTER_ERR,'invalid character in qualified name "'+q+'"')}function R(q,Q){F(Q),q=q||null;var ye=null,Ne=Q;if(Q.indexOf(":")>=0){var Ge=Q.split(":");ye=Ge[0],Ne=Ge[1]}if(ye!==null&&q===null)throw new p(p.NAMESPACE_ERR,"prefix is non-null and namespace is null");if(ye==="xml"&&q!==t.NAMESPACE.XML)throw new p(p.NAMESPACE_ERR,'prefix is "xml" and namespace is not the XML namespace');if((ye==="xmlns"||Q==="xmlns")&&q!==t.NAMESPACE.XMLNS)throw new p(p.NAMESPACE_ERR,'either qualifiedName or prefix is "xmlns" and namespace is not the XMLNS namespace');if(q===t.NAMESPACE.XMLNS&&ye!=="xmlns"&&Q!=="xmlns")throw new p(p.NAMESPACE_ERR,'namespace is the XMLNS namespace and neither qualifiedName nor prefix is "xmlns"');return[q,ye,Ne]}function O(q,Q){for(var ye in q)r(q,ye)&&(Q[ye]=q[ye])}function z(q,Q){var ye=q.prototype;if(!(ye instanceof Q)){let Ne=function(){};Ne.prototype=Q.prototype,Ne=new Ne,O(ye,Ne),q.prototype=ye=Ne}ye.constructor!=q&&(typeof q!="function"&&console.error("unknown Class:"+q),ye.constructor=q)}var T={},N=T.ELEMENT_NODE=1,$=T.ATTRIBUTE_NODE=2,V=T.TEXT_NODE=3,G=T.CDATA_SECTION_NODE=4,re=T.ENTITY_REFERENCE_NODE=5,Y=T.ENTITY_NODE=6,M=T.PROCESSING_INSTRUCTION_NODE=7,D=T.COMMENT_NODE=8,j=T.DOCUMENT_NODE=9,Z=T.DOCUMENT_TYPE_NODE=10,ne=T.DOCUMENT_FRAGMENT_NODE=11,k=T.NOTATION_NODE=12,le=t.freeze({DOCUMENT_POSITION_DISCONNECTED:1,DOCUMENT_POSITION_PRECEDING:2,DOCUMENT_POSITION_FOLLOWING:4,DOCUMENT_POSITION_CONTAINS:8,DOCUMENT_POSITION_CONTAINED_BY:16,DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC:32});function se(q,Q){if(Q.length<q.length)return se(Q,q);var ye=null;for(var Ne in q){if(q[Ne]!==Q[Ne])return ye;ye=q[Ne]}return ye}function B(q){return q.guid||(q.guid=Math.random()),q.guid}function U(){}U.prototype={length:0,item:function(q){return q>=0&&q<this.length?this[q]:null},toString:function(q){for(var Q=[],ye=0;ye<this.length;ye++)ht(this[ye],Q,q);return Q.join("")},filter:function(q){return Array.prototype.filter.call(this,q)},indexOf:function(q){return Array.prototype.indexOf.call(this,q)}},U.prototype[Symbol.iterator]=function(){var q=this,Q=0;return{next:function(){return Q<q.length?{value:q[Q++],done:!1}:{done:!0}},return:function(){return{done:!0}}}};function I(q,Q){this._node=q,this._refresh=Q,W(this)}function W(q){var Q=q._node._inc||q._node.ownerDocument._inc;if(q._inc!==Q){var ye=q._refresh(q._node);if(et(q,"length",ye.length),!q.$$length||ye.length<q.$$length)for(var Ne=ye.length;Ne in q;Ne++)r(q,Ne)&&delete q[Ne];O(ye,q),q._inc=Q}}I.prototype.item=function(q){return W(this),this[q]||null},z(I,U);function ae(){}function oe(q,Q){for(var ye=0;ye<q.length;){if(q[ye]===Q)return ye;ye++}}function pe(q,Q,ye,Ne){if(Ne?Q[oe(Q,Ne)]=ye:(Q[Q.length]=ye,Q.length++),q){ye.ownerElement=q;var Ge=q.ownerDocument;Ge&&(Ne&&Se(Ge,q,Ne),ve(Ge,q,ye))}}function De(q,Q,ye){var Ne=oe(Q,ye);if(Ne>=0){for(var Ge=Q.length-1;Ne<=Ge;)Q[Ne]=Q[++Ne];if(Q.length=Ge,q){var nt=q.ownerDocument;nt&&Se(nt,q,ye),ye.ownerElement=null}}}ae.prototype={length:0,item:U.prototype.item,getNamedItem:function(q){this._ownerElement&&this._ownerElement._isInHTMLDocumentAndNamespace()&&(q=q.toLowerCase());for(var Q=0;Q<this.length;){var ye=this[Q];if(ye.nodeName===q)return ye;Q++}return null},setNamedItem:function(q){var Q=q.ownerElement;if(Q&&Q!==this._ownerElement)throw new p(p.INUSE_ATTRIBUTE_ERR);var ye=this.getNamedItemNS(q.namespaceURI,q.localName);return ye===q?q:(pe(this._ownerElement,this,q,ye),ye)},setNamedItemNS:function(q){return this.setNamedItem(q)},removeNamedItem:function(q){var Q=this.getNamedItem(q);if(!Q)throw new p(p.NOT_FOUND_ERR,q);return De(this._ownerElement,this,Q),Q},removeNamedItemNS:function(q,Q){var ye=this.getNamedItemNS(q,Q);if(!ye)throw new p(p.NOT_FOUND_ERR,q?q+" : "+Q:Q);return De(this._ownerElement,this,ye),ye},getNamedItemNS:function(q,Q){q||(q=null);for(var ye=0;ye<this.length;){var Ne=this[ye];if(Ne.localName===Q&&Ne.namespaceURI===q)return Ne;ye++}return null}},ae.prototype[Symbol.iterator]=function(){var q=this,Q=0;return{next:function(){return Q<q.length?{value:q[Q++],done:!1}:{done:!0}},return:function(){return{done:!0}}}};function de(){}de.prototype={hasFeature:function(q,Q){return!0},createDocument:function(q,Q,ye){var Ne=u.XML_APPLICATION;q===c.HTML?Ne=u.XML_XHTML_APPLICATION:q===c.SVG&&(Ne=u.XML_SVG_IMAGE);var Ge=new ce(f,{contentType:Ne});if(Ge.implementation=this,Ge.childNodes=new U,Ge.doctype=ye||null,ye&&Ge.appendChild(ye),Q){var nt=Ge.createElementNS(q,Q);Ge.appendChild(nt)}return Ge},createDocumentType:function(q,Q,ye,Ne){F(q);var Ge=new gt(f);return Ge.name=q,Ge.nodeName=q,Ge.publicId=Q||"",Ge.systemId=ye||"",Ge.internalSubset=Ne||"",Ge.childNodes=new U,Ge},createHTMLDocument:function(q){var Q=new ce(f,{contentType:u.HTML});if(Q.implementation=this,Q.childNodes=new U,q!==!1){Q.doctype=this.createDocumentType("html"),Q.doctype.ownerDocument=Q,Q.appendChild(Q.doctype);var ye=Q.createElement("html");Q.appendChild(ye);var Ne=Q.createElement("head");if(ye.appendChild(Ne),typeof q=="string"){var Ge=Q.createElement("title");Ge.appendChild(Q.createTextNode(q)),Ne.appendChild(Ge)}ye.appendChild(Q.createElement("body"))}return Q}};function he(q){_(q)}he.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,parentNode:null,get parentElement(){return this.parentNode&&this.parentNode.nodeType===this.ELEMENT_NODE?this.parentNode:null},childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,baseURI:"about:blank",get isConnected(){var q=this.getRootNode();return q&&q.nodeType===q.DOCUMENT_NODE},contains:function(q){if(!q)return!1;var Q=q;do{if(this===Q)return!0;Q=q.parentNode}while(Q);return!1},getRootNode:function(q){var Q=this;do{if(!Q.parentNode)return Q;Q=Q.parentNode}while(Q)},isEqualNode:function(q){if(!q||this.nodeType!==q.nodeType)return!1;switch(this.nodeType){case this.DOCUMENT_TYPE_NODE:if(this.name!==q.name||this.publicId!==q.publicId||this.systemId!==q.systemId)return!1;break;case this.ELEMENT_NODE:if(this.namespaceURI!==q.namespaceURI||this.prefix!==q.prefix||this.localName!==q.localName||this.attributes.length!==q.attributes.length)return!1;for(var Q=0;Q<this.attributes.length;Q++){var ye=this.attributes.item(Q);if(!ye.isEqualNode(q.getAttributeNodeNS(ye.namespaceURI,ye.localName)))return!1}break;case this.ATTRIBUTE_NODE:if(this.namespaceURI!==q.namespaceURI||this.localName!==q.localName||this.value!==q.value)return!1;break;case this.PROCESSING_INSTRUCTION_NODE:if(this.target!==q.target||this.data!==q.data)return!1;break;case this.TEXT_NODE:case this.COMMENT_NODE:if(this.data!==q.data)return!1;break}if(this.childNodes.length!==q.childNodes.length)return!1;for(var Q=0;Q<this.childNodes.length;Q++)if(!this.childNodes[Q].isEqualNode(q.childNodes[Q]))return!1;return!0},isSameNode:function(q){return this===q},insertBefore:function(q,Q){return qe(this,q,Q)},replaceChild:function(q,Q){qe(this,q,Q,Pe),Q&&this.removeChild(Q)},removeChild:function(q){return H(this,q)},appendChild:function(q){return this.insertBefore(q,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(q){return Vn(this.ownerDocument||this,this,q)},normalize:function(){for(var q=this.firstChild;q;){var Q=q.nextSibling;Q&&Q.nodeType==V&&q.nodeType==V?(this.removeChild(Q),q.appendData(Q.data)):(q.normalize(),q=Q)}},isSupported:function(q,Q){return this.ownerDocument.implementation.hasFeature(q,Q)},lookupPrefix:function(q){for(var Q=this;Q;){var ye=Q._nsMap;if(ye){for(var Ne in ye)if(r(ye,Ne)&&ye[Ne]===q)return Ne}Q=Q.nodeType==$?Q.ownerDocument:Q.parentNode}return null},lookupNamespaceURI:function(q){for(var Q=this;Q;){var ye=Q._nsMap;if(ye&&r(ye,q))return ye[q];Q=Q.nodeType==$?Q.ownerDocument:Q.parentNode}return null},isDefaultNamespace:function(q){var Q=this.lookupPrefix(q);return Q==null},compareDocumentPosition:function(q){if(this===q)return 0;var Q=q,ye=this,Ne=null,Ge=null;if(Q instanceof Ke&&(Ne=Q,Q=Ne.ownerElement),ye instanceof Ke&&(Ge=ye,ye=Ge.ownerElement,Ne&&Q&&ye===Q))for(var nt=0,vt;vt=ye.attributes[nt];nt++){if(vt===Ne)return le.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+le.DOCUMENT_POSITION_PRECEDING;if(vt===Ge)return le.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+le.DOCUMENT_POSITION_FOLLOWING}if(!Q||!ye||ye.ownerDocument!==Q.ownerDocument)return le.DOCUMENT_POSITION_DISCONNECTED+le.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+(B(ye.ownerDocument)>B(Q.ownerDocument)?le.DOCUMENT_POSITION_FOLLOWING:le.DOCUMENT_POSITION_PRECEDING);if(Ge&&Q===ye)return le.DOCUMENT_POSITION_CONTAINS+le.DOCUMENT_POSITION_PRECEDING;if(Ne&&Q===ye)return le.DOCUMENT_POSITION_CONTAINED_BY+le.DOCUMENT_POSITION_FOLLOWING;for(var zt=[],At=Q.parentNode;At;){if(!Ge&&At===ye)return le.DOCUMENT_POSITION_CONTAINED_BY+le.DOCUMENT_POSITION_FOLLOWING;zt.push(At),At=At.parentNode}zt.reverse();for(var nn=[],yn=ye.parentNode;yn;){if(!Ne&&yn===Q)return le.DOCUMENT_POSITION_CONTAINS+le.DOCUMENT_POSITION_PRECEDING;nn.push(yn),yn=yn.parentNode}nn.reverse();var lr=se(zt,nn);for(var jn in lr.childNodes){var Vt=lr.childNodes[jn];if(Vt===ye)return le.DOCUMENT_POSITION_FOLLOWING;if(Vt===Q)return le.DOCUMENT_POSITION_PRECEDING;if(nn.indexOf(Vt)>=0)return le.DOCUMENT_POSITION_FOLLOWING;if(zt.indexOf(Vt)>=0)return le.DOCUMENT_POSITION_PRECEDING}return 0}};function Te(q){return q=="<"&&"&lt;"||q==">"&&"&gt;"||q=="&"&&"&amp;"||q=='"'&&"&quot;"||"&#"+q.charCodeAt()+";"}O(T,he),O(T,he.prototype),O(le,he),O(le,he.prototype);function fe(q,Q){if(Q(q))return!0;if(q=q.firstChild)do if(fe(q,Q))return!0;while(q=q.nextSibling)}function ce(q,Q){_(q);var ye=Q||{};this.ownerDocument=this,this.contentType=ye.contentType||u.XML_APPLICATION,this.type=i(this.contentType)?"html":"xml"}function ve(q,Q,ye){q&&q._inc++;var Ne=ye.namespaceURI;Ne===c.XMLNS&&(Q._nsMap[ye.prefix?ye.localName:""]=ye.value)}function Se(q,Q,ye,Ne){q&&q._inc++;var Ge=ye.namespaceURI;Ge===c.XMLNS&&delete Q._nsMap[ye.prefix?ye.localName:""]}function we(q,Q,ye){if(q&&q._inc){q._inc++;var Ne=Q.childNodes;if(ye&&!ye.nextSibling)Ne[Ne.length++]=ye;else{for(var Ge=Q.firstChild,nt=0;Ge;)Ne[nt++]=Ge,Ge=Ge.nextSibling;Ne.length=nt,delete Ne[Ne.length]}}}function H(q,Q){if(q!==Q.parentNode)throw new p(p.NOT_FOUND_ERR,"child's parent is not parent");var ye=Q.previousSibling,Ne=Q.nextSibling;return ye?ye.nextSibling=Ne:q.firstChild=Ne,Ne?Ne.previousSibling=ye:q.lastChild=ye,we(q.ownerDocument,q),Q.parentNode=null,Q.previousSibling=null,Q.nextSibling=null,Q}function X(q){return q&&(q.nodeType===he.DOCUMENT_NODE||q.nodeType===he.DOCUMENT_FRAGMENT_NODE||q.nodeType===he.ELEMENT_NODE)}function ee(q){return q&&(q.nodeType===he.CDATA_SECTION_NODE||q.nodeType===he.COMMENT_NODE||q.nodeType===he.DOCUMENT_FRAGMENT_NODE||q.nodeType===he.DOCUMENT_TYPE_NODE||q.nodeType===he.ELEMENT_NODE||q.nodeType===he.PROCESSING_INSTRUCTION_NODE||q.nodeType===he.TEXT_NODE)}function te(q){return q&&q.nodeType===he.DOCUMENT_TYPE_NODE}function ge(q){return q&&q.nodeType===he.ELEMENT_NODE}function Re(q){return q&&q.nodeType===he.TEXT_NODE}function xe(q,Q){var ye=q.childNodes||[];if(e(ye,ge)||te(Q))return!1;var Ne=e(ye,te);return!(Q&&Ne&&ye.indexOf(Ne)>ye.indexOf(Q))}function me(q,Q){var ye=q.childNodes||[];function Ne(nt){return ge(nt)&&nt!==Q}if(e(ye,Ne))return!1;var Ge=e(ye,te);return!(Q&&Ge&&ye.indexOf(Ge)>ye.indexOf(Q))}function Ee(q,Q,ye){if(!X(q))throw new p(p.HIERARCHY_REQUEST_ERR,"Unexpected parent node type "+q.nodeType);if(ye&&ye.parentNode!==q)throw new p(p.NOT_FOUND_ERR,"child not in parent");if(!ee(Q)||te(Q)&&q.nodeType!==he.DOCUMENT_NODE)throw new p(p.HIERARCHY_REQUEST_ERR,"Unexpected node type "+Q.nodeType+" for parent node type "+q.nodeType)}function je(q,Q,ye){var Ne=q.childNodes||[],Ge=Q.childNodes||[];if(Q.nodeType===he.DOCUMENT_FRAGMENT_NODE){var nt=Ge.filter(ge);if(nt.length>1||e(Ge,Re))throw new p(p.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(nt.length===1&&!xe(q,ye))throw new p(p.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(ge(Q)&&!xe(q,ye))throw new p(p.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(te(Q)){if(e(Ne,te))throw new p(p.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var vt=e(Ne,ge);if(ye&&Ne.indexOf(vt)<Ne.indexOf(ye))throw new p(p.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element");if(!ye&&vt)throw new p(p.HIERARCHY_REQUEST_ERR,"Doctype can not be appended since element is present")}}function Pe(q,Q,ye){var Ne=q.childNodes||[],Ge=Q.childNodes||[];if(Q.nodeType===he.DOCUMENT_FRAGMENT_NODE){var nt=Ge.filter(ge);if(nt.length>1||e(Ge,Re))throw new p(p.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(nt.length===1&&!me(q,ye))throw new p(p.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(ge(Q)&&!me(q,ye))throw new p(p.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(te(Q)){if(e(Ne,function(At){return te(At)&&At!==ye}))throw new p(p.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var vt=e(Ne,ge);if(ye&&Ne.indexOf(vt)<Ne.indexOf(ye))throw new p(p.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element")}}function qe(q,Q,ye,Ne){Ee(q,Q,ye),q.nodeType===he.DOCUMENT_NODE&&(Ne||je)(q,Q,ye);var Ge=Q.parentNode;if(Ge&&Ge.removeChild(Q),Q.nodeType===ne){var nt=Q.firstChild;if(nt==null)return Q;var vt=Q.lastChild}else nt=vt=Q;var zt=ye?ye.previousSibling:q.lastChild;nt.previousSibling=zt,vt.nextSibling=ye,zt?zt.nextSibling=nt:q.firstChild=nt,ye==null?q.lastChild=vt:ye.previousSibling=vt;do nt.parentNode=q;while(nt!==vt&&(nt=nt.nextSibling));return we(q.ownerDocument||q,q,Q),Q.nodeType==ne&&(Q.firstChild=Q.lastChild=null),Q}ce.prototype={implementation:null,nodeName:"#document",nodeType:j,doctype:null,documentElement:null,_inc:1,insertBefore:function(q,Q){if(q.nodeType===ne){for(var ye=q.firstChild;ye;){var Ne=ye.nextSibling;this.insertBefore(ye,Q),ye=Ne}return q}return qe(this,q,Q),q.ownerDocument=this,this.documentElement===null&&q.nodeType===N&&(this.documentElement=q),q},removeChild:function(q){var Q=H(this,q);return Q===this.documentElement&&(this.documentElement=null),Q},replaceChild:function(q,Q){qe(this,q,Q,Pe),q.ownerDocument=this,Q&&this.removeChild(Q),ge(q)&&(this.documentElement=q)},importNode:function(q,Q){return cn(this,q,Q)},getElementById:function(q){var Q=null;return fe(this.documentElement,function(ye){if(ye.nodeType==N&&ye.getAttribute("id")==q)return Q=ye,!0}),Q},createElement:function(q){var Q=new We(f);Q.ownerDocument=this,this.type==="html"&&(q=q.toLowerCase()),n(this.contentType)&&(Q.namespaceURI=c.HTML),Q.nodeName=q,Q.tagName=q,Q.localName=q,Q.childNodes=new U;var ye=Q.attributes=new ae;return ye._ownerElement=Q,Q},createDocumentFragment:function(){var q=new Cn(f);return q.ownerDocument=this,q.childNodes=new U,q},createTextNode:function(q){var Q=new at(f);return Q.ownerDocument=this,Q.childNodes=new U,Q.appendData(q),Q},createComment:function(q){var Q=new xt(f);return Q.ownerDocument=this,Q.childNodes=new U,Q.appendData(q),Q},createCDATASection:function(q){var Q=new bt(f);return Q.ownerDocument=this,Q.childNodes=new U,Q.appendData(q),Q},createProcessingInstruction:function(q,Q){var ye=new Bt(f);return ye.ownerDocument=this,ye.childNodes=new U,ye.nodeName=ye.target=q,ye.nodeValue=ye.data=Q,ye},createAttribute:function(q){if(!v.QName_exact.test(q))throw new p(p.INVALID_CHARACTER_ERR,'invalid character in name "'+q+'"');return this.type==="html"&&(q=q.toLowerCase()),this._createAttribute(q)},_createAttribute:function(q){var Q=new Ke(f);return Q.ownerDocument=this,Q.childNodes=new U,Q.name=q,Q.nodeName=q,Q.localName=q,Q.specified=!0,Q},createEntityReference:function(q){if(!v.Name.test(q))throw new p(p.INVALID_CHARACTER_ERR,'not a valid xml name "'+q+'"');if(this.type==="html")throw new p("document is an html document",g.NotSupportedError);var Q=new Wt(f);return Q.ownerDocument=this,Q.childNodes=new U,Q.nodeName=q,Q},createElementNS:function(q,Q){var ye=R(q,Q),Ne=new We(f),Ge=Ne.attributes=new ae;return Ne.childNodes=new U,Ne.ownerDocument=this,Ne.nodeName=Q,Ne.tagName=Q,Ne.namespaceURI=ye[0],Ne.prefix=ye[1],Ne.localName=ye[2],Ge._ownerElement=Ne,Ne},createAttributeNS:function(q,Q){var ye=R(q,Q),Ne=new Ke(f);return Ne.ownerDocument=this,Ne.childNodes=new U,Ne.nodeName=Q,Ne.name=Q,Ne.specified=!0,Ne.namespaceURI=ye[0],Ne.prefix=ye[1],Ne.localName=ye[2],Ne}},z(ce,he);function We(q){_(q),this._nsMap=Object.create(null)}We.prototype={nodeType:N,attributes:null,getQualifiedName:function(){return this.prefix?this.prefix+":"+this.localName:this.localName},_isInHTMLDocumentAndNamespace:function(){return this.ownerDocument.type==="html"&&this.namespaceURI===c.HTML},hasAttributes:function(){return!!(this.attributes&&this.attributes.length)},hasAttribute:function(q){return!!this.getAttributeNode(q)},getAttribute:function(q){var Q=this.getAttributeNode(q);return Q?Q.value:null},getAttributeNode:function(q){return this._isInHTMLDocumentAndNamespace()&&(q=q.toLowerCase()),this.attributes.getNamedItem(q)},setAttribute:function(q,Q){this._isInHTMLDocumentAndNamespace()&&(q=q.toLowerCase());var ye=this.getAttributeNode(q);ye?ye.value=ye.nodeValue=""+Q:(ye=this.ownerDocument._createAttribute(q),ye.value=ye.nodeValue=""+Q,this.setAttributeNode(ye))},removeAttribute:function(q){var Q=this.getAttributeNode(q);Q&&this.removeAttributeNode(Q)},setAttributeNode:function(q){return this.attributes.setNamedItem(q)},setAttributeNodeNS:function(q){return this.attributes.setNamedItemNS(q)},removeAttributeNode:function(q){return this.attributes.removeNamedItem(q.nodeName)},removeAttributeNS:function(q,Q){var ye=this.getAttributeNodeNS(q,Q);ye&&this.removeAttributeNode(ye)},hasAttributeNS:function(q,Q){return this.getAttributeNodeNS(q,Q)!=null},getAttributeNS:function(q,Q){var ye=this.getAttributeNodeNS(q,Q);return ye?ye.value:null},setAttributeNS:function(q,Q,ye){var Ne=R(q,Q),Ge=Ne[2],nt=this.getAttributeNodeNS(q,Ge);nt?nt.value=nt.nodeValue=""+ye:(nt=this.ownerDocument.createAttributeNS(q,Q),nt.value=nt.nodeValue=""+ye,this.setAttributeNode(nt))},getAttributeNodeNS:function(q,Q){return this.attributes.getNamedItemNS(q,Q)},getElementsByClassName:function(q){var Q=L(q);return new I(this,function(ye){var Ne=[];return Q.length>0&&fe(ye,function(Ge){if(Ge!==ye&&Ge.nodeType===N){var nt=Ge.getAttribute("class");if(nt){var vt=q===nt;if(!vt){var zt=L(nt);vt=Q.every(P(zt))}vt&&Ne.push(Ge)}}}),Ne})},getElementsByTagName:function(q){var Q=(this.nodeType===j?this:this.ownerDocument).type==="html",ye=q.toLowerCase();return new I(this,function(Ne){var Ge=[];return fe(Ne,function(nt){if(!(nt===Ne||nt.nodeType!==N))if(q==="*")Ge.push(nt);else{var vt=nt.getQualifiedName(),zt=Q&&nt.namespaceURI===c.HTML?ye:q;vt===zt&&Ge.push(nt)}}),Ge})},getElementsByTagNameNS:function(q,Q){return new I(this,function(ye){var Ne=[];return fe(ye,function(Ge){Ge!==ye&&Ge.nodeType===N&&(q==="*"||Ge.namespaceURI===q)&&(Q==="*"||Ge.localName==Q)&&Ne.push(Ge)}),Ne})}},ce.prototype.getElementsByClassName=We.prototype.getElementsByClassName,ce.prototype.getElementsByTagName=We.prototype.getElementsByTagName,ce.prototype.getElementsByTagNameNS=We.prototype.getElementsByTagNameNS,z(We,he);function Ke(q){_(q),this.namespaceURI=null,this.prefix=null,this.ownerElement=null}Ke.prototype.nodeType=$,z(Ke,he);function Qe(q){_(q)}Qe.prototype={data:"",substringData:function(q,Q){return this.data.substring(q,q+Q)},appendData:function(q){q=this.data+q,this.nodeValue=this.data=q,this.length=q.length},insertData:function(q,Q){this.replaceData(q,0,Q)},deleteData:function(q,Q){this.replaceData(q,Q,"")},replaceData:function(q,Q,ye){var Ne=this.data.substring(0,q),Ge=this.data.substring(q+Q);ye=Ne+ye+Ge,this.nodeValue=this.data=ye,this.length=ye.length}},z(Qe,he);function at(q){_(q)}at.prototype={nodeName:"#text",nodeType:V,splitText:function(q){var Q=this.data,ye=Q.substring(q);Q=Q.substring(0,q),this.data=this.nodeValue=Q,this.length=Q.length;var Ne=this.ownerDocument.createTextNode(ye);return this.parentNode&&this.parentNode.insertBefore(Ne,this.nextSibling),Ne}},z(at,Qe);function xt(q){_(q)}xt.prototype={nodeName:"#comment",nodeType:D},z(xt,Qe);function bt(q){_(q)}bt.prototype={nodeName:"#cdata-section",nodeType:G},z(bt,at);function gt(q){_(q)}gt.prototype.nodeType=Z,z(gt,he);function Rt(q){_(q)}Rt.prototype.nodeType=k,z(Rt,he);function wn(q){_(q)}wn.prototype.nodeType=Y,z(wn,he);function Wt(q){_(q)}Wt.prototype.nodeType=re,z(Wt,he);function Cn(q){_(q)}Cn.prototype.nodeName="#document-fragment",Cn.prototype.nodeType=ne,z(Cn,he);function Bt(q){_(q)}Bt.prototype.nodeType=M,z(Bt,Qe);function Jt(){}Jt.prototype.serializeToString=function(q,Q){return ut.call(q,Q)},he.prototype.toString=ut;function ut(q){var Q=[],ye=this.nodeType===j&&this.documentElement||this,Ne=ye.prefix,Ge=ye.namespaceURI;if(Ge&&Ne==null){var Ne=ye.lookupPrefix(Ge);if(Ne==null)var nt=[{namespace:Ge,prefix:null}]}return ht(this,Q,q,nt),Q.join("")}function lt(q,Q,ye){var Ne=q.prefix||"",Ge=q.namespaceURI;if(!Ge||Ne==="xml"&&Ge===c.XML||Ge===c.XMLNS)return!1;for(var nt=ye.length;nt--;){var vt=ye[nt];if(vt.prefix===Ne)return vt.namespace!==Ge}return!0}function st(q,Q,ye){q.push(" ",Q,'="',ye.replace(/[<>&"\t\n\r]/g,Te),'"')}function ht(q,Q,ye,Ne){Ne||(Ne=[]);var Ge=q.nodeType===j?q:q.ownerDocument,nt=Ge.type==="html";if(ye)if(q=ye(q),q){if(typeof q=="string"){Q.push(q);return}}else return;switch(q.nodeType){case N:var vt=q.attributes,zt=vt.length,kn=q.firstChild,At=q.tagName,nn=At;if(!nt&&!q.prefix&&q.namespaceURI){for(var yn,lr=0;lr<vt.length;lr++)if(vt.item(lr).name==="xmlns"){yn=vt.item(lr).value;break}if(!yn)for(var jn=Ne.length-1;jn>=0;jn--){var Vt=Ne[jn];if(Vt.prefix===""&&Vt.namespace===q.namespaceURI){yn=Vt.namespace;break}}if(yn!==q.namespaceURI)for(var jn=Ne.length-1;jn>=0;jn--){var Vt=Ne[jn];if(Vt.namespace===q.namespaceURI){Vt.prefix&&(nn=Vt.prefix+":"+At);break}}}Q.push("<",nn);for(var gr=0;gr<zt;gr++){var Ln=vt.item(gr);Ln.prefix=="xmlns"?Ne.push({prefix:Ln.localName,namespace:Ln.value}):Ln.nodeName=="xmlns"&&Ne.push({prefix:"",namespace:Ln.value})}for(var gr=0;gr<zt;gr++){var Ln=vt.item(gr);if(lt(Ln,nt,Ne)){var Sn=Ln.prefix||"",Nt=Ln.namespaceURI;st(Q,Sn?"xmlns:"+Sn:"xmlns",Nt),Ne.push({prefix:Sn,namespace:Nt})}ht(Ln,Q,ye,Ne)}if(At===nn&&lt(q,nt,Ne)){var Sn=q.prefix||"",Nt=q.namespaceURI;st(Q,Sn?"xmlns:"+Sn:"xmlns",Nt),Ne.push({prefix:Sn,namespace:Nt})}var ur=!kn;if(ur&&(nt||q.namespaceURI===c.HTML)&&(ur=o(At)),ur)Q.push("/>");else{if(Q.push(">"),nt&&a(At))for(;kn;)kn.data?Q.push(kn.data):ht(kn,Q,ye,Ne.slice()),kn=kn.nextSibling;else for(;kn;)ht(kn,Q,ye,Ne.slice()),kn=kn.nextSibling;Q.push("</",nn,">")}return;case j:case ne:for(var kn=q.firstChild;kn;)ht(kn,Q,ye,Ne.slice()),kn=kn.nextSibling;return;case $:return st(Q,q.name,q.value);case V:return Q.push(q.data.replace(/[<&>]/g,Te));case G:return Q.push(v.CDATA_START,q.data,v.CDATA_END);case D:return Q.push(v.COMMENT_START,q.data,v.COMMENT_END);case Z:var Dr=q.publicId,Hr=q.systemId;Q.push(v.DOCTYPE_DECL_START," ",q.name),Dr?(Q.push(" ",v.PUBLIC," ",Dr),Hr&&Hr!=="."&&Q.push(" ",Hr)):Hr&&Hr!=="."&&Q.push(" ",v.SYSTEM," ",Hr),q.internalSubset&&Q.push(" [",q.internalSubset,"]"),Q.push(">");return;case M:return Q.push("<?",q.target," ",q.data,"?>");case re:return Q.push("&",q.nodeName,";");default:Q.push("??",q.nodeName)}}function cn(q,Q,ye){var Ne;switch(Q.nodeType){case N:Ne=Q.cloneNode(!1),Ne.ownerDocument=q;case ne:break;case $:ye=!0;break}if(Ne||(Ne=Q.cloneNode(!1)),Ne.ownerDocument=q,Ne.parentNode=null,ye)for(var Ge=Q.firstChild;Ge;)Ne.appendChild(cn(q,Ge,ye)),Ge=Ge.nextSibling;return Ne}function Vn(q,Q,ye){var Ne=new Q.constructor(f);for(var Ge in Q)if(r(Q,Ge)){var nt=Q[Ge];typeof nt!="object"&&nt!=Ne[Ge]&&(Ne[Ge]=nt)}switch(Q.childNodes&&(Ne.childNodes=new U),Ne.ownerDocument=q,Ne.nodeType){case N:var vt=Q.attributes,zt=Ne.attributes=new ae,At=vt.length;zt._ownerElement=Ne;for(var nn=0;nn<At;nn++)Ne.setAttributeNode(Vn(q,vt.item(nn),!0));break;case $:ye=!0}if(ye)for(var yn=Q.firstChild;yn;)Ne.appendChild(Vn(q,yn,ye)),yn=yn.nextSibling;return Ne}function et(q,Q,ye){q[Q]=ye}try{if(Object.defineProperty){let q=function(Q){switch(Q.nodeType){case N:case ne:var ye=[];for(Q=Q.firstChild;Q;)Q.nodeType!==7&&Q.nodeType!==8&&ye.push(q(Q)),Q=Q.nextSibling;return ye.join("");default:return Q.nodeValue}};Object.defineProperty(I.prototype,"length",{get:function(){return W(this),this.$$length}}),Object.defineProperty(he.prototype,"textContent",{get:function(){return q(this)},set:function(Q){switch(this.nodeType){case N:case ne:for(;this.firstChild;)this.removeChild(this.firstChild);(Q||String(Q))&&this.appendChild(this.ownerDocument.createTextNode(Q));break;default:this.data=Q,this.value=Q,this.nodeValue=Q}}}),et=function(Q,ye,Ne){Q["$$"+ye]=Ne}}}catch{}return Bn._updateLiveList=W,Bn.Attr=Ke,Bn.CDATASection=bt,Bn.CharacterData=Qe,Bn.Comment=xt,Bn.Document=ce,Bn.DocumentFragment=Cn,Bn.DocumentType=gt,Bn.DOMImplementation=de,Bn.Element=We,Bn.Entity=wn,Bn.EntityReference=Wt,Bn.LiveNodeList=I,Bn.NamedNodeMap=ae,Bn.Node=he,Bn.NodeList=U,Bn.Notation=Rt,Bn.Text=at,Bn.ProcessingInstruction=Bt,Bn.XMLSerializer=Jt,Bn}var Qs={},Ym={},ux;function i3(){return ux||(ux=1,function(t){var e=Fl().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES}(Ym)),Ym}var Gu={},cx;function a3(){if(cx)return Gu;cx=1;var t=Fl(),e=EE(),n=_d(),r=t.isHTMLEscapableRawTextElement,i=t.isHTMLMimeType,a=t.isHTMLRawTextElement,o=t.hasOwn,u=t.NAMESPACE,c=n.ParseError,f=n.DOMException,d=0,p=1,g=2,v=3,_=4,w=5,A=6,S=7;function L(){}L.prototype={parse:function(M,D,j){var Z=this.domBuilder;Z.startDocument(),N(D,D=Object.create(null)),F(M,D,j,Z,this.errorHandler),Z.endDocument()}};var P=/&#?\w+;?/g;function F(M,D,j,Z,ne){var k=i(Z.mimeType);M.indexOf(e.UNICODE_REPLACEMENT_CHARACTER)>=0&&ne.warning("Unicode replacement character detected, source encoding issues?");function le(qe){if(qe>65535){qe-=65536;var We=55296+(qe>>10),Ke=56320+(qe&1023);return String.fromCharCode(We,Ke)}else return String.fromCharCode(qe)}function se(qe){var We=qe[qe.length-1]===";"?qe:qe+";";if(!k&&We!==qe)return ne.error("EntityRef: expecting ;"),qe;var Ke=e.Reference.exec(We);if(!Ke||Ke[0].length!==We.length)return ne.error("entity not matching Reference production: "+qe),qe;var Qe=We.slice(1,-1);return o(j,Qe)?j[Qe]:Qe.charAt(0)==="#"?le(parseInt(Qe.substring(1).replace("x","0x"))):(ne.error("entity not found:"+qe),qe)}function B(qe){if(qe>de){var We=M.substring(de,qe).replace(P,se);ae&&oe(de),Z.characters(We,0,qe-de),de=qe}}var U=0,I=0,W=/\r\n?|\n|$/g,ae=Z.locator;function oe(qe,We){for(;qe>=I&&(We=W.exec(M));)U=I,I=We.index+We[0].length,ae.lineNumber++;ae.columnNumber=qe-U+1}for(var pe=[{currentNSMap:D}],De=[],de=0;;){try{var he=M.indexOf("<",de);if(he<0){if(!k&&De.length>0)return ne.fatalError("unclosed xml tag(s): "+De.join(", "));if(!M.substring(de).match(/^\s*$/)){var Te=Z.doc,fe=Te.createTextNode(M.substring(de));if(Te.documentElement)return ne.error("Extra content at the end of the document");Te.appendChild(fe),Z.currentElement=fe}return}if(he>de){var ce=M.substring(de,he);!k&&De.length===0&&(ce=ce.replace(new RegExp(e.S_OPT.source,"g"),""),ce&&ne.error("Unexpected content outside root element: '"+ce+"'")),B(he)}switch(M.charAt(he+1)){case"/":var xe=M.indexOf(">",he+2),ve=M.substring(he+2,xe>0?xe:void 0);if(!ve)return ne.fatalError("end tag name missing");var Se=xe>0&&e.reg("^",e.QName_group,e.S_OPT,"$").exec(ve);if(!Se)return ne.fatalError('end tag name contains invalid characters: "'+ve+'"');if(!Z.currentElement&&!Z.doc.documentElement)return;var we=De[De.length-1]||Z.currentElement.tagName||Z.doc.documentElement.tagName||"";if(we!==Se[1]){var H=Se[1].toLowerCase();if(!k||we.toLowerCase()!==H)return ne.fatalError('Opening and ending tag mismatch: "'+we+'" != "'+ve+'"')}var X=pe.pop();De.pop();var ee=X.localNSMap;if(Z.endElement(X.uri,X.localName,we),ee)for(var te in ee)o(ee,te)&&Z.endPrefixMapping(te);xe++;break;case"?":ae&&oe(he),xe=re(M,he,Z,ne);break;case"!":ae&&oe(he),xe=G(M,he,Z,ne,k);break;default:ae&&oe(he);var ge=new Y,Re=pe[pe.length-1].currentNSMap,xe=O(M,he,ge,Re,se,ne,k),me=ge.length;if(ge.closed||(k&&t.isHTMLVoidElement(ge.tagName)?ge.closed=!0:De.push(ge.tagName)),ae&&me){for(var Ee=R(ae,{}),je=0;je<me;je++){var Pe=ge[je];oe(Pe.offset),Pe.locator=R(ae,{})}Z.locator=Ee,z(ge,Z,Re)&&pe.push(ge),Z.locator=ae}else z(ge,Z,Re)&&pe.push(ge);k&&!ge.closed?xe=T(M,xe,ge.tagName,se,Z):xe++}}catch(qe){if(qe instanceof c)throw qe;if(qe instanceof f)throw new c(qe.name+": "+qe.message,Z.locator,qe);ne.error("element parse error: "+qe),xe=-1}xe>de?de=xe:B(Math.max(he,de)+1)}}function R(M,D){return D.lineNumber=M.lineNumber,D.columnNumber=M.columnNumber,D}function O(M,D,j,Z,ne,k,le){function se(oe,pe,De){if(o(j.attributeNames,oe))return k.fatalError("Attribute "+oe+" redefined");if(!le&&pe.indexOf("<")>=0)return k.fatalError("Unescaped '<' not allowed in attributes values");j.addValue(oe,pe.replace(/[\t\n\r]/g," ").replace(P,ne),De)}for(var B,U,I=++D,W=d;;){var ae=M.charAt(I);switch(ae){case"=":if(W===p)B=M.slice(D,I),W=v;else if(W===g)W=v;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(W===v||W===p)if(W===p&&(k.warning('attribute value must after "="'),B=M.slice(D,I)),D=I+1,I=M.indexOf(ae,D),I>0)U=M.slice(D,I),se(B,U,D-1),W=w;else throw new Error("attribute value no end '"+ae+"' match");else if(W==_)U=M.slice(D,I),se(B,U,D),k.warning('attribute "'+B+'" missed start quot('+ae+")!!"),D=I+1,W=w;else throw new Error('attribute value must after "="');break;case"/":switch(W){case d:j.setTagName(M.slice(D,I));case w:case A:case S:W=S,j.closed=!0;case _:case p:break;case g:j.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return k.error("unexpected end of input"),W==d&&j.setTagName(M.slice(D,I)),I;case">":switch(W){case d:j.setTagName(M.slice(D,I));case w:case A:case S:break;case _:case p:U=M.slice(D,I),U.slice(-1)==="/"&&(j.closed=!0,U=U.slice(0,-1));case g:W===g&&(U=B),W==_?(k.warning('attribute "'+U+'" missed quot(")!'),se(B,U,D)):(le||k.warning('attribute "'+U+'" missed value!! "'+U+'" instead!!'),se(U,U,D));break;case v:if(!le)return k.fatalError(`AttValue: ' or " expected`)}return I;case"":ae=" ";default:if(ae<=" ")switch(W){case d:j.setTagName(M.slice(D,I)),W=A;break;case p:B=M.slice(D,I),W=g;break;case _:var U=M.slice(D,I);k.warning('attribute "'+U+'" missed quot(")!!'),se(B,U,D);case w:W=A;break}else switch(W){case g:le||k.warning('attribute "'+B+'" missed value!! "'+B+'" instead2!!'),se(B,B,D),D=I,W=p;break;case w:k.warning('attribute space is required"'+B+'"!!');case A:W=p,D=I;break;case v:W=_,D=I;break;case S:throw new Error("elements closed character '/' and '>' must be connected to")}}I++}}function z(M,D,j){for(var Z=M.tagName,ne=null,W=M.length;W--;){var k=M[W],le=k.qName,se=k.value,ae=le.indexOf(":");if(ae>0)var B=k.prefix=le.slice(0,ae),U=le.slice(ae+1),I=B==="xmlns"&&U;else U=le,B=null,I=le==="xmlns"&&"";k.localName=U,I!==!1&&(ne==null&&(ne=Object.create(null),N(j,j=Object.create(null))),j[I]=ne[I]=se,k.uri=u.XMLNS,D.startPrefixMapping(I,se))}for(var W=M.length;W--;)k=M[W],k.prefix&&(k.prefix==="xml"&&(k.uri=u.XML),k.prefix!=="xmlns"&&(k.uri=j[k.prefix]));var ae=Z.indexOf(":");ae>0?(B=M.prefix=Z.slice(0,ae),U=M.localName=Z.slice(ae+1)):(B=null,U=M.localName=Z);var oe=M.uri=j[B||""];if(D.startElement(oe,U,Z,M),M.closed){if(D.endElement(oe,U,Z),ne)for(B in ne)o(ne,B)&&D.endPrefixMapping(B)}else return M.currentNSMap=j,M.localNSMap=ne,!0}function T(M,D,j,Z,ne){var k=r(j);if(k||a(j)){var le=M.indexOf("</"+j+">",D),se=M.substring(D+1,le);return k&&(se=se.replace(P,Z)),ne.characters(se,0,se.length),le}return D+1}function N(M,D){for(var j in M)o(M,j)&&(D[j]=M[j])}function $(M,D){var j=D;function Z(I){return I=I||0,M.charAt(j+I)}function ne(I){I=I||1,j+=I}function k(){for(var I=0;j<M.length;){var W=Z();if(W!==" "&&W!==`
`&&W!=="	"&&W!=="\r")return I;I++,ne()}return-1}function le(){return M.substring(j)}function se(I){return M.substring(j,j+I.length)===I}function B(I){return M.substring(j,j+I.length).toUpperCase()===I.toUpperCase()}function U(I){var W=e.reg("^",I),ae=W.exec(le());return ae?(ne(ae[0].length),ae[0]):null}return{char:Z,getIndex:function(){return j},getMatch:U,getSource:function(){return M},skip:ne,skipBlanks:k,substringFromIndex:le,substringStartsWith:se,substringStartsWithCaseInsensitive:B}}function V(M,D){function j(se,B){var U=e.PI.exec(se.substringFromIndex());return U?U[1].toLowerCase()==="xml"?B.fatalError("xml declaration is only allowed at the start of the document, but found at position "+se.getIndex()):(se.skip(U[0].length),U[0]):B.fatalError("processing instruction is not well-formed at position "+se.getIndex())}var Z=M.getSource();if(M.char()==="["){M.skip(1);for(var ne=M.getIndex();M.getIndex()<Z.length;){if(M.skipBlanks(),M.char()==="]"){var k=Z.substring(ne,M.getIndex());return M.skip(1),k}var le=null;if(M.char()==="<"&&M.char(1)==="!")switch(M.char(2)){case"E":M.char(3)==="L"?le=M.getMatch(e.elementdecl):M.char(3)==="N"&&(le=M.getMatch(e.EntityDecl));break;case"A":le=M.getMatch(e.AttlistDecl);break;case"N":le=M.getMatch(e.NotationDecl);break;case"-":le=M.getMatch(e.Comment);break}else if(M.char()==="<"&&M.char(1)==="?")le=j(M,D);else if(M.char()==="%")le=M.getMatch(e.PEReference);else return D.fatalError("Error detected in Markup declaration");if(!le)return D.fatalError("Error in internal subset at position "+M.getIndex())}return D.fatalError("doctype internal subset is not well-formed, missing ]")}}function G(M,D,j,Z,ne){var k=$(M,D);switch(ne?k.char(2).toUpperCase():k.char(2)){case"-":var le=k.getMatch(e.Comment);return le?(j.comment(le,e.COMMENT_START.length,le.length-e.COMMENT_START.length-e.COMMENT_END.length),k.getIndex()):Z.fatalError("comment is not well-formed at position "+k.getIndex());case"[":var se=k.getMatch(e.CDSect);return se?!ne&&!j.currentElement?Z.fatalError("CDATA outside of element"):(j.startCDATA(),j.characters(se,e.CDATA_START.length,se.length-e.CDATA_START.length-e.CDATA_END.length),j.endCDATA(),k.getIndex()):Z.fatalError("Invalid CDATA starting at position "+D);case"D":{if(j.doc&&j.doc.documentElement)return Z.fatalError("Doctype not allowed inside or after documentElement at position "+k.getIndex());if(ne?!k.substringStartsWithCaseInsensitive(e.DOCTYPE_DECL_START):!k.substringStartsWith(e.DOCTYPE_DECL_START))return Z.fatalError("Expected "+e.DOCTYPE_DECL_START+" at position "+k.getIndex());if(k.skip(e.DOCTYPE_DECL_START.length),k.skipBlanks()<1)return Z.fatalError("Expected whitespace after "+e.DOCTYPE_DECL_START+" at position "+k.getIndex());var B={name:void 0,publicId:void 0,systemId:void 0,internalSubset:void 0};if(B.name=k.getMatch(e.Name),!B.name)return Z.fatalError("doctype name missing or contains unexpected characters at position "+k.getIndex());if(ne&&B.name.toLowerCase()!=="html"&&Z.warning("Unexpected DOCTYPE in HTML document at position "+k.getIndex()),k.skipBlanks(),k.substringStartsWith(e.PUBLIC)||k.substringStartsWith(e.SYSTEM)){var U=e.ExternalID_match.exec(k.substringFromIndex());if(!U)return Z.fatalError("doctype external id is not well-formed at position "+k.getIndex());U.groups.SystemLiteralOnly!==void 0?B.systemId=U.groups.SystemLiteralOnly:(B.systemId=U.groups.SystemLiteral,B.publicId=U.groups.PubidLiteral),k.skip(U[0].length)}else if(ne&&k.substringStartsWithCaseInsensitive(e.SYSTEM)){if(k.skip(e.SYSTEM.length),k.skipBlanks()<1)return Z.fatalError("Expected whitespace after "+e.SYSTEM+" at position "+k.getIndex());if(B.systemId=k.getMatch(e.ABOUT_LEGACY_COMPAT_SystemLiteral),!B.systemId)return Z.fatalError("Expected "+e.ABOUT_LEGACY_COMPAT+" in single or double quotes after "+e.SYSTEM+" at position "+k.getIndex())}return ne&&B.systemId&&!e.ABOUT_LEGACY_COMPAT_SystemLiteral.test(B.systemId)&&Z.warning("Unexpected doctype.systemId in HTML document at position "+k.getIndex()),ne||(k.skipBlanks(),B.internalSubset=V(k,Z)),k.skipBlanks(),k.char()!==">"?Z.fatalError("doctype not terminated with > at position "+k.getIndex()):(k.skip(1),j.startDTD(B.name,B.publicId,B.systemId,B.internalSubset),j.endDTD(),k.getIndex())}default:return Z.fatalError('Not well-formed XML starting with "<!" at position '+D)}}function re(M,D,j,Z){var ne=M.substring(D).match(e.PI);if(!ne)return Z.fatalError("Invalid processing instruction starting at position "+D);if(ne[1].toLowerCase()==="xml"){if(D>0)return Z.fatalError("processing instruction at position "+D+" is an xml declaration which is only at the start of the document");if(!e.XMLDecl.test(M.substring(D)))return Z.fatalError("xml declaration is not well-formed")}return j.processingInstruction(ne[1],ne[2]),D+ne[0].length}function Y(){this.attributeNames=Object.create(null)}return Y.prototype={setTagName:function(M){if(!e.QName_exact.test(M))throw new Error("invalid tagName:"+M);this.tagName=M},addValue:function(M,D,j){if(!e.QName_exact.test(M))throw new Error("invalid attribute:"+M);this.attributeNames[M]=this.length,this[this.length++]={qName:M,value:D,offset:j}},length:0,getLocalName:function(M){return this[M].localName},getLocator:function(M){return this[M].locator},getQName:function(M){return this[M].qName},getURI:function(M){return this[M].uri},getValue:function(M){return this[M].value}},Gu.XMLReader=L,Gu.parseUtils=$,Gu.parseDoctypeCommentOrCData=G,Gu}var fx;function s3(){if(fx)return Qs;fx=1;var t=Fl(),e=CE(),n=_d(),r=i3(),i=a3(),a=e.DOMImplementation,o=t.hasDefaultHTMLNamespace,u=t.isHTMLMimeType,c=t.isValidMimeType,f=t.MIME_TYPE,d=t.NAMESPACE,p=n.ParseError,g=i.XMLReader;function v(O){return O.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028\u2029]/g,`
`)}function _(O){if(O=O||{},O.locator===void 0&&(O.locator=!0),this.assign=O.assign||t.assign,this.domHandler=O.domHandler||w,this.onError=O.onError||O.errorHandler,O.errorHandler&&typeof O.errorHandler!="function")throw new TypeError("errorHandler object is no longer supported, switch to onError!");O.errorHandler&&O.errorHandler("warning","The `errorHandler` option has been deprecated, use `onError` instead!",this),this.normalizeLineEndings=O.normalizeLineEndings||v,this.locator=!!O.locator,this.xmlns=this.assign(Object.create(null),O.xmlns)}_.prototype.parseFromString=function(O,z){if(!c(z))throw new TypeError('DOMParser.parseFromString: the provided mimeType "'+z+'" is not valid.');var T=this.assign(Object.create(null),this.xmlns),N=r.XML_ENTITIES,$=T[""]||null;o(z)?(N=r.HTML_ENTITIES,$=d.HTML):z===f.XML_SVG_IMAGE&&($=d.SVG),T[""]=$,T.xml=T.xml||d.XML;var V=new this.domHandler({mimeType:z,defaultNamespace:$,onError:this.onError}),G=this.locator?{}:void 0;this.locator&&V.setDocumentLocator(G);var re=new g;re.errorHandler=V,re.domBuilder=V;var Y=!t.isHTMLMimeType(z);return Y&&typeof O!="string"&&re.errorHandler.fatalError("source is not a string"),re.parse(this.normalizeLineEndings(String(O)),T,N),V.doc.documentElement||re.errorHandler.fatalError("missing root element"),V.doc};function w(O){var z=O||{};this.mimeType=z.mimeType||f.XML_APPLICATION,this.defaultNamespace=z.defaultNamespace||null,this.cdata=!1,this.currentElement=void 0,this.doc=void 0,this.locator=void 0,this.onError=z.onError}function A(O,z){z.lineNumber=O.lineNumber,z.columnNumber=O.columnNumber}w.prototype={startDocument:function(){var O=new a;this.doc=u(this.mimeType)?O.createHTMLDocument(!1):O.createDocument(this.defaultNamespace,"")},startElement:function(O,z,T,N){var $=this.doc,V=$.createElementNS(O,T||z),G=N.length;P(this,V),this.currentElement=V,this.locator&&A(this.locator,V);for(var re=0;re<G;re++){var O=N.getURI(re),Y=N.getValue(re),T=N.getQName(re),M=$.createAttributeNS(O,T);this.locator&&A(N.getLocator(re),M),M.value=M.nodeValue=Y,V.setAttributeNode(M)}},endElement:function(O,z,T){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(O,z){},endPrefixMapping:function(O){},processingInstruction:function(O,z){var T=this.doc.createProcessingInstruction(O,z);this.locator&&A(this.locator,T),P(this,T)},ignorableWhitespace:function(O,z,T){},characters:function(O,z,T){if(O=L.apply(this,arguments),O){if(this.cdata)var N=this.doc.createCDATASection(O);else var N=this.doc.createTextNode(O);this.currentElement?this.currentElement.appendChild(N):/^\s*$/.test(O)&&this.doc.appendChild(N),this.locator&&A(this.locator,N)}},skippedEntity:function(O){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(O){O&&(O.lineNumber=0),this.locator=O},comment:function(O,z,T){O=L.apply(this,arguments);var N=this.doc.createComment(O);this.locator&&A(this.locator,N),P(this,N)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(O,z,T,N){var $=this.doc.implementation;if($&&$.createDocumentType){var V=$.createDocumentType(O,z,T,N);this.locator&&A(this.locator,V),P(this,V),this.doc.doctype=V}},reportError:function(O,z){if(typeof this.onError=="function")try{this.onError(O,z,this)}catch(T){throw new p("Reporting "+O+' "'+z+'" caused '+T,this.locator)}else console.error("[xmldom "+O+"]	"+z,S(this.locator))},warning:function(O){this.reportError("warning",O)},error:function(O){this.reportError("error",O)},fatalError:function(O){throw this.reportError("fatalError",O),new p(O,this.locator)}};function S(O){if(O)return`
@#[line:`+O.lineNumber+",col:"+O.columnNumber+"]"}function L(O,z,T){return typeof O=="string"?O.substr(z,T):O.length>=z+T||z?new java.lang.String(O,z,T)+"":O}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(O){w.prototype[O]=function(){return null}});function P(O,z){O.currentElement?O.currentElement.appendChild(z):O.doc.appendChild(z)}function F(O){if(O==="error")throw"onErrorStopParsing"}function R(){throw"onWarningStopParsing"}return Qs.__DOMHandler=w,Qs.DOMParser=_,Qs.normalizeLineEndings=v,Qs.onErrorStopParsing=F,Qs.onWarningStopParsing=R,Qs}var hx;function o3(){if(hx)return Qt;hx=1;var t=Fl();Qt.assign=t.assign,Qt.hasDefaultHTMLNamespace=t.hasDefaultHTMLNamespace,Qt.isHTMLMimeType=t.isHTMLMimeType,Qt.isValidMimeType=t.isValidMimeType,Qt.MIME_TYPE=t.MIME_TYPE,Qt.NAMESPACE=t.NAMESPACE;var e=_d();Qt.DOMException=e.DOMException,Qt.DOMExceptionName=e.DOMExceptionName,Qt.ExceptionCode=e.ExceptionCode,Qt.ParseError=e.ParseError;var n=CE();Qt.Attr=n.Attr,Qt.CDATASection=n.CDATASection,Qt.CharacterData=n.CharacterData,Qt.Comment=n.Comment,Qt.Document=n.Document,Qt.DocumentFragment=n.DocumentFragment,Qt.DocumentType=n.DocumentType,Qt.DOMImplementation=n.DOMImplementation,Qt.Element=n.Element,Qt.Entity=n.Entity,Qt.EntityReference=n.EntityReference,Qt.LiveNodeList=n.LiveNodeList,Qt.NamedNodeMap=n.NamedNodeMap,Qt.Node=n.Node,Qt.NodeList=n.NodeList,Qt.Notation=n.Notation,Qt.ProcessingInstruction=n.ProcessingInstruction,Qt.Text=n.Text,Qt.XMLSerializer=n.XMLSerializer;var r=s3();return Qt.DOMParser=r.DOMParser,Qt.normalizeLineEndings=r.normalizeLineEndings,Qt.onErrorStopParsing=r.onErrorStopParsing,Qt.onWarningStopParsing=r.onWarningStopParsing,Qt}var Xm,dx;function gv(){if(dx)return Xm;dx=1;function t(n){return n[n.length-1]}function e(n){return n[0]}return Xm={last:t,first:e},Xm}var Gm,px;function Oi(){if(px)return Gm;px=1;function t(U){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},t(U)}function e(U,I){var W=Object.keys(U);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(U);I&&(ae=ae.filter(function(oe){return Object.getOwnPropertyDescriptor(U,oe).enumerable})),W.push.apply(W,ae)}return W}function n(U){for(var I=1;I<arguments.length;I++){var W=arguments[I]!=null?arguments[I]:{};I%2?e(Object(W),!0).forEach(function(ae){r(U,ae,W[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(W)):e(Object(W)).forEach(function(ae){Object.defineProperty(U,ae,Object.getOwnPropertyDescriptor(W,ae))})}return U}function r(U,I,W){return(I=i(I))in U?Object.defineProperty(U,I,{value:W,enumerable:!0,configurable:!0,writable:!0}):U[I]=W,U}function i(U){var I=a(U,"string");return t(I)=="symbol"?I:I+""}function a(U,I){if(t(U)!="object"||!U)return U;var W=U[Symbol.toPrimitive];if(W!==void 0){var ae=W.call(U,I);if(t(ae)!="object")return ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(U)}var o=gv(),u=o.last,c=o.first;function f(U){this.name="GenericError",this.message=U,this.stack=new Error(U).stack}f.prototype=Error.prototype;function d(U){this.name="TemplateError",this.message=U,this.stack=new Error(U).stack}d.prototype=new f;function p(U){this.name="RenderingError",this.message=U,this.stack=new Error(U).stack}p.prototype=new f;function g(U){this.name="ScopeParserError",this.message=U,this.stack=new Error(U).stack}g.prototype=new f;function v(U){this.name="InternalError",this.properties={explanation:"InternalError"},this.message=U,this.stack=new Error(U).stack}v.prototype=new f;function _(U){this.name="APIVersionError",this.properties={explanation:"APIVersionError"},this.message=U,this.stack=new Error(U).stack}_.prototype=new f;function w(U,I){var W=new _(U);throw W.properties=n({id:"api_version_error"},I),W}function A(U){var I=new d("Multi error");throw I.properties={errors:U,id:"multi_error",explanation:"The template has multiple errors"},I}function S(U){var I=new d("Unopened tag");return I.properties={xtag:u(U.xtag.split(" ")),id:"unopened_tag",context:U.xtag,offset:U.offset,lIndex:U.lIndex,explanation:'The tag beginning with "'.concat(U.xtag.substr(0,10),'" is unopened')},I}function L(U){var I=new d("Duplicate open tag, expected one open tag");return I.properties={xtag:c(U.xtag.split(" ")),id:"duplicate_open_tag",context:U.xtag,offset:U.offset,lIndex:U.lIndex,explanation:'The tag beginning with "'.concat(U.xtag.substr(0,10),'" has duplicate open tags')},I}function P(U){var I=new d("Duplicate close tag, expected one close tag");return I.properties={xtag:c(U.xtag.split(" ")),id:"duplicate_close_tag",context:U.xtag,offset:U.offset,lIndex:U.lIndex,explanation:'The tag ending with "'.concat(U.xtag.substr(0,10),'" has duplicate close tags')},I}function F(U){var I=new d("Unclosed tag");return I.properties={xtag:c(U.xtag.split(" ")).substr(1),id:"unclosed_tag",context:U.xtag,offset:U.offset,lIndex:U.lIndex,explanation:'The tag beginning with "'.concat(U.xtag.substr(0,10),'" is unclosed')},I}function R(U){var I=new d('No tag "'.concat(U.element,'" was found at the ').concat(U.position)),W=U.parsed[U.index];throw I.properties={id:"no_xml_tag_found_at_".concat(U.position),explanation:'No tag "'.concat(U.element,'" was found at the ').concat(U.position),offset:W.offset,part:W,parsed:U.parsed,index:U.index,element:U.element},I}function O(U){var I=U.tag,W=U.value,ae=U.offset,oe=new p("There are some XML corrupt characters");return oe.properties={id:"invalid_xml_characters",xtag:I,value:W,offset:ae,explanation:"There are some corrupt characters for the field ".concat(I)},oe}function z(U){var I=U.tag,W=U.value,ae=U.offset,oe=new p("Non string values are not allowed for rawXML tags");return oe.properties={id:"invalid_raw_xml_value",xtag:I,value:W,offset:ae,explanation:"The value of the raw tag : '".concat(I,"' is not a string")},oe}function T(U){var I=U.part,W=I.value,ae=I.offset,oe=U.id,pe=oe===void 0?"raw_tag_outerxml_invalid":oe,De=U.message,de=De===void 0?"Raw tag not in paragraph":De,he=U.part,Te=U.explanation,fe=Te===void 0?'The tag "'.concat(W,'" is not inside a paragraph'):Te;typeof fe=="function"&&(fe=fe(he));var ce=new d(de);throw ce.properties={id:pe,explanation:fe,rootError:U.rootError,xtag:W,offset:ae,postparsed:U.postparsed,expandTo:U.expandTo,index:U.index},ce}function N(U){var I=new d("Raw tag should be the only text in paragraph"),W=U.part.value;throw I.properties={id:"raw_xml_tag_should_be_only_text_in_paragraph",explanation:'The raw tag "'.concat(W,'" should be the only text in this paragraph. This means that this tag should not be surrounded by any text or spaces.'),xtag:W,offset:U.part.offset,paragraphParts:U.paragraphParts},I}function $(U){var I=U.location,W=U.offset,ae=U.square,oe=I==="start"?"unclosed":"unopened",pe=I==="start"?"Unclosed":"Unopened",De=new d("".concat(pe," loop")),de=U.value;return De.properties={id:"".concat(oe,"_loop"),explanation:'The loop with tag "'.concat(de,'" is ').concat(oe),xtag:de,offset:W},ae&&(De.properties.square=ae),De}function V(U,I){var W=new d("Unbalanced loop tag"),ae=I[0].part.value,oe=I[1].part.value,pe=U[0].part.value,De=U[1].part.value;return W.properties={id:"unbalanced_loop_tags",explanation:"Unbalanced loop tags {#".concat(ae,"}{/").concat(oe,"}{#").concat(pe,"}{/").concat(De,"}"),offset:[I[0].part.offset,U[1].part.offset],lastPair:{left:I[0].part.value,right:I[1].part.value},pair:{left:U[0].part.value,right:U[1].part.value}},W}function G(U){var I=U.tags,W=new d("Closing tag does not match opening tag");return W.properties={id:"closing_tag_does_not_match_opening_tag",explanation:'The tag "'.concat(I[0].value,'" is closed by the tag "').concat(I[1].value,'"'),openingtag:c(I).value,offset:[c(I).offset,u(I).offset],closingtag:u(I).value},W}function re(U){var I=U.tag,W=U.rootError,ae=U.offset,oe=new g("Scope parser compilation failed");return oe.properties={id:"scopeparser_compilation_failed",offset:ae,xtag:I,explanation:'The scope parser for the tag "'.concat(I,'" failed to compile'),rootError:W},oe}function Y(U){var I=U.tag,W=U.scope,ae=U.error,oe=U.offset,pe=new g("Scope parser execution failed");return pe.properties={id:"scopeparser_execution_failed",explanation:"The scope parser for the tag ".concat(I," failed to execute"),scope:W,offset:oe,xtag:I,rootError:ae},pe}function M(U){var I=U.tag,W=U.offset,ae=new d('The position of the loop tags "'.concat(I,'" would produce invalid XML'));return ae.properties={xtag:I,id:"loop_position_invalid",explanation:'The tags "'.concat(I,'" are misplaced in the document, for example one of them is in a table and the other one outside the table'),offset:W},ae}function D(U,I){var W='Unimplemented tag type "'.concat(U.type,'"');U.module&&(W+=' "'.concat(U.module,'"'));var ae=new d(W);throw ae.properties={part:U,index:I,id:"unimplemented_tag_type"},ae}function j(){var U=new v("Malformed xml");throw U.properties={explanation:"The template contains malformed xml",id:"malformed_xml"},U}function Z(){var U=new v("You must run `.compile()` before running `.resolveData()`");throw U.properties={id:"resolve_before_compile",explanation:"You must run `.compile()` before running `.resolveData()`"},U}function ne(){var U=new v("You should not call .render on a document that had compilation errors");throw U.properties={id:"render_on_invalid_template",explanation:"You should not call .render on a document that had compilation errors"},U}function k(){var U=new v("You should not call .render twice on the same docxtemplater instance");throw U.properties={id:"render_twice",explanation:"You should not call .render twice on the same docxtemplater instance"},U}function le(U){var I=Object.keys(U.files).slice(0,10),W="";I.length===0?W="Empty zip file":W="Zip file contains : ".concat(I.join(","));var ae=new v("The filetype for this file could not be identified, is this file corrupted ? ".concat(W));throw ae.properties={id:"filetype_not_identified",explanation:"The filetype for this file could not be identified, is this file corrupted ? ".concat(W)},ae}function se(U,I){var W=new d("An XML file has invalid xml");throw W.properties={id:"file_has_invalid_xml",content:U,offset:I,explanation:"The docx contains invalid XML, it is most likely corrupt"},W}function B(U){var I=new v('The filetype "'.concat(U,'" is not handled by docxtemplater'));throw I.properties={id:"filetype_not_handled",explanation:'The file you are trying to generate is of type "'.concat(U,'", but only docx and pptx formats are handled'),fileType:U},I}return Gm={XTError:f,XTTemplateError:d,XTInternalError:v,XTScopeParserError:g,XTAPIVersionError:_,RenderingError:p,XTRenderingError:p,getClosingTagNotMatchOpeningTag:G,getLoopPositionProducesInvalidXMLError:M,getScopeCompilationError:re,getScopeParserExecutionError:Y,getUnclosedTagException:F,getUnopenedTagException:S,getUnmatchedLoopException:$,getDuplicateCloseTagException:P,getDuplicateOpenTagException:L,getCorruptCharactersException:O,getInvalidRawXMLValueException:z,getUnbalancedLoopException:V,throwApiVersionError:w,throwFileTypeNotHandled:B,throwFileTypeNotIdentified:le,throwMalformedXml:j,throwMultiError:A,throwExpandNotFound:T,throwRawTagShouldBeOnlyTextInParagraph:N,throwUnimplementedTagType:D,throwXmlTagNotFound:R,throwXmlInvalid:se,throwResolveBeforeCompile:Z,throwRenderInvalidTemplate:ne,throwRenderTwice:k},Gm}var Wm,mx;function mr(){if(mx)return Wm;mx=1;function t(H,X){return a(H)||i(H,X)||n(H,X)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(H,X){if(H){if(typeof H=="string")return r(H,X);var ee={}.toString.call(H).slice(8,-1);return ee==="Object"&&H.constructor&&(ee=H.constructor.name),ee==="Map"||ee==="Set"?Array.from(H):ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee)?r(H,X):void 0}}function r(H,X){(X==null||X>H.length)&&(X=H.length);for(var ee=0,te=Array(X);ee<X;ee++)te[ee]=H[ee];return te}function i(H,X){var ee=H==null?null:typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(ee!=null){var te,ge,Re,xe,me=[],Ee=!0,je=!1;try{if(Re=(ee=ee.call(H)).next,X!==0)for(;!(Ee=(te=Re.call(ee)).done)&&(me.push(te.value),me.length!==X);Ee=!0);}catch(Pe){je=!0,ge=Pe}finally{try{if(!Ee&&ee.return!=null&&(xe=ee.return(),Object(xe)!==xe))return}finally{if(je)throw ge}}return me}}function a(H){if(Array.isArray(H))return H}var o=o3(),u=o.DOMParser,c=o.XMLSerializer,f=Oi(),d=f.throwXmlTagNotFound,p=gv(),g=p.last,v=p.first;function _(H){return/^[ \n\r\t]+$/.test(H)}function w(H){return{get:function(ee){return H==="."?ee:ee&&ee[H]}}}var A={};function S(H,X,ee){var te;if(A[X]?te=A[X]:(te=new RegExp("(<.* ".concat(X,'=")([^"]*)(".*)$')),A[X]=te),te.test(H))return H.replace(te,"$1".concat(ee,"$3"));var ge=H.lastIndexOf("/>");return ge===-1&&(ge=H.lastIndexOf(">")),H.substr(0,ge)+" ".concat(X,'="').concat(ee,'"')+H.substr(ge)}function L(H,X){var ee=H.indexOf(" ".concat(X,'="'));if(ee===-1)return null;var te=H.substr(ee).search(/["']/)+ee,ge=H.substr(te+1).search(/["']/)+te;return H.substr(te+1,ge-te)}function P(H,X){return H.indexOf(X,H.length-X.length)!==-1}function F(H,X){return H.substring(0,X.length)===X}function R(H){for(var X=[],ee={},te=[],ge=0,Re=H.length;ge<Re;++ge)ee[H[ge]]?X.push(H[ge]):(ee[H[ge]]=!0,te.push(H[ge]));return X}function O(H){for(var X={},ee=[],te=0,ge=H.length;te<ge;++te)X[H[te]]||(X[H[te]]=!0,ee.push(H[te]));return ee}function z(H,X){for(var ee=[[]],te=0;te<H.length;te++){var ge=H[te],Re=ee[ee.length-1],xe=X(ge);xe==="start"?ee.push([ge]):xe==="end"?(Re.push(ge),ee.push([])):Re.push(ge)}for(var me=[],Ee=0;Ee<ee.length;Ee++){var je=ee[Ee];je.length>0&&me.push(je)}return me}function T(){return{errorLogging:"json",stripInvalidXMLChars:!1,paragraphLoop:!1,nullGetter:function(X){return X.module?"":"undefined"},xmlFileNames:["[Content_Types].xml"],parser:w,linebreaks:!1,fileTypeConfig:null,delimiters:{start:"{",end:"}"},syntax:{changeDelimiterPrefix:"="}}}function N(H){return new c().serializeToString(H).replace(/xmlns(:[a-z0-9]+)?="" ?/g,"")}function $(H){return H.charCodeAt(0)===65279&&(H=H.substr(1)),new u().parseFromString(H,"text/xml")}var V=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&apos;"]],G=V.map(function(H){var X=t(H,2),ee=X[0],te=X[1];return{rstart:new RegExp(te,"g"),rend:new RegExp(ee,"g"),start:te,end:ee}});function re(H){for(var X=G.length-1;X>=0;X--){var ee=G[X];H=H.replace(ee.rstart,ee.end)}return H}function Y(H){H=H.toString();for(var X,ee=0,te=G.length;ee<te;ee++)X=G[ee],H=H.replace(X.rend,X.start);return H}function M(H){for(var X=[],ee=0;ee<H.length;ee++)for(var te=H[ee],ge=0;ge<te.length;ge++){var Re=te[ge];X.push(Re)}return X}function D(H,X){if(!X)return H;for(var ee=0,te=X.length;ee<te;ee++)H.push(X[ee]);return H}var j=new RegExp(" ","g");function Z(H){return H.replace(j," ")}function ne(H,X){for(var ee=[],te;(te=H.exec(X))!=null;)ee.push({array:te,offset:te.index});return ee}function k(H,X){return H==="</"+X+">"}function le(H,X){return H.indexOf("<"+X)===0&&[">"," ","/"].indexOf(H[X.length+1])!==-1}function se(H,X,ee){var te=B(H,X,ee);if(te!==null)return te;d({position:"right",element:X,parsed:H,index:ee})}function B(H,X,ee){typeof X=="string"&&(X=[X]);for(var te=1,ge=ee,Re=H.length;ge<Re;ge++)for(var xe=H[ge],me=0,Ee=X;me<Ee.length;me++){var je=Ee[me];if(k(xe.value,je)&&te--,le(xe.value,je)&&te++,te===0)return ge}return null}function U(H,X,ee){var te=I(H,X,ee);if(te!==null)return te;d({position:"left",element:X,parsed:H,index:ee})}function I(H,X,ee){typeof X=="string"&&(X=[X]);for(var te=1,ge=ee;ge>=0;ge--)for(var Re=H[ge],xe=0,me=X;xe<me.length;xe++){var Ee=me[xe];if(le(Re.value,Ee)&&te--,k(Re.value,Ee)&&te++,te===0)return ge}return null}function W(H,X){var ee=X.type,te=X.tag,ge=X.position;return ee==="tag"&&te===H&&(ge==="start"||ge==="selfclosing")}function ae(H,X){var ee=X.type,te=X.tag,ge=X.position;return ee==="tag"&&te===H&&ge==="end"}function oe(H){var X=H.type,ee=H.tag,te=H.position;return["w:p","a:p"].indexOf(ee)!==-1&&X==="tag"&&te==="start"}function pe(H){var X=H.type,ee=H.tag,te=H.position;return["w:p","a:p"].indexOf(ee)!==-1&&X==="tag"&&te==="end"}function De(H){var X=H.type,ee=H.position,te=H.text;return te&&X==="tag"&&ee==="start"}function de(H){var X=H.type,ee=H.position,te=H.text;return te&&X==="tag"&&ee==="end"}function he(H){var X=H.type,ee=H.position;return X==="placeholder"||X==="content"&&ee==="insidetag"}function Te(H,X){var ee=H.module,te=H.type;return X instanceof Array||(X=[X]),te==="placeholder"&&X.indexOf(ee)!==-1}var fe=/[\x00-\x08\x0B\x0C\x0E-\x1F]/g;function ce(H){return fe.lastIndex=0,fe.test(H)}function ve(H){return typeof H!="string"&&(H=String(H)),H.replace(fe,"")}function Se(H){var X={};for(var ee in H){var te=H[ee];X[te]||(X[te]=[]),X[te].push(ee)}return X}function we(H,X){return H.map(function(ee,te){return{item:ee,index:te}}).sort(function(ee,te){return X(ee.item,te.item)||ee.index-te.index}).map(function(ee){var te=ee.item;return te})}return Wm={endsWith:P,startsWith:F,isContent:he,isParagraphStart:oe,isParagraphEnd:pe,isTagStart:W,isTagEnd:ae,isTextStart:De,isTextEnd:de,isStarting:le,isEnding:k,isModule:Te,uniq:O,getDuplicates:R,chunkBy:z,last:g,first:v,xml2str:N,str2xml:$,getRightOrNull:B,getRight:se,getLeftOrNull:I,getLeft:U,pregMatchAll:ne,convertSpaces:Z,charMapRegexes:G,hasCorruptCharacters:ce,removeCorruptCharacters:ve,getDefaults:T,wordToUtf8:re,utf8ToWord:Y,concatArrays:M,pushArray:D,invertMap:Se,charMap:V,getSingleAttribute:L,setSingleAttribute:S,isWhiteSpace:_,stableSort:we},Wm}var Zm,gx;function vv(){if(gx)return Zm;gx=1;function t(se){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},t(se)}function e(se){return i(se)||r(se)||u(se)||n()}function n(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(se){if(typeof Symbol<"u"&&se[Symbol.iterator]!=null||se["@@iterator"]!=null)return Array.from(se)}function i(se){if(Array.isArray(se))return c(se)}function a(se,B){return d(se)||f(se,B)||u(se,B)||o()}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(se,B){if(se){if(typeof se=="string")return c(se,B);var U={}.toString.call(se).slice(8,-1);return U==="Object"&&se.constructor&&(U=se.constructor.name),U==="Map"||U==="Set"?Array.from(se):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?c(se,B):void 0}}function c(se,B){(B==null||B>se.length)&&(B=se.length);for(var U=0,I=Array(B);U<B;U++)I[U]=se[U];return I}function f(se,B){var U=se==null?null:typeof Symbol<"u"&&se[Symbol.iterator]||se["@@iterator"];if(U!=null){var I,W,ae,oe,pe=[],De=!0,de=!1;try{if(ae=(U=U.call(se)).next,B!==0)for(;!(De=(I=ae.call(U)).done)&&(pe.push(I.value),pe.length!==B);De=!0);}catch(he){de=!0,W=he}finally{try{if(!De&&U.return!=null&&(oe=U.return(),Object(oe)!==oe))return}finally{if(de)throw W}}return pe}}function d(se){if(Array.isArray(se))return se}function p(se,B){var U=Object.keys(se);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(se);B&&(I=I.filter(function(W){return Object.getOwnPropertyDescriptor(se,W).enumerable})),U.push.apply(U,I)}return U}function g(se){for(var B=1;B<arguments.length;B++){var U=arguments[B]!=null?arguments[B]:{};B%2?p(Object(U),!0).forEach(function(I){v(se,I,U[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(U)):p(Object(U)).forEach(function(I){Object.defineProperty(se,I,Object.getOwnPropertyDescriptor(U,I))})}return se}function v(se,B,U){return(B=_(B))in se?Object.defineProperty(se,B,{value:U,enumerable:!0,configurable:!0,writable:!0}):se[B]=U,se}function _(se){var B=w(se,"string");return t(B)=="symbol"?B:B+""}function w(se,B){if(t(se)!="object"||!se)return se;var U=se[Symbol.toPrimitive];if(U!==void 0){var I=U.call(se,B);if(t(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(se)}var A=mr(),S=A.getRightOrNull,L=A.getRight,P=A.getLeft,F=A.getLeftOrNull,R=A.chunkBy,O=A.isTagStart,z=A.isTagEnd,T=A.isContent,N=A.last,$=A.first,V=Oi(),G=V.XTTemplateError,re=V.throwExpandNotFound,Y=V.getLoopPositionProducesInvalidXMLError;function M(se,B){if(se.length===0)return!1;var U=N(se).substr(1);return U.indexOf(B)===0}function D(se){for(var B=[],U=0;U<se.length;U++){var I=se[U],W=I.position,ae=I.value,oe=I.tag;oe&&(W==="end"?M(B,oe)?B.pop():B.push(ae):W==="start"&&B.push(ae))}return B}function j(se,B){for(var U=0;U<B.length;U++){var I=B[U];if(I.indexOf("<".concat(se))===0)return!0}return!1}function Z(se,B,U){var I=se.slice(B[0].offset,B[1].offset),W=D(I),ae=W.filter(function(he){return he[1]==="/"}).length,oe=W.filter(function(he){return he[1]!=="/"&&he[he.length-2]!=="/"}).length;if(ae!==oe)return{error:Y({tag:$(B).part.value,offset:[$(B).part.offset,N(B).part.offset]})};for(var pe=function(){var Te=U[de],fe=Te.contains,ce=Te.expand,ve=Te.onlyTextInTag;if(j(fe,W)){if(ve){var Se=F(se,fe,B[0].offset),we=S(se,fe,B[1].offset);if(Se===null||we===null)return 0;var H=R(se.slice(Se,we),function(Re){return O(fe,Re)?"start":z(fe,Re)?"end":null}),X=$(H),ee=N(H),te=X.filter(T),ge=ee.filter(T);if(te.length!==1||ge.length!==1)return 0}return{v:{value:ce}}}},De,de=0;de<U.length;de++)if(De=pe(),De!==0&&De)return De.v;return{}}function ne(se,B,U,I){var W=se.expandTo||I.expandTo;if(W){var ae,oe;try{oe=P(U,W,B),ae=L(U,W,B)}catch(de){var pe=g({part:se,rootError:de,postparsed:U,expandTo:W,index:B},I.error);if(I.onError){var De=I.onError(pe);if(De==="ignore")return}re(pe)}return[oe,ae]}}function k(se,B,U,I){var W=a(se,2),ae=W[0],oe=W[1],pe=U.indexOf(B),De=U.slice(ae,pe),de=U.slice(pe+1,oe+1),he=I.getInner({postparse:I.postparse,index:pe,part:B,leftParts:De,rightParts:de,left:ae,right:oe,postparsed:U});return he.length||(he.expanded=[De,de],he=[he]),{left:ae,right:oe,inner:he}}function le(se,B){var U=[];se.errors&&(U=se.errors,se=se.postparsed);for(var I=[],W=0,ae=se.length;W<ae;W++){var oe=se[W];if(oe.type==="placeholder"&&oe.module===B.moduleName&&!oe.subparsed&&!oe.expanded)try{var pe=ne(oe,W,se,B);if(!pe)continue;var De=a(pe,2),de=De[0],he=De[1];I.push({left:de,right:he,part:oe,i:W,leftPart:se[de],rightPart:se[he]})}catch(ee){U.push(ee)}}I.sort(function(ee,te){return ee.left===te.left?te.part.lIndex<ee.part.lIndex?1:-1:te.left<ee.left?1:-1});for(var Te=-1,fe=0,ce=0,ve=I.length;ce<ve;ce++){var Se,we=I[ce];if(Te=Math.max(Te,ce>0?I[ce-1].right:0),!(we.left<Te)){var H=void 0;try{H=k([we.left+fe,we.right+fe],we.part,se,B)}catch(ee){if(B.onError){var X=B.onError(g({part:we.part,rootError:ee,postparsed:se,expandOne:k},B.errors));if(X==="ignore")continue}if(ee instanceof G)U.push(ee);else throw ee}H&&(fe+=H.inner.length-(H.right+1-H.left),(Se=se).splice.apply(Se,[H.left,H.right+1-H.left].concat(e(H.inner))))}}return{postparsed:se,errors:U}}return Zm={expandToOne:le,getExpandToDefault:Z},Zm}var Km,vx;function _o(){if(vx)return Km;vx=1;var t=Oi(),e=t.XTInternalError;function n(){}function r(i){return i}return Km=function(i){var a={set:n,matchers:function(){return[]},parse:n,render:n,getTraits:n,getFileType:n,nullGetter:n,optionsTransformer:r,postrender:r,errorsTransformer:r,getRenderedMap:r,preparse:r,postparse:r,on:n,resolve:n,preResolve:n};if(Object.keys(a).every(function(c){return!i[c]})){var o=new e("This module cannot be wrapped, because it doesn't define any of the necessary functions");throw o.properties={id:"module_cannot_be_wrapped",explanation:"This module cannot be wrapped, because it doesn't define any of the necessary functions"},o}for(var u in a)i[u]||(i[u]=a[u]);return i},Km}var Qm,yx;function yv(){if(yx)return Qm;yx=1;var t="application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml",e="application/vnd.ms-word.document.macroEnabled.main+xml",n="application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml",r="application/vnd.ms-word.template.macroEnabledTemplate.main+xml",i="application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",a="application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml",o="application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml",u="application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",c="application/vnd.openxmlformats-officedocument.presentationml.slide+xml",f="application/vnd.openxmlformats-officedocument.presentationml.slideMaster+xml",d="application/vnd.openxmlformats-officedocument.presentationml.slideLayout+xml",p="application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml",g="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",v="application/vnd.ms-excel.sheet.macroEnabled.main+xml",_="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",w=[t,e,n,r],A={main:w,docx:[i].concat(w,[u,a,o]),pptx:[c,f,d,p],xlsx:[g,v,_]};return Qm=A,Qm}var Jm,bx;function AE(){if(bx)return Jm;bx=1;var t="application/vnd.openxmlformats-package.core-properties+xml",e="application/vnd.openxmlformats-officedocument.extended-properties+xml",n="application/vnd.openxmlformats-officedocument.custom-properties+xml",r="application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml",i="application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml",a="application/vnd.ms-office.drawingml.diagramDrawing+xml";return Jm={settingsContentType:r,coreContentType:t,appContentType:e,customContentType:n,diagramDataContentType:i,diagramDrawingContentType:a},Jm}var eg,_x;function l3(){if(_x)return eg;_x=1;function t(P){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},t(P)}function e(P,F){if(!(P instanceof F))throw new TypeError("Cannot call a class as a function")}function n(P,F){for(var R=0;R<F.length;R++){var O=F[R];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,i(O.key),O)}}function r(P,F,R){return F&&n(P.prototype,F),Object.defineProperty(P,"prototype",{writable:!1}),P}function i(P){var F=a(P,"string");return t(F)=="symbol"?F:F+""}function a(P,F){if(t(P)!="object"||!P)return P;var R=P[Symbol.toPrimitive];if(R!==void 0){var O=R.call(P,F);if(t(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)}var o=mr(),u=o.pushArray,c=_o(),f=yv(),d=AE(),p=d.settingsContentType,g=d.coreContentType,v=d.appContentType,_=d.customContentType,w=d.diagramDataContentType,A=d.diagramDrawingContentType,S=[p,g,v,_,w,A],L=function(){function P(){e(this,P),this.name="Common"}return r(P,[{key:"getFileType",value:function(R){var O=R.doc,z=O.invertedContentTypes;if(z){for(var T=0;T<S.length;T++){var N=S[T];z[N]&&u(O.targets,z[N])}for(var $=["docx","pptx","xlsx"],V,G=0;G<$.length;G++){for(var re=$[G],Y=f[re],M=0;M<Y.length;M++){var D=Y[M];if(z[D])for(var j=0,Z=z[D];j<Z.length;j++){var ne=Z[j];O.relsTypes[ne]&&["http://purl.oclc.org/ooxml/officeDocument/relationships/officeDocument","http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument"].indexOf(O.relsTypes[ne])===-1||(V=re,(f.main.indexOf(D)!==-1||D===f.pptx[0])&&(O.textTarget||(O.textTarget=ne)),V!=="xlsx"&&O.targets.push(ne))}}if(V)return V}return V}}}])}();return eg=function(){return c(new L)},eg}var tg,xx;function u3(){if(xx)return tg;xx=1;function t(A){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},t(A)}function e(A,S){if(!(A instanceof S))throw new TypeError("Cannot call a class as a function")}function n(A,S){for(var L=0;L<S.length;L++){var P=S[L];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(A,i(P.key),P)}}function r(A,S,L){return S&&n(A.prototype,S),Object.defineProperty(A,"prototype",{writable:!1}),A}function i(A){var S=a(A,"string");return t(S)=="symbol"?S:S+""}function a(A,S){if(t(A)!="object"||!A)return A;var L=A[Symbol.toPrimitive];if(L!==void 0){var P=L.call(A,S);if(t(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(A)}var o=Oi(),u=o.getScopeParserExecutionError,c=gv(),f=c.last,d=mr(),p=d.concatArrays;function g(A,S){for(var L=A.length>>>0,P,F=0;F<L;F++)if(P=A[F],S.call(this,P,F,A))return P}function v(A,S,L){var P=this,F=this.scopeList[L];if(this.root.finishedResolving){for(var R=this.resolved,O=function(){var G=P.scopeLindex[z];R=g(R,function(re){return re.lIndex===G}),R=R.value[P.scopePathItem[z]]},z=this.resolveOffset,T=this.scopePath.length;z<T;z++)O();return g(R,function(V){return S.part.lIndex===V.lIndex}).value}var N,$;!this.cachedParsers||!S.part?$=this.parser(A,{tag:S.part,scopePath:this.scopePath}):this.cachedParsers[S.part.lIndex]?$=this.cachedParsers[S.part.lIndex]:$=this.cachedParsers[S.part.lIndex]=this.parser(A,{tag:S.part,scopePath:this.scopePath});try{N=$.get(F,this.getContext(S,L))}catch(V){throw u({tag:A,scope:F,error:V,offset:S.part.offset})}return N==null&&L>0?v.call(this,A,S,L-1):N}function _(A,S,L){var P=this,F=this.scopeList[L],R;return!this.cachedParsers||!S.part?R=this.parser(A,{tag:S.part,scopePath:this.scopePath}):this.cachedParsers[S.part.lIndex]?R=this.cachedParsers[S.part.lIndex]:R=this.cachedParsers[S.part.lIndex]=this.parser(A,{tag:S.part,scopePath:this.scopePath}),Promise.resolve().then(function(){return R.get(F,P.getContext(S,L))}).catch(function(O){throw u({tag:A,scope:F,error:O,offset:S.part.offset})}).then(function(O){return O==null&&L>0?_.call(P,A,S,L-1):O})}var w=function(){function A(S){e(this,A),this.root=S.root||this,this.resolveOffset=S.resolveOffset||0,this.scopePath=S.scopePath,this.scopePathItem=S.scopePathItem,this.scopePathLength=S.scopePathLength,this.scopeList=S.scopeList,this.scopeType="",this.scopeTypes=S.scopeTypes,this.scopeLindex=S.scopeLindex,this.parser=S.parser,this.resolved=S.resolved,this.cachedParsers=S.cachedParsers}return r(A,[{key:"loopOver",value:function(L,P,F,R){return this.loopOverValue(this.getValue(L,R),P,F)}},{key:"functorIfInverted",value:function(L,P,F,R,O){return L&&P(F,R,O),L}},{key:"isValueFalsy",value:function(L,P){return L==null||!L||P==="[object Array]"&&L.length===0}},{key:"loopOverValue",value:function(L,P,F){this.root.finishedResolving&&(F=!1);var R=Object.prototype.toString.call(L);if(this.isValueFalsy(L,R))return this.scopeType=!1,this.functorIfInverted(F,P,f(this.scopeList),0,1);if(R==="[object Array]"){this.scopeType="array";for(var O=0;O<L.length;O++)this.functorIfInverted(!F,P,L[O],O,L.length);return!0}return R==="[object Object]"?(this.scopeType="object",this.functorIfInverted(!F,P,L,0,1)):this.functorIfInverted(!F,P,f(this.scopeList),0,1)}},{key:"getValue",value:function(L,P){var F=v.call(this,L,P,this.scopeList.length-1);return typeof F=="function"?F(this.scopeList[this.scopeList.length-1],this):F}},{key:"getValueAsync",value:function(L,P){var F=this;return _.call(this,L,P,this.scopeList.length-1).then(function(R){return typeof R=="function"?R(F.scopeList[F.scopeList.length-1],F):R})}},{key:"getContext",value:function(L,P){return{num:P,meta:L,scopeList:this.scopeList,resolved:this.resolved,scopePath:this.scopePath,scopeTypes:this.scopeTypes,scopePathItem:this.scopePathItem,scopePathLength:this.scopePathLength}}},{key:"createSubScopeManager",value:function(L,P,F,R,O){return new A({root:this.root,resolveOffset:this.resolveOffset,resolved:this.resolved,parser:this.parser,cachedParsers:this.cachedParsers,scopeTypes:p([this.scopeTypes,[this.scopeType]]),scopeList:p([this.scopeList,[L]]),scopePath:p([this.scopePath,[P]]),scopePathItem:p([this.scopePathItem,[F]]),scopePathLength:p([this.scopePathLength,[O]]),scopeLindex:p([this.scopeLindex,[R.lIndex]])})}}])}();return tg=function(A){return A.scopePath=[],A.scopePathItem=[],A.scopePathLength=[],A.scopeTypes=[],A.scopeLindex=[],A.scopeList=[A.tags],new w(A)},tg}var ng,wx;function TE(){if(wx)return ng;wx=1;function t(I){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},t(I)}function e(I,W){return o(I)||a(I,W)||r(I,W)||n()}function n(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(I,W){if(I){if(typeof I=="string")return i(I,W);var ae={}.toString.call(I).slice(8,-1);return ae==="Object"&&I.constructor&&(ae=I.constructor.name),ae==="Map"||ae==="Set"?Array.from(I):ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae)?i(I,W):void 0}}function i(I,W){(W==null||W>I.length)&&(W=I.length);for(var ae=0,oe=Array(W);ae<W;ae++)oe[ae]=I[ae];return oe}function a(I,W){var ae=I==null?null:typeof Symbol<"u"&&I[Symbol.iterator]||I["@@iterator"];if(ae!=null){var oe,pe,De,de,he=[],Te=!0,fe=!1;try{if(De=(ae=ae.call(I)).next,W!==0)for(;!(Te=(oe=De.call(ae)).done)&&(he.push(oe.value),he.length!==W);Te=!0);}catch(ce){fe=!0,pe=ce}finally{try{if(!Te&&ae.return!=null&&(de=ae.return(),Object(de)!==de))return}finally{if(fe)throw pe}}return he}}function o(I){if(Array.isArray(I))return I}function u(I,W){var ae=Object.keys(I);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(I);W&&(oe=oe.filter(function(pe){return Object.getOwnPropertyDescriptor(I,pe).enumerable})),ae.push.apply(ae,oe)}return ae}function c(I){for(var W=1;W<arguments.length;W++){var ae=arguments[W]!=null?arguments[W]:{};W%2?u(Object(ae),!0).forEach(function(oe){f(I,oe,ae[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ae)):u(Object(ae)).forEach(function(oe){Object.defineProperty(I,oe,Object.getOwnPropertyDescriptor(ae,oe))})}return I}function f(I,W,ae){return(W=d(W))in I?Object.defineProperty(I,W,{value:ae,enumerable:!0,configurable:!0,writable:!0}):I[W]=ae,I}function d(I){var W=p(I,"string");return t(W)=="symbol"?W:W+""}function p(I,W){if(t(I)!="object"||!I)return I;var ae=I[Symbol.toPrimitive];if(ae!==void 0){var oe=ae.call(I,W);if(t(oe)!="object")return oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(W==="string"?String:Number)(I)}var g=Oi(),v=g.getUnclosedTagException,_=g.getUnopenedTagException,w=g.getDuplicateOpenTagException,A=g.getDuplicateCloseTagException,S=g.throwMalformedXml,L=g.throwXmlInvalid,P=g.XTTemplateError,F=mr(),R=F.isTextStart,O=F.isTextEnd,z=F.wordToUtf8,T=F.pushArray,N=0,$=1,V=2,G=3;function re(I,W){return I[0]<=W.offset&&W.offset<I[1]}function Y(I,W){return R(I)?(W&&S(),!0):O(I)?(W||S(),!1):W}function M(I){var W="",ae=1,oe=I.indexOf(" ");return I[I.length-2]==="/"?(W="selfclosing",oe===-1&&(oe=I.length-2)):I[1]==="/"?(ae=2,W="end",oe===-1&&(oe=I.length-1)):(W="start",oe===-1&&(oe=I.length-1)),{tag:I.slice(ae,oe),position:W}}function D(I,W,ae){for(var oe=0,pe=I.length,De={},de=0;de<W.length;de++){var he=W[de];De[he]=!0}for(var Te=0;Te<ae.length;Te++){var fe=ae[Te];De[fe]=!1}for(var ce=[];oe<pe&&(oe=I.indexOf("<",oe),oe!==-1);){var ve=oe,Se=I.indexOf("<",oe+1);oe=I.indexOf(">",oe),(oe===-1||Se!==-1&&oe>Se)&&L(I,ve);var we=I.slice(ve,oe+1),H=M(we),X=H.tag,ee=H.position,te=De[X];te!=null&&ce.push({type:"tag",position:ee,text:te,offset:ve,value:we,tag:X})}return ce}function j(I,W,ae){var oe=[],pe=!1,De={offset:0},de,he=I.reduce(function(fe,ce){var ve=ce.position,Se=ce.offset,we=De.offset,H=De.length;if(de=W.substr(we,Se-we),pe&&ve==="start"){if(we+H===Se&&(de=W.substr(we,Se-we+H+4),!ae.allowUnclosedTag))return oe.push(w({xtag:de,offset:we})),De=ce,fe.push(c(c({},ce),{},{error:!0})),fe;if(!ae.allowUnclosedTag)return oe.push(v({xtag:z(de),offset:we})),De=ce,fe.push(c(c({},ce),{},{error:!0})),fe;fe.pop()}return!pe&&ve==="end"?ae.allowUnopenedTag?fe:we+H===Se?(de=W.substr(we-4,Se-we+H+4),oe.push(A({xtag:de,offset:we})),De=ce,fe.push(c(c({},ce),{},{error:!0})),fe):(oe.push(_({xtag:de,offset:Se})),De=ce,fe.push(c(c({},ce),{},{error:!0})),fe):(pe=ve==="start",De=ce,fe.push(ce),fe)},[]);if(pe){var Te=De.offset;de=W.substr(Te,W.length-Te),ae.allowUnclosedTag?he.pop():oe.push(v({xtag:z(de),offset:Te}))}return{delimiterWithErrors:he,errors:oe}}function Z(I,W){return I===-1&&W===-1?N:I===W?$:I===-1||W===-1?W<I?V:G:I<W?V:G}function ne(I){var W=I.split(" ");if(W.length!==2){var ae=new P("New Delimiters cannot be parsed");throw ae.properties={id:"change_delimiters_invalid",explanation:"Cannot parser delimiters"},ae}var oe=e(W,2),pe=oe[0],De=oe[1];if(pe.length===0||De.length===0){var de=new P("New Delimiters cannot be parsed");throw de.properties={id:"change_delimiters_invalid",explanation:"Cannot parser delimiters"},de}return[pe,De]}function k(I,W,ae){var oe=[],pe=W.start,De=W.end,de=-1,he=!1;if(pe==null&&De==null)return[];for(;;){var Te=I.indexOf(pe,de+1),fe=I.indexOf(De,de+1),ce=null,ve=void 0,Se=Z(Te,fe);switch(Se===$&&(Se=he?G:V),Se){case N:return oe;case G:he=!1,de=fe,ce="end",ve=De.length;break;case V:he=!0,de=Te,ce="start",ve=pe.length;break}if(ae.changeDelimiterPrefix&&Se===V&&I[de+pe.length]===ae.changeDelimiterPrefix){oe.push({offset:Te,position:"start",length:pe.length,changedelimiter:!0});var we=I.indexOf(ae.changeDelimiterPrefix,de+pe.length+1),H=I.indexOf(De,we+1);oe.push({offset:H,position:"end",length:De.length,changedelimiter:!0});var X=I.substr(de+pe.length+1,we-de-pe.length-1),ee=ne(X),te=e(ee,2);pe=te[0],De=te[1],de=H;continue}oe.push({offset:de,position:ce,length:ve})}}function le(I,W,ae){var oe=I.map(function(we){return we.value}).join(""),pe=k(oe,W,ae),De=0,de=I.map(function(we){return De+=we.value.length,{offset:De-we.value.length,lIndex:we.lIndex}}),he=j(pe,oe,ae),Te=he.delimiterWithErrors,fe=he.errors,ce=0,ve=0,Se=de.map(function(we,H){for(var X=we.offset,ee=[X,X+I[H].value.length],te=I[H].value,ge=[];ve<Te.length&&re(ee,Te[ve]);)ge.push(Te[ve]),ve++;var Re=[],xe=0;ce>0&&(xe=ce,ce=0);for(var me=0;me<ge.length;me++){var Ee=ge[me],je=te.substr(xe,Ee.offset-X-xe);if(Ee.changedelimiter){Ee.position==="start"?je.length>0&&Re.push({type:"content",value:je}):xe=Ee.offset-X+Ee.length;continue}je.length>0&&(Re.push({type:"content",value:je}),xe+=je.length);var Pe={type:"delimiter",position:Ee.position,offset:xe+X};Re.push(Pe),xe=Ee.offset-X+Ee.length}ce=xe-te.length;var qe=te.substr(xe);return qe.length>0&&Re.push({type:"content",value:qe}),Re},this);return{parsed:Se,errors:fe}}function se(I){return I.type==="content"&&I.position==="insidetag"}function B(I){return I.filter(se)}function U(I,W){for(var ae=!1,oe=0;oe<I.length;oe++){var pe=I[oe];ae=Y(pe,ae),pe.type==="content"&&(pe.position=ae?"insidetag":"outsidetag"),W!=="text"&&se(pe)&&(pe.value=pe.value.replace(/>/g,"&gt;"))}}return ng={parseDelimiters:le,parse:function(W,ae,oe,pe){U(W,pe);for(var De=le(B(W),ae,oe),de=De.parsed,he=De.errors,Te=[],fe=0,ce=0,ve=0;ve<W.length;ve++){var Se=W[ve];if(se(Se)){for(var we=0,H=de[fe];we<H.length;we++){var X=H[we];X.type==="content"&&(X.position="insidetag"),X.lIndex=ce++}T(Te,de[fe]),fe++}else Se.lIndex=ce++,Te.push(Se)}return{errors:he,lexed:Te}},xmlparse:function(W,ae){var oe=D(W,ae.text,ae.other),pe=0,De=oe.reduce(function(de,he){return W.length>pe&&he.offset-pe>0&&de.push({type:"content",value:W.substr(pe,he.offset-pe)}),pe=he.offset+he.value.length,delete he.offset,de.push(he),de},[]);return W.length>pe&&De.push({type:"content",value:W.substr(pe)}),De}},ng}var rg,Sx;function c3(){if(Sx)return rg;Sx=1;function t(c){return i(c)||r(c)||n(c)||e()}function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(c,f){if(c){if(typeof c=="string")return a(c,f);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?a(c,f):void 0}}function r(c){if(typeof Symbol<"u"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}function i(c){if(Array.isArray(c))return a(c)}function a(c,f){(f==null||f>c.length)&&(f=c.length);for(var d=0,p=Array(f);d<f;d++)p[d]=c[d];return p}function o(c){return c.type==="placeholder"}function u(c){var f={},d=[{items:c.filter(o),parents:[],path:[]}];function p(D,j,Z){Z.length&&d.push({items:Z,parents:[].concat(t(j.parents),[D]),path:D.dataBound!==!1&&!D.attrParsed&&D.value&&!D.attrParsed?[].concat(t(j.path),[D.value]):t(j.path)})}function g(D,j){for(var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:j.length,ne=D,k=0;k<Z;k++)ne=ne[j[k]];return ne}function v(D,j){return j.reduce(function(Z,ne){var k=typeof ne.lIndex=="number"?ne.lIndex:parseInt(ne.lIndex.split("-")[0],10);return k>D.lIndex?Z-1:Z},j.length)}for(;d.length>0;)for(var _=d.pop(),w=g(f,_.path),A=0,S=_.items;A<S.length;A++){var L,P,F=S[A];if(F.attrParsed){for(var R in F.attrParsed)p(F,_,F.attrParsed[R].filter(o));continue}if(F.subparsed){if(F.dataBound!==!1){var O,z;(O=w)[z=F.value]||(O[z]={})}p(F,_,F.subparsed.filter(o));continue}if(F.cellParsed){for(var T=0,N=F.cellPostParsed;T<N.length;T++){var $=N[T];if($.type==="placeholder"){if($.module==="pro-xml-templating/xls-module-loop")continue;if($.subparsed){var V,G;(V=w)[G=$.value]||(V[G]={}),p($,_,$.subparsed.filter(o))}else{var re,Y,M=v(F,_.parents);w=g(f,_.path,M),(re=w)[Y=$.value]||(re[Y]={})}}}continue}F.dataBound!==!1&&((L=w)[P=F.value]||(L[P]={}))}return f}return rg={getTags:u,isPlaceholder:o},rg}var ig,Ex;function f3(){if(Ex)return ig;Ex=1;var t=mr(),e=t.pushArray;function n(i,a){return a instanceof Error?e(Object.getOwnPropertyNames(a),["stack"]).reduce(function(o,u){return o[u]=a[u],u==="stack"&&(o[u]=a[u].toString()),o},{}):a}function r(i,a){if(console.log(JSON.stringify({error:i},n,a==="json"?2:null)),i.properties&&i.properties.errors instanceof Array){var o=i.properties.errors.map(function(u){return u.properties.explanation}).join(`
`);console.log("errorMessages",o)}}return ig=r,ig}var ag,Cx;function h3(){if(Cx)return ag;Cx=1;var t="[Content_Types].xml";function e(n,r,i){for(var a={},o=0;o<n.length;o++){var u=n[o],c=u.getAttribute("ContentType"),f=u.getAttribute("PartName").substr(1);a[f]=c}for(var d=function(){var v=r[p],_=v.getAttribute("ContentType"),w=v.getAttribute("Extension");i.file(/./).map(function(A){var S=A.name;S.slice(S.length-w.length)===w&&!a[S]&&S!==t&&(a[S]=_)})},p=0;p<r.length;p++)d();return a}return ag=e,ag}var sg,Ax;function DE(){if(Ax)return sg;Ax=1;var t=mr(),e=t.pregMatchAll;return sg=function(r,i){var a={content:r},o=i.join("|"),u=new RegExp("(?:(<(?:".concat(o,")[^>]*>)([^<>]*)</(?:").concat(o,")>)|(<(?:").concat(o,")[^>]*/>)"),"g");return a.matches=e(u,a.content),a},sg}var og,Tx;function d3(){if(Tx)return og;Tx=1;function t(o){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},t(o)}var e=new RegExp(" ","g");function n(o){return o.replace(e," ")}function r(o,u){var c=t(o);if(c==="string")return n(u.substr(0,o.length))===o;if(o instanceof RegExp)return o.test(n(u));if(c==="function")return!!o(u)}function i(o,u){var c=t(o);if(c==="string")return n(u).substr(o.length);if(o instanceof RegExp)return n(u).match(o)[1];if(c==="function")return o(u)}function a(o,u){var c=t(o);if(c==="string")return[u,n(u).substr(o.length)];if(o instanceof RegExp)return n(u).match(o);if(c==="function")return[u,o(u)]}return og={match:r,getValue:i,getValues:a},og}var lg,Dx;function p3(){if(Dx)return lg;Dx=1;function t(z){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},t(z)}function e(z,T){var N=Object.keys(z);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(z);T&&($=$.filter(function(V){return Object.getOwnPropertyDescriptor(z,V).enumerable})),N.push.apply(N,$)}return N}function n(z){for(var T=1;T<arguments.length;T++){var N=arguments[T]!=null?arguments[T]:{};T%2?e(Object(N),!0).forEach(function($){r(z,$,N[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(N)):e(Object(N)).forEach(function($){Object.defineProperty(z,$,Object.getOwnPropertyDescriptor(N,$))})}return z}function r(z,T,N){return(T=i(T))in z?Object.defineProperty(z,T,{value:N,enumerable:!0,configurable:!0,writable:!0}):z[T]=N,z}function i(z){var T=a(z,"string");return t(T)=="symbol"?T:T+""}function a(z,T){if(t(z)!="object"||!z)return z;var N=z[Symbol.toPrimitive];if(N!==void 0){var $=N.call(z,T);if(t($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(z)}function o(z,T){return p(z)||d(z,T)||c(z,T)||u()}function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(z,T){if(z){if(typeof z=="string")return f(z,T);var N={}.toString.call(z).slice(8,-1);return N==="Object"&&z.constructor&&(N=z.constructor.name),N==="Map"||N==="Set"?Array.from(z):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?f(z,T):void 0}}function f(z,T){(T==null||T>z.length)&&(T=z.length);for(var N=0,$=Array(T);N<T;N++)$[N]=z[N];return $}function d(z,T){var N=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(N!=null){var $,V,G,re,Y=[],M=!0,D=!1;try{if(G=(N=N.call(z)).next,T!==0)for(;!(M=($=G.call(N)).done)&&(Y.push($.value),Y.length!==T);M=!0);}catch(j){D=!0,V=j}finally{try{if(!M&&N.return!=null&&(re=N.return(),Object(re)!==re))return}finally{if(D)throw V}}return Y}}function p(z){if(Array.isArray(z))return z}var g=mr(),v=g.wordToUtf8,_=g.pushArray,w=d3(),A=w.match,S=w.getValue,L=w.getValues;function P(z,T){for(var N=[],$=0;$<z.length;$++){var V=z[$];if(V.matchers){var G=V.matchers(T);if(!(G instanceof Array))throw new Error("module matcher returns a non array");_(N,G)}}return N}function F(z,T,N){for(var $=[],V=0;V<z.length;V++){var G=z[V],re=o(G,2),Y=re[0],M=re[1],D=G[2]||{};if(N.match(Y,T)){var j=N.getValues(Y,T);if(typeof D=="function"&&(D=D(j)),!D.value){var Z=o(j,2);D.value=Z[1]}$.push(n({type:"placeholder",prefix:Y,module:M,onMatch:D.onMatch,priority:D.priority},D))}}return $}function R(z,T){var N=T.modules,$=T.startOffset,V=T.lIndex,G;T.offset=$,T.match=A,T.getValue=S,T.getValues=L;var re=P(N,T),Y=F(re,z,T);if(Y.length>0){for(var M=null,D=0;D<Y.length;D++){var j=Y[D];j.priority||(j.priority=-j.value.length),(!M||j.priority>M.priority)&&(M=j)}return M.offset=$,delete M.priority,M.endLindex=V,M.lIndex=V,M.raw=z,M.onMatch&&M.onMatch(M),delete M.onMatch,delete M.prefix,M}for(var Z=0;Z<N.length;Z++){var ne=N[Z];if(G=ne.parse(z,T),G)return G.offset=$,G.endLindex=V,G.lIndex=V,G.raw=z,G}return{type:"placeholder",value:z,offset:$,endLindex:V,lIndex:V}}var O={preparse:function(T,N,$){function V(G,re){for(var Y=0;Y<N.length;Y++){var M=N[Y];G=M.preparse(G,re)||G}return G}return V(T,$)},parse:function(T,N,$){var V=!1,G="",re,Y=[],M=$.fileTypeConfig.droppedTagsInsidePlaceholder||[];return T.reduce(function(D,j){return j.type==="delimiter"?(V=j.position==="start",j.position==="end"&&($.parse=function(Z){return R(Z,n(n(n({},$),j),{},{startOffset:re,modules:N}))},D.push($.parse(v(G))),_(D,Y),Y=[]),j.position==="start"&&(Y=[],re=j.offset),G="",D):V?j.type!=="content"||j.position!=="insidetag"?(M.indexOf(j.tag)!==-1||Y.push(j),D):(G+=j.value,D):(D.push(j),D)},[])},postparse:function(T,N,$){function V(Y,M){return N.map(function(D){return D.getTraits(Y,M)})}var G=[];function re(Y,M){return N.reduce(function(D,j){var Z=j.postparse(D,n(n({},M),{},{postparse:function(k,le){return re(k,n(n({},M),le))},getTraits:V}));return Z==null?D:Z.errors?(_(G,Z.errors),Z.postparsed):Z},Y)}return{postparsed:re(T,$),errors:G}}};return lg=O,lg}var ug,Ox;function OE(){if(Ox)return ug;Ox=1;function t(e,n){if(e.lIndex==null)return null;var r=n.scopeManager.scopePathItem;e.parentPart&&(r=r.slice(0,r.length-1));var i=n.filePath+"@"+e.lIndex.toString()+"-"+r.join("-");return i}return ug=t,ug}var cg,kx;function m3(){if(kx)return cg;kx=1;var t=Oi(),e=t.throwUnimplementedTagType,n=t.XTScopeParserError,r=mr(),i=r.pushArray,a=OE();function o(c,f){for(var d=0,p=f.modules;d<p.length;d++){var g=p[d],v=g.render(c,f);if(v)return v}return!1}function u(c){var f=c.baseNullGetter,d=c.compiled,p=c.scopeManager;c.nullGetter=function(_,w){return f(_,w||p)};var g=[],v=d.map(function(_,w){c.index=w,c.resolvedId=a(_,c);var A;try{A=o(_,c)}catch(S){if(S instanceof n)return g.push(S),_;throw S}if(A)return A.errors&&i(g,A.errors),A;if(_.type==="content"||_.type==="tag")return _;e(_,w)}).reduce(function(_,w){var A=w.value;return A instanceof Array?i(_,A):A&&_.push(A),_},[]);return{errors:g,parts:v}}return cg=u,cg}var fg,Nx;function g3(){if(Nx)return fg;Nx=1;function t(n){var r,i,a,o,u=0,c=n.length;for(a=0;a<c;a++)r=n.charCodeAt(a),(r&64512)===55296&&a+1<c&&(i=n.charCodeAt(a+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),a++)),u+=r<128?1:r<2048?2:r<65536?3:4;var f=new Uint8Array(u);for(o=0,a=0;o<u;a++)r=n.charCodeAt(a),(r&64512)===55296&&a+1<c&&(i=n.charCodeAt(a+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),a++)),r<128?f[o++]=r:r<2048?(f[o++]=192|r>>>6,f[o++]=128|r&63):r<65536?(f[o++]=224|r>>>12,f[o++]=128|r>>>6&63,f[o++]=128|r&63):(f[o++]=240|r>>>18,f[o++]=128|r>>>12&63,f[o++]=128|r>>>6&63,f[o++]=128|r&63);return f}function e(n,r){for(var i=0,a=r.modules;i<a.length;i++){var o=a[i];n=o.postrender(n,r)}for(var u=0,c=r.joinUncorrupt(n,r),f="",d=0,p=65536,g=[],v=0,_=c.length;v<_;v++){var w=c[v];if(w.length+d>p){var A=t(f);u+=A.length,g.push(A),f=""}f+=w,d+=w.length,delete c[v]}var S=t(f);u+=S.length,g.push(S);for(var L=new Uint8Array(u),P=0,F=0;F<g.length;F++){for(var R=g[F],O=0;O<R.length;++O)L[O+P]=R[O];P+=R.length}return L}return fg=e,fg}var hg,Rx;function v3(){if(Rx)return hg;Rx=1;function t(p){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},t(p)}function e(p,g){var v=Object.keys(p);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(p);g&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(p,w).enumerable})),v.push.apply(v,_)}return v}function n(p){for(var g=1;g<arguments.length;g++){var v=arguments[g]!=null?arguments[g]:{};g%2?e(Object(v),!0).forEach(function(_){r(p,_,v[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(v)):e(Object(v)).forEach(function(_){Object.defineProperty(p,_,Object.getOwnPropertyDescriptor(v,_))})}return p}function r(p,g,v){return(g=i(g))in p?Object.defineProperty(p,g,{value:v,enumerable:!0,configurable:!0,writable:!0}):p[g]=v,p}function i(p){var g=a(p,"string");return t(g)=="symbol"?g:g+""}function a(p,g){if(t(p)!="object"||!p)return p;var v=p[Symbol.toPrimitive];if(v!==void 0){var _=v.call(p,g);if(t(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(p)}var o=mr(),u=o.pushArray,c=OE();function f(p,g){for(var v=0,_=g.modules;v<_.length;v++){var w=_[v],A=w.resolve(p,g);if(A)return A}return!1}function d(p){var g=[],v=p.baseNullGetter,_=p.compiled,w=p.scopeManager;p.nullGetter=function(S,L){return v(S,L||w)},p.resolved=g;var A=[];return Promise.all(_.filter(function(S){return["content","tag"].indexOf(S.type)===-1}).reduce(function(S,L){var P=f(L,n(n({},p),{},{resolvedId:c(L,p)})),F;if(P)F=P.then(function(R){g.push({tag:L.value,lIndex:L.lIndex,value:R})});else if(L.type==="placeholder")F=w.getValueAsync(L.value,{part:L}).then(function(R){return R??p.nullGetter(L)}).then(function(R){return g.push({tag:L.value,lIndex:L.lIndex,value:R}),R});else return;return S.push(F.catch(function(R){R instanceof Array?u(A,R):A.push(R)})),S},[])).then(function(){return{errors:A,resolved:g}})}return hg=d,hg}var dg,Mx;function y3(){if(Mx)return dg;Mx=1;var t=mr(),e=t.startsWith,n=t.endsWith,r=t.isStarting,i=t.isEnding,a=t.isWhiteSpace,o=yv();function u(f){for(var d="",p=0,g=f.length;p<g;p++){var v=f[p];a(v)||e(v,"<w:bookmarkEnd")||(n(d,"</w:tbl>")&&!e(v,"<w:p")&&!e(v,"<w:tbl")&&!e(v,"<w:sectPr")&&(v="<w:p/>".concat(v)),d=v,f[p]=v)}return f}function c(f,d){var p=d.fileTypeConfig.tagShouldContain||[],g="",v=-1;o.docx.indexOf(d.contentType)!==-1&&(f=u(f));for(var _=-1,w=0,A=p.length;w<A;w++)for(var S=p[w],L=S.tag,P=S.shouldContain,F=S.value,R=S.drop,O=S.dropParent,z=0,T=f.length;z<T;z++){var N=f[z];if(v===w){if(i(N,L))if(v=-1,O){for(var $=-1,V=_;V>0;V--)if(r(f[V],O)){$=V;break}for(var G=$;G<=f.length;G++){if(i(f[G],O)){f[G]="";break}f[G]=""}}else{for(var re=_;re<=z;re++)f[re]="";R||(f[z]=g+F+N)}g+=N;for(var Y=0,M=P.length;Y<M;Y++){var D=P[Y];if(r(N,D)){v=-1;break}}}v===-1&&r(N,L)&&N.substr(1).indexOf("<")===-1&&(N[N.length-2]==="/"?f[z]="":(_=z,v=w,g=N))}return f}return dg=c,dg}var pg,jx;function b3(){if(jx)return pg;jx=1;function t(L){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},t(L)}function e(L,P){if(!(L instanceof P))throw new TypeError("Cannot call a class as a function")}function n(L,P){for(var F=0;F<P.length;F++){var R=P[F];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(L,i(R.key),R)}}function r(L,P,F){return P&&n(L.prototype,P),Object.defineProperty(L,"prototype",{writable:!1}),L}function i(L){var P=a(L,"string");return t(P)=="symbol"?P:P+""}function a(L,P){if(t(L)!="object"||!L)return L;var F=L[Symbol.toPrimitive];if(F!==void 0){var R=F.call(L,P);if(t(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}var o=mr(),u=o.pushArray,c=o.wordToUtf8,f=o.convertSpaces,d=DE(),p=TE(),g=p3(),v=m3(),_=g3(),w=v3(),A=y3();function S(L,P){var F=d(L,P),R=F.matches.map(function(O){return O.array[2]});return c(f(R.join("")))}return pg=function(){function L(P,F){e(this,L),this.cachedParsers={},this.content=P;for(var R in F)this[R]=F[R];this.setModules({inspect:{filePath:F.filePath}})}return r(L,[{key:"resolveTags",value:function(F){var R=this;this.tags=F;var O=this.getOptions(),z=this.filePath;O.scopeManager=this.scopeManager,O.resolve=w;var T=[];return Promise.all(this.modules.map(function(N){return Promise.resolve(N.preResolve(O)).catch(function($){T.push($)})})).then(function(){if(T.length!==0)throw T;return w(O).then(function(N){var $=N.resolved,V=N.errors;if(V=V.map(function(G){var re;return G instanceof Error||(G=new Error(G)),(re=G).properties||(re.properties={}),G.properties.file=z,G}),V.length!==0)throw V;return Promise.all($).then(function(G){return O.scopeManager.root.finishedResolving=!0,O.scopeManager.resolved=G,R.setModules({inspect:{resolved:G,filePath:z}}),G})}).catch(function(N){throw R.errorChecker(N),N})})}},{key:"getFullText",value:function(){return S(this.content,this.fileTypeConfig.tagsXmlTextArray)}},{key:"setModules",value:function(F){for(var R=0,O=this.modules;R<O.length;R++){var z=O[R];z.set(F)}}},{key:"preparse",value:function(){this.allErrors=[],this.xmllexed=p.xmlparse(this.content,{text:this.fileTypeConfig.tagsXmlTextArray,other:this.fileTypeConfig.tagsXmlLexedArray}),this.setModules({inspect:{filePath:this.filePath,xmllexed:this.xmllexed}});var F=p.parse(this.xmllexed,this.delimiters,this.syntax,this.fileType),R=F.lexed,O=F.errors;u(this.allErrors,O),this.lexed=R,this.setModules({inspect:{filePath:this.filePath,lexed:this.lexed}});var z=this.getOptions();this.lexed=g.preparse(this.lexed,this.modules,z)}},{key:"parse",value:function(){this.setModules({inspect:{filePath:this.filePath}});var F=this.getOptions();this.parsed=g.parse(this.lexed,this.modules,F),this.setModules({inspect:{filePath:this.filePath,parsed:this.parsed}});var R=g.postparse(this.parsed,this.modules,F),O=R.postparsed,z=R.errors;return this.postparsed=O,this.setModules({inspect:{filePath:this.filePath,postparsed:this.postparsed}}),u(this.allErrors,z),this.errorChecker(this.allErrors),this}},{key:"errorChecker",value:function(F){for(var R=0,O=F;R<O.length;R++){var z=O[R];z.properties||(z.properties={}),z.properties.file=this.filePath}for(var T=0,N=this.modules;T<N.length;T++){var $=N[T];F=$.errorsTransformer(F)}}},{key:"baseNullGetter",value:function(F,R){var O=this,z=this.modules.reduce(function(T,N){return T??N.nullGetter(F,R,O)},null);return z??this.nullGetter(F,R)}},{key:"getOptions",value:function(){return{compiled:this.postparsed,cachedParsers:this.cachedParsers,tags:this.tags,modules:this.modules,parser:this.parser,contentType:this.contentType,relsType:this.relsType,baseNullGetter:this.baseNullGetter.bind(this),filePath:this.filePath,fileTypeConfig:this.fileTypeConfig,fileType:this.fileType,linebreaks:this.linebreaks,stripInvalidXMLChars:this.stripInvalidXMLChars}}},{key:"render",value:function(F){this.filePath=F;var R=this.getOptions();R.resolved=this.scopeManager.resolved,R.scopeManager=this.scopeManager,R.render=v,R.joinUncorrupt=A;var O=v(R),z=O.errors,T=O.parts;return z.length>0?(this.allErrors=z,this.errorChecker(z),this):(this.content=_(T,R),this.setModules({inspect:{filePath:this.filePath,content:this.content}}),this)}}])}(),pg}var mg,Lx;function _3(){if(Lx)return mg;Lx=1;function t(fe){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},t(fe)}function e(fe,ce){var ve=Object.keys(fe);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(fe);ce&&(Se=Se.filter(function(we){return Object.getOwnPropertyDescriptor(fe,we).enumerable})),ve.push.apply(ve,Se)}return ve}function n(fe){for(var ce=1;ce<arguments.length;ce++){var ve=arguments[ce]!=null?arguments[ce]:{};ce%2?e(Object(ve),!0).forEach(function(Se){r(fe,Se,ve[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(ve)):e(Object(ve)).forEach(function(Se){Object.defineProperty(fe,Se,Object.getOwnPropertyDescriptor(ve,Se))})}return fe}function r(fe,ce,ve){return(ce=v(ce))in fe?Object.defineProperty(fe,ce,{value:ve,enumerable:!0,configurable:!0,writable:!0}):fe[ce]=ve,fe}function i(fe,ce){return f(fe)||c(fe,ce)||o(fe,ce)||a()}function a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(fe,ce){if(fe){if(typeof fe=="string")return u(fe,ce);var ve={}.toString.call(fe).slice(8,-1);return ve==="Object"&&fe.constructor&&(ve=fe.constructor.name),ve==="Map"||ve==="Set"?Array.from(fe):ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve)?u(fe,ce):void 0}}function u(fe,ce){(ce==null||ce>fe.length)&&(ce=fe.length);for(var ve=0,Se=Array(ce);ve<ce;ve++)Se[ve]=fe[ve];return Se}function c(fe,ce){var ve=fe==null?null:typeof Symbol<"u"&&fe[Symbol.iterator]||fe["@@iterator"];if(ve!=null){var Se,we,H,X,ee=[],te=!0,ge=!1;try{if(H=(ve=ve.call(fe)).next,ce!==0)for(;!(te=(Se=H.call(ve)).done)&&(ee.push(Se.value),ee.length!==ce);te=!0);}catch(Re){ge=!0,we=Re}finally{try{if(!te&&ve.return!=null&&(X=ve.return(),Object(X)!==X))return}finally{if(ge)throw we}}return ee}}function f(fe){if(Array.isArray(fe))return fe}function d(fe,ce){if(!(fe instanceof ce))throw new TypeError("Cannot call a class as a function")}function p(fe,ce){for(var ve=0;ve<ce.length;ve++){var Se=ce[ve];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(fe,v(Se.key),Se)}}function g(fe,ce,ve){return ce&&p(fe.prototype,ce),Object.defineProperty(fe,"prototype",{writable:!1}),fe}function v(fe){var ce=_(fe,"string");return t(ce)=="symbol"?ce:ce+""}function _(fe,ce){if(t(fe)!="object"||!fe)return fe;var ve=fe[Symbol.toPrimitive];if(ve!==void 0){var Se=ve.call(fe,ce);if(t(Se)!="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(fe)}var w=mr(),A=w.chunkBy,S=w.last,L=w.isParagraphStart,P=w.isModule,F=w.pushArray,R=w.isParagraphEnd,O=w.isContent,z=w.startsWith,T=w.isTagEnd,N=w.isTagStart,$=w.getSingleAttribute,V=w.setSingleAttribute,G=yv(),re=_o(),Y="loop";function M(fe){return fe.some(function(ce){return O(ce)})}function D(fe){for(var ce=0;ce<fe.length;ce++){var ve=fe[ce];if(ve.type!=="content")return ve}return null}function j(fe){var ce=D(fe.subparsed);return ce!=null&&ce.tag!=="w:t"}function Z(fe){return fe.hasPageBreak&&j(fe)?'<w:p><w:r><w:br w:type="page"/></w:r></w:p>':""}function ne(fe){return fe.length&&L(fe[0])&&R(S(fe))}function k(fe){return M(fe)?0:fe.length}function le(fe){var ce=fe.parts.length-1;fe.parts[ce]==="</w:p>"?fe.parts.splice(ce,0,'<w:r><w:br w:type="page"/></w:r>'):fe.parts.push('<w:p><w:r><w:br w:type="page"/></w:r></w:p>')}function se(fe){fe.parts.unshift('<w:p><w:r><w:br w:type="page"/></w:r></w:p>')}function B(fe){return fe.some(function(ce){return N("w:type",ce)&&ce.value.indexOf("continuous")!==-1})}function U(fe){return fe.some(function(ce){return N("w:type",ce)&&ce.value.indexOf('w:val="nextPage"')!==-1})}function I(fe,ce){return F(["<w:p><w:pPr>".concat(ce.map(function(ve){var Se=ve.value;return Se}).join(""),"</w:pPr></w:p>")],fe)}function W(fe){var ce=!1,ve=!1;return fe.reduce(function(Se,we){return ce===!1&&z(we,"<w:sectPr")&&(ve=!0),ve&&(z(we,"<w:type")&&(ce=!0),ce===!1&&z(we,"</w:sectPr")&&Se.push('<w:type w:val="continuous"/>')),Se.push(we),Se},[])}function ae(fe){return fe.filter(function(ce){return!z(ce,"<w:headerReference")&&!z(ce,"<w:footerReference")})}function oe(fe){return fe.some(function(ce){return ce.tag==="w:br"&&ce.value.indexOf('w:type="page"')!==-1})}function pe(fe){return fe.some(function(ce){var ve=ce.tag;return ve==="w:drawing"})}function De(fe){for(var ce=!1,ve=[],Se=0;Se<fe.length;Se++){var we=fe[Se];N("w:sectPr",we)&&(ve.push([]),ce=!0),ce&&ve[ve.length-1].push(we),T("w:sectPr",we)&&(ce=!1)}return ve}function de(fe){for(var ce=!1,ve=0,Se=0;Se<fe.length;Se++){var we=fe[Se];N("w:sectPr",we)&&(ce=!0),ce&&(we.tag==="w:headerReference"||we.tag==="w:footerReference")&&(ve++,ce=!1),T("w:sectPr",we)&&(ce=!1)}return ve}function he(fe){for(var ce=[],ve=!1,Se=fe.length-1;Se>=0;Se--){var we=fe[Se];if(T("w:sectPr",we)&&(ve=!0),N("w:sectPr",we)&&(ce.unshift(we.value),ve=!1),ve&&ce.unshift(we.value),L(we)){if(ce.length>0)return ce.join("");break}}return""}var Te=function(){function fe(){d(this,fe),this.name="LoopModule",this.inXfrm=!1,this.totalSectPr=0,this.prefix={start:"#",end:"/",dash:/^-([^\s]+)\s(.+)/,inverted:"^"}}return g(fe,[{key:"optionsTransformer",value:function(ve,Se){return this.docxtemplater=Se,ve}},{key:"preparse",value:function(ve,Se){var we=Se.contentType;G.main.indexOf(we)!==-1&&(this.sects=De(ve))}},{key:"matchers",value:function(){var ve=Y;return[[this.prefix.start,ve,{expandTo:"auto",location:"start",inverted:!1}],[this.prefix.inverted,ve,{expandTo:"auto",location:"start",inverted:!0}],[this.prefix.end,ve,{location:"end"}],[this.prefix.dash,ve,function(Se){var we=i(Se,3),H=we[1],X=we[2];return{location:"start",inverted:!1,expandTo:H,value:X}}]]}},{key:"getTraits",value:function(ve,Se){if(ve==="expandPair")return Se.reduce(function(we,H,X){return P(H,Y)&&H.subparsed==null&&we.push({part:H,offset:X}),we},[])}},{key:"postparse",value:function(ve,Se){var we=Se.basePart;if(we&&this.docxtemplater.fileType==="docx"&&ve.length>0){we.sectPrCount=de(ve),this.totalSectPr+=we.sectPrCount;var H=this.sects;H.some(function(me,Ee){if(we.lIndex<me[0].lIndex)return Ee+1<H.length&&B(H[Ee+1])&&(we.addContinuousType=!0),!0;if(ve[0].lIndex<me[0].lIndex&&me[0].lIndex<we.lIndex)return U(H[Ee])&&(we.addNextPage={index:Ee}),!0}),we.lastParagrapSectPr=he(ve)}if(!we||we.expandTo!=="auto"||we.module!==Y||!ne(ve))return ve;we.paragraphLoop=!0;var X=0,ee=A(ve,function(me){return L(me)&&(X++,X===1)?"start":R(me)&&(X--,X===0)?"end":null}),te=ee[0],ge=S(ee),Re=k(te),xe=k(ge);return we.hasPageBreakBeginning=oe(te),we.hasPageBreak=oe(ge),pe(te)&&(Re=0),pe(ge)&&(xe=0),ve.slice(Re,ve.length-xe)}},{key:"resolve",value:function(ve,Se){if(!P(ve,Y))return null;var we=Se.scopeManager,H=we.getValueAsync(ve.value,{part:ve}),X=[];function ee(ge,Re,xe){var me=we.createSubScopeManager(ge,ve.value,Re,ve,xe);X.push(Se.resolve(n(n({},Se),{},{compiled:ve.subparsed,tags:{},scopeManager:me})))}var te=[];return H.then(function(ge){return new Promise(function(Re){ge instanceof Array?Promise.all(ge).then(Re):Re(ge)}).then(function(Re){return we.loopOverValue(Re,ee,ve.inverted),Promise.all(X).then(function(xe){return xe.map(function(me){var Ee=me.resolved,je=me.errors;return F(te,je),Ee})}).then(function(xe){if(te.length>0)throw te;return xe})})})}},{key:"render",value:function(ve,Se){if(ve.tag==="p:xfrm"&&(this.inXfrm=ve.position==="start"),ve.tag==="a:ext"&&this.inXfrm)return this.lastExt=ve,ve;if(!P(ve,Y))return null;var we=[],H=[],X=0,ee=this,te=ve.subparsed[0],ge=0;(te==null?void 0:te.tag)==="a:tr"&&(ge=+$(te.value,"h")),X-=ge;var Re=0,xe=j(ve);function me(Pe,qe,We){X+=ge;for(var Ke=Se.scopeManager.createSubScopeManager(Pe,ve.value,qe,ve,We),Qe=0,at=ve.subparsed;Qe<at.length;Qe++){var xt=at[Qe];if(N("a16:rowId",xt)){var bt=+$(xt.value,"val")+Re;Re=1,xt.value=V(xt.value,"val",bt)}}var gt=Se.render(n(n({},Se),{},{compiled:ve.subparsed,tags:{},scopeManager:Ke}));ve.hasPageBreak&&qe===We-1&&xe&&le(gt);var Rt=Ke.scopePathItem.some(function(Bt){return Bt!==0});Rt?(ve.sectPrCount===1&&(gt.parts=ae(gt.parts)),ve.addContinuousType&&(gt.parts=W(gt.parts))):ve.addNextPage&&(gt.parts=I(gt.parts,ee.sects[ve.addNextPage.index])),ve.addNextPage&&le(gt),ve.hasPageBreakBeginning&&xe&&se(gt);for(var wn=0,Wt=gt.parts;wn<Wt.length;wn++){var Cn=Wt[wn];we.push(Cn)}F(H,gt.errors)}var Ee=Se.scopeManager.loopOver(ve.value,me,ve.inverted,{part:ve});if(Ee===!1)return ve.lastParagrapSectPr?ve.paragraphLoop?{value:"<w:p><w:pPr>".concat(ve.lastParagrapSectPr,"</w:pPr></w:p>")}:{value:"</w:t></w:r></w:p><w:p><w:pPr>".concat(ve.lastParagrapSectPr,"</w:pPr><w:r><w:t>")}:{value:Z(ve)||"",errors:H};if(X!==0){var je=+$(this.lastExt.value,"cy");this.lastExt.value=V(this.lastExt.value,"cy",je+X)}return{value:Se.joinUncorrupt(we,n(n({},Se),{},{basePart:ve})),errors:H}}}])}();return mg=function(){return re(new Te)},mg}var gg,Px;function x3(){if(Px)return gg;Px=1;function t(R){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},t(R)}function e(R,O){if(!(R instanceof O))throw new TypeError("Cannot call a class as a function")}function n(R,O){for(var z=0;z<O.length;z++){var T=O[z];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,i(T.key),T)}}function r(R,O,z){return O&&n(R.prototype,O),Object.defineProperty(R,"prototype",{writable:!1}),R}function i(R){var O=a(R,"string");return t(O)=="symbol"?O:O+""}function a(R,O){if(t(R)!="object"||!R)return R;var z=R[Symbol.toPrimitive];if(z!==void 0){var T=z.call(R,O);if(t(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(R)}var o=_o(),u=mr(),c=u.isTextStart,f=u.isTextEnd,d=u.endsWith,p=u.startsWith,g=u.pushArray,v='<w:t xml:space="preserve">',_=v.length,w="</w:t>",A=w.length;function S(R){return c(R)&&R.tag==="w:t"}function L(R,O){var z=R[O].value;return R[O+1].value==="</w:t>"||z.indexOf('xml:space="preserve"')!==-1?z:z.substr(0,z.length-1)+' xml:space="preserve">'}function P(R,O){return R&&R.basePart&&O.length>1}var F=function(){function R(){e(this,R),this.name="SpacePreserveModule"}return r(R,[{key:"postparse",value:function(z,T){var N=[],$=!1,V=0,G=0;function re(M,D){return M.type==="placeholder"&&D.length>1}var Y=z.reduce(function(M,D){return S(D)&&($=!0,G=N.length),$?(N.push(D),P(T,N)&&(V=T.basePart.endLindex,N[0].value=L(N,0)),re(D,N)&&(N[G].value=L(N,G),V=D.endLindex),f(D)&&D.lIndex>V&&(V!==0&&(N[G].value=L(N,G)),g(M,N),N=[],$=!1,V=0,G=0),M):(M.push(D),M)},[]);return g(Y,N),Y}},{key:"postrender",value:function(z){for(var T="",N=0,$=0,V=z.length;$<V;$++){var G=z[$];G!==""&&(d(T,v)&&p(G,w)&&(z[N]=T.substr(0,T.length-_)+"<w:t/>",G=G.substr(A)),T=G,N=$,z[$]=G)}return z}}])}();return gg=function(){return o(new F)},gg}var vg,Ix;function w3(){if(Ix)return vg;Ix=1;function t(A){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},t(A)}function e(A,S){if(!(A instanceof S))throw new TypeError("Cannot call a class as a function")}function n(A,S){for(var L=0;L<S.length;L++){var P=S[L];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(A,i(P.key),P)}}function r(A,S,L){return S&&n(A.prototype,S),Object.defineProperty(A,"prototype",{writable:!1}),A}function i(A){var S=a(A,"string");return t(S)=="symbol"?S:S+""}function a(A,S){if(t(A)!="object"||!A)return A;var L=A[Symbol.toPrimitive];if(L!==void 0){var P=L.call(A,S);if(t(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(A)}var o=vv(),u=mr(),c=u.isContent,f=Oi(),d=f.throwRawTagShouldBeOnlyTextInParagraph,p=f.getInvalidRawXMLValueException,g=_o(),v="rawxml";function _(A){for(var S=A.part,L=A.left,P=A.right,F=A.postparsed,R=A.index,O=F.slice(L+1,P),z=0,T=O.length;z<T;z++)if(z!==R-L-1){var N=O[z];c(N)&&d({paragraphParts:O,part:S})}return S}var w=function(){function A(){e(this,A),this.name="RawXmlModule",this.prefix="@"}return r(A,[{key:"optionsTransformer",value:function(L,P){return this.fileTypeConfig=P.fileTypeConfig,L}},{key:"matchers",value:function(){return[[this.prefix,v]]}},{key:"postparse",value:function(L){return o.expandToOne(L,{moduleName:v,getInner:_,expandTo:this.fileTypeConfig.tagRawXml,error:{message:"Raw tag not in paragraph",id:"raw_tag_outerxml_invalid",explanation:function(F){return'The tag "'.concat(F.value,'" is not inside a paragraph, putting raw tags inside an inline loop is disallowed.')}}})}},{key:"render",value:function(L,P){if(L.module!==v)return null;var F,R=[];try{F=P.scopeManager.getValue(L.value,{part:L}),F??(F=P.nullGetter(L))}catch(O){return R.push(O),{errors:R}}return F=F||"",typeof F=="string"?{value:F}:{errors:[p({tag:L.value,value:F,offset:L.offset})]}}}])}();return vg=function(){return g(new w)},vg}var yg,Bx;function S3(){if(Bx)return yg;Bx=1;function t(e,n){for(var r=-1,i=0,a=e.length;i<a;i++)n[i]>=e[i].length||(r===-1||e[i][n[i]].offset<e[r][n[r]].offset)&&(r=i);return r}return yg=function(e){var n=e.reduce(function(u,c){return u+c.length},0);e=e.filter(function(u){return u.length>0});for(var r=new Array(n),i=e.map(function(){return 0}),a=0;a<n;a++){var o=t(e,i);r[a]=e[o][i[o]],i[o]++}return r},yg}var bg,zx;function E3(){if(zx)return bg;zx=1;function t(T){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},t(T)}function e(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}function n(T,N){for(var $=0;$<N.length;$++){var V=N[$];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(T,i(V.key),V)}}function r(T,N,$){return N&&n(T.prototype,N),Object.defineProperty(T,"prototype",{writable:!1}),T}function i(T){var N=a(T,"string");return t(N)=="symbol"?N:N+""}function a(T,N){if(t(T)!="object"||!T)return T;var $=T[Symbol.toPrimitive];if($!==void 0){var V=$.call(T,N);if(t(V)!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}var o="expandPair",u=S3(),c=mr(),f=c.getLeft,d=c.getRight,p=c.pushArray,g=_o(),v=vv(),_=v.getExpandToDefault,w=Oi(),A=w.getUnmatchedLoopException,S=w.getClosingTagNotMatchOpeningTag,L=w.getUnbalancedLoopException;function P(T){switch(T.location){case"start":return 1;case"end":return-1}}function F(T,N){return T!=null&&N!=null&&(T.part.location==="start"&&N.part.location==="end"&&T.part.value===N.part.value||N.part.value==="")}function R(T){for(var N=0,$=[];N<T.length;){var V=T[N].part;if(V.location==="end"){if(N===0)return T.splice(0,1),$.push(A(V)),{traits:T,errors:$};var G=N,re=N-1,Y=1;if(F(T[re],T[G]))return T.splice(G,1),T.splice(re,1),{errors:$,traits:T};for(;Y<50;){var M=T[re-Y],D=T[G+Y];if(F(M,T[G]))return T.splice(G,1),T.splice(re-Y,1),{errors:$,traits:T};if(F(T[re],D))return T.splice(G+Y,1),T.splice(re,1),{errors:$,traits:T};Y++}return $.push(S({tags:[T[re].part,T[G].part]})),T.splice(G,1),T.splice(re,1),{traits:T,errors:$}}N++}for(var j=0;j<T.length;j++){var Z=T[j].part;$.push(A(Z))}return{traits:[],errors:$}}function O(T){var N={},$=[],V=[],G=[];for(p(G,T);G.length>0;){var re=R(G);p($,re.errors),G=re.traits}if($.length>0)return{pairs:V,errors:$};for(var Y=0,M=0;M<T.length;M++){var D=T[M],j=D.part,Z=P(j);if(Y+=Z,Z===1)N[Y]=D;else{var ne=N[Y+1];Y===0&&V.push([ne,D])}Y=Y>=0?Y:0}return{pairs:V,errors:$}}var z=function(){function T(){e(this,T),this.name="ExpandPairTrait"}return r(T,[{key:"optionsTransformer",value:function($,V){return V.options.paragraphLoop&&p(V.fileTypeConfig.expandTags,V.fileTypeConfig.onParagraphLoop),this.expandTags=V.fileTypeConfig.expandTags,$}},{key:"postparse",value:function($,V){var G=this,re=V.getTraits,Y=V.postparse,M=V.fileType,D=re(o,$);D=D.map(function(W){return W||[]}),D=u(D);var j=O(D),Z=j.pairs,ne=j.errors,k=0,le=null,se=Z.map(function(W){var ae=W[0].part.expandTo;if(ae==="auto"&&M!=="text"){var oe=_($,W,G.expandTags);oe.error&&ne.push(oe.error),ae=oe.value}if(!ae||M==="text"){var pe=W[0].offset,De=W[1].offset;return pe<k&&!G.docxtemplater.options.syntax.allowUnbalancedLoops&&ne.push(L(W,le)),le=W,k=De,[pe,De]}var de,he;try{de=f($,ae,W[0].offset)}catch(Te){ne.push(Te)}try{he=d($,ae,W[1].offset)}catch(Te){ne.push(Te)}return de<k&&!G.docxtemplater.options.syntax.allowUnbalancedLoops&&ne.push(L(W,le)),k=he,le=W,[de,he]});if(ne.length>0)return{postparsed:$,errors:ne};var B=0,U,I=$.reduce(function(W,ae,oe){var pe=B<Z.length&&se[B][0]<=oe&&oe<=se[B][1],De=Z[B],de=se[B];if(!pe)return W.push(ae),W;if(de[0]===oe&&(U=[]),De[0].offset!==oe&&De[1].offset!==oe&&U.push(ae),de[1]===oe){var he=$[De[0].offset];he.subparsed=Y(U,{basePart:he}),he.endLindex=De[1].part.lIndex,delete he.location,delete he.expandTo,W.push(he),B++;for(var Te=se[B];Te&&Te[0]<oe;)B++,Te=se[B]}return W},[]);return{postparsed:I,errors:ne}}}])}();return bg=function(){return g(new z)},bg}var _g,Fx;function C3(){if(Fx)return _g;Fx=1;function t(R){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},t(R)}function e(R,O){if(!(R instanceof O))throw new TypeError("Cannot call a class as a function")}function n(R,O){for(var z=0;z<O.length;z++){var T=O[z];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,i(T.key),T)}}function r(R,O,z){return O&&n(R.prototype,O),Object.defineProperty(R,"prototype",{writable:!1}),R}function i(R){var O=a(R,"string");return t(O)=="symbol"?O:O+""}function a(R,O){if(t(R)!="object"||!R)return R;var z=R[Symbol.toPrimitive];if(z!==void 0){var T=z.call(R,O);if(t(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(R)}var o=_o(),u=Oi(),c=u.getScopeCompilationError,f=u.getCorruptCharactersException,d=mr(),p=d.utf8ToWord,g=d.hasCorruptCharacters,v=d.removeCorruptCharacters,_=AE(),w=_.settingsContentType,A=_.coreContentType,S=_.appContentType,L=_.customContentType,P={docx:"w",pptx:"a"},F=function(){function R(){e(this,R),this.name="Render",this.recordRun=!1,this.recordedRun=[]}return r(R,[{key:"optionsTransformer",value:function(z,T){return this.parser=T.parser,this.fileType=T.fileType,z}},{key:"set",value:function(z){z.compiled&&(this.compiled=z.compiled),z.data!=null&&(this.data=z.data)}},{key:"getRenderedMap",value:function(z){var T=this;return Object.keys(this.compiled).reduce(function(N,$){return N[$]={from:$,data:T.data},N},z)}},{key:"postparse",value:function(z,T){for(var N=[],$=0;$<z.length;$++){var V=z[$];if(V.type==="placeholder"){var G=V.value;try{T.cachedParsers[V.lIndex]=this.parser(G,{tag:V})}catch(re){N.push(c({tag:G,rootError:re,offset:V.offset}))}}}return{postparsed:z,errors:N}}},{key:"render",value:function(z,T){var N=T.contentType,$=T.scopeManager,V=T.linebreaks,G=T.nullGetter,re=T.fileType,Y=T.stripInvalidXMLChars;if(V&&[w,A,S,L].indexOf(N)!==-1&&(V=!1),V&&this.recordRuns(z),!(z.type!=="placeholder"||z.module)){var M;try{M=$.getValue(z.value,{part:z})}catch(D){return{errors:[D]}}if(M??(M=G(z)),typeof M=="string"){if(Y)M=v(M);else if(["docx","pptx","xlsx"].indexOf(re)!==-1&&g(M))return{errors:[f({tag:z.value,value:M,offset:z.offset})]}}return re==="text"?{value:M}:{value:V&&typeof M=="string"?this.renderLineBreaks(M):p(M)}}}},{key:"recordRuns",value:function(z){z.tag==="".concat(P[this.fileType],":r")?this.recordedRun=[]:z.tag==="".concat(P[this.fileType],":rPr")?(z.position==="start"&&(this.recordRun=!0,this.recordedRun=[z.value]),(z.position==="end"||z.position==="selfclosing")&&(this.recordedRun.push(z.value),this.recordRun=!1)):this.recordRun&&this.recordedRun.push(z.value)}},{key:"renderLineBreaks",value:function(z){var T=this,N=P[this.fileType],$=this.fileType==="docx"?"<w:r><w:br/></w:r>":"<a:br/>",V=z.split(`
`),G=this.recordedRun.join("");return V.map(function(re){return p(re)}).reduce(function(re,Y,M){return re.push(Y),M<V.length-1&&re.push("</".concat(N,":t></").concat(N,":r>").concat($,"<").concat(N,":r>").concat(G,"<").concat(N,":t").concat(T.fileType==="docx"?' xml:space="preserve"':"",">")),re},[])}}])}();return _g=function(){return o(new F)},_g}var xg,Ux;function A3(){if(Ux)return xg;Ux=1;var t=_3(),e=x3(),n=w3(),r=E3(),i=C3();function a(){return{getTemplatedFiles:function(){return[]},textPath:function(c){return c.textTarget},tagsXmlTextArray:["Company","HyperlinkBase","Manager","cp:category","cp:keywords","dc:creator","dc:description","dc:subject","dc:title","cp:contentStatus","w:t","a:t","m:t","vt:lpstr","vt:lpwstr"],tagsXmlLexedArray:["w:proofState","w:tc","w:tr","w:tbl","w:body","w:document","w:p","w:r","w:br","w:rPr","w:pPr","w:spacing","w:sdtContent","w:sdt","w:drawing","w:sectPr","w:type","w:headerReference","w:footerReference","w:bookmarkStart","w:bookmarkEnd","w:commentRangeStart","w:commentRangeEnd","w:commentReference"],droppedTagsInsidePlaceholder:["w:p","w:br","w:bookmarkStart","w:bookmarkEnd"],expandTags:[{contains:"w:tc",expand:"w:tr"}],onParagraphLoop:[{contains:"w:p",expand:"w:p",onlyTextInTag:!0}],tagRawXml:"w:p",baseModules:[t,e,r,n,i],tagShouldContain:[{tag:"w:sdtContent",shouldContain:["w:p","w:r","w:commentRangeStart","w:sdt"],value:"<w:p></w:p>"},{tag:"w:tc",shouldContain:["w:p"],value:"<w:p></w:p>"},{tag:"w:tr",shouldContain:["w:tc"],drop:!0},{tag:"w:tbl",shouldContain:["w:tr"],drop:!0}]}}function o(){return{getTemplatedFiles:function(){return[]},textPath:function(c){return c.textTarget},tagsXmlTextArray:["Company","HyperlinkBase","Manager","cp:category","cp:keywords","dc:creator","dc:description","dc:subject","dc:title","a:t","m:t","vt:lpstr","vt:lpwstr"],tagsXmlLexedArray:["p:sp","a:tc","a:tr","a:tbl","a:graphicData","a:p","a:r","a:rPr","p:txBody","a:txBody","a:off","a:ext","p:graphicFrame","p:xfrm","a16:rowId","a:endParaRPr"],droppedTagsInsidePlaceholder:["a:p","a:endParaRPr"],expandTags:[{contains:"a:tc",expand:"a:tr"}],onParagraphLoop:[{contains:"a:p",expand:"a:p",onlyTextInTag:!0}],tagRawXml:"p:sp",baseModules:[t,r,n,i],tagShouldContain:[{tag:"a:tbl",shouldContain:["a:tr"],dropParent:"p:graphicFrame"},{tag:"p:txBody",shouldContain:["a:p"],value:"<a:p></a:p>"},{tag:"a:txBody",shouldContain:["a:p"],value:"<a:p></a:p>"}]}}return xg={docx:a,pptx:o},xg}var qx;function T3(){return qx||(qx=1,function(t){var e=["modules"];function n(H,X){var ee=Object.keys(H);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(H);X&&(te=te.filter(function(ge){return Object.getOwnPropertyDescriptor(H,ge).enumerable})),ee.push.apply(ee,te)}return ee}function r(H){for(var X=1;X<arguments.length;X++){var ee=arguments[X]!=null?arguments[X]:{};X%2?n(Object(ee),!0).forEach(function(te){i(H,te,ee[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(ee)):n(Object(ee)).forEach(function(te){Object.defineProperty(H,te,Object.getOwnPropertyDescriptor(ee,te))})}return H}function i(H,X,ee){return(X=S(X))in H?Object.defineProperty(H,X,{value:ee,enumerable:!0,configurable:!0,writable:!0}):H[X]=ee,H}function a(H,X){return d(H)||f(H,X)||u(H,X)||o()}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(H,X){if(H){if(typeof H=="string")return c(H,X);var ee={}.toString.call(H).slice(8,-1);return ee==="Object"&&H.constructor&&(ee=H.constructor.name),ee==="Map"||ee==="Set"?Array.from(H):ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee)?c(H,X):void 0}}function c(H,X){(X==null||X>H.length)&&(X=H.length);for(var ee=0,te=Array(X);ee<X;ee++)te[ee]=H[ee];return te}function f(H,X){var ee=H==null?null:typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(ee!=null){var te,ge,Re,xe,me=[],Ee=!0,je=!1;try{if(Re=(ee=ee.call(H)).next,X===0){if(Object(ee)!==ee)return;Ee=!1}else for(;!(Ee=(te=Re.call(ee)).done)&&(me.push(te.value),me.length!==X);Ee=!0);}catch(Pe){je=!0,ge=Pe}finally{try{if(!Ee&&ee.return!=null&&(xe=ee.return(),Object(xe)!==xe))return}finally{if(je)throw ge}}return me}}function d(H){if(Array.isArray(H))return H}function p(H){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},p(H)}function g(H,X){if(H==null)return{};var ee,te,ge=v(H,X);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(H);for(te=0;te<Re.length;te++)ee=Re[te],X.indexOf(ee)===-1&&{}.propertyIsEnumerable.call(H,ee)&&(ge[ee]=H[ee])}return ge}function v(H,X){if(H==null)return{};var ee={};for(var te in H)if({}.hasOwnProperty.call(H,te)){if(X.indexOf(te)!==-1)continue;ee[te]=H[te]}return ee}function _(H,X){if(!(H instanceof X))throw new TypeError("Cannot call a class as a function")}function w(H,X){for(var ee=0;ee<X.length;ee++){var te=X[ee];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(H,S(te.key),te)}}function A(H,X,ee){return X&&w(H.prototype,X),Object.defineProperty(H,"prototype",{writable:!1}),H}function S(H){var X=L(H,"string");return p(X)=="symbol"?X:X+""}function L(H,X){if(p(H)!="object"||!H)return H;var ee=H[Symbol.toPrimitive];if(ee!==void 0){var te=ee.call(H,X);if(p(te)!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}var P=mr();P.traits=vv(),P.moduleWrapper=_o();var F=l3(),R=u3(),O=TE(),z=c3(),T=z.getTags,N=f3(),$=h3(),V=Oi(),G=V.throwMultiError,re=V.throwResolveBeforeCompile,Y=V.throwRenderInvalidTemplate,M=V.throwRenderTwice,D=V.XTInternalError,j=V.XTTemplateError,Z=V.throwFileTypeNotIdentified,ne=V.throwFileTypeNotHandled,k=V.throwApiVersionError,le=P.getDefaults,se=P.str2xml,B=P.xml2str,U=P.moduleWrapper,I=P.concatArrays,W=P.uniq,ae=P.getDuplicates,oe=P.stableSort,pe=P.pushArray,De="[Content_Types].xml",de="_rels/.rels",he=[3,45,0];function Te(H){var X=[];for(var ee in H)X.push(ee);for(var te=[De,de],ge=["word/","xl/","ppt/"],Re=0;Re<X.length;Re++)for(var xe=X[Re],me=0;me<ge.length;me++){var Ee=ge[me];xe.indexOf("".concat(Ee))===0&&te.push(xe)}for(var je=0;je<X.length;je++){var Pe=X[je];te.indexOf(Pe)===-1&&te.push(Pe)}return te}function fe(H,X){H.hideDeprecations!==!0&&console.warn(X)}function ce(H,X){if(H.hideDeprecations!==!0)return fe(H,'Deprecated method ".'.concat(X,'", view upgrade guide : https://docxtemplater.com/docs/api/#upgrade-guide, stack : ').concat(new Error().stack))}function ve(H){H.modules=H.modules.filter(function(X){if(!X.supportedFileTypes)return!0;if(!Array.isArray(X.supportedFileTypes))throw new Error("The supportedFileTypes field of the module must be an array");var ee=X.supportedFileTypes.includes(H.fileType);return ee||X.on("detached"),ee})}function Se(H){var X=H.compiled;H.errors=I(Object.keys(X).map(function(ee){return X[ee].allErrors})),H.errors.length!==0&&(H.options.errorLogging&&N(H.errors,H.options.errorLogging),G(H.errors))}var we=function(){function H(X){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=ee.modules,ge=te===void 0?[]:te,Re=g(ee,e);if(_(this,H),this.targets=[],this.rendered=!1,this.scopeManagers={},this.compiled={},this.modules=[F()],this.xmlDocuments={},arguments.length===0)fe(this,"Deprecated docxtemplater constructor with no arguments, view upgrade guide : https://docxtemplater.com/docs/api/#upgrade-guide, stack : ".concat(new Error().stack)),this.hideDeprecations=!0,this.setOptions(Re);else{if(this.hideDeprecations=!0,this.setOptions(Re),!X||!X.files||typeof X.file!="function")throw new Error("The first argument of docxtemplater's constructor must be a valid zip file (jszip v2 or pizzip v3)");if(!Array.isArray(ge))throw new Error("The modules argument of docxtemplater's constructor must be an array");for(var xe=0;xe<ge.length;xe++){var me=ge[xe];this.attachModule(me)}this.loadZip(X),this.compile(),this.v4Constructor=!0}this.hideDeprecations=!1}return A(H,[{key:"verifyApiVersion",value:function(ee){return ee=ee.split(".").map(function(te){return parseInt(te,10)}),ee.length!==3&&k("neededVersion is not a valid version",{neededVersion:ee,explanation:"the neededVersion must be an array of length 3"}),ee[0]!==he[0]&&k("The major api version do not match, you probably have to update docxtemplater with npm install --save docxtemplater",{neededVersion:ee,currentModuleApiVersion:he,explanation:"moduleAPIVersionMismatch : needed=".concat(ee.join("."),", current=").concat(he.join("."))}),ee[1]>he[1]&&k("The minor api version is not uptodate, you probably have to update docxtemplater with npm install --save docxtemplater",{neededVersion:ee,currentModuleApiVersion:he,explanation:"moduleAPIVersionMismatch : needed=".concat(ee.join("."),", current=").concat(he.join("."))}),ee[1]===he[1]&&ee[2]>he[2]&&k("The patch api version is not uptodate, you probably have to update docxtemplater with npm install --save docxtemplater",{neededVersion:ee,currentModuleApiVersion:he,explanation:"moduleAPIVersionMismatch : needed=".concat(ee.join("."),", current=").concat(he.join("."))}),!0}},{key:"setModules",value:function(ee){for(var te=0,ge=this.modules;te<ge.length;te++){var Re=ge[te];Re.set(ee)}}},{key:"sendEvent",value:function(ee){for(var te=0,ge=this.modules;te<ge.length;te++){var Re=ge[te];Re.on(ee)}}},{key:"attachModule",value:function(ee){if(this.v4Constructor)throw new D("attachModule() should not be called manually when using the v4 constructor");ce(this,"attachModule");var te=p(ee);if(te==="function")throw new D("Cannot attach a class/function as a module. Most probably you forgot to instantiate the module by using `new` on the module.");if(!ee||te!=="object")throw new D("Cannot attachModule with a falsy value");if(ee.requiredAPIVersion&&this.verifyApiVersion(ee.requiredAPIVersion),ee.attached===!0)if(typeof ee.clone=="function")ee=ee.clone();else throw new Error('Cannot attach a module that was already attached : "'.concat(ee.name,'". The most likely cause is that you are instantiating the module at the root level, and using it for multiple instances of Docxtemplater'));ee.attached=!0;var ge=U(ee);return this.modules.push(ge),ge.on("attached"),this.fileType&&ve(this),this}},{key:"setOptions",value:function(ee){var te,ge;if(this.v4Constructor)throw new Error("setOptions() should not be called manually when using the v4 constructor");if(ce(this,"setOptions"),!ee)throw new Error("setOptions should be called with an object as first parameter");this.options={};var Re=le();for(var xe in Re){var me=Re[xe];this.options[xe]=ee[xe]!=null?ee[xe]:this[xe]||me,this[xe]=this.options[xe]}return(te=this.delimiters).start&&(te.start=P.utf8ToWord(this.delimiters.start)),(ge=this.delimiters).end&&(ge.end=P.utf8ToWord(this.delimiters.end)),this}},{key:"loadZip",value:function(ee){if(this.v4Constructor)throw new Error("loadZip() should not be called manually when using the v4 constructor");if(ce(this,"loadZip"),ee.loadAsync)throw new D("Docxtemplater doesn't handle JSZip version >=3, please use pizzip");this.zip=ee,this.updateFileTypeConfig(),this.modules=I([this.fileTypeConfig.baseModules.map(function(xe){return xe()}),this.modules]);for(var te=0,ge=this.modules;te<ge.length;te++){var Re=ge[te];Re.zip=this.zip,Re.docxtemplater=this}return ve(this),this}},{key:"precompileFile",value:function(ee){var te=this.createTemplateClass(ee);te.preparse(),this.compiled[ee]=te}},{key:"compileFile",value:function(ee){this.compiled[ee].parse()}},{key:"getScopeManager",value:function(ee,te,ge){var Re;return(Re=this.scopeManagers)[ee]||(Re[ee]=R({tags:ge,parser:this.parser,cachedParsers:te.cachedParsers})),this.scopeManagers[ee]}},{key:"resolveData",value:function(ee){var te=this;ce(this,"resolveData");var ge=[];return Object.keys(this.compiled).length||re(),Promise.resolve(ee).then(function(Re){return te.data=Re,te.setModules({data:te.data,Lexer:O}),te.mapper=te.modules.reduce(function(xe,me){return me.getRenderedMap(xe)},{}),Promise.all(Object.keys(te.mapper).map(function(xe){var me=te.mapper[xe],Ee=me.from,je=me.data;return Promise.resolve(je).then(function(Pe){var qe=te.compiled[Ee];return qe.filePath=xe,qe.scopeManager=te.getScopeManager(xe,qe,Pe),qe.resolveTags(Pe).then(function(We){return qe.scopeManager.finishedResolving=!0,We},function(We){pe(ge,We)})})})).then(function(xe){return ge.length!==0&&(te.options.errorLogging&&N(ge,te.options.errorLogging),G(ge)),I(xe)})})}},{key:"reorderModules",value:function(){this.modules=oe(this.modules,function(ee,te){return(te.priority||0)-(ee.priority||0)})}},{key:"throwIfDuplicateModules",value:function(){var ee=ae(this.modules.map(function(te){var ge=te.name;return ge}));if(ee.length>0)throw new D('Detected duplicate module "'.concat(ee[0],'"'))}},{key:"compile",value:function(){var ee=this;if(ce(this,"compile"),this.updateFileTypeConfig(),this.throwIfDuplicateModules(),this.reorderModules(),Object.keys(this.compiled).length)return this;this.options=this.modules.reduce(function(Ke,Qe){return Qe.optionsTransformer(Ke,ee)},this.options),this.options.xmlFileNames=W(this.options.xmlFileNames);for(var te=0,ge=this.options.xmlFileNames;te<ge.length;te++){var Re=ge[te],xe=this.zip.files[Re].asText();this.xmlDocuments[Re]=se(xe)}this.setModules({zip:this.zip,xmlDocuments:this.xmlDocuments}),this.getTemplatedFiles();for(var me=0,Ee=this.templatedFiles;me<Ee.length;me++){var je=Ee[me];this.zip.files[je]!=null&&this.precompileFile(je)}for(var Pe=0,qe=this.templatedFiles;Pe<qe.length;Pe++){var We=qe[Pe];this.zip.files[We]!=null&&this.compileFile(We)}return this.setModules({compiled:this.compiled}),Se(this),this}},{key:"getRelsTypes",value:function(){for(var ee=this.zip.files[de],te=ee?se(ee.asText()):null,ge=te?te.getElementsByTagName("Relationship"):[],Re={},xe=0;xe<ge.length;xe++){var me=ge[xe];Re[me.getAttribute("Target")]=me.getAttribute("Type")}return Re}},{key:"getContentTypes",value:function(){var ee=this.zip.files[De],te=ee?se(ee.asText()):null,ge=te?te.getElementsByTagName("Override"):null,Re=te?te.getElementsByTagName("Default"):null;return{overrides:ge,defaults:Re,contentTypes:ee,contentTypeXml:te}}},{key:"updateFileTypeConfig",value:function(){var ee;this.zip.files.mimetype&&(ee="odt"),this.relsTypes=this.getRelsTypes();var te=this.getContentTypes(),ge=te.overrides,Re=te.defaults,xe=te.contentTypes,me=te.contentTypeXml;me&&(this.filesContentTypes=$(ge,Re,this.zip),this.invertedContentTypes=P.invertMap(this.filesContentTypes),this.setModules({contentTypes:this.contentTypes,invertedContentTypes:this.invertedContentTypes}));for(var Ee=0,je=this.modules;Ee<je.length;Ee++){var Pe=je[Ee];ee=Pe.getFileType({zip:this.zip,contentTypes:xe,contentTypeXml:me,overrides:ge,defaults:Re,doc:this})||ee}ee==="odt"&&ne(ee),ee||Z(this.zip);for(var qe=0,We=this.modules;qe<We.length;qe++)for(var Ke=We[qe],Qe=0,at=Ke.xmlContentTypes||[];Qe<at.length;Qe++){var xt=at[Qe];pe(this.options.xmlFileNames,this.invertedContentTypes[xt]||[])}if(this.fileType=ee,ve(this),this.fileTypeConfig=this.options.fileTypeConfig||this.fileTypeConfig,!this.fileTypeConfig)if(H.FileTypeConfig[this.fileType])this.fileTypeConfig=H.FileTypeConfig[this.fileType]();else{var bt='Filetype "'.concat(this.fileType,'" is not supported'),gt="filetype_not_supported";this.fileType==="xlsx"&&(bt='Filetype "'.concat(this.fileType,'" is supported only with the paid XlsxModule'),gt="xlsx_filetype_needs_xlsx_module");var Rt=new j(bt);throw Rt.properties={id:gt,explanation:bt},Rt}return this}},{key:"renderAsync",value:function(ee){var te=this;this.hideDeprecations=!0;var ge=this.resolveData(ee);return this.hideDeprecations=!1,ge.then(function(){return te.render()})}},{key:"render",value:function(ee){this.rendered&&M(),this.rendered=!0,Object.keys(this.compiled).length===0&&this.compile(),this.errors.length>0&&Y(),arguments.length>0&&(this.data=ee),this.setModules({data:this.data,Lexer:O}),this.mapper||(this.mapper=this.modules.reduce(function(Cn,Bt){return Bt.getRenderedMap(Cn)},{}));var te=[];for(var ge in this.mapper){var Re=this.mapper[ge],xe=Re.from,me=Re.data,Ee=this.compiled[xe];Ee.scopeManager=this.getScopeManager(ge,Ee,me),Ee.render(ge),te.push([ge,Ee.content,Ee]),delete Ee.content}for(var je=0;je<te.length;je++)for(var Pe=te[je],qe=a(Pe,3),We=qe[1],Ke=qe[2],Qe=0,at=this.modules;Qe<at.length;Qe++){var xt=at[Qe];if(xt.preZip){var bt=xt.preZip(We,Ke);typeof bt=="string"&&(Pe[1]=bt)}}for(var gt=0;gt<te.length;gt++){var Rt=a(te[gt],2),wn=Rt[0],Wt=Rt[1];this.zip.file(wn,Wt,{createFolders:!0})}return Se(this),this.sendEvent("syncing-zip"),this.syncZip(),this.sendEvent("synced-zip"),this}},{key:"syncZip",value:function(){for(var ee in this.xmlDocuments){this.zip.remove(ee);var te=B(this.xmlDocuments[ee]);this.zip.file(ee,te,{createFolders:!0})}}},{key:"setData",value:function(ee){return ce(this,"setData"),this.data=ee,this}},{key:"getZip",value:function(){return this.zip}},{key:"createTemplateClass",value:function(ee){var te=this.zip.files[ee].asText();return this.createTemplateClassFromContent(te,ee)}},{key:"createTemplateClassFromContent",value:function(ee,te){for(var ge={filePath:te,contentType:this.filesContentTypes[te],relsType:this.relsTypes[te]},Re=le(),xe=pe(Object.keys(Re),["filesContentTypes","fileTypeConfig","fileType","modules"]),me=0;me<xe.length;me++){var Ee=xe[me];ge[Ee]=this[Ee]}return new H.XmlTemplater(ee,ge)}},{key:"getFullText",value:function(ee){return this.createTemplateClass(ee||this.fileTypeConfig.textPath(this)).getFullText()}},{key:"getTemplatedFiles",value:function(){return this.templatedFiles=this.fileTypeConfig.getTemplatedFiles(this.zip),pe(this.templatedFiles,this.targets),this.templatedFiles=W(this.templatedFiles),this.templatedFiles}},{key:"getTags",value:function(){var ee={headers:[],footers:[]};for(var te in this.compiled){var ge=this.filesContentTypes[te];ge==="application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml"&&(ee.document={target:te,tags:T(this.compiled[te].postparsed)}),ge==="application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml"&&ee.headers.push({target:te,tags:T(this.compiled[te].postparsed)}),ge==="application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml"&&ee.footers.push({target:te,tags:T(this.compiled[te].postparsed)})}return ee}},{key:"toBuffer",value:function(ee){return this.getZip().generate(r(r({compression:"DEFLATE",fileOrder:Te},ee),{},{type:"nodebuffer"}))}},{key:"toBlob",value:function(ee){return this.getZip().generate(r(r({compression:"DEFLATE",fileOrder:Te},ee),{},{type:"blob"}))}},{key:"toBase64",value:function(ee){return this.getZip().generate(r(r({compression:"DEFLATE",fileOrder:Te},ee),{},{type:"base64"}))}},{key:"toUint8Array",value:function(ee){return this.getZip().generate(r(r({compression:"DEFLATE",fileOrder:Te},ee),{},{type:"uint8array"}))}},{key:"toArrayBuffer",value:function(ee){return this.getZip().generate(r(r({compression:"DEFLATE",fileOrder:Te},ee),{},{type:"arraybuffer"}))}}])}();we.DocUtils=P,we.Errors=Oi(),we.XmlTemplater=b3(),we.FileTypeConfig=A3(),we.XmlMatcher=DE(),t.exports=we,t.exports.default=we}(Vm)),Vm.exports}var D3=T3();const O3=ws(D3);var wg={exports:{}},ch={},Hx;function bv(){if(Hx)return ch;Hx=1;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return ch.encode=function(e){for(var n="",r,i,a,o,u,c,f,d=0;d<e.length;)r=e.charCodeAt(d++),i=e.charCodeAt(d++),a=e.charCodeAt(d++),o=r>>2,u=(r&3)<<4|i>>4,c=(i&15)<<2|a>>6,f=a&63,isNaN(i)?c=f=64:isNaN(a)&&(f=64),n=n+t.charAt(o)+t.charAt(u)+t.charAt(c)+t.charAt(f);return n},ch.decode=function(e){var n="",r,i,a,o,u,c,f,d=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<e.length;)o=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),f=t.indexOf(e.charAt(d++)),r=o<<2|u>>4,i=(u&15)<<4|c>>2,a=(c&3)<<6|f,n+=String.fromCharCode(r),c!==64&&(n+=String.fromCharCode(i)),f!==64&&(n+=String.fromCharCode(a));return n},ch}var di={},$x;function Ul(){if($x)return di;if($x=1,di.base64=!0,di.array=!0,di.string=!0,di.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",di.nodebuffer=typeof Buffer<"u",di.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")di.blob=!1;else{var t=new ArrayBuffer(0);try{di.blob=new Blob([t],{type:"application/zip"}).size===0}catch{try{var e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,n=new e;n.append(t),di.blob=n.getBlob("application/zip").size===0}catch{di.blob=!1}}}return di}var Sg={},fh={},Js={},oc={exports:{}};/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */var k3=oc.exports,Vx;function N3(){return Vx||(Vx=1,function(t,e){(function(n,r){r(e)})(k3,function(n){function r(b){for(var J=b.length;--J>=0;)b[J]=0}var i=256,a=286,o=30,u=15,c=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),f=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),d=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),p=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),g=new Array(576);r(g);var v=new Array(60);r(v);var _=new Array(512);r(_);var w=new Array(256);r(w);var A=new Array(29);r(A);var S,L,P,F=new Array(o);function R(b,J,E,be,_e){this.static_tree=b,this.extra_bits=J,this.extra_base=E,this.elems=be,this.max_length=_e,this.has_stree=b&&b.length}function O(b,J){this.dyn_tree=b,this.max_code=0,this.stat_desc=J}r(F);var z=function(b){return b<256?_[b]:_[256+(b>>>7)]},T=function(b,J){b.pending_buf[b.pending++]=255&J,b.pending_buf[b.pending++]=J>>>8&255},N=function(b,J,E){b.bi_valid>16-E?(b.bi_buf|=J<<b.bi_valid&65535,T(b,b.bi_buf),b.bi_buf=J>>16-b.bi_valid,b.bi_valid+=E-16):(b.bi_buf|=J<<b.bi_valid&65535,b.bi_valid+=E)},$=function(b,J,E){N(b,E[2*J],E[2*J+1])},V=function(b,J){var E=0;do E|=1&b,b>>>=1,E<<=1;while(--J>0);return E>>>1},G=function(b,J,E){var be,_e,Ce=new Array(16),He=0;for(be=1;be<=u;be++)He=He+E[be-1]<<1,Ce[be]=He;for(_e=0;_e<=J;_e++){var ke=b[2*_e+1];ke!==0&&(b[2*_e]=V(Ce[ke]++,ke))}},re=function(b){var J;for(J=0;J<a;J++)b.dyn_ltree[2*J]=0;for(J=0;J<o;J++)b.dyn_dtree[2*J]=0;for(J=0;J<19;J++)b.bl_tree[2*J]=0;b.dyn_ltree[512]=1,b.opt_len=b.static_len=0,b.sym_next=b.matches=0},Y=function(b){b.bi_valid>8?T(b,b.bi_buf):b.bi_valid>0&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0},M=function(b,J,E,be){var _e=2*J,Ce=2*E;return b[_e]<b[Ce]||b[_e]===b[Ce]&&be[J]<=be[E]},D=function(b,J,E){for(var be=b.heap[E],_e=E<<1;_e<=b.heap_len&&(_e<b.heap_len&&M(J,b.heap[_e+1],b.heap[_e],b.depth)&&_e++,!M(J,be,b.heap[_e],b.depth));)b.heap[E]=b.heap[_e],E=_e,_e<<=1;b.heap[E]=be},j=function(b,J,E){var be,_e,Ce,He,ke=0;if(b.sym_next!==0)do be=255&b.pending_buf[b.sym_buf+ke++],be+=(255&b.pending_buf[b.sym_buf+ke++])<<8,_e=b.pending_buf[b.sym_buf+ke++],be===0?$(b,_e,J):(Ce=w[_e],$(b,Ce+i+1,J),(He=c[Ce])!==0&&(_e-=A[Ce],N(b,_e,He)),be--,Ce=z(be),$(b,Ce,E),(He=f[Ce])!==0&&(be-=F[Ce],N(b,be,He)));while(ke<b.sym_next);$(b,256,J)},Z=function(b,J){var E,be,_e,Ce=J.dyn_tree,He=J.stat_desc.static_tree,ke=J.stat_desc.has_stree,Je=J.stat_desc.elems,Me=-1;for(b.heap_len=0,b.heap_max=573,E=0;E<Je;E++)Ce[2*E]!==0?(b.heap[++b.heap_len]=Me=E,b.depth[E]=0):Ce[2*E+1]=0;for(;b.heap_len<2;)Ce[2*(_e=b.heap[++b.heap_len]=Me<2?++Me:0)]=1,b.depth[_e]=0,b.opt_len--,ke&&(b.static_len-=He[2*_e+1]);for(J.max_code=Me,E=b.heap_len>>1;E>=1;E--)D(b,Ce,E);_e=Je;do E=b.heap[1],b.heap[1]=b.heap[b.heap_len--],D(b,Ce,1),be=b.heap[1],b.heap[--b.heap_max]=E,b.heap[--b.heap_max]=be,Ce[2*_e]=Ce[2*E]+Ce[2*be],b.depth[_e]=(b.depth[E]>=b.depth[be]?b.depth[E]:b.depth[be])+1,Ce[2*E+1]=Ce[2*be+1]=_e,b.heap[1]=_e++,D(b,Ce,1);while(b.heap_len>=2);b.heap[--b.heap_max]=b.heap[1],function(Be,Ft){var ot,Ye,it,Mt,Ot,Ut,rt=Ft.dyn_tree,tt=Ft.max_code,pt=Ft.stat_desc.static_tree,pn=Ft.stat_desc.has_stree,dt=Ft.stat_desc.extra_bits,Zt=Ft.stat_desc.extra_base,Ht=Ft.stat_desc.max_length,wt=0;for(Mt=0;Mt<=u;Mt++)Be.bl_count[Mt]=0;for(rt[2*Be.heap[Be.heap_max]+1]=0,ot=Be.heap_max+1;ot<573;ot++)(Mt=rt[2*rt[2*(Ye=Be.heap[ot])+1]+1]+1)>Ht&&(Mt=Ht,wt++),rt[2*Ye+1]=Mt,Ye>tt||(Be.bl_count[Mt]++,Ot=0,Ye>=Zt&&(Ot=dt[Ye-Zt]),Ut=rt[2*Ye],Be.opt_len+=Ut*(Mt+Ot),pn&&(Be.static_len+=Ut*(pt[2*Ye+1]+Ot)));if(wt!==0){do{for(Mt=Ht-1;Be.bl_count[Mt]===0;)Mt--;Be.bl_count[Mt]--,Be.bl_count[Mt+1]+=2,Be.bl_count[Ht]--,wt-=2}while(wt>0);for(Mt=Ht;Mt!==0;Mt--)for(Ye=Be.bl_count[Mt];Ye!==0;)(it=Be.heap[--ot])>tt||(rt[2*it+1]!==Mt&&(Be.opt_len+=(Mt-rt[2*it+1])*rt[2*it],rt[2*it+1]=Mt),Ye--)}}(b,J),G(Ce,Me,b.bl_count)},ne=function(b,J,E){var be,_e,Ce=-1,He=J[1],ke=0,Je=7,Me=4;for(He===0&&(Je=138,Me=3),J[2*(E+1)+1]=65535,be=0;be<=E;be++)_e=He,He=J[2*(be+1)+1],++ke<Je&&_e===He||(ke<Me?b.bl_tree[2*_e]+=ke:_e!==0?(_e!==Ce&&b.bl_tree[2*_e]++,b.bl_tree[32]++):ke<=10?b.bl_tree[34]++:b.bl_tree[36]++,ke=0,Ce=_e,He===0?(Je=138,Me=3):_e===He?(Je=6,Me=3):(Je=7,Me=4))},k=function(b,J,E){var be,_e,Ce=-1,He=J[1],ke=0,Je=7,Me=4;for(He===0&&(Je=138,Me=3),be=0;be<=E;be++)if(_e=He,He=J[2*(be+1)+1],!(++ke<Je&&_e===He)){if(ke<Me)do $(b,_e,b.bl_tree);while(--ke!=0);else _e!==0?(_e!==Ce&&($(b,_e,b.bl_tree),ke--),$(b,16,b.bl_tree),N(b,ke-3,2)):ke<=10?($(b,17,b.bl_tree),N(b,ke-3,3)):($(b,18,b.bl_tree),N(b,ke-11,7));ke=0,Ce=_e,He===0?(Je=138,Me=3):_e===He?(Je=6,Me=3):(Je=7,Me=4)}},le=!1,se=function(b,J,E,be){N(b,0+(be?1:0),3),Y(b),T(b,E),T(b,~E),E&&b.pending_buf.set(b.window.subarray(J,J+E),b.pending),b.pending+=E},B=function(b,J,E,be){var _e,Ce,He=0;b.level>0?(b.strm.data_type===2&&(b.strm.data_type=function(ke){var Je,Me=4093624447;for(Je=0;Je<=31;Je++,Me>>>=1)if(1&Me&&ke.dyn_ltree[2*Je]!==0)return 0;if(ke.dyn_ltree[18]!==0||ke.dyn_ltree[20]!==0||ke.dyn_ltree[26]!==0)return 1;for(Je=32;Je<i;Je++)if(ke.dyn_ltree[2*Je]!==0)return 1;return 0}(b)),Z(b,b.l_desc),Z(b,b.d_desc),He=function(ke){var Je;for(ne(ke,ke.dyn_ltree,ke.l_desc.max_code),ne(ke,ke.dyn_dtree,ke.d_desc.max_code),Z(ke,ke.bl_desc),Je=18;Je>=3&&ke.bl_tree[2*p[Je]+1]===0;Je--);return ke.opt_len+=3*(Je+1)+5+5+4,Je}(b),_e=b.opt_len+3+7>>>3,(Ce=b.static_len+3+7>>>3)<=_e&&(_e=Ce)):_e=Ce=E+5,E+4<=_e&&J!==-1?se(b,J,E,be):b.strategy===4||Ce===_e?(N(b,2+(be?1:0),3),j(b,g,v)):(N(b,4+(be?1:0),3),function(ke,Je,Me,Be){var Ft;for(N(ke,Je-257,5),N(ke,Me-1,5),N(ke,Be-4,4),Ft=0;Ft<Be;Ft++)N(ke,ke.bl_tree[2*p[Ft]+1],3);k(ke,ke.dyn_ltree,Je-1),k(ke,ke.dyn_dtree,Me-1)}(b,b.l_desc.max_code+1,b.d_desc.max_code+1,He+1),j(b,b.dyn_ltree,b.dyn_dtree)),re(b),be&&Y(b)},U={_tr_init:function(b){le||(function(){var J,E,be,_e,Ce,He=new Array(16);for(be=0,_e=0;_e<28;_e++)for(A[_e]=be,J=0;J<1<<c[_e];J++)w[be++]=_e;for(w[be-1]=_e,Ce=0,_e=0;_e<16;_e++)for(F[_e]=Ce,J=0;J<1<<f[_e];J++)_[Ce++]=_e;for(Ce>>=7;_e<o;_e++)for(F[_e]=Ce<<7,J=0;J<1<<f[_e]-7;J++)_[256+Ce++]=_e;for(E=0;E<=u;E++)He[E]=0;for(J=0;J<=143;)g[2*J+1]=8,J++,He[8]++;for(;J<=255;)g[2*J+1]=9,J++,He[9]++;for(;J<=279;)g[2*J+1]=7,J++,He[7]++;for(;J<=287;)g[2*J+1]=8,J++,He[8]++;for(G(g,287,He),J=0;J<o;J++)v[2*J+1]=5,v[2*J]=V(J,5);S=new R(g,c,257,a,u),L=new R(v,f,0,o,u),P=new R(new Array(0),d,0,19,7)}(),le=!0),b.l_desc=new O(b.dyn_ltree,S),b.d_desc=new O(b.dyn_dtree,L),b.bl_desc=new O(b.bl_tree,P),b.bi_buf=0,b.bi_valid=0,re(b)},_tr_stored_block:se,_tr_flush_block:B,_tr_tally:function(b,J,E){return b.pending_buf[b.sym_buf+b.sym_next++]=J,b.pending_buf[b.sym_buf+b.sym_next++]=J>>8,b.pending_buf[b.sym_buf+b.sym_next++]=E,J===0?b.dyn_ltree[2*E]++:(b.matches++,J--,b.dyn_ltree[2*(w[E]+i+1)]++,b.dyn_dtree[2*z(J)]++),b.sym_next===b.sym_end},_tr_align:function(b){N(b,2,3),$(b,256,g),function(J){J.bi_valid===16?(T(J,J.bi_buf),J.bi_buf=0,J.bi_valid=0):J.bi_valid>=8&&(J.pending_buf[J.pending++]=255&J.bi_buf,J.bi_buf>>=8,J.bi_valid-=8)}(b)}},I=function(b,J,E,be){for(var _e=65535&b|0,Ce=b>>>16&65535|0,He=0;E!==0;){E-=He=E>2e3?2e3:E;do Ce=Ce+(_e=_e+J[be++]|0)|0;while(--He);_e%=65521,Ce%=65521}return _e|Ce<<16|0},W=new Uint32Array(function(){for(var b,J=[],E=0;E<256;E++){b=E;for(var be=0;be<8;be++)b=1&b?3988292384^b>>>1:b>>>1;J[E]=b}return J}()),ae=function(b,J,E,be){var _e=W,Ce=be+E;b^=-1;for(var He=be;He<Ce;He++)b=b>>>8^_e[255&(b^J[He])];return-1^b},oe={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},pe={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},De=U._tr_init,de=U._tr_stored_block,he=U._tr_flush_block,Te=U._tr_tally,fe=U._tr_align,ce=pe.Z_NO_FLUSH,ve=pe.Z_PARTIAL_FLUSH,Se=pe.Z_FULL_FLUSH,we=pe.Z_FINISH,H=pe.Z_BLOCK,X=pe.Z_OK,ee=pe.Z_STREAM_END,te=pe.Z_STREAM_ERROR,ge=pe.Z_DATA_ERROR,Re=pe.Z_BUF_ERROR,xe=pe.Z_DEFAULT_COMPRESSION,me=pe.Z_FILTERED,Ee=pe.Z_HUFFMAN_ONLY,je=pe.Z_RLE,Pe=pe.Z_FIXED,qe=pe.Z_DEFAULT_STRATEGY,We=pe.Z_UNKNOWN,Ke=pe.Z_DEFLATED,Qe=258,at=262,xt=42,bt=113,gt=666,Rt=function(b,J){return b.msg=oe[J],J},wn=function(b){return 2*b-(b>4?9:0)},Wt=function(b){for(var J=b.length;--J>=0;)b[J]=0},Cn=function(b){var J,E,be,_e=b.w_size;be=J=b.hash_size;do E=b.head[--be],b.head[be]=E>=_e?E-_e:0;while(--J);be=J=_e;do E=b.prev[--be],b.prev[be]=E>=_e?E-_e:0;while(--J)},Bt=function(b,J,E){return(J<<b.hash_shift^E)&b.hash_mask},Jt=function(b){var J=b.state,E=J.pending;E>b.avail_out&&(E=b.avail_out),E!==0&&(b.output.set(J.pending_buf.subarray(J.pending_out,J.pending_out+E),b.next_out),b.next_out+=E,J.pending_out+=E,b.total_out+=E,b.avail_out-=E,J.pending-=E,J.pending===0&&(J.pending_out=0))},ut=function(b,J){he(b,b.block_start>=0?b.block_start:-1,b.strstart-b.block_start,J),b.block_start=b.strstart,Jt(b.strm)},lt=function(b,J){b.pending_buf[b.pending++]=J},st=function(b,J){b.pending_buf[b.pending++]=J>>>8&255,b.pending_buf[b.pending++]=255&J},ht=function(b,J,E,be){var _e=b.avail_in;return _e>be&&(_e=be),_e===0?0:(b.avail_in-=_e,J.set(b.input.subarray(b.next_in,b.next_in+_e),E),b.state.wrap===1?b.adler=I(b.adler,J,_e,E):b.state.wrap===2&&(b.adler=ae(b.adler,J,_e,E)),b.next_in+=_e,b.total_in+=_e,_e)},cn=function(b,J){var E,be,_e=b.max_chain_length,Ce=b.strstart,He=b.prev_length,ke=b.nice_match,Je=b.strstart>b.w_size-at?b.strstart-(b.w_size-at):0,Me=b.window,Be=b.w_mask,Ft=b.prev,ot=b.strstart+Qe,Ye=Me[Ce+He-1],it=Me[Ce+He];b.prev_length>=b.good_match&&(_e>>=2),ke>b.lookahead&&(ke=b.lookahead);do if(Me[(E=J)+He]===it&&Me[E+He-1]===Ye&&Me[E]===Me[Ce]&&Me[++E]===Me[Ce+1]){Ce+=2,E++;do;while(Me[++Ce]===Me[++E]&&Me[++Ce]===Me[++E]&&Me[++Ce]===Me[++E]&&Me[++Ce]===Me[++E]&&Me[++Ce]===Me[++E]&&Me[++Ce]===Me[++E]&&Me[++Ce]===Me[++E]&&Me[++Ce]===Me[++E]&&Ce<ot);if(be=Qe-(ot-Ce),Ce=ot-Qe,be>He){if(b.match_start=J,He=be,be>=ke)break;Ye=Me[Ce+He-1],it=Me[Ce+He]}}while((J=Ft[J&Be])>Je&&--_e!=0);return He<=b.lookahead?He:b.lookahead},Vn=function(b){var J,E,be,_e=b.w_size;do{if(E=b.window_size-b.lookahead-b.strstart,b.strstart>=_e+(_e-at)&&(b.window.set(b.window.subarray(_e,_e+_e-E),0),b.match_start-=_e,b.strstart-=_e,b.block_start-=_e,b.insert>b.strstart&&(b.insert=b.strstart),Cn(b),E+=_e),b.strm.avail_in===0)break;if(J=ht(b.strm,b.window,b.strstart+b.lookahead,E),b.lookahead+=J,b.lookahead+b.insert>=3)for(be=b.strstart-b.insert,b.ins_h=b.window[be],b.ins_h=Bt(b,b.ins_h,b.window[be+1]);b.insert&&(b.ins_h=Bt(b,b.ins_h,b.window[be+3-1]),b.prev[be&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=be,be++,b.insert--,!(b.lookahead+b.insert<3)););}while(b.lookahead<at&&b.strm.avail_in!==0)},et=function(b,J){var E,be,_e,Ce=b.pending_buf_size-5>b.w_size?b.w_size:b.pending_buf_size-5,He=0,ke=b.strm.avail_in;do{if(E=65535,_e=b.bi_valid+42>>3,b.strm.avail_out<_e||(_e=b.strm.avail_out-_e,E>(be=b.strstart-b.block_start)+b.strm.avail_in&&(E=be+b.strm.avail_in),E>_e&&(E=_e),E<Ce&&(E===0&&J!==we||J===ce||E!==be+b.strm.avail_in)))break;He=J===we&&E===be+b.strm.avail_in?1:0,de(b,0,0,He),b.pending_buf[b.pending-4]=E,b.pending_buf[b.pending-3]=E>>8,b.pending_buf[b.pending-2]=~E,b.pending_buf[b.pending-1]=~E>>8,Jt(b.strm),be&&(be>E&&(be=E),b.strm.output.set(b.window.subarray(b.block_start,b.block_start+be),b.strm.next_out),b.strm.next_out+=be,b.strm.avail_out-=be,b.strm.total_out+=be,b.block_start+=be,E-=be),E&&(ht(b.strm,b.strm.output,b.strm.next_out,E),b.strm.next_out+=E,b.strm.avail_out-=E,b.strm.total_out+=E)}while(He===0);return(ke-=b.strm.avail_in)&&(ke>=b.w_size?(b.matches=2,b.window.set(b.strm.input.subarray(b.strm.next_in-b.w_size,b.strm.next_in),0),b.strstart=b.w_size,b.insert=b.strstart):(b.window_size-b.strstart<=ke&&(b.strstart-=b.w_size,b.window.set(b.window.subarray(b.w_size,b.w_size+b.strstart),0),b.matches<2&&b.matches++,b.insert>b.strstart&&(b.insert=b.strstart)),b.window.set(b.strm.input.subarray(b.strm.next_in-ke,b.strm.next_in),b.strstart),b.strstart+=ke,b.insert+=ke>b.w_size-b.insert?b.w_size-b.insert:ke),b.block_start=b.strstart),b.high_water<b.strstart&&(b.high_water=b.strstart),He?4:J!==ce&&J!==we&&b.strm.avail_in===0&&b.strstart===b.block_start?2:(_e=b.window_size-b.strstart,b.strm.avail_in>_e&&b.block_start>=b.w_size&&(b.block_start-=b.w_size,b.strstart-=b.w_size,b.window.set(b.window.subarray(b.w_size,b.w_size+b.strstart),0),b.matches<2&&b.matches++,_e+=b.w_size,b.insert>b.strstart&&(b.insert=b.strstart)),_e>b.strm.avail_in&&(_e=b.strm.avail_in),_e&&(ht(b.strm,b.window,b.strstart,_e),b.strstart+=_e,b.insert+=_e>b.w_size-b.insert?b.w_size-b.insert:_e),b.high_water<b.strstart&&(b.high_water=b.strstart),_e=b.bi_valid+42>>3,Ce=(_e=b.pending_buf_size-_e>65535?65535:b.pending_buf_size-_e)>b.w_size?b.w_size:_e,((be=b.strstart-b.block_start)>=Ce||(be||J===we)&&J!==ce&&b.strm.avail_in===0&&be<=_e)&&(E=be>_e?_e:be,He=J===we&&b.strm.avail_in===0&&E===be?1:0,de(b,b.block_start,E,He),b.block_start+=E,Jt(b.strm)),He?3:1)},q=function(b,J){for(var E,be;;){if(b.lookahead<at){if(Vn(b),b.lookahead<at&&J===ce)return 1;if(b.lookahead===0)break}if(E=0,b.lookahead>=3&&(b.ins_h=Bt(b,b.ins_h,b.window[b.strstart+3-1]),E=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),E!==0&&b.strstart-E<=b.w_size-at&&(b.match_length=cn(b,E)),b.match_length>=3)if(be=Te(b,b.strstart-b.match_start,b.match_length-3),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=3){b.match_length--;do b.strstart++,b.ins_h=Bt(b,b.ins_h,b.window[b.strstart+3-1]),E=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart;while(--b.match_length!=0);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=Bt(b,b.ins_h,b.window[b.strstart+1]);else be=Te(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(be&&(ut(b,!1),b.strm.avail_out===0))return 1}return b.insert=b.strstart<2?b.strstart:2,J===we?(ut(b,!0),b.strm.avail_out===0?3:4):b.sym_next&&(ut(b,!1),b.strm.avail_out===0)?1:2},Q=function(b,J){for(var E,be,_e;;){if(b.lookahead<at){if(Vn(b),b.lookahead<at&&J===ce)return 1;if(b.lookahead===0)break}if(E=0,b.lookahead>=3&&(b.ins_h=Bt(b,b.ins_h,b.window[b.strstart+3-1]),E=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=2,E!==0&&b.prev_length<b.max_lazy_match&&b.strstart-E<=b.w_size-at&&(b.match_length=cn(b,E),b.match_length<=5&&(b.strategy===me||b.match_length===3&&b.strstart-b.match_start>4096)&&(b.match_length=2)),b.prev_length>=3&&b.match_length<=b.prev_length){_e=b.strstart+b.lookahead-3,be=Te(b,b.strstart-1-b.prev_match,b.prev_length-3),b.lookahead-=b.prev_length-1,b.prev_length-=2;do++b.strstart<=_e&&(b.ins_h=Bt(b,b.ins_h,b.window[b.strstart+3-1]),E=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);while(--b.prev_length!=0);if(b.match_available=0,b.match_length=2,b.strstart++,be&&(ut(b,!1),b.strm.avail_out===0))return 1}else if(b.match_available){if((be=Te(b,0,b.window[b.strstart-1]))&&ut(b,!1),b.strstart++,b.lookahead--,b.strm.avail_out===0)return 1}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(be=Te(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<2?b.strstart:2,J===we?(ut(b,!0),b.strm.avail_out===0?3:4):b.sym_next&&(ut(b,!1),b.strm.avail_out===0)?1:2};function ye(b,J,E,be,_e){this.good_length=b,this.max_lazy=J,this.nice_length=E,this.max_chain=be,this.func=_e}var Ne=[new ye(0,0,0,0,et),new ye(4,4,8,4,q),new ye(4,5,16,8,q),new ye(4,6,32,32,q),new ye(4,4,16,16,Q),new ye(8,16,32,32,Q),new ye(8,16,128,128,Q),new ye(8,32,128,256,Q),new ye(32,128,258,1024,Q),new ye(32,258,258,4096,Q)];function Ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ke,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Wt(this.dyn_ltree),Wt(this.dyn_dtree),Wt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Wt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Wt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var nt=function(b){if(!b)return 1;var J=b.state;return!J||J.strm!==b||J.status!==xt&&J.status!==57&&J.status!==69&&J.status!==73&&J.status!==91&&J.status!==103&&J.status!==bt&&J.status!==gt?1:0},vt=function(b){if(nt(b))return Rt(b,te);b.total_in=b.total_out=0,b.data_type=We;var J=b.state;return J.pending=0,J.pending_out=0,J.wrap<0&&(J.wrap=-J.wrap),J.status=J.wrap===2?57:J.wrap?xt:bt,b.adler=J.wrap===2?0:1,J.last_flush=-2,De(J),X},zt=function(b){var J,E=vt(b);return E===X&&((J=b.state).window_size=2*J.w_size,Wt(J.head),J.max_lazy_match=Ne[J.level].max_lazy,J.good_match=Ne[J.level].good_length,J.nice_match=Ne[J.level].nice_length,J.max_chain_length=Ne[J.level].max_chain,J.strstart=0,J.block_start=0,J.lookahead=0,J.insert=0,J.match_length=J.prev_length=2,J.match_available=0,J.ins_h=0),E},At=function(b,J,E,be,_e,Ce){if(!b)return te;var He=1;if(J===xe&&(J=6),be<0?(He=0,be=-be):be>15&&(He=2,be-=16),_e<1||_e>9||E!==Ke||be<8||be>15||J<0||J>9||Ce<0||Ce>Pe||be===8&&He!==1)return Rt(b,te);be===8&&(be=9);var ke=new Ge;return b.state=ke,ke.strm=b,ke.status=xt,ke.wrap=He,ke.gzhead=null,ke.w_bits=be,ke.w_size=1<<ke.w_bits,ke.w_mask=ke.w_size-1,ke.hash_bits=_e+7,ke.hash_size=1<<ke.hash_bits,ke.hash_mask=ke.hash_size-1,ke.hash_shift=~~((ke.hash_bits+3-1)/3),ke.window=new Uint8Array(2*ke.w_size),ke.head=new Uint16Array(ke.hash_size),ke.prev=new Uint16Array(ke.w_size),ke.lit_bufsize=1<<_e+6,ke.pending_buf_size=4*ke.lit_bufsize,ke.pending_buf=new Uint8Array(ke.pending_buf_size),ke.sym_buf=ke.lit_bufsize,ke.sym_end=3*(ke.lit_bufsize-1),ke.level=J,ke.strategy=Ce,ke.method=E,zt(b)},nn={deflateInit:function(b,J){return At(b,J,Ke,15,8,qe)},deflateInit2:At,deflateReset:zt,deflateResetKeep:vt,deflateSetHeader:function(b,J){return nt(b)||b.state.wrap!==2?te:(b.state.gzhead=J,X)},deflate:function(b,J){if(nt(b)||J>H||J<0)return b?Rt(b,te):te;var E=b.state;if(!b.output||b.avail_in!==0&&!b.input||E.status===gt&&J!==we)return Rt(b,b.avail_out===0?Re:te);var be=E.last_flush;if(E.last_flush=J,E.pending!==0){if(Jt(b),b.avail_out===0)return E.last_flush=-1,X}else if(b.avail_in===0&&wn(J)<=wn(be)&&J!==we)return Rt(b,Re);if(E.status===gt&&b.avail_in!==0)return Rt(b,Re);if(E.status===xt&&E.wrap===0&&(E.status=bt),E.status===xt){var _e=Ke+(E.w_bits-8<<4)<<8;if(_e|=(E.strategy>=Ee||E.level<2?0:E.level<6?1:E.level===6?2:3)<<6,E.strstart!==0&&(_e|=32),st(E,_e+=31-_e%31),E.strstart!==0&&(st(E,b.adler>>>16),st(E,65535&b.adler)),b.adler=1,E.status=bt,Jt(b),E.pending!==0)return E.last_flush=-1,X}if(E.status===57){if(b.adler=0,lt(E,31),lt(E,139),lt(E,8),E.gzhead)lt(E,(E.gzhead.text?1:0)+(E.gzhead.hcrc?2:0)+(E.gzhead.extra?4:0)+(E.gzhead.name?8:0)+(E.gzhead.comment?16:0)),lt(E,255&E.gzhead.time),lt(E,E.gzhead.time>>8&255),lt(E,E.gzhead.time>>16&255),lt(E,E.gzhead.time>>24&255),lt(E,E.level===9?2:E.strategy>=Ee||E.level<2?4:0),lt(E,255&E.gzhead.os),E.gzhead.extra&&E.gzhead.extra.length&&(lt(E,255&E.gzhead.extra.length),lt(E,E.gzhead.extra.length>>8&255)),E.gzhead.hcrc&&(b.adler=ae(b.adler,E.pending_buf,E.pending,0)),E.gzindex=0,E.status=69;else if(lt(E,0),lt(E,0),lt(E,0),lt(E,0),lt(E,0),lt(E,E.level===9?2:E.strategy>=Ee||E.level<2?4:0),lt(E,3),E.status=bt,Jt(b),E.pending!==0)return E.last_flush=-1,X}if(E.status===69){if(E.gzhead.extra){for(var Ce=E.pending,He=(65535&E.gzhead.extra.length)-E.gzindex;E.pending+He>E.pending_buf_size;){var ke=E.pending_buf_size-E.pending;if(E.pending_buf.set(E.gzhead.extra.subarray(E.gzindex,E.gzindex+ke),E.pending),E.pending=E.pending_buf_size,E.gzhead.hcrc&&E.pending>Ce&&(b.adler=ae(b.adler,E.pending_buf,E.pending-Ce,Ce)),E.gzindex+=ke,Jt(b),E.pending!==0)return E.last_flush=-1,X;Ce=0,He-=ke}var Je=new Uint8Array(E.gzhead.extra);E.pending_buf.set(Je.subarray(E.gzindex,E.gzindex+He),E.pending),E.pending+=He,E.gzhead.hcrc&&E.pending>Ce&&(b.adler=ae(b.adler,E.pending_buf,E.pending-Ce,Ce)),E.gzindex=0}E.status=73}if(E.status===73){if(E.gzhead.name){var Me,Be=E.pending;do{if(E.pending===E.pending_buf_size){if(E.gzhead.hcrc&&E.pending>Be&&(b.adler=ae(b.adler,E.pending_buf,E.pending-Be,Be)),Jt(b),E.pending!==0)return E.last_flush=-1,X;Be=0}Me=E.gzindex<E.gzhead.name.length?255&E.gzhead.name.charCodeAt(E.gzindex++):0,lt(E,Me)}while(Me!==0);E.gzhead.hcrc&&E.pending>Be&&(b.adler=ae(b.adler,E.pending_buf,E.pending-Be,Be)),E.gzindex=0}E.status=91}if(E.status===91){if(E.gzhead.comment){var Ft,ot=E.pending;do{if(E.pending===E.pending_buf_size){if(E.gzhead.hcrc&&E.pending>ot&&(b.adler=ae(b.adler,E.pending_buf,E.pending-ot,ot)),Jt(b),E.pending!==0)return E.last_flush=-1,X;ot=0}Ft=E.gzindex<E.gzhead.comment.length?255&E.gzhead.comment.charCodeAt(E.gzindex++):0,lt(E,Ft)}while(Ft!==0);E.gzhead.hcrc&&E.pending>ot&&(b.adler=ae(b.adler,E.pending_buf,E.pending-ot,ot))}E.status=103}if(E.status===103){if(E.gzhead.hcrc){if(E.pending+2>E.pending_buf_size&&(Jt(b),E.pending!==0))return E.last_flush=-1,X;lt(E,255&b.adler),lt(E,b.adler>>8&255),b.adler=0}if(E.status=bt,Jt(b),E.pending!==0)return E.last_flush=-1,X}if(b.avail_in!==0||E.lookahead!==0||J!==ce&&E.status!==gt){var Ye=E.level===0?et(E,J):E.strategy===Ee?function(it,Mt){for(var Ot;;){if(it.lookahead===0&&(Vn(it),it.lookahead===0)){if(Mt===ce)return 1;break}if(it.match_length=0,Ot=Te(it,0,it.window[it.strstart]),it.lookahead--,it.strstart++,Ot&&(ut(it,!1),it.strm.avail_out===0))return 1}return it.insert=0,Mt===we?(ut(it,!0),it.strm.avail_out===0?3:4):it.sym_next&&(ut(it,!1),it.strm.avail_out===0)?1:2}(E,J):E.strategy===je?function(it,Mt){for(var Ot,Ut,rt,tt,pt=it.window;;){if(it.lookahead<=Qe){if(Vn(it),it.lookahead<=Qe&&Mt===ce)return 1;if(it.lookahead===0)break}if(it.match_length=0,it.lookahead>=3&&it.strstart>0&&(Ut=pt[rt=it.strstart-1])===pt[++rt]&&Ut===pt[++rt]&&Ut===pt[++rt]){tt=it.strstart+Qe;do;while(Ut===pt[++rt]&&Ut===pt[++rt]&&Ut===pt[++rt]&&Ut===pt[++rt]&&Ut===pt[++rt]&&Ut===pt[++rt]&&Ut===pt[++rt]&&Ut===pt[++rt]&&rt<tt);it.match_length=Qe-(tt-rt),it.match_length>it.lookahead&&(it.match_length=it.lookahead)}if(it.match_length>=3?(Ot=Te(it,1,it.match_length-3),it.lookahead-=it.match_length,it.strstart+=it.match_length,it.match_length=0):(Ot=Te(it,0,it.window[it.strstart]),it.lookahead--,it.strstart++),Ot&&(ut(it,!1),it.strm.avail_out===0))return 1}return it.insert=0,Mt===we?(ut(it,!0),it.strm.avail_out===0?3:4):it.sym_next&&(ut(it,!1),it.strm.avail_out===0)?1:2}(E,J):Ne[E.level].func(E,J);if(Ye!==3&&Ye!==4||(E.status=gt),Ye===1||Ye===3)return b.avail_out===0&&(E.last_flush=-1),X;if(Ye===2&&(J===ve?fe(E):J!==H&&(de(E,0,0,!1),J===Se&&(Wt(E.head),E.lookahead===0&&(E.strstart=0,E.block_start=0,E.insert=0))),Jt(b),b.avail_out===0))return E.last_flush=-1,X}return J!==we?X:E.wrap<=0?ee:(E.wrap===2?(lt(E,255&b.adler),lt(E,b.adler>>8&255),lt(E,b.adler>>16&255),lt(E,b.adler>>24&255),lt(E,255&b.total_in),lt(E,b.total_in>>8&255),lt(E,b.total_in>>16&255),lt(E,b.total_in>>24&255)):(st(E,b.adler>>>16),st(E,65535&b.adler)),Jt(b),E.wrap>0&&(E.wrap=-E.wrap),E.pending!==0?X:ee)},deflateEnd:function(b){if(nt(b))return te;var J=b.state.status;return b.state=null,J===bt?Rt(b,ge):X},deflateSetDictionary:function(b,J){var E=J.length;if(nt(b))return te;var be=b.state,_e=be.wrap;if(_e===2||_e===1&&be.status!==xt||be.lookahead)return te;if(_e===1&&(b.adler=I(b.adler,J,E,0)),be.wrap=0,E>=be.w_size){_e===0&&(Wt(be.head),be.strstart=0,be.block_start=0,be.insert=0);var Ce=new Uint8Array(be.w_size);Ce.set(J.subarray(E-be.w_size,E),0),J=Ce,E=be.w_size}var He=b.avail_in,ke=b.next_in,Je=b.input;for(b.avail_in=E,b.next_in=0,b.input=J,Vn(be);be.lookahead>=3;){var Me=be.strstart,Be=be.lookahead-2;do be.ins_h=Bt(be,be.ins_h,be.window[Me+3-1]),be.prev[Me&be.w_mask]=be.head[be.ins_h],be.head[be.ins_h]=Me,Me++;while(--Be);be.strstart=Me,be.lookahead=2,Vn(be)}return be.strstart+=be.lookahead,be.block_start=be.strstart,be.insert=be.lookahead,be.lookahead=0,be.match_length=be.prev_length=2,be.match_available=0,b.next_in=ke,b.input=Je,b.avail_in=He,be.wrap=_e,X},deflateInfo:"pako deflate (from Nodeca project)"};function yn(b){return yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},yn(b)}var lr=function(b,J){return Object.prototype.hasOwnProperty.call(b,J)},jn=function(b){for(var J=Array.prototype.slice.call(arguments,1);J.length;){var E=J.shift();if(E){if(yn(E)!=="object")throw new TypeError(E+"must be non-object");for(var be in E)lr(E,be)&&(b[be]=E[be])}}return b},Vt=function(b){for(var J=0,E=0,be=b.length;E<be;E++)J+=b[E].length;for(var _e=new Uint8Array(J),Ce=0,He=0,ke=b.length;Ce<ke;Ce++){var Je=b[Ce];_e.set(Je,He),He+=Je.length}return _e},gr=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{gr=!1}for(var Ln=new Uint8Array(256),Sn=0;Sn<256;Sn++)Ln[Sn]=Sn>=252?6:Sn>=248?5:Sn>=240?4:Sn>=224?3:Sn>=192?2:1;Ln[254]=Ln[254]=1;var Nt=function(b){if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(b);var J,E,be,_e,Ce,He=b.length,ke=0;for(_e=0;_e<He;_e++)(64512&(E=b.charCodeAt(_e)))==55296&&_e+1<He&&(64512&(be=b.charCodeAt(_e+1)))==56320&&(E=65536+(E-55296<<10)+(be-56320),_e++),ke+=E<128?1:E<2048?2:E<65536?3:4;for(J=new Uint8Array(ke),Ce=0,_e=0;Ce<ke;_e++)(64512&(E=b.charCodeAt(_e)))==55296&&_e+1<He&&(64512&(be=b.charCodeAt(_e+1)))==56320&&(E=65536+(E-55296<<10)+(be-56320),_e++),E<128?J[Ce++]=E:E<2048?(J[Ce++]=192|E>>>6,J[Ce++]=128|63&E):E<65536?(J[Ce++]=224|E>>>12,J[Ce++]=128|E>>>6&63,J[Ce++]=128|63&E):(J[Ce++]=240|E>>>18,J[Ce++]=128|E>>>12&63,J[Ce++]=128|E>>>6&63,J[Ce++]=128|63&E);return J},ur=function(b,J){var E,be,_e=J||b.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(b.subarray(0,J));var Ce=new Array(2*_e);for(be=0,E=0;E<_e;){var He=b[E++];if(He<128)Ce[be++]=He;else{var ke=Ln[He];if(ke>4)Ce[be++]=65533,E+=ke-1;else{for(He&=ke===2?31:ke===3?15:7;ke>1&&E<_e;)He=He<<6|63&b[E++],ke--;ke>1?Ce[be++]=65533:He<65536?Ce[be++]=He:(He-=65536,Ce[be++]=55296|He>>10&1023,Ce[be++]=56320|1023&He)}}}return function(Je,Me){if(Me<65534&&Je.subarray&&gr)return String.fromCharCode.apply(null,Je.length===Me?Je:Je.subarray(0,Me));for(var Be="",Ft=0;Ft<Me;Ft++)Be+=String.fromCharCode(Je[Ft]);return Be}(Ce,be)},kn=function(b,J){(J=J||b.length)>b.length&&(J=b.length);for(var E=J-1;E>=0&&(192&b[E])==128;)E--;return E<0||E===0?J:E+Ln[b[E]]>J?E:J},Dr=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Hr=Object.prototype.toString,Mi=pe.Z_NO_FLUSH,So=pe.Z_SYNC_FLUSH,xi=pe.Z_FULL_FLUSH,Xl=pe.Z_FINISH,Cs=pe.Z_OK,Ra=pe.Z_STREAM_END,Gl=pe.Z_DEFAULT_COMPRESSION,Wl=pe.Z_DEFAULT_STRATEGY,Pd=pe.Z_DEFLATED;function Ma(b){this.options=jn({level:Gl,method:Pd,chunkSize:16384,windowBits:15,memLevel:8,strategy:Wl},b||{});var J=this.options;J.raw&&J.windowBits>0?J.windowBits=-J.windowBits:J.gzip&&J.windowBits>0&&J.windowBits<16&&(J.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Dr,this.strm.avail_out=0;var E=nn.deflateInit2(this.strm,J.level,J.method,J.windowBits,J.memLevel,J.strategy);if(E!==Cs)throw new Error(oe[E]);if(J.header&&nn.deflateSetHeader(this.strm,J.header),J.dictionary){var be;if(be=typeof J.dictionary=="string"?Nt(J.dictionary):Hr.call(J.dictionary)==="[object ArrayBuffer]"?new Uint8Array(J.dictionary):J.dictionary,(E=nn.deflateSetDictionary(this.strm,be))!==Cs)throw new Error(oe[E]);this._dict_set=!0}}function vr(b,J){var E=new Ma(J);if(E.push(b,!0),E.err)throw E.msg||oe[E.err];return E.result}Ma.prototype.push=function(b,J){var E,be,_e=this.strm,Ce=this.options.chunkSize;if(this.ended)return!1;for(be=J===~~J?J:J===!0?Xl:Mi,typeof b=="string"?_e.input=Nt(b):Hr.call(b)==="[object ArrayBuffer]"?_e.input=new Uint8Array(b):_e.input=b,_e.next_in=0,_e.avail_in=_e.input.length;;)if(_e.avail_out===0&&(_e.output=new Uint8Array(Ce),_e.next_out=0,_e.avail_out=Ce),(be===So||be===xi)&&_e.avail_out<=6)this.onData(_e.output.subarray(0,_e.next_out)),_e.avail_out=0;else{if((E=nn.deflate(_e,be))===Ra)return _e.next_out>0&&this.onData(_e.output.subarray(0,_e.next_out)),E=nn.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===Cs;if(_e.avail_out!==0){if(be>0&&_e.next_out>0)this.onData(_e.output.subarray(0,_e.next_out)),_e.avail_out=0;else if(_e.avail_in===0)break}else this.onData(_e.output)}return!0},Ma.prototype.onData=function(b){this.chunks.push(b)},Ma.prototype.onEnd=function(b){b===Cs&&(this.result=Vt(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg};var As={Deflate:Ma,deflate:vr,deflateRaw:function(b,J){return(J=J||{}).raw=!0,vr(b,J)},gzip:function(b,J){return(J=J||{}).gzip=!0,vr(b,J)}},Eo=16209,Co=function(b,J){var E,be,_e,Ce,He,ke,Je,Me,Be,Ft,ot,Ye,it,Mt,Ot,Ut,rt,tt,pt,pn,dt,Zt,Ht,wt,Tt=b.state;E=b.next_in,Ht=b.input,be=E+(b.avail_in-5),_e=b.next_out,wt=b.output,Ce=_e-(J-b.avail_out),He=_e+(b.avail_out-257),ke=Tt.dmax,Je=Tt.wsize,Me=Tt.whave,Be=Tt.wnext,Ft=Tt.window,ot=Tt.hold,Ye=Tt.bits,it=Tt.lencode,Mt=Tt.distcode,Ot=(1<<Tt.lenbits)-1,Ut=(1<<Tt.distbits)-1;e:do{Ye<15&&(ot+=Ht[E++]<<Ye,Ye+=8,ot+=Ht[E++]<<Ye,Ye+=8),rt=it[ot&Ot];t:for(;;){if(ot>>>=tt=rt>>>24,Ye-=tt,(tt=rt>>>16&255)===0)wt[_e++]=65535&rt;else{if(!(16&tt)){if((64&tt)==0){rt=it[(65535&rt)+(ot&(1<<tt)-1)];continue t}if(32&tt){Tt.mode=16191;break e}b.msg="invalid literal/length code",Tt.mode=Eo;break e}pt=65535&rt,(tt&=15)&&(Ye<tt&&(ot+=Ht[E++]<<Ye,Ye+=8),pt+=ot&(1<<tt)-1,ot>>>=tt,Ye-=tt),Ye<15&&(ot+=Ht[E++]<<Ye,Ye+=8,ot+=Ht[E++]<<Ye,Ye+=8),rt=Mt[ot&Ut];n:for(;;){if(ot>>>=tt=rt>>>24,Ye-=tt,!(16&(tt=rt>>>16&255))){if((64&tt)==0){rt=Mt[(65535&rt)+(ot&(1<<tt)-1)];continue n}b.msg="invalid distance code",Tt.mode=Eo;break e}if(pn=65535&rt,Ye<(tt&=15)&&(ot+=Ht[E++]<<Ye,(Ye+=8)<tt&&(ot+=Ht[E++]<<Ye,Ye+=8)),(pn+=ot&(1<<tt)-1)>ke){b.msg="invalid distance too far back",Tt.mode=Eo;break e}if(ot>>>=tt,Ye-=tt,pn>(tt=_e-Ce)){if((tt=pn-tt)>Me&&Tt.sane){b.msg="invalid distance too far back",Tt.mode=Eo;break e}if(dt=0,Zt=Ft,Be===0){if(dt+=Je-tt,tt<pt){pt-=tt;do wt[_e++]=Ft[dt++];while(--tt);dt=_e-pn,Zt=wt}}else if(Be<tt){if(dt+=Je+Be-tt,(tt-=Be)<pt){pt-=tt;do wt[_e++]=Ft[dt++];while(--tt);if(dt=0,Be<pt){pt-=tt=Be;do wt[_e++]=Ft[dt++];while(--tt);dt=_e-pn,Zt=wt}}}else if(dt+=Be-tt,tt<pt){pt-=tt;do wt[_e++]=Ft[dt++];while(--tt);dt=_e-pn,Zt=wt}for(;pt>2;)wt[_e++]=Zt[dt++],wt[_e++]=Zt[dt++],wt[_e++]=Zt[dt++],pt-=3;pt&&(wt[_e++]=Zt[dt++],pt>1&&(wt[_e++]=Zt[dt++]))}else{dt=_e-pn;do wt[_e++]=wt[dt++],wt[_e++]=wt[dt++],wt[_e++]=wt[dt++],pt-=3;while(pt>2);pt&&(wt[_e++]=wt[dt++],pt>1&&(wt[_e++]=wt[dt++]))}break}}break}}while(E<be&&_e<He);E-=pt=Ye>>3,ot&=(1<<(Ye-=pt<<3))-1,b.next_in=E,b.next_out=_e,b.avail_in=E<be?be-E+5:5-(E-be),b.avail_out=_e<He?He-_e+257:257-(_e-He),Tt.hold=ot,Tt.bits=Ye},Ts=15,Ao=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Id=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Or=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Zl=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ja=function(b,J,E,be,_e,Ce,He,ke){var Je,Me,Be,Ft,ot,Ye,it,Mt,Ot,Ut=ke.bits,rt=0,tt=0,pt=0,pn=0,dt=0,Zt=0,Ht=0,wt=0,Tt=0,en=0,ua=null,Vr=new Uint16Array(16),js=new Uint16Array(16),Ls=null;for(rt=0;rt<=Ts;rt++)Vr[rt]=0;for(tt=0;tt<be;tt++)Vr[J[E+tt]]++;for(dt=Ut,pn=Ts;pn>=1&&Vr[pn]===0;pn--);if(dt>pn&&(dt=pn),pn===0)return _e[Ce++]=20971520,_e[Ce++]=20971520,ke.bits=1,0;for(pt=1;pt<pn&&Vr[pt]===0;pt++);for(dt<pt&&(dt=pt),wt=1,rt=1;rt<=Ts;rt++)if(wt<<=1,(wt-=Vr[rt])<0)return-1;if(wt>0&&(b===0||pn!==1))return-1;for(js[1]=0,rt=1;rt<Ts;rt++)js[rt+1]=js[rt]+Vr[rt];for(tt=0;tt<be;tt++)J[E+tt]!==0&&(He[js[J[E+tt]]++]=tt);if(b===0?(ua=Ls=He,Ye=20):b===1?(ua=Ao,Ls=Id,Ye=257):(ua=Or,Ls=Zl,Ye=0),en=0,tt=0,rt=pt,ot=Ce,Zt=dt,Ht=0,Be=-1,Ft=(Tt=1<<dt)-1,b===1&&Tt>852||b===2&&Tt>592)return 1;for(;;){it=rt-Ht,He[tt]+1<Ye?(Mt=0,Ot=He[tt]):He[tt]>=Ye?(Mt=Ls[He[tt]-Ye],Ot=ua[He[tt]-Ye]):(Mt=96,Ot=0),Je=1<<rt-Ht,pt=Me=1<<Zt;do _e[ot+(en>>Ht)+(Me-=Je)]=it<<24|Mt<<16|Ot|0;while(Me!==0);for(Je=1<<rt-1;en&Je;)Je>>=1;if(Je!==0?(en&=Je-1,en+=Je):en=0,tt++,--Vr[rt]==0){if(rt===pn)break;rt=J[E+He[tt]]}if(rt>dt&&(en&Ft)!==Be){for(Ht===0&&(Ht=dt),ot+=pt,wt=1<<(Zt=rt-Ht);Zt+Ht<pn&&!((wt-=Vr[Zt+Ht])<=0);)Zt++,wt<<=1;if(Tt+=1<<Zt,b===1&&Tt>852||b===2&&Tt>592)return 1;_e[Be=en&Ft]=dt<<24|Zt<<16|ot-Ce|0}}return en!==0&&(_e[ot+en]=rt-Ht<<24|64<<16|0),ke.bits=dt,0},To=pe.Z_FINISH,La=pe.Z_BLOCK,Ds=pe.Z_TREES,ji=pe.Z_OK,Pa=pe.Z_STREAM_END,Bd=pe.Z_NEED_DICT,kr=pe.Z_STREAM_ERROR,Kl=pe.Z_DATA_ERROR,Do=pe.Z_MEM_ERROR,zd=pe.Z_BUF_ERROR,Gc=pe.Z_DEFLATED,sa=16180,Ia=16190,$r=16191,Li=16192,Pi=16194,Os=16199,Ba=16200,Oo=16206,fn=16209,ii=function(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)};function Ql(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var oa,ai,wi=function(b){if(!b)return 1;var J=b.state;return!J||J.strm!==b||J.mode<sa||J.mode>16211?1:0},ks=function(b){if(wi(b))return kr;var J=b.state;return b.total_in=b.total_out=J.total=0,b.msg="",J.wrap&&(b.adler=1&J.wrap),J.mode=sa,J.last=0,J.havedict=0,J.flags=-1,J.dmax=32768,J.head=null,J.hold=0,J.bits=0,J.lencode=J.lendyn=new Int32Array(852),J.distcode=J.distdyn=new Int32Array(592),J.sane=1,J.back=-1,ji},Jl=function(b){if(wi(b))return kr;var J=b.state;return J.wsize=0,J.whave=0,J.wnext=0,ks(b)},Ns=function(b,J){var E;if(wi(b))return kr;var be=b.state;return J<0?(E=0,J=-J):(E=5+(J>>4),J<48&&(J&=15)),J&&(J<8||J>15)?kr:(be.window!==null&&be.wbits!==J&&(be.window=null),be.wrap=E,be.wbits=J,Jl(b))},Rs=function(b,J){if(!b)return kr;var E=new Ql;b.state=E,E.strm=b,E.window=null,E.mode=sa;var be=Ns(b,J);return be!==ji&&(b.state=null),be},eu=!0,yr=function(b){if(eu){oa=new Int32Array(512),ai=new Int32Array(32);for(var J=0;J<144;)b.lens[J++]=8;for(;J<256;)b.lens[J++]=9;for(;J<280;)b.lens[J++]=7;for(;J<288;)b.lens[J++]=8;for(ja(1,b.lens,0,288,oa,0,b.work,{bits:9}),J=0;J<32;)b.lens[J++]=5;ja(2,b.lens,0,32,ai,0,b.work,{bits:5}),eu=!1}b.lencode=oa,b.lenbits=9,b.distcode=ai,b.distbits=5},Ii=function(b,J,E,be){var _e,Ce=b.state;return Ce.window===null&&(Ce.wsize=1<<Ce.wbits,Ce.wnext=0,Ce.whave=0,Ce.window=new Uint8Array(Ce.wsize)),be>=Ce.wsize?(Ce.window.set(J.subarray(E-Ce.wsize,E),0),Ce.wnext=0,Ce.whave=Ce.wsize):((_e=Ce.wsize-Ce.wnext)>be&&(_e=be),Ce.window.set(J.subarray(E-be,E-be+_e),Ce.wnext),(be-=_e)?(Ce.window.set(J.subarray(E-be,E),0),Ce.wnext=be,Ce.whave=Ce.wsize):(Ce.wnext+=_e,Ce.wnext===Ce.wsize&&(Ce.wnext=0),Ce.whave<Ce.wsize&&(Ce.whave+=_e))),0},Nr={inflateReset:Jl,inflateReset2:Ns,inflateResetKeep:ks,inflateInit:function(b){return Rs(b,15)},inflateInit2:Rs,inflate:function(b,J){var E,be,_e,Ce,He,ke,Je,Me,Be,Ft,ot,Ye,it,Mt,Ot,Ut,rt,tt,pt,pn,dt,Zt,Ht,wt,Tt=0,en=new Uint8Array(4),ua=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(wi(b)||!b.output||!b.input&&b.avail_in!==0)return kr;(E=b.state).mode===$r&&(E.mode=Li),He=b.next_out,_e=b.output,Je=b.avail_out,Ce=b.next_in,be=b.input,ke=b.avail_in,Me=E.hold,Be=E.bits,Ft=ke,ot=Je,Zt=ji;e:for(;;)switch(E.mode){case sa:if(E.wrap===0){E.mode=Li;break}for(;Be<16;){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}if(2&E.wrap&&Me===35615){E.wbits===0&&(E.wbits=15),E.check=0,en[0]=255&Me,en[1]=Me>>>8&255,E.check=ae(E.check,en,2,0),Me=0,Be=0,E.mode=16181;break}if(E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&Me)<<8)+(Me>>8))%31){b.msg="incorrect header check",E.mode=fn;break}if((15&Me)!==Gc){b.msg="unknown compression method",E.mode=fn;break}if(Be-=4,dt=8+(15&(Me>>>=4)),E.wbits===0&&(E.wbits=dt),dt>15||dt>E.wbits){b.msg="invalid window size",E.mode=fn;break}E.dmax=1<<E.wbits,E.flags=0,b.adler=E.check=1,E.mode=512&Me?16189:$r,Me=0,Be=0;break;case 16181:for(;Be<16;){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}if(E.flags=Me,(255&E.flags)!==Gc){b.msg="unknown compression method",E.mode=fn;break}if(57344&E.flags){b.msg="unknown header flags set",E.mode=fn;break}E.head&&(E.head.text=Me>>8&1),512&E.flags&&4&E.wrap&&(en[0]=255&Me,en[1]=Me>>>8&255,E.check=ae(E.check,en,2,0)),Me=0,Be=0,E.mode=16182;case 16182:for(;Be<32;){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}E.head&&(E.head.time=Me),512&E.flags&&4&E.wrap&&(en[0]=255&Me,en[1]=Me>>>8&255,en[2]=Me>>>16&255,en[3]=Me>>>24&255,E.check=ae(E.check,en,4,0)),Me=0,Be=0,E.mode=16183;case 16183:for(;Be<16;){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}E.head&&(E.head.xflags=255&Me,E.head.os=Me>>8),512&E.flags&&4&E.wrap&&(en[0]=255&Me,en[1]=Me>>>8&255,E.check=ae(E.check,en,2,0)),Me=0,Be=0,E.mode=16184;case 16184:if(1024&E.flags){for(;Be<16;){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}E.length=Me,E.head&&(E.head.extra_len=Me),512&E.flags&&4&E.wrap&&(en[0]=255&Me,en[1]=Me>>>8&255,E.check=ae(E.check,en,2,0)),Me=0,Be=0}else E.head&&(E.head.extra=null);E.mode=16185;case 16185:if(1024&E.flags&&((Ye=E.length)>ke&&(Ye=ke),Ye&&(E.head&&(dt=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Uint8Array(E.head.extra_len)),E.head.extra.set(be.subarray(Ce,Ce+Ye),dt)),512&E.flags&&4&E.wrap&&(E.check=ae(E.check,be,Ye,Ce)),ke-=Ye,Ce+=Ye,E.length-=Ye),E.length))break e;E.length=0,E.mode=16186;case 16186:if(2048&E.flags){if(ke===0)break e;Ye=0;do dt=be[Ce+Ye++],E.head&&dt&&E.length<65536&&(E.head.name+=String.fromCharCode(dt));while(dt&&Ye<ke);if(512&E.flags&&4&E.wrap&&(E.check=ae(E.check,be,Ye,Ce)),ke-=Ye,Ce+=Ye,dt)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=16187;case 16187:if(4096&E.flags){if(ke===0)break e;Ye=0;do dt=be[Ce+Ye++],E.head&&dt&&E.length<65536&&(E.head.comment+=String.fromCharCode(dt));while(dt&&Ye<ke);if(512&E.flags&&4&E.wrap&&(E.check=ae(E.check,be,Ye,Ce)),ke-=Ye,Ce+=Ye,dt)break e}else E.head&&(E.head.comment=null);E.mode=16188;case 16188:if(512&E.flags){for(;Be<16;){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}if(4&E.wrap&&Me!==(65535&E.check)){b.msg="header crc mismatch",E.mode=fn;break}Me=0,Be=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),b.adler=E.check=0,E.mode=$r;break;case 16189:for(;Be<32;){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}b.adler=E.check=ii(Me),Me=0,Be=0,E.mode=Ia;case Ia:if(E.havedict===0)return b.next_out=He,b.avail_out=Je,b.next_in=Ce,b.avail_in=ke,E.hold=Me,E.bits=Be,Bd;b.adler=E.check=1,E.mode=$r;case $r:if(J===La||J===Ds)break e;case Li:if(E.last){Me>>>=7&Be,Be-=7&Be,E.mode=Oo;break}for(;Be<3;){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}switch(E.last=1&Me,Be-=1,3&(Me>>>=1)){case 0:E.mode=16193;break;case 1:if(yr(E),E.mode=Os,J===Ds){Me>>>=2,Be-=2;break e}break;case 2:E.mode=16196;break;case 3:b.msg="invalid block type",E.mode=fn}Me>>>=2,Be-=2;break;case 16193:for(Me>>>=7&Be,Be-=7&Be;Be<32;){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}if((65535&Me)!=(Me>>>16^65535)){b.msg="invalid stored block lengths",E.mode=fn;break}if(E.length=65535&Me,Me=0,Be=0,E.mode=Pi,J===Ds)break e;case Pi:E.mode=16195;case 16195:if(Ye=E.length){if(Ye>ke&&(Ye=ke),Ye>Je&&(Ye=Je),Ye===0)break e;_e.set(be.subarray(Ce,Ce+Ye),He),ke-=Ye,Ce+=Ye,Je-=Ye,He+=Ye,E.length-=Ye;break}E.mode=$r;break;case 16196:for(;Be<14;){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}if(E.nlen=257+(31&Me),Me>>>=5,Be-=5,E.ndist=1+(31&Me),Me>>>=5,Be-=5,E.ncode=4+(15&Me),Me>>>=4,Be-=4,E.nlen>286||E.ndist>30){b.msg="too many length or distance symbols",E.mode=fn;break}E.have=0,E.mode=16197;case 16197:for(;E.have<E.ncode;){for(;Be<3;){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}E.lens[ua[E.have++]]=7&Me,Me>>>=3,Be-=3}for(;E.have<19;)E.lens[ua[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,Ht={bits:E.lenbits},Zt=ja(0,E.lens,0,19,E.lencode,0,E.work,Ht),E.lenbits=Ht.bits,Zt){b.msg="invalid code lengths set",E.mode=fn;break}E.have=0,E.mode=16198;case 16198:for(;E.have<E.nlen+E.ndist;){for(;Ut=(Tt=E.lencode[Me&(1<<E.lenbits)-1])>>>16&255,rt=65535&Tt,!((Ot=Tt>>>24)<=Be);){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}if(rt<16)Me>>>=Ot,Be-=Ot,E.lens[E.have++]=rt;else{if(rt===16){for(wt=Ot+2;Be<wt;){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}if(Me>>>=Ot,Be-=Ot,E.have===0){b.msg="invalid bit length repeat",E.mode=fn;break}dt=E.lens[E.have-1],Ye=3+(3&Me),Me>>>=2,Be-=2}else if(rt===17){for(wt=Ot+3;Be<wt;){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}Be-=Ot,dt=0,Ye=3+(7&(Me>>>=Ot)),Me>>>=3,Be-=3}else{for(wt=Ot+7;Be<wt;){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}Be-=Ot,dt=0,Ye=11+(127&(Me>>>=Ot)),Me>>>=7,Be-=7}if(E.have+Ye>E.nlen+E.ndist){b.msg="invalid bit length repeat",E.mode=fn;break}for(;Ye--;)E.lens[E.have++]=dt}}if(E.mode===fn)break;if(E.lens[256]===0){b.msg="invalid code -- missing end-of-block",E.mode=fn;break}if(E.lenbits=9,Ht={bits:E.lenbits},Zt=ja(1,E.lens,0,E.nlen,E.lencode,0,E.work,Ht),E.lenbits=Ht.bits,Zt){b.msg="invalid literal/lengths set",E.mode=fn;break}if(E.distbits=6,E.distcode=E.distdyn,Ht={bits:E.distbits},Zt=ja(2,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,Ht),E.distbits=Ht.bits,Zt){b.msg="invalid distances set",E.mode=fn;break}if(E.mode=Os,J===Ds)break e;case Os:E.mode=Ba;case Ba:if(ke>=6&&Je>=258){b.next_out=He,b.avail_out=Je,b.next_in=Ce,b.avail_in=ke,E.hold=Me,E.bits=Be,Co(b,ot),He=b.next_out,_e=b.output,Je=b.avail_out,Ce=b.next_in,be=b.input,ke=b.avail_in,Me=E.hold,Be=E.bits,E.mode===$r&&(E.back=-1);break}for(E.back=0;Ut=(Tt=E.lencode[Me&(1<<E.lenbits)-1])>>>16&255,rt=65535&Tt,!((Ot=Tt>>>24)<=Be);){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}if(Ut&&(240&Ut)==0){for(tt=Ot,pt=Ut,pn=rt;Ut=(Tt=E.lencode[pn+((Me&(1<<tt+pt)-1)>>tt)])>>>16&255,rt=65535&Tt,!(tt+(Ot=Tt>>>24)<=Be);){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}Me>>>=tt,Be-=tt,E.back+=tt}if(Me>>>=Ot,Be-=Ot,E.back+=Ot,E.length=rt,Ut===0){E.mode=16205;break}if(32&Ut){E.back=-1,E.mode=$r;break}if(64&Ut){b.msg="invalid literal/length code",E.mode=fn;break}E.extra=15&Ut,E.mode=16201;case 16201:if(E.extra){for(wt=E.extra;Be<wt;){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}E.length+=Me&(1<<E.extra)-1,Me>>>=E.extra,Be-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=16202;case 16202:for(;Ut=(Tt=E.distcode[Me&(1<<E.distbits)-1])>>>16&255,rt=65535&Tt,!((Ot=Tt>>>24)<=Be);){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}if((240&Ut)==0){for(tt=Ot,pt=Ut,pn=rt;Ut=(Tt=E.distcode[pn+((Me&(1<<tt+pt)-1)>>tt)])>>>16&255,rt=65535&Tt,!(tt+(Ot=Tt>>>24)<=Be);){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}Me>>>=tt,Be-=tt,E.back+=tt}if(Me>>>=Ot,Be-=Ot,E.back+=Ot,64&Ut){b.msg="invalid distance code",E.mode=fn;break}E.offset=rt,E.extra=15&Ut,E.mode=16203;case 16203:if(E.extra){for(wt=E.extra;Be<wt;){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}E.offset+=Me&(1<<E.extra)-1,Me>>>=E.extra,Be-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){b.msg="invalid distance too far back",E.mode=fn;break}E.mode=16204;case 16204:if(Je===0)break e;if(Ye=ot-Je,E.offset>Ye){if((Ye=E.offset-Ye)>E.whave&&E.sane){b.msg="invalid distance too far back",E.mode=fn;break}Ye>E.wnext?(Ye-=E.wnext,it=E.wsize-Ye):it=E.wnext-Ye,Ye>E.length&&(Ye=E.length),Mt=E.window}else Mt=_e,it=He-E.offset,Ye=E.length;Ye>Je&&(Ye=Je),Je-=Ye,E.length-=Ye;do _e[He++]=Mt[it++];while(--Ye);E.length===0&&(E.mode=Ba);break;case 16205:if(Je===0)break e;_e[He++]=E.length,Je--,E.mode=Ba;break;case Oo:if(E.wrap){for(;Be<32;){if(ke===0)break e;ke--,Me|=be[Ce++]<<Be,Be+=8}if(ot-=Je,b.total_out+=ot,E.total+=ot,4&E.wrap&&ot&&(b.adler=E.check=E.flags?ae(E.check,_e,ot,He-ot):I(E.check,_e,ot,He-ot)),ot=Je,4&E.wrap&&(E.flags?Me:ii(Me))!==E.check){b.msg="incorrect data check",E.mode=fn;break}Me=0,Be=0}E.mode=16207;case 16207:if(E.wrap&&E.flags){for(;Be<32;){if(ke===0)break e;ke--,Me+=be[Ce++]<<Be,Be+=8}if(4&E.wrap&&Me!==(4294967295&E.total)){b.msg="incorrect length check",E.mode=fn;break}Me=0,Be=0}E.mode=16208;case 16208:Zt=Pa;break e;case fn:Zt=Kl;break e;case 16210:return Do;default:return kr}return b.next_out=He,b.avail_out=Je,b.next_in=Ce,b.avail_in=ke,E.hold=Me,E.bits=Be,(E.wsize||ot!==b.avail_out&&E.mode<fn&&(E.mode<Oo||J!==To))&&Ii(b,b.output,b.next_out,ot-b.avail_out),Ft-=b.avail_in,ot-=b.avail_out,b.total_in+=Ft,b.total_out+=ot,E.total+=ot,4&E.wrap&&ot&&(b.adler=E.check=E.flags?ae(E.check,_e,ot,b.next_out-ot):I(E.check,_e,ot,b.next_out-ot)),b.data_type=E.bits+(E.last?64:0)+(E.mode===$r?128:0)+(E.mode===Os||E.mode===Pi?256:0),(Ft===0&&ot===0||J===To)&&Zt===ji&&(Zt=zd),Zt},inflateEnd:function(b){if(wi(b))return kr;var J=b.state;return J.window&&(J.window=null),b.state=null,ji},inflateGetHeader:function(b,J){if(wi(b))return kr;var E=b.state;return(2&E.wrap)==0?kr:(E.head=J,J.done=!1,ji)},inflateSetDictionary:function(b,J){var E,be=J.length;return wi(b)||(E=b.state).wrap!==0&&E.mode!==Ia?kr:E.mode===Ia&&I(1,J,be,0)!==E.check?Kl:Ii(b,J,be,be)?(E.mode=16210,Do):(E.havedict=1,ji)},inflateInfo:"pako inflate (from Nodeca project)"},Ms=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Wc=Object.prototype.toString,tu=pe.Z_NO_FLUSH,nu=pe.Z_FINISH,Si=pe.Z_OK,za=pe.Z_STREAM_END,ko=pe.Z_NEED_DICT,Fd=pe.Z_STREAM_ERROR,Zc=pe.Z_DATA_ERROR,Ud=pe.Z_MEM_ERROR;function la(b){this.options=jn({chunkSize:65536,windowBits:15,to:""},b||{});var J=this.options;J.raw&&J.windowBits>=0&&J.windowBits<16&&(J.windowBits=-J.windowBits,J.windowBits===0&&(J.windowBits=-15)),!(J.windowBits>=0&&J.windowBits<16)||b&&b.windowBits||(J.windowBits+=32),J.windowBits>15&&J.windowBits<48&&(15&J.windowBits)==0&&(J.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Dr,this.strm.avail_out=0;var E=Nr.inflateInit2(this.strm,J.windowBits);if(E!==Si)throw new Error(oe[E]);if(this.header=new Ms,Nr.inflateGetHeader(this.strm,this.header),J.dictionary&&(typeof J.dictionary=="string"?J.dictionary=Nt(J.dictionary):Wc.call(J.dictionary)==="[object ArrayBuffer]"&&(J.dictionary=new Uint8Array(J.dictionary)),J.raw&&(E=Nr.inflateSetDictionary(this.strm,J.dictionary))!==Si))throw new Error(oe[E])}function ru(b,J){var E=new la(J);if(E.push(b),E.err)throw E.msg||oe[E.err];return E.result}la.prototype.push=function(b,J){var E,be,_e,Ce=this.strm,He=this.options.chunkSize,ke=this.options.dictionary;if(this.ended)return!1;for(be=J===~~J?J:J===!0?nu:tu,Wc.call(b)==="[object ArrayBuffer]"?Ce.input=new Uint8Array(b):Ce.input=b,Ce.next_in=0,Ce.avail_in=Ce.input.length;;){for(Ce.avail_out===0&&(Ce.output=new Uint8Array(He),Ce.next_out=0,Ce.avail_out=He),(E=Nr.inflate(Ce,be))===ko&&ke&&((E=Nr.inflateSetDictionary(Ce,ke))===Si?E=Nr.inflate(Ce,be):E===Zc&&(E=ko));Ce.avail_in>0&&E===za&&Ce.state.wrap>0&&b[Ce.next_in]!==0;)Nr.inflateReset(Ce),E=Nr.inflate(Ce,be);switch(E){case Fd:case Zc:case ko:case Ud:return this.onEnd(E),this.ended=!0,!1}if(_e=Ce.avail_out,Ce.next_out&&(Ce.avail_out===0||E===za))if(this.options.to==="string"){var Je=kn(Ce.output,Ce.next_out),Me=Ce.next_out-Je,Be=ur(Ce.output,Je);Ce.next_out=Me,Ce.avail_out=He-Me,Me&&Ce.output.set(Ce.output.subarray(Je,Je+Me),0),this.onData(Be)}else this.onData(Ce.output.length===Ce.next_out?Ce.output:Ce.output.subarray(0,Ce.next_out));if(E!==Si||_e!==0){if(E===za)return E=Nr.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,!0;if(Ce.avail_in===0)break}}return!0},la.prototype.onData=function(b){this.chunks.push(b)},la.prototype.onEnd=function(b){b===Si&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Vt(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg};var No={Inflate:la,inflate:ru,inflateRaw:function(b,J){return(J=J||{}).raw=!0,ru(b,J)},ungzip:ru},Kc=As.Deflate,Qc=As.deflate,Jc=As.deflateRaw,iu=As.gzip,ef=No.Inflate,tf=No.inflate,nf=No.inflateRaw,rf=No.ungzip,Ro=pe,qd={Deflate:Kc,deflate:Qc,deflateRaw:Jc,gzip:iu,Inflate:ef,inflate:tf,inflateRaw:nf,ungzip:rf,constants:Ro};n.Deflate=Kc,n.Inflate=ef,n.constants=Ro,n.default=qd,n.deflate=Qc,n.deflateRaw=Jc,n.gzip=iu,n.inflate=tf,n.inflateRaw=nf,n.ungzip=rf,Object.defineProperty(n,"__esModule",{value:!0})})}(oc,oc.exports)),oc.exports}var Yx;function R3(){if(Yx)return Js;Yx=1;var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",e=N3();return Js.uncompressInputType=t?"uint8array":"array",Js.compressInputType=t?"uint8array":"array",Js.magic="\b\0",Js.compress=function(n,r){return e.deflateRaw(n,{level:r.level||-1})},Js.uncompress=function(n){return e.inflateRaw(n)},Js}var Xx;function _v(){return Xx||(Xx=1,fh.STORE={magic:"\0\0",compress:function(e){return e},uncompress:function(e){return e},compressInputType:null,uncompressInputType:null},fh.DEFLATE=R3()),fh}var hh={exports:{}},Gx;function xv(){return Gx||(Gx=1,hh.exports=function(t,e){return typeof t=="number"?Buffer.alloc(t):Buffer.from(t,e)},hh.exports.test=function(t){return Buffer.isBuffer(t)}),hh.exports}var Wx;function Ri(){return Wx||(Wx=1,function(t){function e(d){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e(d)}var n=Ul(),r=_v(),i=xv();t.string2binary=function(d){for(var p="",g=0;g<d.length;g++)p+=String.fromCharCode(d.charCodeAt(g)&255);return p},t.arrayBuffer2Blob=function(d,p){t.checkSupport("blob"),p=p||"application/zip";try{return new Blob([d],{type:p})}catch{try{var g=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,v=new g;return v.append(d),v.getBlob(p)}catch{throw new Error("Bug : can't construct the Blob.")}}};function a(d){return d}function o(d,p){for(var g=0;g<d.length;++g)p[g]=d.charCodeAt(g)&255;return p}function u(d){var p=65536,g=[],v=d.length,_=t.getTypeOf(d),w=0,A=!0;try{switch(_){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,i(0));break}}catch{A=!1}if(!A){for(var S="",L=0;L<d.length;L++)S+=String.fromCharCode(d[L]);return S}for(;w<v&&p>1;)try{_==="array"||_==="nodebuffer"?g.push(String.fromCharCode.apply(null,d.slice(w,Math.min(w+p,v)))):g.push(String.fromCharCode.apply(null,d.subarray(w,Math.min(w+p,v)))),w+=p}catch{p=Math.floor(p/2)}return g.join("")}t.applyFromCharCode=u;function c(d,p){for(var g=0;g<d.length;g++)p[g]=d[g];return p}var f={};f.string={string:a,array:function(p){return o(p,new Array(p.length))},arraybuffer:function(p){return f.string.uint8array(p).buffer},uint8array:function(p){return o(p,new Uint8Array(p.length))},nodebuffer:function(p){return o(p,i(p.length))}},f.array={string:u,array:a,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return i(p)}},f.arraybuffer={string:function(p){return u(new Uint8Array(p))},array:function(p){return c(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:a,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return i(new Uint8Array(p))}},f.uint8array={string:u,array:function(p){return c(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:a,nodebuffer:function(p){return i(p)}},f.nodebuffer={string:u,array:function(p){return c(p,new Array(p.length))},arraybuffer:function(p){return f.nodebuffer.uint8array(p).buffer},uint8array:function(p){return c(p,new Uint8Array(p.length))},nodebuffer:a},t.transformTo=function(d,p){if(p||(p=""),!d)return p;t.checkSupport(d);var g=t.getTypeOf(p),v=f[g][d](p);return v},t.getTypeOf=function(d){if(d!=null){if(typeof d=="string")return"string";var p=Object.prototype.toString.call(d);if(p==="[object Array]")return"array";if(n.nodebuffer&&i.test(d))return"nodebuffer";if(n.uint8array&&p==="[object Uint8Array]")return"uint8array";if(n.arraybuffer&&p==="[object ArrayBuffer]")return"arraybuffer";if(p==="[object Promise]")throw new Error("Cannot read data from a promise, you probably are running new PizZip(data) with a promise");if(e(d)==="object"&&typeof d.file=="function")throw new Error("Cannot read data from a pizzip instance, you probably are running new PizZip(zip) with a zipinstance");if(p==="[object Date]")throw new Error("Cannot read data from a Date, you probably are running new PizZip(data) with a date");if(e(d)==="object"&&d.crc32==null)throw new Error("Unsupported data given to new PizZip(data) (object given)")}},t.checkSupport=function(d){var p=n[d.toLowerCase()];if(!p)throw new Error(d+" is not supported by this browser")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(d){var p="",g,v;for(v=0;v<(d||"").length;v++)g=d.charCodeAt(v),p+="\\x"+(g<16?"0":"")+g.toString(16).toUpperCase();return p},t.findCompression=function(d){for(var p in r)if(r.hasOwnProperty(p)&&r[p].magic===d)return r[p];return null},t.isRegExp=function(d){return Object.prototype.toString.call(d)==="[object RegExp]"},t.extend=function(){var d={},p,g;for(p=0;p<arguments.length;p++)for(g in arguments[p])arguments[p].hasOwnProperty(g)&&typeof d[g]>"u"&&(d[g]=arguments[p][g]);return d}}(Sg)),Sg}var Eg,Zx;function M3(){if(Zx)return Eg;Zx=1;var t=Ri(),e=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];return Eg=function(r,i){if(typeof r>"u"||!r.length)return 0;var a=t.getTypeOf(r)!=="string";typeof i>"u"&&(i=0);var o=0,u=0,c=0;i^=-1;for(var f=0,d=r.length;f<d;f++)c=a?r[f]:r.charCodeAt(f),u=(i^c)&255,o=e[u],i=i>>>8^o;return i^-1},Eg}var os={},Kx;function kE(){return Kx||(Kx=1,os.LOCAL_FILE_HEADER="PK",os.CENTRAL_FILE_HEADER="PK",os.CENTRAL_DIRECTORY_END="PK",os.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",os.ZIP64_CENTRAL_DIRECTORY_END="PK",os.DATA_DESCRIPTOR="PK\x07\b"),os}var pi={},Qx;function NE(){return Qx||(Qx=1,pi.base64=!1,pi.binary=!1,pi.dir=!1,pi.createFolders=!1,pi.date=null,pi.compression=null,pi.compressionOptions=null,pi.comment=null,pi.unixPermissions=null,pi.dosPermissions=null),pi}var Cg,Jx;function RE(){if(Jx)return Cg;Jx=1;function t(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}return t.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},Cg=t,Cg}var dh={},e2;function ME(){if(e2)return dh;e2=1;for(var t=Ri(),e=Ul(),n=xv(),r=new Array(256),i=0;i<256;i++)r[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;r[254]=r[254]=1;function a(c){var f,d,p,g,v,_=0,w=c.length;for(g=0;g<w;g++)d=c.charCodeAt(g),(d&64512)===55296&&g+1<w&&(p=c.charCodeAt(g+1),(p&64512)===56320&&(d=65536+(d-55296<<10)+(p-56320),g++)),_+=d<128?1:d<2048?2:d<65536?3:4;for(e.uint8array?f=new Uint8Array(_):f=new Array(_),v=0,g=0;v<_;g++)d=c.charCodeAt(g),(d&64512)===55296&&g+1<w&&(p=c.charCodeAt(g+1),(p&64512)===56320&&(d=65536+(d-55296<<10)+(p-56320),g++)),d<128?f[v++]=d:d<2048?(f[v++]=192|d>>>6,f[v++]=128|d&63):d<65536?(f[v++]=224|d>>>12,f[v++]=128|d>>>6&63,f[v++]=128|d&63):(f[v++]=240|d>>>18,f[v++]=128|d>>>12&63,f[v++]=128|d>>>6&63,f[v++]=128|d&63);return f}function o(c,f){var d;for(f=f||c.length,f>c.length&&(f=c.length),d=f-1;d>=0&&(c[d]&192)===128;)d--;return d<0||d===0?f:d+r[c[d]]>f?d:f}function u(c){var f,d,p,g,v=c.length,_=new Array(v*2);for(d=0,f=0;f<v;){if(p=c[f++],p<128){_[d++]=p;continue}if(g=r[p],g>4){_[d++]=65533,f+=g-1;continue}for(p&=g===2?31:g===3?15:7;g>1&&f<v;)p=p<<6|c[f++]&63,g--;if(g>1){_[d++]=65533;continue}p<65536?_[d++]=p:(p-=65536,_[d++]=55296|p>>10&1023,_[d++]=56320|p&1023)}return _.length!==d&&(_.subarray?_=_.subarray(0,d):_.length=d),t.applyFromCharCode(_)}return dh.utf8encode=function(f){return e.nodebuffer?n(f,"utf-8"):a(f)},dh.utf8decode=function(f){if(e.nodebuffer)return t.transformTo("nodebuffer",f).toString("utf-8");f=t.transformTo(e.uint8array?"uint8array":"array",f);for(var d=[],p=f.length,g=65536,v=0;v<p;){var _=o(f,Math.min(v+g,p));e.uint8array?d.push(u(f.subarray(v,_))):d.push(u(f.slice(v,_))),v=_}return d.join("")},dh}var Ag,t2;function j3(){if(t2)return Ag;t2=1;var t=Ri();function e(){this.data=[]}return e.prototype={append:function(r){r=t.transformTo("string",r),this.data.push(r)},finalize:function(){return this.data.join("")}},Ag=e,Ag}var Tg,n2;function L3(){if(n2)return Tg;n2=1;var t=Ri();function e(n){this.data=new Uint8Array(n),this.index=0}return e.prototype={append:function(r){r.length!==0&&(r=t.transformTo("uint8array",r),this.data.set(r,this.index),this.index+=r.length)},finalize:function(){return this.data}},Tg=e,Tg}var Dg,r2;function jE(){if(r2)return Dg;r2=1;function t(Y,M){var D=typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(!D){if(Array.isArray(Y)||(D=e(Y))||M){D&&(Y=D);var j=0,Z=function(){};return{s:Z,n:function(){return j>=Y.length?{done:!0}:{done:!1,value:Y[j++]}},e:function(B){throw B},f:Z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ne,k=!0,le=!1;return{s:function(){D=D.call(Y)},n:function(){var B=D.next();return k=B.done,B},e:function(B){le=!0,ne=B},f:function(){try{k||D.return==null||D.return()}finally{if(le)throw ne}}}}function e(Y,M){if(Y){if(typeof Y=="string")return n(Y,M);var D={}.toString.call(Y).slice(8,-1);return D==="Object"&&Y.constructor&&(D=Y.constructor.name),D==="Map"||D==="Set"?Array.from(Y):D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D)?n(Y,M):void 0}}function n(Y,M){(M==null||M>Y.length)&&(M=Y.length);for(var D=0,j=Array(M);D<M;D++)j[D]=Y[D];return j}var r=Ul(),i=Ri(),a=M3(),o=kE(),u=NE(),c=bv(),f=_v(),d=RE(),p=xv(),g=ME(),v=j3(),_=L3();function w(Y){if(Y._data instanceof d&&(Y._data=Y._data.getContent(),Y.options.binary=!0,Y.options.base64=!1,i.getTypeOf(Y._data)==="uint8array")){var M=Y._data;Y._data=new Uint8Array(M.length),M.length!==0&&Y._data.set(M,0)}return Y._data}function A(Y){var M=w(Y),D=i.getTypeOf(M);return D==="string"?!Y.options.binary&&r.nodebuffer?p(M,"utf-8"):Y.asBinary():M}var S={load:function(){throw new Error("Load method is not defined. Is the file pizzip-load.js included ?")},filter:function(M){var D=[],j,Z,ne,k;for(j in this.files)this.files.hasOwnProperty(j)&&(ne=this.files[j],k=new P(ne.name,ne._data,i.extend(ne.options)),Z=j.slice(this.root.length,j.length),j.slice(0,this.root.length)===this.root&&M(Z,k)&&D.push(k));return D},file:function(M,D,j){if(arguments.length===1){if(i.isRegExp(M)){var Z=M;return this.filter(function(ne,k){return!k.dir&&Z.test(ne)})}return this.filter(function(ne,k){return!k.dir&&ne===M})[0]||null}return M=this.root+M,O.call(this,M,D,j),this},folder:function(M){if(!M)return this;if(i.isRegExp(M))return this.filter(function(ne,k){return k.dir&&M.test(ne)});var D=this.root+M,j=N.call(this,D),Z=this.shallowClone();return Z.root=j.name,Z},remove:function(M){M=this.root+M;var D=this.files[M];if(D||(M.slice(-1)!=="/"&&(M+="/"),D=this.files[M]),D&&!D.dir)delete this.files[M];else for(var j=this.filter(function(ne,k){return k.name.slice(0,M.length)===M}),Z=0;Z<j.length;Z++)delete this.files[j[Z].name];return this},generate:function(M){M=i.extend(M||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:g.utf8encode}),i.checkSupport(M.type),(M.platform==="darwin"||M.platform==="freebsd"||M.platform==="linux"||M.platform==="sunos")&&(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var D=[],j=i.transformTo("string",M.encodeFileName(M.comment||this.comment||"")),Z=0,ne=0,k,le,se=[];M.fileOrder instanceof Array&&(se=M.fileOrder);for(var B in this.files)se.indexOf(B)===-1&&se.push(B);typeof M.fileOrder=="function"&&(se=M.fileOrder(this.files));var U=t(se),I;try{for(U.s();!(I=U.n()).done;){var W=I.value;if(this.files.hasOwnProperty(W)){var ae=this.files[W],oe=ae.options.compression||M.compression.toUpperCase(),pe=f[oe];if(!pe)throw new Error(oe+" is not a valid compression method !");var De=ae.options.compressionOptions||M.compressionOptions||{},de=$.call(this,ae,pe,De),he=re.call(this,W,ae,de,Z,M.platform,M.encodeFileName);Z+=he.fileRecord.length+de.compressedSize,ne+=he.dirRecord.length,D.push(he)}}}catch(ve){U.e(ve)}finally{U.f()}var Te="";Te=o.CENTRAL_DIRECTORY_END+"\0\0\0\0"+F(D.length,2)+F(D.length,2)+F(ne,4)+F(Z,4)+F(j.length,2)+j;var fe=M.type.toLowerCase();for(fe==="uint8array"||fe==="arraybuffer"||fe==="blob"||fe==="nodebuffer"?k=new _(Z+ne+Te.length):k=new v(Z+ne+Te.length),le=0;le<D.length;le++)k.append(D[le].fileRecord),k.append(D[le].compressedObject.compressedContent);for(le=0;le<D.length;le++)k.append(D[le].dirRecord);k.append(Te);var ce=k.finalize();switch(M.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return i.transformTo(M.type.toLowerCase(),ce);case"blob":return i.arrayBuffer2Blob(i.transformTo("arraybuffer",ce),M.mimeType);case"base64":return M.base64?c.encode(ce):ce;default:return ce}},crc32:function(M,D){return a(M,D)},utf8encode:function(M){return i.transformTo("string",g.utf8encode(M))},utf8decode:function(M){return g.utf8decode(M)}};function L(Y){var M=w(this);return M===null||typeof M>"u"?"":(this.options.base64&&(M=c.decode(M)),Y&&this.options.binary?M=S.utf8decode(M):M=i.transformTo("string",M),!Y&&!this.options.binary&&(M=i.transformTo("string",S.utf8encode(M))),M)}function P(Y,M,D){this.name=Y,this.dir=D.dir,this.date=D.date,this.comment=D.comment,this.unixPermissions=D.unixPermissions,this.dosPermissions=D.dosPermissions,this._data=M,this.options=D,this._initialMetadata={dir:D.dir,date:D.date}}P.prototype={asText:function(){return L.call(this,!0)},asBinary:function(){return L.call(this,!1)},asNodeBuffer:function(){var M=A(this);return i.transformTo("nodebuffer",M)},asUint8Array:function(){var M=A(this);return i.transformTo("uint8array",M)},asArrayBuffer:function(){return this.asUint8Array().buffer}};function F(Y,M){var D="",j;for(j=0;j<M;j++)D+=String.fromCharCode(Y&255),Y>>>=8;return D}function R(Y){return Y=Y||{},Y.base64===!0&&(Y.binary===null||Y.binary===void 0)&&(Y.binary=!0),Y=i.extend(Y,u),Y.date=Y.date||new Date,Y.compression!==null&&(Y.compression=Y.compression.toUpperCase()),Y}function O(Y,M,D){var j=i.getTypeOf(M),Z;if(D=R(D),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&D.unixPermissions&16384&&(D.dir=!0),D.dosPermissions&&D.dosPermissions&16&&(D.dir=!0),D.dir&&(Y=T(Y)),D.createFolders&&(Z=z(Y))&&N.call(this,Z,!0),D.dir||M===null||typeof M>"u")D.base64=!1,D.binary=!1,M=null,j=null;else if(j==="string")D.binary&&!D.base64&&D.optimizedBinaryString!==!0&&(M=i.string2binary(M));else{if(D.base64=!1,D.binary=!0,!j&&!(M instanceof d))throw new Error("The data of '"+Y+"' is in an unsupported format !");j==="arraybuffer"&&(M=i.transformTo("uint8array",M))}var ne=new P(Y,M,D);return this.files[Y]=ne,ne}function z(Y){Y.slice(-1)==="/"&&(Y=Y.substring(0,Y.length-1));var M=Y.lastIndexOf("/");return M>0?Y.substring(0,M):""}function T(Y){return Y.slice(-1)!=="/"&&(Y+="/"),Y}function N(Y,M){return M=typeof M<"u"?M:!1,Y=T(Y),this.files[Y]||O.call(this,Y,null,{dir:!0,createFolders:M}),this.files[Y]}function $(Y,M,D){var j=new d,Z;return Y._data instanceof d?(j.uncompressedSize=Y._data.uncompressedSize,j.crc32=Y._data.crc32,j.uncompressedSize===0||Y.dir?(M=f.STORE,j.compressedContent="",j.crc32=0):Y._data.compressionMethod===M.magic?j.compressedContent=Y._data.getCompressedContent():(Z=Y._data.getContent(),j.compressedContent=M.compress(i.transformTo(M.compressInputType,Z),D))):(Z=A(Y),(!Z||Z.length===0||Y.dir)&&(M=f.STORE,Z=""),j.uncompressedSize=Z.length,j.crc32=a(Z),j.compressedContent=M.compress(i.transformTo(M.compressInputType,Z),D)),j.compressedSize=j.compressedContent.length,j.compressionMethod=M.magic,j}function V(Y,M){var D=Y;return Y||(D=M?16893:33204),(D&65535)<<16}function G(Y){return(Y||0)&63}function re(Y,M,D,j,Z,ne){var k=ne!==g.utf8encode,le=i.transformTo("string",ne(M.name)),se=i.transformTo("string",g.utf8encode(M.name)),B=M.comment||"",U=i.transformTo("string",ne(B)),I=i.transformTo("string",g.utf8encode(B)),W=se.length!==M.name.length,ae=I.length!==B.length,oe=M.options,pe,De,de="",he="",Te="",fe,ce;M._initialMetadata.dir!==M.dir?fe=M.dir:fe=oe.dir,M._initialMetadata.date!==M.date?ce=M.date:ce=oe.date;var ve=0,Se=0;fe&&(ve|=16),Z==="UNIX"?(Se=798,ve|=V(M.unixPermissions,fe)):(Se=20,ve|=G(M.dosPermissions)),pe=ce.getHours(),pe<<=6,pe|=ce.getMinutes(),pe<<=5,pe|=ce.getSeconds()/2,De=ce.getFullYear()-1980,De<<=4,De|=ce.getMonth()+1,De<<=5,De|=ce.getDate(),W&&(he=F(1,1)+F(a(le),4)+se,de+="up"+F(he.length,2)+he),ae&&(Te=F(1,1)+F(this.crc32(U),4)+I,de+="uc"+F(Te.length,2)+Te);var we="";we+=`
\0`,we+=!k&&(W||ae)?"\0\b":"\0\0",we+=D.compressionMethod,we+=F(pe,2),we+=F(De,2),we+=F(D.crc32,4),we+=F(D.compressedSize,4),we+=F(D.uncompressedSize,4),we+=F(le.length,2),we+=F(de.length,2);var H=o.LOCAL_FILE_HEADER+we+le+de,X=o.CENTRAL_FILE_HEADER+F(Se,2)+we+F(U.length,2)+"\0\0\0\0"+F(ve,4)+F(j,4)+le+de+U;return{fileRecord:H,dirRecord:X,compressedObject:D}}return Dg=S,Dg}var Og,i2;function LE(){if(i2)return Og;i2=1;var t=Ri();function e(){this.data=null,this.length=0,this.index=0,this.zero=0}return e.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var i=0,a;for(this.checkOffset(r),a=this.index+r-1;a>=this.index;a--)i=(i<<8)+this.byteAt(a);return this.index+=r,i},readString:function(r){return t.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date((r>>25&127)+1980,(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(r&31)<<1)}},Og=e,Og}var kg,a2;function PE(){if(a2)return kg;a2=1;var t=LE(),e=Ri();function n(r,i){this.data=r,i||(this.data=e.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}return n.prototype=new t,n.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},n.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},n.prototype.readData=function(r){this.checkOffset(r);var i=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,i},kg=n,kg}var Ng,s2;function IE(){if(s2)return Ng;s2=1;var t=LE();function e(n){if(n){this.data=n,this.length=this.data.length,this.index=0,this.zero=0;for(var r=0;r<this.data.length;r++)n[r]&=n[r]}}return e.prototype=new t,e.prototype.byteAt=function(n){return this.data[this.zero+n]},e.prototype.lastIndexOfSignature=function(n){for(var r=n.charCodeAt(0),i=n.charCodeAt(1),a=n.charCodeAt(2),o=n.charCodeAt(3),u=this.length-4;u>=0;--u)if(this.data[u]===r&&this.data[u+1]===i&&this.data[u+2]===a&&this.data[u+3]===o)return u-this.zero;return-1},e.prototype.readData=function(n){if(this.checkOffset(n),n===0)return[];var r=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,r},Ng=e,Ng}var Rg,o2;function BE(){if(o2)return Rg;o2=1;var t=IE();function e(n){n&&(this.data=n,this.length=this.data.length,this.index=0,this.zero=0)}return e.prototype=new t,e.prototype.readData=function(n){if(this.checkOffset(n),n===0)return new Uint8Array(0);var r=this.data.subarray(this.zero+this.index,this.zero+this.index+n);return this.index+=n,r},Rg=e,Rg}var Mg,l2;function P3(){if(l2)return Mg;l2=1;var t=BE();function e(n){this.data=n,this.length=this.data.length,this.index=0,this.zero=0}return e.prototype=new t,e.prototype.readData=function(n){this.checkOffset(n);var r=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,r},Mg=e,Mg}var jg,u2;function I3(){if(u2)return jg;u2=1;var t=PE(),e=Ri(),n=RE(),r=jE(),i=Ul(),a=0,o=3;function u(c,f){this.options=c,this.loadOptions=f}return u.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},prepareCompressedContent:function(f,d,p){return function(){var g=f.index;f.setIndex(d);var v=f.readData(p);return f.setIndex(g),v}},prepareContent:function(f,d,p,g,v){return function(){var _=e.transformTo(g.uncompressInputType,this.getCompressedContent()),w=g.uncompress(_);if(w.length!==v)throw new Error("Bug : uncompressed data size mismatch");return w}},readLocalPart:function(f){f.skip(22),this.fileNameLength=f.readInt(2);var d=f.readInt(2);if(this.fileName=f.readData(this.fileNameLength),f.skip(d),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");var p=e.findCompression(this.compressionMethod);if(p===null)throw new Error("Corrupted zip : compression "+e.pretty(this.compressionMethod)+" unknown (inner file : "+e.transformTo("string",this.fileName)+")");if(this.decompressed=new n,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(f,f.index,this.compressedSize,p),this.decompressed.getContent=this.prepareContent(f,f.index,this.compressedSize,p,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=e.transformTo("string",this.decompressed.getContent()),r.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(f){if(this.versionMadeBy=f.readInt(2),this.versionNeeded=f.readInt(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4),this.fileNameLength=f.readInt(2),this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=f.readData(this.fileNameLength),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),f===a&&(this.dosPermissions=this.externalFileAttributes&63),f===o&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=new t(this.extraFields[1].value);this.uncompressedSize===e.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===e.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===e.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===e.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var d=f.index,p,g,v;for(this.extraFields=this.extraFields||{};f.index<d+this.extraFieldsLength;)p=f.readInt(2),g=f.readInt(2),v=f.readString(g),this.extraFields[p]={id:p,length:g,value:v}},handleUTF8:function(){var f=i.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=r.utf8decode(this.fileName),this.fileCommentStr=r.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(d!==null)this.fileNameStr=d;else{var p=e.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var v=e.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var d=new t(f.value);return d.readInt(1)!==1||r.crc32(this.fileName)!==d.readInt(4)?null:r.utf8decode(d.readString(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var d=new t(f.value);return d.readInt(1)!==1||r.crc32(this.fileComment)!==d.readInt(4)?null:r.utf8decode(d.readString(f.length-5))}return null}},jg=u,jg}var Lg,c2;function B3(){if(c2)return Lg;c2=1;var t=PE(),e=P3(),n=BE(),r=IE(),i=Ri(),a=kE(),o=I3(),u=Ul();function c(f,d){this.files=[],this.loadOptions=d,f&&this.load(f)}return c.prototype={checkSignature:function(d){var p=this.reader.readString(4);if(p!==d)throw new Error("Corrupted zip or bug : unexpected signature ("+i.pretty(p)+", expected "+i.pretty(d)+")")},isSignature:function(d,p){var g=this.reader.index;this.reader.setIndex(d);var v=this.reader.readString(4),_=v===p;return this.reader.setIndex(g),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),p=u.uint8array?"uint8array":"array",g=i.transformTo(p,d);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d=this.zip64EndOfCentralSize-44,p=0,g,v,_;p<d;)g=this.reader.readInt(2),v=this.reader.readInt(4),_=this.reader.readString(v),this.zip64ExtensibleData[g]={id:g,length:v,value:_}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,p;for(d=0;d<this.files.length;d++)p=this.files[d],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===a.CENTRAL_FILE_HEADER;)d=new o({zip64:this.zip64},this.loadOptions),d.readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0){var p=!this.isSignature(0,a.LOCAL_FILE_HEADER);throw p?new Error("Can't find end of central directory : is this a zip file ?"):new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(d);var g=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),d<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var _=g-v;if(_>0)this.isSignature(g,a.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(d){var p=i.getTypeOf(d);if(i.checkSupport(p),p==="string"&&!u.uint8array)this.reader=new t(d,this.loadOptions.optimizedBinaryString);else if(p==="nodebuffer")this.reader=new e(d);else if(u.uint8array)this.reader=new n(i.transformTo("uint8array",d));else if(u.array)this.reader=new r(i.transformTo("array",d));else throw new Error("Unexpected error: unsupported type '"+p+"'")},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},Lg=c,Lg}var Pg,f2;function z3(){if(f2)return Pg;f2=1;var t=bv(),e=ME(),n=Ri(),r=B3();return Pg=function(i,a){var o,u;a=n.extend(a||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:e.utf8decode}),a.base64&&(i=t.decode(i));var c=new r(i,a),f=c.files;for(o=0;o<f.length;o++)u=f[o],this.file(u.fileNameStr,u.decompressed,{binary:!0,optimizedBinaryString:!0,date:u.date,dir:u.dir,comment:u.fileCommentStr.length?u.fileCommentStr:null,unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions,createFolders:a.createFolders});return c.zipComment.length&&(this.comment=c.zipComment),this},Pg}var Tr={},h2;function F3(){if(h2)return Tr;h2=1;var t=Ri();return Tr.string2binary=function(e){return t.string2binary(e)},Tr.string2Uint8Array=function(e){return t.transformTo("uint8array",e)},Tr.uint8Array2String=function(e){return t.transformTo("string",e)},Tr.string2Blob=function(e){var n=t.transformTo("arraybuffer",e);return t.arrayBuffer2Blob(n)},Tr.arrayBuffer2Blob=function(e){return t.arrayBuffer2Blob(e)},Tr.transformTo=function(e,n){return t.transformTo(e,n)},Tr.getTypeOf=function(e){return t.getTypeOf(e)},Tr.checkSupport=function(e){return t.checkSupport(e)},Tr.MAX_VALUE_16BITS=t.MAX_VALUE_16BITS,Tr.MAX_VALUE_32BITS=t.MAX_VALUE_32BITS,Tr.pretty=function(e){return t.pretty(e)},Tr.findCompression=function(e){return t.findCompression(e)},Tr.isRegExp=function(e){return t.isRegExp(e)},Tr}var d2;function U3(){return d2||(d2=1,function(t){var e=bv();function n(r,i){if(!(this instanceof n))return new n(r,i);this.files={},this.comment=null,this.root="",r&&this.load(r,i),this.clone=function(){var a=this,o=new n;return Object.keys(this.files).forEach(function(u){o.file(u,a.files[u].asUint8Array())}),o},this.shallowClone=function(){var a=new n;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}n.prototype=jE(),n.prototype.load=z3(),n.support=Ul(),n.defaults=NE(),n.utils=F3(),n.base64={encode:function(i){return e.encode(i)},decode:function(i){return e.decode(i)}},n.compressions=_v(),t.exports=n,t.exports.default=n}(wg)),wg.exports}var q3=U3();const H3=ws(q3);var Ph={exports:{}},$3=Ph.exports,p2;function V3(){return p2||(p2=1,function(t,e){(function(n,r){r()})($3,function(){function n(f,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function r(f,d,p){var g=new XMLHttpRequest;g.open("GET",f),g.responseType="blob",g.onload=function(){c(g.response,d,p)},g.onerror=function(){console.error("could not download file")},g.send()}function i(f){var d=new XMLHttpRequest;d.open("HEAD",f,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function a(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(d)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ih=="object"&&ih.global===ih?ih:void 0,u=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(f,d,p){var g=o.URL||o.webkitURL,v=document.createElement("a");d=d||f.name||"download",v.download=d,v.rel="noopener",typeof f=="string"?(v.href=f,v.origin===location.origin?a(v):i(v.href)?r(f,d,p):a(v,v.target="_blank")):(v.href=g.createObjectURL(f),setTimeout(function(){g.revokeObjectURL(v.href)},4e4),setTimeout(function(){a(v)},0))}:"msSaveOrOpenBlob"in navigator?function(f,d,p){if(d=d||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(n(f,p),d);else if(i(f))r(f,d,p);else{var g=document.createElement("a");g.href=f,g.target="_blank",setTimeout(function(){a(g)})}}:function(f,d,p,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof f=="string")return r(f,d,p);var v=f.type==="application/octet-stream",_=/constructor/i.test(o.HTMLElement)||o.safari,w=/CriOS\/[\d]+/.test(navigator.userAgent);if((w||v&&_||u)&&typeof FileReader<"u"){var A=new FileReader;A.onloadend=function(){var P=A.result;P=w?P:P.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=P:location=P,g=null},A.readAsDataURL(f)}else{var S=o.URL||o.webkitURL,L=S.createObjectURL(f);g?g.location=L:location.href=L,g=null,setTimeout(function(){S.revokeObjectURL(L)},4e4)}});o.saveAs=c.saveAs=c,t.exports=c})}(Ph)),Ph.exports}var Y3=V3();function X3({onLogin:t,onAuthCheck:e}){const[n,r]=ie.useState(""),[i,a]=ie.useState(""),[o,u]=ie.useState(""),[c,f]=ie.useState(!1);ie.useEffect(()=>{(async()=>{const g=localStorage.getItem("supabaseAuthData");if(g)try{const{token:v,expiresAt:_}=JSON.parse(g);if(new Date().getTime()>=_){localStorage.removeItem("supabaseAuthData"),e(!1);return}f(!0),(await fetch("https://ljcazclnmhjdcmgefcvp.supabase.co/auth/v1/user",{headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqY2F6Y2xubWhqZGNtZ2VmY3ZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDczMTIwMzgsImV4cCI6MjA2Mjg4ODAzOH0.9NvbehpZ9SpewAC86T6LAkcRl5ZBKFLK_czeWg0O3JY",Authorization:`Bearer ${v}`}})).ok?t(v):localStorage.removeItem("supabaseAuthData")}catch(v){console.error("Session check error:",v),localStorage.removeItem("supabaseAuthData")}e(!1)})()},[t,e]);const d=async p=>{p.preventDefault(),f(!0),u("");try{const g=await fetch("https://ljcazclnmhjdcmgefcvp.supabase.co/auth/v1/token?grant_type=password",{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqY2F6Y2xubWhqZGNtZ2VmY3ZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDczMTIwMzgsImV4cCI6MjA2Mjg4ODAzOH0.9NvbehpZ9SpewAC86T6LAkcRl5ZBKFLK_czeWg0O3JY"},body:JSON.stringify({email:n,password:i})}),v=await g.json();if(g.ok){const _=new Date,w=new Date(_.getTime()+v.expires_in*1e3);console.log("Token expiry (seconds):",v.expires_in),localStorage.setItem("supabaseAuthData",JSON.stringify({token:v.access_token,expiresAt:w.getTime()})),t(v.access_token)}else throw new Error(v.message||"Неверный логин или пароль")}catch(g){u(g.message)}finally{f(!1)}};return x.jsx("div",{className:"login-container",children:x.jsxs("form",{className:"login-form",onSubmit:d,children:[x.jsx("div",{className:"app__header-wrapper app__header-wrapper--login",children:x.jsxs("div",{className:"app__header app__header--login",children:[x.jsx("img",{src:"/documents/logo--driver.png",alt:"DRIV3R. Документооборот",width:"204"}),x.jsx("span",{className:"app__subtitle app__subtitle--login",children:"Документооборот"}),x.jsx("span",{className:"app__beta",title:"Бета-версия",children:"β"})]})}),x.jsx("h2",{children:"Вход в систему"}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{htmlFor:"login",children:"Логин"}),x.jsx("input",{type:"text",id:"login",value:n,onChange:p=>r(p.target.value),autoComplete:"username",required:!0})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{htmlFor:"password",children:"Пароль"}),x.jsx("input",{type:"password",id:"password",value:i,onChange:p=>a(p.target.value),autoComplete:"current-password",required:!0})]}),x.jsx("button",{className:"button button--main button--login",type:"submit",disabled:c,children:c?"Вхожу...":"Войти"}),o&&x.jsx("div",{className:"error-message",children:o})]})})}function G3(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function zE(t,e){return new Promise(function(n,r){let i;return W3(t).then(function(a){try{return i=a,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const W3=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const a=new DataView(i);let o=0;if(a.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const u=a.getUint16(o);if(u===65498)break;const c=a.getUint16(o+2);if(u===65505&&a.getUint32(o+4)===1165519206){const f=o+10;let d;switch(a.getUint16(f)){case 18761:d=!0;break;case 19789:d=!1;break;default:return n("TIFF header contains invalid endian")}if(a.getUint16(f+2,d)!==42)return n("TIFF header contains invalid version");const p=a.getUint32(f+4,d),g=f+p+2+12*a.getUint16(f+p,d);for(let v=f+p+2;v<g;v+=12)if(a.getUint16(v,d)==274){if(a.getUint16(v+2,d)!==3)return n("Orientation data type is invalid");if(a.getUint32(v+4,d)!==1)return n("Orientation data count is invalid");a.setUint16(v+8,1,d);break}return e(i.slice(o,o+2+c))}o+=2+c}return e(new Blob)}),r.readAsArrayBuffer(t)});var Zh={},Z3={get exports(){return Zh},set exports(t){Zh=t}};(function(t){var e,n,r={};Z3.exports=r,r.parse=function(i,a){for(var o=r.bin.readUshort,u=r.bin.readUint,c=0,f={},d=new Uint8Array(i),p=d.length-4;u(d,p)!=101010256;)p--;c=p,c+=4;var g=o(d,c+=4);o(d,c+=2);var v=u(d,c+=2),_=u(d,c+=4);c+=4,c=_;for(var w=0;w<g;w++){u(d,c),c+=4,c+=4,c+=4,u(d,c+=4),v=u(d,c+=4);var A=u(d,c+=4),S=o(d,c+=4),L=o(d,c+2),P=o(d,c+4);c+=6;var F=u(d,c+=8);c+=4,c+=S+L+P,r._readLocal(d,F,f,v,A,a)}return f},r._readLocal=function(i,a,o,u,c,f){var d=r.bin.readUshort,p=r.bin.readUint;p(i,a),d(i,a+=4),d(i,a+=2);var g=d(i,a+=2);p(i,a+=2),p(i,a+=4),a+=4;var v=d(i,a+=8),_=d(i,a+=2);a+=2;var w=r.bin.readUTF8(i,a,v);if(a+=v,a+=_,f)o[w]={size:c,csize:u};else{var A=new Uint8Array(i.buffer,a);if(g==0)o[w]=new Uint8Array(A.buffer.slice(a,a+u));else{if(g!=8)throw"unknown compression method: "+g;var S=new Uint8Array(c);r.inflateRaw(A,S),o[w]=S}}},r.inflateRaw=function(i,a){return r.F.inflate(i,a)},r.inflate=function(i,a){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),a)},r.deflate=function(i,a){a==null&&(a={level:6});var o=0,u=new Uint8Array(50+Math.floor(1.1*i.length));u[o]=120,u[o+1]=156,o+=2,o=r.F.deflateRaw(i,u,o,a.level);var c=r.adler(i,0,i.length);return u[o+0]=c>>>24&255,u[o+1]=c>>>16&255,u[o+2]=c>>>8&255,u[o+3]=c>>>0&255,new Uint8Array(u.buffer,0,o+4)},r.deflateRaw=function(i,a){a==null&&(a={level:6});var o=new Uint8Array(50+Math.floor(1.1*i.length)),u=r.F.deflateRaw(i,o,u,a.level);return new Uint8Array(o.buffer,0,u)},r.encode=function(i,a){a==null&&(a=!1);var o=0,u=r.bin.writeUint,c=r.bin.writeUshort,f={};for(var d in i){var p=!r._noNeed(d)&&!a,g=i[d],v=r.crc.crc(g,0,g.length);f[d]={cpr:p,usize:g.length,crc:v,file:p?r.deflateRaw(g):g}}for(var d in f)o+=f[d].file.length+30+46+2*r.bin.sizeUTF8(d);o+=22;var _=new Uint8Array(o),w=0,A=[];for(var d in f){var S=f[d];A.push(w),w=r._writeHeader(_,w,d,S,0)}var L=0,P=w;for(var d in f)S=f[d],A.push(w),w=r._writeHeader(_,w,d,S,1,A[L++]);var F=w-P;return u(_,w,101010256),w+=4,c(_,w+=4,L),c(_,w+=2,L),u(_,w+=2,F),u(_,w+=4,P),w+=4,w+=2,_.buffer},r._noNeed=function(i){var a=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(a)!=-1},r._writeHeader=function(i,a,o,u,c,f){var d=r.bin.writeUint,p=r.bin.writeUshort,g=u.file;return d(i,a,c==0?67324752:33639248),a+=4,c==1&&(a+=2),p(i,a,20),p(i,a+=2,0),p(i,a+=2,u.cpr?8:0),d(i,a+=2,0),d(i,a+=4,u.crc),d(i,a+=4,g.length),d(i,a+=4,u.usize),p(i,a+=4,r.bin.sizeUTF8(o)),p(i,a+=2,0),a+=2,c==1&&(a+=2,a+=2,d(i,a+=6,f),a+=4),a+=r.bin.writeUTF8(i,a,o),c==0&&(i.set(g,a),a+=g.length),a},r.crc={table:function(){for(var i=new Uint32Array(256),a=0;a<256;a++){for(var o=a,u=0;u<8;u++)1&o?o=3988292384^o>>>1:o>>>=1;i[a]=o}return i}(),update:function(i,a,o,u){for(var c=0;c<u;c++)i=r.crc.table[255&(i^a[o+c])]^i>>>8;return i},crc:function(i,a,o){return 4294967295^r.crc.update(4294967295,i,a,o)}},r.adler=function(i,a,o){for(var u=1,c=0,f=a,d=a+o;f<d;){for(var p=Math.min(f+5552,d);f<p;)c+=u+=i[f++];u%=65521,c%=65521}return c<<16|u},r.bin={readUshort:function(i,a){return i[a]|i[a+1]<<8},writeUshort:function(i,a,o){i[a]=255&o,i[a+1]=o>>8&255},readUint:function(i,a){return 16777216*i[a+3]+(i[a+2]<<16|i[a+1]<<8|i[a])},writeUint:function(i,a,o){i[a]=255&o,i[a+1]=o>>8&255,i[a+2]=o>>16&255,i[a+3]=o>>24&255},readASCII:function(i,a,o){for(var u="",c=0;c<o;c++)u+=String.fromCharCode(i[a+c]);return u},writeASCII:function(i,a,o){for(var u=0;u<o.length;u++)i[a+u]=o.charCodeAt(u)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,a,o){for(var u,c="",f=0;f<o;f++)c+="%"+r.bin.pad(i[a+f].toString(16));try{u=decodeURIComponent(c)}catch{return r.bin.readASCII(i,a,o)}return u},writeUTF8:function(i,a,o){for(var u=o.length,c=0,f=0;f<u;f++){var d=o.charCodeAt(f);if((4294967168&d)==0)i[a+c]=d,c++;else if((4294965248&d)==0)i[a+c]=192|d>>6,i[a+c+1]=128|d>>0&63,c+=2;else if((4294901760&d)==0)i[a+c]=224|d>>12,i[a+c+1]=128|d>>6&63,i[a+c+2]=128|d>>0&63,c+=3;else{if((4292870144&d)!=0)throw"e";i[a+c]=240|d>>18,i[a+c+1]=128|d>>12&63,i[a+c+2]=128|d>>6&63,i[a+c+3]=128|d>>0&63,c+=4}}return c},sizeUTF8:function(i){for(var a=i.length,o=0,u=0;u<a;u++){var c=i.charCodeAt(u);if((4294967168&c)==0)o++;else if((4294965248&c)==0)o+=2;else if((4294901760&c)==0)o+=3;else{if((4292870144&c)!=0)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(i,a,o,u){var c=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][u],f=r.F.U,d=r.F._goodIndex;r.F._hash;var p=r.F._putsE,g=0,v=o<<3,_=0,w=i.length;if(u==0){for(;g<w;)p(a,v,g+(V=Math.min(65535,w-g))==w?1:0),v=r.F._copyExact(i,g,V,a,v+8),g+=V;return v>>>3}var A=f.lits,S=f.strt,L=f.prev,P=0,F=0,R=0,O=0,z=0,T=0;for(w>2&&(S[T=r.F._hash(i,0)]=0),g=0;g<w;g++){if(z=T,g+1<w-2){T=r.F._hash(i,g+1);var N=g+1&32767;L[N]=S[T],S[T]=N}if(_<=g){(P>14e3||F>26697)&&w-g>100&&(_<g&&(A[P]=g-_,P+=2,_=g),v=r.F._writeBlock(g==w-1||_==w?1:0,A,P,O,i,R,g-R,a,v),P=F=O=0,R=g);var $=0;g<w-2&&($=r.F._bestMatch(i,g,L,z,Math.min(c[2],w-g),c[3]));var V=$>>>16,G=65535&$;if($!=0){G=65535&$;var re=d(V=$>>>16,f.of0);f.lhst[257+re]++;var Y=d(G,f.df0);f.dhst[Y]++,O+=f.exb[re]+f.dxb[Y],A[P]=V<<23|g-_,A[P+1]=G<<16|re<<8|Y,P+=2,_=g+V}else f.lhst[i[g]]++;F++}}for(R==g&&i.length!=0||(_<g&&(A[P]=g-_,P+=2,_=g),v=r.F._writeBlock(1,A,P,O,i,R,g-R,a,v),P=0,F=0,P=F=O=0,R=g);(7&v)!=0;)v++;return v>>>3},r.F._bestMatch=function(i,a,o,u,c,f){var d=32767&a,p=o[d],g=d-p+32768&32767;if(p==d||u!=r.F._hash(i,a-g))return 0;for(var v=0,_=0,w=Math.min(32767,a);g<=w&&--f!=0&&p!=d;){if(v==0||i[a+v]==i[a+v-g]){var A=r.F._howLong(i,a,g);if(A>v){if(_=g,(v=A)>=c)break;g+2<A&&(A=g+2);for(var S=0,L=0;L<A-2;L++){var P=a-g+L+32768&32767,F=P-o[P]+32768&32767;F>S&&(S=F,p=P)}}}g+=(d=p)-(p=o[d])+32768&32767}return v<<16|_},r.F._howLong=function(i,a,o){if(i[a]!=i[a-o]||i[a+1]!=i[a+1-o]||i[a+2]!=i[a+2-o])return 0;var u=a,c=Math.min(i.length,a+258);for(a+=3;a<c&&i[a]==i[a-o];)a++;return a-u},r.F._hash=function(i,a){return(i[a]<<8|i[a+1])+(i[a+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,a,o,u,c,f,d,p,g){var v,_,w,A,S,L,P,F,R,O=r.F.U,z=r.F._putsF,T=r.F._putsE;O.lhst[256]++,_=(v=r.F.getTrees())[0],w=v[1],A=v[2],S=v[3],L=v[4],P=v[5],F=v[6],R=v[7];var N=32+((g+3&7)==0?0:8-(g+3&7))+(d<<3),$=u+r.F.contSize(O.fltree,O.lhst)+r.F.contSize(O.fdtree,O.dhst),V=u+r.F.contSize(O.ltree,O.lhst)+r.F.contSize(O.dtree,O.dhst);V+=14+3*P+r.F.contSize(O.itree,O.ihst)+(2*O.ihst[16]+3*O.ihst[17]+7*O.ihst[18]);for(var G=0;G<286;G++)O.lhst[G]=0;for(G=0;G<30;G++)O.dhst[G]=0;for(G=0;G<19;G++)O.ihst[G]=0;var re=N<$&&N<V?0:$<V?1:2;if(z(p,g,i),z(p,g+1,re),g+=3,re==0){for(;(7&g)!=0;)g++;g=r.F._copyExact(c,f,d,p,g)}else{var Y,M;if(re==1&&(Y=O.fltree,M=O.fdtree),re==2){r.F.makeCodes(O.ltree,_),r.F.revCodes(O.ltree,_),r.F.makeCodes(O.dtree,w),r.F.revCodes(O.dtree,w),r.F.makeCodes(O.itree,A),r.F.revCodes(O.itree,A),Y=O.ltree,M=O.dtree,T(p,g,S-257),T(p,g+=5,L-1),T(p,g+=5,P-4),g+=4;for(var D=0;D<P;D++)T(p,g+3*D,O.itree[1+(O.ordr[D]<<1)]);g+=3*P,g=r.F._codeTiny(F,O.itree,p,g),g=r.F._codeTiny(R,O.itree,p,g)}for(var j=f,Z=0;Z<o;Z+=2){for(var ne=a[Z],k=ne>>>23,le=j+(8388607&ne);j<le;)g=r.F._writeLit(c[j++],Y,p,g);if(k!=0){var se=a[Z+1],B=se>>16,U=se>>8&255,I=255&se;T(p,g=r.F._writeLit(257+U,Y,p,g),k-O.of0[U]),g+=O.exb[U],z(p,g=r.F._writeLit(I,M,p,g),B-O.df0[I]),g+=O.dxb[I],j+=k}}g=r.F._writeLit(256,Y,p,g)}return g},r.F._copyExact=function(i,a,o,u,c){var f=c>>>3;return u[f]=o,u[f+1]=o>>>8,u[f+2]=255-u[f],u[f+3]=255-u[f+1],f+=4,u.set(new Uint8Array(i.buffer,a,o),f),c+(o+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,a=r.F._hufTree(i.lhst,i.ltree,15),o=r.F._hufTree(i.dhst,i.dtree,15),u=[],c=r.F._lenCodes(i.ltree,u),f=[],d=r.F._lenCodes(i.dtree,f),p=0;p<u.length;p+=2)i.ihst[u[p]]++;for(p=0;p<f.length;p+=2)i.ihst[f[p]]++;for(var g=r.F._hufTree(i.ihst,i.itree,7),v=19;v>4&&i.itree[1+(i.ordr[v-1]<<1)]==0;)v--;return[a,o,g,c,d,v,u,f]},r.F.getSecond=function(i){for(var a=[],o=0;o<i.length;o+=2)a.push(i[o+1]);return a},r.F.nonZero=function(i){for(var a="",o=0;o<i.length;o+=2)i[o+1]!=0&&(a+=(o>>1)+",");return a},r.F.contSize=function(i,a){for(var o=0,u=0;u<a.length;u++)o+=a[u]*i[1+(u<<1)];return o},r.F._codeTiny=function(i,a,o,u){for(var c=0;c<i.length;c+=2){var f=i[c],d=i[c+1];u=r.F._writeLit(f,a,o,u);var p=f==16?2:f==17?3:7;f>15&&(r.F._putsE(o,u,d,p),u+=p)}return u},r.F._lenCodes=function(i,a){for(var o=i.length;o!=2&&i[o-1]==0;)o-=2;for(var u=0;u<o;u+=2){var c=i[u+1],f=u+3<o?i[u+3]:-1,d=u+5<o?i[u+5]:-1,p=u==0?-1:i[u-1];if(c==0&&f==c&&d==c){for(var g=u+5;g+2<o&&i[g+2]==c;)g+=2;(v=Math.min(g+1-u>>>1,138))<11?a.push(17,v-3):a.push(18,v-11),u+=2*v-2}else if(c==p&&f==c&&d==c){for(g=u+5;g+2<o&&i[g+2]==c;)g+=2;var v=Math.min(g+1-u>>>1,6);a.push(16,v-3),u+=2*v-2}else a.push(c,0)}return o>>>1},r.F._hufTree=function(i,a,o){var u=[],c=i.length,f=a.length,d=0;for(d=0;d<f;d+=2)a[d]=0,a[d+1]=0;for(d=0;d<c;d++)i[d]!=0&&u.push({lit:d,f:i[d]});var p=u.length,g=u.slice(0);if(p==0)return 0;if(p==1){var v=u[0].lit;return g=v==0?1:0,a[1+(v<<1)]=1,a[1+(g<<1)]=1,1}u.sort(function(F,R){return F.f-R.f});var _=u[0],w=u[1],A=0,S=1,L=2;for(u[0]={lit:-1,f:_.f+w.f,l:_,r:w,d:0};S!=p-1;)_=A!=S&&(L==p||u[A].f<u[L].f)?u[A++]:u[L++],w=A!=S&&(L==p||u[A].f<u[L].f)?u[A++]:u[L++],u[S++]={lit:-1,f:_.f+w.f,l:_,r:w};var P=r.F.setDepth(u[S-1],0);for(P>o&&(r.F.restrictDepth(g,o,P),P=o),d=0;d<p;d++)a[1+(g[d].lit<<1)]=g[d].d;return P},r.F.setDepth=function(i,a){return i.lit!=-1?(i.d=a,a):Math.max(r.F.setDepth(i.l,a+1),r.F.setDepth(i.r,a+1))},r.F.restrictDepth=function(i,a,o){var u=0,c=1<<o-a,f=0;for(i.sort(function(p,g){return g.d==p.d?p.f-g.f:g.d-p.d}),u=0;u<i.length&&i[u].d>a;u++){var d=i[u].d;i[u].d=a,f+=c-(1<<o-d)}for(f>>>=o-a;f>0;)(d=i[u].d)<a?(i[u].d++,f-=1<<a-d-1):u++;for(;u>=0;u--)i[u].d==a&&f<0&&(i[u].d--,f++);f!=0&&console.log("debt left")},r.F._goodIndex=function(i,a){var o=0;return a[16|o]<=i&&(o|=16),a[8|o]<=i&&(o|=8),a[4|o]<=i&&(o|=4),a[2|o]<=i&&(o|=2),a[1|o]<=i&&(o|=1),o},r.F._writeLit=function(i,a,o,u){return r.F._putsF(o,u,a[i<<1]),u+a[1+(i<<1)]},r.F.inflate=function(i,a){var o=Uint8Array;if(i[0]==3&&i[1]==0)return a||new o(0);var u=r.F,c=u._bitsF,f=u._bitsE,d=u._decodeTiny,p=u.makeCodes,g=u.codes2map,v=u._get17,_=u.U,w=a==null;w&&(a=new o(i.length>>>2<<3));for(var A,S,L=0,P=0,F=0,R=0,O=0,z=0,T=0,N=0,$=0;L==0;)if(L=c(i,$,1),P=c(i,$+1,2),$+=3,P!=0){if(w&&(a=r.F._check(a,N+(1<<17))),P==1&&(A=_.flmap,S=_.fdmap,z=511,T=31),P==2){F=f(i,$,5)+257,R=f(i,$+5,5)+1,O=f(i,$+10,4)+4,$+=14;for(var V=0;V<38;V+=2)_.itree[V]=0,_.itree[V+1]=0;var G=1;for(V=0;V<O;V++){var re=f(i,$+3*V,3);_.itree[1+(_.ordr[V]<<1)]=re,re>G&&(G=re)}$+=3*O,p(_.itree,G),g(_.itree,G,_.imap),A=_.lmap,S=_.dmap,$=d(_.imap,(1<<G)-1,F+R,i,$,_.ttree);var Y=u._copyOut(_.ttree,0,F,_.ltree);z=(1<<Y)-1;var M=u._copyOut(_.ttree,F,R,_.dtree);T=(1<<M)-1,p(_.ltree,Y),g(_.ltree,Y,A),p(_.dtree,M),g(_.dtree,M,S)}for(;;){var D=A[v(i,$)&z];$+=15&D;var j=D>>>4;if(!(j>>>8))a[N++]=j;else{if(j==256)break;var Z=N+j-254;if(j>264){var ne=_.ldef[j-257];Z=N+(ne>>>3)+f(i,$,7&ne),$+=7&ne}var k=S[v(i,$)&T];$+=15&k;var le=k>>>4,se=_.ddef[le],B=(se>>>4)+c(i,$,15&se);for($+=15&se,w&&(a=r.F._check(a,N+(1<<17)));N<Z;)a[N]=a[N++-B],a[N]=a[N++-B],a[N]=a[N++-B],a[N]=a[N++-B];N=Z}}}else{(7&$)!=0&&($+=8-(7&$));var U=4+($>>>3),I=i[U-4]|i[U-3]<<8;w&&(a=r.F._check(a,N+I)),a.set(new o(i.buffer,i.byteOffset+U,I),N),$=U+I<<3,N+=I}return a.length==N?a:a.slice(0,N)},r.F._check=function(i,a){var o=i.length;if(a<=o)return i;var u=new Uint8Array(Math.max(o<<1,a));return u.set(i,0),u},r.F._decodeTiny=function(i,a,o,u,c,f){for(var d=r.F._bitsE,p=r.F._get17,g=0;g<o;){var v=i[p(u,c)&a];c+=15&v;var _=v>>>4;if(_<=15)f[g]=_,g++;else{var w=0,A=0;_==16?(A=3+d(u,c,2),c+=2,w=f[g-1]):_==17?(A=3+d(u,c,3),c+=3):_==18&&(A=11+d(u,c,7),c+=7);for(var S=g+A;g<S;)f[g]=w,g++}}return c},r.F._copyOut=function(i,a,o,u){for(var c=0,f=0,d=u.length>>>1;f<o;){var p=i[f+a];u[f<<1]=0,u[1+(f<<1)]=p,p>c&&(c=p),f++}for(;f<d;)u[f<<1]=0,u[1+(f<<1)]=0,f++;return c},r.F.makeCodes=function(i,a){for(var o,u,c,f,d=r.F.U,p=i.length,g=d.bl_count,v=0;v<=a;v++)g[v]=0;for(v=1;v<p;v+=2)g[i[v]]++;var _=d.next_code;for(o=0,g[0]=0,u=1;u<=a;u++)o=o+g[u-1]<<1,_[u]=o;for(c=0;c<p;c+=2)(f=i[c+1])!=0&&(i[c]=_[f],_[f]++)},r.F.codes2map=function(i,a,o){for(var u=i.length,c=r.F.U.rev15,f=0;f<u;f+=2)if(i[f+1]!=0)for(var d=f>>1,p=i[f+1],g=d<<4|p,v=a-p,_=i[f]<<v,w=_+(1<<v);_!=w;)o[c[_]>>>15-a]=g,_++},r.F.revCodes=function(i,a){for(var o=r.F.U.rev15,u=15-a,c=0;c<i.length;c+=2){var f=i[c]<<a-i[c+1];i[c]=o[f]>>>u}},r.F._putsE=function(i,a,o){o<<=7&a;var u=a>>>3;i[u]|=o,i[u+1]|=o>>>8},r.F._putsF=function(i,a,o){o<<=7&a;var u=a>>>3;i[u]|=o,i[u+1]|=o>>>8,i[u+2]|=o>>>16},r.F._bitsE=function(i,a,o){return(i[a>>>3]|i[1+(a>>>3)]<<8)>>>(7&a)&(1<<o)-1},r.F._bitsF=function(i,a,o){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16)>>>(7&a)&(1<<o)-1},r.F._get17=function(i,a){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16)>>>(7&a)},r.F._get25=function(i,a){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16|i[3+(a>>>3)]<<24)>>>(7&a)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,a=0;a<32768;a++){var o=a;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,i.rev15[a]=(o>>>16|o<<16)>>>17}function u(c,f,d){for(;f--!=0;)c.push(0,d)}for(a=0;a<32;a++)i.ldef[a]=i.of0[a]<<3|i.exb[a],i.ddef[a]=i.df0[a]<<4|i.dxb[a];u(i.fltree,144,8),u(i.fltree,112,9),u(i.fltree,24,7),u(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),u(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),u(i.itree,19,0),u(i.ltree,286,0),u(i.dtree,30,0),u(i.ttree,320,0)}()})();var K3=G3({__proto__:null,default:Zh},[Zh]);const Ti=function(){var t={nextZero(d,p){for(;d[p]!=0;)p++;return p},readUshort:(d,p)=>d[p]<<8|d[p+1],writeUshort(d,p,g){d[p]=g>>8&255,d[p+1]=255&g},readUint:(d,p)=>16777216*d[p]+(d[p+1]<<16|d[p+2]<<8|d[p+3]),writeUint(d,p,g){d[p]=g>>24&255,d[p+1]=g>>16&255,d[p+2]=g>>8&255,d[p+3]=255&g},readASCII(d,p,g){let v="";for(let _=0;_<g;_++)v+=String.fromCharCode(d[p+_]);return v},writeASCII(d,p,g){for(let v=0;v<g.length;v++)d[p+v]=g.charCodeAt(v)},readBytes(d,p,g){const v=[];for(let _=0;_<g;_++)v.push(d[p+_]);return v},pad:d=>d.length<2?`0${d}`:d,readUTF8(d,p,g){let v,_="";for(let w=0;w<g;w++)_+=`%${t.pad(d[p+w].toString(16))}`;try{v=decodeURIComponent(_)}catch{return t.readASCII(d,p,g)}return v}};function e(d,p,g,v){const _=p*g,w=a(v),A=Math.ceil(p*w/8),S=new Uint8Array(4*_),L=new Uint32Array(S.buffer),{ctype:P}=v,{depth:F}=v,R=t.readUshort;if(P==6){const ne=_<<2;if(F==8)for(var O=0;O<ne;O+=4)S[O]=d[O],S[O+1]=d[O+1],S[O+2]=d[O+2],S[O+3]=d[O+3];if(F==16)for(O=0;O<ne;O++)S[O]=d[O<<1]}else if(P==2){const ne=v.tabs.tRNS;if(ne==null){if(F==8)for(O=0;O<_;O++){var z=3*O;L[O]=255<<24|d[z+2]<<16|d[z+1]<<8|d[z]}if(F==16)for(O=0;O<_;O++)z=6*O,L[O]=255<<24|d[z+4]<<16|d[z+2]<<8|d[z]}else{var T=ne[0];const k=ne[1],le=ne[2];if(F==8)for(O=0;O<_;O++){var N=O<<2;z=3*O,L[O]=255<<24|d[z+2]<<16|d[z+1]<<8|d[z],d[z]==T&&d[z+1]==k&&d[z+2]==le&&(S[N+3]=0)}if(F==16)for(O=0;O<_;O++)N=O<<2,z=6*O,L[O]=255<<24|d[z+4]<<16|d[z+2]<<8|d[z],R(d,z)==T&&R(d,z+2)==k&&R(d,z+4)==le&&(S[N+3]=0)}}else if(P==3){const ne=v.tabs.PLTE,k=v.tabs.tRNS,le=k?k.length:0;if(F==1)for(var $=0;$<g;$++){var V=$*A,G=$*p;for(O=0;O<p;O++){N=G+O<<2;var re=3*(Y=d[V+(O>>3)]>>7-((7&O)<<0)&1);S[N]=ne[re],S[N+1]=ne[re+1],S[N+2]=ne[re+2],S[N+3]=Y<le?k[Y]:255}}if(F==2)for($=0;$<g;$++)for(V=$*A,G=$*p,O=0;O<p;O++)N=G+O<<2,re=3*(Y=d[V+(O>>2)]>>6-((3&O)<<1)&3),S[N]=ne[re],S[N+1]=ne[re+1],S[N+2]=ne[re+2],S[N+3]=Y<le?k[Y]:255;if(F==4)for($=0;$<g;$++)for(V=$*A,G=$*p,O=0;O<p;O++)N=G+O<<2,re=3*(Y=d[V+(O>>1)]>>4-((1&O)<<2)&15),S[N]=ne[re],S[N+1]=ne[re+1],S[N+2]=ne[re+2],S[N+3]=Y<le?k[Y]:255;if(F==8)for(O=0;O<_;O++){var Y;N=O<<2,re=3*(Y=d[O]),S[N]=ne[re],S[N+1]=ne[re+1],S[N+2]=ne[re+2],S[N+3]=Y<le?k[Y]:255}}else if(P==4){if(F==8)for(O=0;O<_;O++){N=O<<2;var M=d[D=O<<1];S[N]=M,S[N+1]=M,S[N+2]=M,S[N+3]=d[D+1]}if(F==16)for(O=0;O<_;O++){var D;N=O<<2,M=d[D=O<<2],S[N]=M,S[N+1]=M,S[N+2]=M,S[N+3]=d[D+2]}}else if(P==0)for(T=v.tabs.tRNS?v.tabs.tRNS:-1,$=0;$<g;$++){const ne=$*A,k=$*p;if(F==1)for(var j=0;j<p;j++){var Z=(M=255*(d[ne+(j>>>3)]>>>7-(7&j)&1))==255*T?0:255;L[k+j]=Z<<24|M<<16|M<<8|M}else if(F==2)for(j=0;j<p;j++)Z=(M=85*(d[ne+(j>>>2)]>>>6-((3&j)<<1)&3))==85*T?0:255,L[k+j]=Z<<24|M<<16|M<<8|M;else if(F==4)for(j=0;j<p;j++)Z=(M=17*(d[ne+(j>>>1)]>>>4-((1&j)<<2)&15))==17*T?0:255,L[k+j]=Z<<24|M<<16|M<<8|M;else if(F==8)for(j=0;j<p;j++)Z=(M=d[ne+j])==T?0:255,L[k+j]=Z<<24|M<<16|M<<8|M;else if(F==16)for(j=0;j<p;j++)M=d[ne+(j<<1)],Z=R(d,ne+(j<<1))==T?0:255,L[k+j]=Z<<24|M<<16|M<<8|M}return S}function n(d,p,g,v){const _=a(d),w=Math.ceil(g*_/8),A=new Uint8Array((w+1+d.interlace)*v);return p=d.tabs.CgBI?i(p,A):r(p,A),d.interlace==0?p=o(p,d,0,g,v):d.interlace==1&&(p=function(L,P){const F=P.width,R=P.height,O=a(P),z=O>>3,T=Math.ceil(F*O/8),N=new Uint8Array(R*T);let $=0;const V=[0,0,4,0,2,0,1],G=[0,4,0,2,0,1,0],re=[8,8,8,4,4,2,2],Y=[8,8,4,4,2,2,1];let M=0;for(;M<7;){const j=re[M],Z=Y[M];let ne=0,k=0,le=V[M];for(;le<R;)le+=j,k++;let se=G[M];for(;se<F;)se+=Z,ne++;const B=Math.ceil(ne*O/8);o(L,P,$,ne,k);let U=0,I=V[M];for(;I<R;){let W=G[M],ae=$+U*B<<3;for(;W<F;){var D;if(O==1&&(D=(D=L[ae>>3])>>7-(7&ae)&1,N[I*T+(W>>3)]|=D<<7-((7&W)<<0)),O==2&&(D=(D=L[ae>>3])>>6-(7&ae)&3,N[I*T+(W>>2)]|=D<<6-((3&W)<<1)),O==4&&(D=(D=L[ae>>3])>>4-(7&ae)&15,N[I*T+(W>>1)]|=D<<4-((1&W)<<2)),O>=8){const oe=I*T+W*z;for(let pe=0;pe<z;pe++)N[oe+pe]=L[(ae>>3)+pe]}ae+=O,W+=Z}U++,I+=j}ne*k!=0&&($+=k*(1+B)),M+=1}return N}(p,d)),p}function r(d,p){return i(new Uint8Array(d.buffer,2,d.length-6),p)}var i=function(){const d={H:{}};return d.H.N=function(p,g){const v=Uint8Array;let _,w,A=0,S=0,L=0,P=0,F=0,R=0,O=0,z=0,T=0;if(p[0]==3&&p[1]==0)return g||new v(0);const N=d.H,$=N.b,V=N.e,G=N.R,re=N.n,Y=N.A,M=N.Z,D=N.m,j=g==null;for(j&&(g=new v(p.length>>>2<<5));A==0;)if(A=$(p,T,1),S=$(p,T+1,2),T+=3,S!=0){if(j&&(g=d.H.W(g,z+(1<<17))),S==1&&(_=D.J,w=D.h,R=511,O=31),S==2){L=V(p,T,5)+257,P=V(p,T+5,5)+1,F=V(p,T+10,4)+4,T+=14;let ne=1;for(var Z=0;Z<38;Z+=2)D.Q[Z]=0,D.Q[Z+1]=0;for(Z=0;Z<F;Z++){const se=V(p,T+3*Z,3);D.Q[1+(D.X[Z]<<1)]=se,se>ne&&(ne=se)}T+=3*F,re(D.Q,ne),Y(D.Q,ne,D.u),_=D.w,w=D.d,T=G(D.u,(1<<ne)-1,L+P,p,T,D.v);const k=N.V(D.v,0,L,D.C);R=(1<<k)-1;const le=N.V(D.v,L,P,D.D);O=(1<<le)-1,re(D.C,k),Y(D.C,k,_),re(D.D,le),Y(D.D,le,w)}for(;;){const ne=_[M(p,T)&R];T+=15&ne;const k=ne>>>4;if(!(k>>>8))g[z++]=k;else{if(k==256)break;{let le=z+k-254;if(k>264){const W=D.q[k-257];le=z+(W>>>3)+V(p,T,7&W),T+=7&W}const se=w[M(p,T)&O];T+=15&se;const B=se>>>4,U=D.c[B],I=(U>>>4)+$(p,T,15&U);for(T+=15&U;z<le;)g[z]=g[z++-I],g[z]=g[z++-I],g[z]=g[z++-I],g[z]=g[z++-I];z=le}}}}else{(7&T)!=0&&(T+=8-(7&T));const ne=4+(T>>>3),k=p[ne-4]|p[ne-3]<<8;j&&(g=d.H.W(g,z+k)),g.set(new v(p.buffer,p.byteOffset+ne,k),z),T=ne+k<<3,z+=k}return g.length==z?g:g.slice(0,z)},d.H.W=function(p,g){const v=p.length;if(g<=v)return p;const _=new Uint8Array(v<<1);return _.set(p,0),_},d.H.R=function(p,g,v,_,w,A){const S=d.H.e,L=d.H.Z;let P=0;for(;P<v;){const F=p[L(_,w)&g];w+=15&F;const R=F>>>4;if(R<=15)A[P]=R,P++;else{let O=0,z=0;R==16?(z=3+S(_,w,2),w+=2,O=A[P-1]):R==17?(z=3+S(_,w,3),w+=3):R==18&&(z=11+S(_,w,7),w+=7);const T=P+z;for(;P<T;)A[P]=O,P++}}return w},d.H.V=function(p,g,v,_){let w=0,A=0;const S=_.length>>>1;for(;A<v;){const L=p[A+g];_[A<<1]=0,_[1+(A<<1)]=L,L>w&&(w=L),A++}for(;A<S;)_[A<<1]=0,_[1+(A<<1)]=0,A++;return w},d.H.n=function(p,g){const v=d.H.m,_=p.length;let w,A,S,L;const P=v.j;for(var F=0;F<=g;F++)P[F]=0;for(F=1;F<_;F+=2)P[p[F]]++;const R=v.K;for(w=0,P[0]=0,A=1;A<=g;A++)w=w+P[A-1]<<1,R[A]=w;for(S=0;S<_;S+=2)L=p[S+1],L!=0&&(p[S]=R[L],R[L]++)},d.H.A=function(p,g,v){const _=p.length,w=d.H.m.r;for(let A=0;A<_;A+=2)if(p[A+1]!=0){const S=A>>1,L=p[A+1],P=S<<4|L,F=g-L;let R=p[A]<<F;const O=R+(1<<F);for(;R!=O;)v[w[R]>>>15-g]=P,R++}},d.H.l=function(p,g){const v=d.H.m.r,_=15-g;for(let w=0;w<p.length;w+=2){const A=p[w]<<g-p[w+1];p[w]=v[A]>>>_}},d.H.M=function(p,g,v){v<<=7&g;const _=g>>>3;p[_]|=v,p[_+1]|=v>>>8},d.H.I=function(p,g,v){v<<=7&g;const _=g>>>3;p[_]|=v,p[_+1]|=v>>>8,p[_+2]|=v>>>16},d.H.e=function(p,g,v){return(p[g>>>3]|p[1+(g>>>3)]<<8)>>>(7&g)&(1<<v)-1},d.H.b=function(p,g,v){return(p[g>>>3]|p[1+(g>>>3)]<<8|p[2+(g>>>3)]<<16)>>>(7&g)&(1<<v)-1},d.H.Z=function(p,g){return(p[g>>>3]|p[1+(g>>>3)]<<8|p[2+(g>>>3)]<<16)>>>(7&g)},d.H.i=function(p,g){return(p[g>>>3]|p[1+(g>>>3)]<<8|p[2+(g>>>3)]<<16|p[3+(g>>>3)]<<24)>>>(7&g)},d.H.m=function(){const p=Uint16Array,g=Uint32Array;return{K:new p(16),j:new p(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new p(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new g(32),J:new p(512),_:[],h:new p(32),$:[],w:new p(32768),C:[],v:[],d:new p(32768),D:[],u:new p(512),Q:[],r:new p(32768),s:new g(286),Y:new g(30),a:new g(19),t:new g(15e3),k:new p(65536),g:new p(32768)}}(),function(){const p=d.H.m;for(var g=0;g<32768;g++){let _=g;_=(2863311530&_)>>>1|(1431655765&_)<<1,_=(3435973836&_)>>>2|(858993459&_)<<2,_=(4042322160&_)>>>4|(252645135&_)<<4,_=(4278255360&_)>>>8|(16711935&_)<<8,p.r[g]=(_>>>16|_<<16)>>>17}function v(_,w,A){for(;w--!=0;)_.push(0,A)}for(g=0;g<32;g++)p.q[g]=p.S[g]<<3|p.T[g],p.c[g]=p.p[g]<<4|p.z[g];v(p._,144,8),v(p._,112,9),v(p._,24,7),v(p._,8,8),d.H.n(p._,9),d.H.A(p._,9,p.J),d.H.l(p._,9),v(p.$,32,5),d.H.n(p.$,5),d.H.A(p.$,5,p.h),d.H.l(p.$,5),v(p.Q,19,0),v(p.C,286,0),v(p.D,30,0),v(p.v,320,0)}(),d.H.N}();function a(d){return[1,null,3,1,2,null,4][d.ctype]*d.depth}function o(d,p,g,v,_){let w=a(p);const A=Math.ceil(v*w/8);let S,L;w=Math.ceil(w/8);let P=d[g],F=0;if(P>1&&(d[g]=[0,0,1][P-2]),P==3)for(F=w;F<A;F++)d[F+1]=d[F+1]+(d[F+1-w]>>>1)&255;for(let R=0;R<_;R++)if(S=g+R*A,L=S+R+1,P=d[L-1],F=0,P==0)for(;F<A;F++)d[S+F]=d[L+F];else if(P==1){for(;F<w;F++)d[S+F]=d[L+F];for(;F<A;F++)d[S+F]=d[L+F]+d[S+F-w]}else if(P==2)for(;F<A;F++)d[S+F]=d[L+F]+d[S+F-A];else if(P==3){for(;F<w;F++)d[S+F]=d[L+F]+(d[S+F-A]>>>1);for(;F<A;F++)d[S+F]=d[L+F]+(d[S+F-A]+d[S+F-w]>>>1)}else{for(;F<w;F++)d[S+F]=d[L+F]+u(0,d[S+F-A],0);for(;F<A;F++)d[S+F]=d[L+F]+u(d[S+F-w],d[S+F-A],d[S+F-w-A])}return d}function u(d,p,g){const v=d+p-g,_=v-d,w=v-p,A=v-g;return _*_<=w*w&&_*_<=A*A?d:w*w<=A*A?p:g}function c(d,p,g){g.width=t.readUint(d,p),p+=4,g.height=t.readUint(d,p),p+=4,g.depth=d[p],p++,g.ctype=d[p],p++,g.compress=d[p],p++,g.filter=d[p],p++,g.interlace=d[p],p++}function f(d,p,g,v,_,w,A,S,L){const P=Math.min(p,_),F=Math.min(g,w);let R=0,O=0;for(let M=0;M<F;M++)for(let D=0;D<P;D++)if(A>=0&&S>=0?(R=M*p+D<<2,O=(S+M)*_+A+D<<2):(R=(-S+M)*p-A+D<<2,O=M*_+D<<2),L==0)v[O]=d[R],v[O+1]=d[R+1],v[O+2]=d[R+2],v[O+3]=d[R+3];else if(L==1){var z=d[R+3]*.00392156862745098,T=d[R]*z,N=d[R+1]*z,$=d[R+2]*z,V=v[O+3]*(1/255),G=v[O]*V,re=v[O+1]*V,Y=v[O+2]*V;const j=1-z,Z=z+V*j,ne=Z==0?0:1/Z;v[O+3]=255*Z,v[O+0]=(T+G*j)*ne,v[O+1]=(N+re*j)*ne,v[O+2]=($+Y*j)*ne}else if(L==2)z=d[R+3],T=d[R],N=d[R+1],$=d[R+2],V=v[O+3],G=v[O],re=v[O+1],Y=v[O+2],z==V&&T==G&&N==re&&$==Y?(v[O]=0,v[O+1]=0,v[O+2]=0,v[O+3]=0):(v[O]=T,v[O+1]=N,v[O+2]=$,v[O+3]=z);else if(L==3){if(z=d[R+3],T=d[R],N=d[R+1],$=d[R+2],V=v[O+3],G=v[O],re=v[O+1],Y=v[O+2],z==V&&T==G&&N==re&&$==Y)continue;if(z<220&&V>20)return!1}return!0}return{decode:function(p){const g=new Uint8Array(p);let v=8;const _=t,w=_.readUshort,A=_.readUint,S={tabs:{},frames:[]},L=new Uint8Array(g.length);let P,F=0,R=0;const O=[137,80,78,71,13,10,26,10];for(var z=0;z<8;z++)if(g[z]!=O[z])throw"The input is not a PNG file!";for(;v<g.length;){const M=_.readUint(g,v);v+=4;const D=_.readASCII(g,v,4);if(v+=4,D=="IHDR")c(g,v,S);else if(D=="iCCP"){for(var T=v;g[T]!=0;)T++;_.readASCII(g,v,T-v),g[T+1];const j=g.slice(T+2,v+M);let Z=null;try{Z=r(j)}catch{Z=i(j)}S.tabs[D]=Z}else if(D=="CgBI")S.tabs[D]=g.slice(v,v+4);else if(D=="IDAT"){for(z=0;z<M;z++)L[F+z]=g[v+z];F+=M}else if(D=="acTL")S.tabs[D]={num_frames:A(g,v),num_plays:A(g,v+4)},P=new Uint8Array(g.length);else if(D=="fcTL"){R!=0&&((Y=S.frames[S.frames.length-1]).data=n(S,P.slice(0,R),Y.rect.width,Y.rect.height),R=0);const j={x:A(g,v+12),y:A(g,v+16),width:A(g,v+4),height:A(g,v+8)};let Z=w(g,v+22);Z=w(g,v+20)/(Z==0?100:Z);const ne={rect:j,delay:Math.round(1e3*Z),dispose:g[v+24],blend:g[v+25]};S.frames.push(ne)}else if(D=="fdAT"){for(z=0;z<M-4;z++)P[R+z]=g[v+z+4];R+=M-4}else if(D=="pHYs")S.tabs[D]=[_.readUint(g,v),_.readUint(g,v+4),g[v+8]];else if(D=="cHRM")for(S.tabs[D]=[],z=0;z<8;z++)S.tabs[D].push(_.readUint(g,v+4*z));else if(D=="tEXt"||D=="zTXt"){S.tabs[D]==null&&(S.tabs[D]={});var N=_.nextZero(g,v),$=_.readASCII(g,v,N-v),V=v+M-N-1;if(D=="tEXt")re=_.readASCII(g,N+1,V);else{var G=r(g.slice(N+2,N+2+V));re=_.readUTF8(G,0,G.length)}S.tabs[D][$]=re}else if(D=="iTXt"){S.tabs[D]==null&&(S.tabs[D]={}),N=0,T=v,N=_.nextZero(g,T),$=_.readASCII(g,T,N-T);const j=g[T=N+1];var re;g[T+1],T+=2,N=_.nextZero(g,T),_.readASCII(g,T,N-T),T=N+1,N=_.nextZero(g,T),_.readUTF8(g,T,N-T),V=M-((T=N+1)-v),j==0?re=_.readUTF8(g,T,V):(G=r(g.slice(T,T+V)),re=_.readUTF8(G,0,G.length)),S.tabs[D][$]=re}else if(D=="PLTE")S.tabs[D]=_.readBytes(g,v,M);else if(D=="hIST"){const j=S.tabs.PLTE.length/3;for(S.tabs[D]=[],z=0;z<j;z++)S.tabs[D].push(w(g,v+2*z))}else if(D=="tRNS")S.ctype==3?S.tabs[D]=_.readBytes(g,v,M):S.ctype==0?S.tabs[D]=w(g,v):S.ctype==2&&(S.tabs[D]=[w(g,v),w(g,v+2),w(g,v+4)]);else if(D=="gAMA")S.tabs[D]=_.readUint(g,v)/1e5;else if(D=="sRGB")S.tabs[D]=g[v];else if(D=="bKGD")S.ctype==0||S.ctype==4?S.tabs[D]=[w(g,v)]:S.ctype==2||S.ctype==6?S.tabs[D]=[w(g,v),w(g,v+2),w(g,v+4)]:S.ctype==3&&(S.tabs[D]=g[v]);else if(D=="IEND")break;v+=M,_.readUint(g,v),v+=4}var Y;return R!=0&&((Y=S.frames[S.frames.length-1]).data=n(S,P.slice(0,R),Y.rect.width,Y.rect.height)),S.data=n(S,L,S.width,S.height),delete S.compress,delete S.interlace,delete S.filter,S},toRGBA8:function(p){const g=p.width,v=p.height;if(p.tabs.acTL==null)return[e(p.data,g,v,p).buffer];const _=[];p.frames[0].data==null&&(p.frames[0].data=p.data);const w=g*v*4,A=new Uint8Array(w),S=new Uint8Array(w),L=new Uint8Array(w);for(let F=0;F<p.frames.length;F++){const R=p.frames[F],O=R.rect.x,z=R.rect.y,T=R.rect.width,N=R.rect.height,$=e(R.data,T,N,p);if(F!=0)for(var P=0;P<w;P++)L[P]=A[P];if(R.blend==0?f($,T,N,A,g,v,O,z,0):R.blend==1&&f($,T,N,A,g,v,O,z,1),_.push(A.buffer.slice(0)),R.dispose!=0){if(R.dispose==1)f(S,T,N,A,g,v,O,z,0);else if(R.dispose==2)for(P=0;P<w;P++)A[P]=L[P]}}return _},_paeth:u,_copyTile:f,_bin:t}}();(function(){const{_copyTile:t}=Ti,{_bin:e}=Ti,n=Ti._paeth;var r={table:function(){const T=new Uint32Array(256);for(let N=0;N<256;N++){let $=N;for(let V=0;V<8;V++)1&$?$=3988292384^$>>>1:$>>>=1;T[N]=$}return T}(),update(T,N,$,V){for(let G=0;G<V;G++)T=r.table[255&(T^N[$+G])]^T>>>8;return T},crc:(T,N,$)=>4294967295^r.update(4294967295,T,N,$)};function i(T,N,$,V){N[$]+=T[0]*V>>4,N[$+1]+=T[1]*V>>4,N[$+2]+=T[2]*V>>4,N[$+3]+=T[3]*V>>4}function a(T){return Math.max(0,Math.min(255,T))}function o(T,N){const $=T[0]-N[0],V=T[1]-N[1],G=T[2]-N[2],re=T[3]-N[3];return $*$+V*V+G*G+re*re}function u(T,N,$,V,G,re,Y){Y==null&&(Y=1);const M=V.length,D=[];for(var j=0;j<M;j++){const I=V[j];D.push([I>>>0&255,I>>>8&255,I>>>16&255,I>>>24&255])}for(j=0;j<M;j++){let I=4294967295;for(var Z=0,ne=0;ne<M;ne++){var k=o(D[j],D[ne]);ne!=j&&k<I&&(I=k,Z=ne)}}const le=new Uint32Array(G.buffer),se=new Int16Array(N*$*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(j=0;j<B.length;j++)B[j]=255*((B[j]+.5)/16-.5);for(let I=0;I<$;I++)for(let W=0;W<N;W++){var U;j=4*(I*N+W),Y!=2?U=[a(T[j]+se[j]),a(T[j+1]+se[j+1]),a(T[j+2]+se[j+2]),a(T[j+3]+se[j+3])]:(k=B[4*(3&I)+(3&W)],U=[a(T[j]+k),a(T[j+1]+k),a(T[j+2]+k),a(T[j+3]+k)]),Z=0;let ae=16777215;for(ne=0;ne<M;ne++){const De=o(U,D[ne]);De<ae&&(ae=De,Z=ne)}const oe=D[Z],pe=[U[0]-oe[0],U[1]-oe[1],U[2]-oe[2],U[3]-oe[3]];Y==1&&(W!=N-1&&i(pe,se,j+4,7),I!=$-1&&(W!=0&&i(pe,se,j+4*N-4,3),i(pe,se,j+4*N,5),W!=N-1&&i(pe,se,j+4*N+4,1))),re[j>>2]=Z,le[j>>2]=V[Z]}}function c(T,N,$,V,G){G==null&&(G={});const{crc:re}=r,Y=e.writeUint,M=e.writeUshort,D=e.writeASCII;let j=8;const Z=T.frames.length>1;let ne,k=!1,le=33+(Z?20:0);if(G.sRGB!=null&&(le+=13),G.pHYs!=null&&(le+=21),G.iCCP!=null&&(ne=pako.deflate(G.iCCP),le+=21+ne.length+4),T.ctype==3){for(var se=T.plte.length,B=0;B<se;B++)T.plte[B]>>>24!=255&&(k=!0);le+=8+3*se+4+(k?8+1*se+4:0)}for(var U=0;U<T.frames.length;U++)Z&&(le+=38),le+=(oe=T.frames[U]).cimg.length+12,U!=0&&(le+=4);le+=12;const I=new Uint8Array(le),W=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)I[B]=W[B];if(Y(I,j,13),j+=4,D(I,j,"IHDR"),j+=4,Y(I,j,N),j+=4,Y(I,j,$),j+=4,I[j]=T.depth,j++,I[j]=T.ctype,j++,I[j]=0,j++,I[j]=0,j++,I[j]=0,j++,Y(I,j,re(I,j-17,17)),j+=4,G.sRGB!=null&&(Y(I,j,1),j+=4,D(I,j,"sRGB"),j+=4,I[j]=G.sRGB,j++,Y(I,j,re(I,j-5,5)),j+=4),G.iCCP!=null){const pe=13+ne.length;Y(I,j,pe),j+=4,D(I,j,"iCCP"),j+=4,D(I,j,"ICC profile"),j+=11,j+=2,I.set(ne,j),j+=ne.length,Y(I,j,re(I,j-(pe+4),pe+4)),j+=4}if(G.pHYs!=null&&(Y(I,j,9),j+=4,D(I,j,"pHYs"),j+=4,Y(I,j,G.pHYs[0]),j+=4,Y(I,j,G.pHYs[1]),j+=4,I[j]=G.pHYs[2],j++,Y(I,j,re(I,j-13,13)),j+=4),Z&&(Y(I,j,8),j+=4,D(I,j,"acTL"),j+=4,Y(I,j,T.frames.length),j+=4,Y(I,j,G.loop!=null?G.loop:0),j+=4,Y(I,j,re(I,j-12,12)),j+=4),T.ctype==3){for(Y(I,j,3*(se=T.plte.length)),j+=4,D(I,j,"PLTE"),j+=4,B=0;B<se;B++){const pe=3*B,De=T.plte[B],de=255&De,he=De>>>8&255,Te=De>>>16&255;I[j+pe+0]=de,I[j+pe+1]=he,I[j+pe+2]=Te}if(j+=3*se,Y(I,j,re(I,j-3*se-4,3*se+4)),j+=4,k){for(Y(I,j,se),j+=4,D(I,j,"tRNS"),j+=4,B=0;B<se;B++)I[j+B]=T.plte[B]>>>24&255;j+=se,Y(I,j,re(I,j-se-4,se+4)),j+=4}}let ae=0;for(U=0;U<T.frames.length;U++){var oe=T.frames[U];Z&&(Y(I,j,26),j+=4,D(I,j,"fcTL"),j+=4,Y(I,j,ae++),j+=4,Y(I,j,oe.rect.width),j+=4,Y(I,j,oe.rect.height),j+=4,Y(I,j,oe.rect.x),j+=4,Y(I,j,oe.rect.y),j+=4,M(I,j,V[U]),j+=2,M(I,j,1e3),j+=2,I[j]=oe.dispose,j++,I[j]=oe.blend,j++,Y(I,j,re(I,j-30,30)),j+=4);const pe=oe.cimg;Y(I,j,(se=pe.length)+(U==0?0:4)),j+=4;const De=j;D(I,j,U==0?"IDAT":"fdAT"),j+=4,U!=0&&(Y(I,j,ae++),j+=4),I.set(pe,j),j+=se,Y(I,j,re(I,De,j-De)),j+=4}return Y(I,j,0),j+=4,D(I,j,"IEND"),j+=4,Y(I,j,re(I,j-4,4)),j+=4,I.buffer}function f(T,N,$){for(let V=0;V<T.frames.length;V++){const G=T.frames[V];G.rect.width;const re=G.rect.height,Y=new Uint8Array(re*G.bpl+re);G.cimg=v(G.img,re,G.bpp,G.bpl,Y,N,$)}}function d(T,N,$,V,G){const re=G[0],Y=G[1],M=G[2],D=G[3],j=G[4],Z=G[5];let ne=6,k=8,le=255;for(var se=0;se<T.length;se++){const ve=new Uint8Array(T[se]);for(var B=ve.length,U=0;U<B;U+=4)le&=ve[U+3]}const I=le!=255,W=function(Se,we,H,X,ee,te){const ge=[];for(var Re=0;Re<Se.length;Re++){const qe=new Uint8Array(Se[Re]),We=new Uint32Array(qe.buffer);var xe;let Ke=0,Qe=0,at=we,xt=H,bt=X?1:0;if(Re!=0){const gt=te||X||Re==1||ge[Re-2].dispose!=0?1:2;let Rt=0,wn=1e9;for(let Wt=0;Wt<gt;Wt++){var me=new Uint8Array(Se[Re-1-Wt]);const Cn=new Uint32Array(Se[Re-1-Wt]);let Bt=we,Jt=H,ut=-1,lt=-1;for(let ht=0;ht<H;ht++)for(let cn=0;cn<we;cn++)We[je=ht*we+cn]!=Cn[je]&&(cn<Bt&&(Bt=cn),cn>ut&&(ut=cn),ht<Jt&&(Jt=ht),ht>lt&&(lt=ht));ut==-1&&(Bt=Jt=ut=lt=0),ee&&((1&Bt)==1&&Bt--,(1&Jt)==1&&Jt--);const st=(ut-Bt+1)*(lt-Jt+1);st<wn&&(wn=st,Rt=Wt,Ke=Bt,Qe=Jt,at=ut-Bt+1,xt=lt-Jt+1)}me=new Uint8Array(Se[Re-1-Rt]),Rt==1&&(ge[Re-1].dispose=2),xe=new Uint8Array(at*xt*4),t(me,we,H,xe,at,xt,-Ke,-Qe,0),bt=t(qe,we,H,xe,at,xt,-Ke,-Qe,3)?1:0,bt==1?g(qe,we,H,xe,{x:Ke,y:Qe,width:at,height:xt}):t(qe,we,H,xe,at,xt,-Ke,-Qe,0)}else xe=qe.slice(0);ge.push({rect:{x:Ke,y:Qe,width:at,height:xt},img:xe,blend:bt,dispose:0})}if(X)for(Re=0;Re<ge.length;Re++){if((Pe=ge[Re]).blend==1)continue;const qe=Pe.rect,We=ge[Re-1].rect,Ke=Math.min(qe.x,We.x),Qe=Math.min(qe.y,We.y),at={x:Ke,y:Qe,width:Math.max(qe.x+qe.width,We.x+We.width)-Ke,height:Math.max(qe.y+qe.height,We.y+We.height)-Qe};ge[Re-1].dispose=1,Re-1!=0&&p(Se,we,H,ge,Re-1,at,ee),p(Se,we,H,ge,Re,at,ee)}let Ee=0;if(Se.length!=1)for(var je=0;je<ge.length;je++){var Pe;Ee+=(Pe=ge[je]).rect.width*Pe.rect.height}return ge}(T,N,$,re,Y,M),ae={},oe=[],pe=[];if(V!=0){const ve=[];for(U=0;U<W.length;U++)ve.push(W[U].img.buffer);const Se=function(ee){let te=0;for(var ge=0;ge<ee.length;ge++)te+=ee[ge].byteLength;const Re=new Uint8Array(te);let xe=0;for(ge=0;ge<ee.length;ge++){const me=new Uint8Array(ee[ge]),Ee=me.length;for(let je=0;je<Ee;je+=4){let Pe=me[je],qe=me[je+1],We=me[je+2];const Ke=me[je+3];Ke==0&&(Pe=qe=We=0),Re[xe+je]=Pe,Re[xe+je+1]=qe,Re[xe+je+2]=We,Re[xe+je+3]=Ke}xe+=Ee}return Re.buffer}(ve),we=w(Se,V);for(U=0;U<we.plte.length;U++)oe.push(we.plte[U].est.rgba);let H=0;for(U=0;U<W.length;U++){const X=(de=W[U]).img.length;var De=new Uint8Array(we.inds.buffer,H>>2,X>>2);pe.push(De);const ee=new Uint8Array(we.abuf,H,X);Z&&u(de.img,de.rect.width,de.rect.height,oe,ee,De),de.img.set(ee),H+=X}}else for(se=0;se<W.length;se++){var de=W[se];const ve=new Uint32Array(de.img.buffer);var he=de.rect.width;for(B=ve.length,De=new Uint8Array(B),pe.push(De),U=0;U<B;U++){const Se=ve[U];if(U!=0&&Se==ve[U-1])De[U]=De[U-1];else if(U>he&&Se==ve[U-he])De[U]=De[U-he];else{let we=ae[Se];if(we==null&&(ae[Se]=we=oe.length,oe.push(Se),oe.length>=300))break;De[U]=we}}}const Te=oe.length;for(Te<=256&&j==0&&(k=Te<=2?1:Te<=4?2:Te<=16?4:8,k=Math.max(k,D)),se=0;se<W.length;se++){(de=W[se]).rect.x,de.rect.y,he=de.rect.width;const ve=de.rect.height;let Se=de.img;new Uint32Array(Se.buffer);let we=4*he,H=4;if(Te<=256&&j==0){we=Math.ceil(k*he/8);var fe=new Uint8Array(we*ve);const X=pe[se];for(let ee=0;ee<ve;ee++){U=ee*we;const te=ee*he;if(k==8)for(var ce=0;ce<he;ce++)fe[U+ce]=X[te+ce];else if(k==4)for(ce=0;ce<he;ce++)fe[U+(ce>>1)]|=X[te+ce]<<4-4*(1&ce);else if(k==2)for(ce=0;ce<he;ce++)fe[U+(ce>>2)]|=X[te+ce]<<6-2*(3&ce);else if(k==1)for(ce=0;ce<he;ce++)fe[U+(ce>>3)]|=X[te+ce]<<7-1*(7&ce)}Se=fe,ne=3,H=1}else if(I==0&&W.length==1){fe=new Uint8Array(he*ve*3);const X=he*ve;for(U=0;U<X;U++){const ee=3*U,te=4*U;fe[ee]=Se[te],fe[ee+1]=Se[te+1],fe[ee+2]=Se[te+2]}Se=fe,ne=2,H=3,we=3*he}de.img=Se,de.bpl=we,de.bpp=H}return{ctype:ne,depth:k,plte:oe,frames:W}}function p(T,N,$,V,G,re,Y){const M=Uint8Array,D=Uint32Array,j=new M(T[G-1]),Z=new D(T[G-1]),ne=G+1<T.length?new M(T[G+1]):null,k=new M(T[G]),le=new D(k.buffer);let se=N,B=$,U=-1,I=-1;for(let ae=0;ae<re.height;ae++)for(let oe=0;oe<re.width;oe++){const pe=re.x+oe,De=re.y+ae,de=De*N+pe,he=le[de];he==0||V[G-1].dispose==0&&Z[de]==he&&(ne==null||ne[4*de+3]!=0)||(pe<se&&(se=pe),pe>U&&(U=pe),De<B&&(B=De),De>I&&(I=De))}U==-1&&(se=B=U=I=0),Y&&((1&se)==1&&se--,(1&B)==1&&B--),re={x:se,y:B,width:U-se+1,height:I-B+1};const W=V[G];W.rect=re,W.blend=1,W.img=new Uint8Array(re.width*re.height*4),V[G-1].dispose==0?(t(j,N,$,W.img,re.width,re.height,-re.x,-re.y,0),g(k,N,$,W.img,re)):t(k,N,$,W.img,re.width,re.height,-re.x,-re.y,0)}function g(T,N,$,V,G){t(T,N,$,V,G.width,G.height,-G.x,-G.y,2)}function v(T,N,$,V,G,re,Y){const M=[];let D,j=[0,1,2,3,4];re!=-1?j=[re]:(N*V>5e5||$==1)&&(j=[0]),Y&&(D={level:0});const Z=K3;for(var ne=0;ne<j.length;ne++){for(let se=0;se<N;se++)_(G,T,se,V,$,j[ne]);M.push(Z.deflate(G,D))}let k,le=1e9;for(ne=0;ne<M.length;ne++)M[ne].length<le&&(k=ne,le=M[ne].length);return M[k]}function _(T,N,$,V,G,re){const Y=$*V;let M=Y+$;if(T[M]=re,M++,re==0)if(V<500)for(var D=0;D<V;D++)T[M+D]=N[Y+D];else T.set(new Uint8Array(N.buffer,Y,V),M);else if(re==1){for(D=0;D<G;D++)T[M+D]=N[Y+D];for(D=G;D<V;D++)T[M+D]=N[Y+D]-N[Y+D-G]+256&255}else if($==0){for(D=0;D<G;D++)T[M+D]=N[Y+D];if(re==2)for(D=G;D<V;D++)T[M+D]=N[Y+D];if(re==3)for(D=G;D<V;D++)T[M+D]=N[Y+D]-(N[Y+D-G]>>1)+256&255;if(re==4)for(D=G;D<V;D++)T[M+D]=N[Y+D]-n(N[Y+D-G],0,0)+256&255}else{if(re==2)for(D=0;D<V;D++)T[M+D]=N[Y+D]+256-N[Y+D-V]&255;if(re==3){for(D=0;D<G;D++)T[M+D]=N[Y+D]+256-(N[Y+D-V]>>1)&255;for(D=G;D<V;D++)T[M+D]=N[Y+D]+256-(N[Y+D-V]+N[Y+D-G]>>1)&255}if(re==4){for(D=0;D<G;D++)T[M+D]=N[Y+D]+256-n(0,N[Y+D-V],0)&255;for(D=G;D<V;D++)T[M+D]=N[Y+D]+256-n(N[Y+D-G],N[Y+D-V],N[Y+D-G-V])&255}}}function w(T,N){const $=new Uint8Array(T),V=$.slice(0),G=new Uint32Array(V.buffer),re=A(V,N),Y=re[0],M=re[1],D=$.length,j=new Uint8Array(D>>2);let Z;if($.length<2e7)for(var ne=0;ne<D;ne+=4)Z=S(Y,k=$[ne]*(1/255),le=$[ne+1]*(1/255),se=$[ne+2]*(1/255),B=$[ne+3]*(1/255)),j[ne>>2]=Z.ind,G[ne>>2]=Z.est.rgba;else for(ne=0;ne<D;ne+=4){var k=$[ne]*.00392156862745098,le=$[ne+1]*(1/255),se=$[ne+2]*(1/255),B=$[ne+3]*(1/255);for(Z=Y;Z.left;)Z=L(Z.est,k,le,se,B)<=0?Z.left:Z.right;j[ne>>2]=Z.ind,G[ne>>2]=Z.est.rgba}return{abuf:V.buffer,inds:j,plte:M}}function A(T,N,$){$==null&&($=1e-4);const V=new Uint32Array(T.buffer),G={i0:0,i1:T.length,bst:null,est:null,tdst:0,left:null,right:null};G.bst=R(T,G.i0,G.i1),G.est=O(G.bst);const re=[G];for(;re.length<N;){let M=0,D=0;for(var Y=0;Y<re.length;Y++)re[Y].est.L>M&&(M=re[Y].est.L,D=Y);if(M<$)break;const j=re[D],Z=P(T,V,j.i0,j.i1,j.est.e,j.est.eMq255);if(j.i0>=Z||j.i1<=Z){j.est.L=0;continue}const ne={i0:j.i0,i1:Z,bst:null,est:null,tdst:0,left:null,right:null};ne.bst=R(T,ne.i0,ne.i1),ne.est=O(ne.bst);const k={i0:Z,i1:j.i1,bst:null,est:null,tdst:0,left:null,right:null};for(k.bst={R:[],m:[],N:j.bst.N-ne.bst.N},Y=0;Y<16;Y++)k.bst.R[Y]=j.bst.R[Y]-ne.bst.R[Y];for(Y=0;Y<4;Y++)k.bst.m[Y]=j.bst.m[Y]-ne.bst.m[Y];k.est=O(k.bst),j.left=ne,j.right=k,re[D]=ne,re.push(k)}for(re.sort((M,D)=>D.bst.N-M.bst.N),Y=0;Y<re.length;Y++)re[Y].ind=Y;return[G,re]}function S(T,N,$,V,G){if(T.left==null)return T.tdst=function(ne,k,le,se,B){const U=k-ne[0],I=le-ne[1],W=se-ne[2],ae=B-ne[3];return U*U+I*I+W*W+ae*ae}(T.est.q,N,$,V,G),T;const re=L(T.est,N,$,V,G);let Y=T.left,M=T.right;re>0&&(Y=T.right,M=T.left);const D=S(Y,N,$,V,G);if(D.tdst<=re*re)return D;const j=S(M,N,$,V,G);return j.tdst<D.tdst?j:D}function L(T,N,$,V,G){const{e:re}=T;return re[0]*N+re[1]*$+re[2]*V+re[3]*G-T.eMq}function P(T,N,$,V,G,re){for(V-=4;$<V;){for(;F(T,$,G)<=re;)$+=4;for(;F(T,V,G)>re;)V-=4;if($>=V)break;const Y=N[$>>2];N[$>>2]=N[V>>2],N[V>>2]=Y,$+=4,V-=4}for(;F(T,$,G)>re;)$-=4;return $+4}function F(T,N,$){return T[N]*$[0]+T[N+1]*$[1]+T[N+2]*$[2]+T[N+3]*$[3]}function R(T,N,$){const V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],G=[0,0,0,0],re=$-N>>2;for(let Y=N;Y<$;Y+=4){const M=T[Y]*.00392156862745098,D=T[Y+1]*(1/255),j=T[Y+2]*(1/255),Z=T[Y+3]*(1/255);G[0]+=M,G[1]+=D,G[2]+=j,G[3]+=Z,V[0]+=M*M,V[1]+=M*D,V[2]+=M*j,V[3]+=M*Z,V[5]+=D*D,V[6]+=D*j,V[7]+=D*Z,V[10]+=j*j,V[11]+=j*Z,V[15]+=Z*Z}return V[4]=V[1],V[8]=V[2],V[9]=V[6],V[12]=V[3],V[13]=V[7],V[14]=V[11],{R:V,m:G,N:re}}function O(T){const{R:N}=T,{m:$}=T,{N:V}=T,G=$[0],re=$[1],Y=$[2],M=$[3],D=V==0?0:1/V,j=[N[0]-G*G*D,N[1]-G*re*D,N[2]-G*Y*D,N[3]-G*M*D,N[4]-re*G*D,N[5]-re*re*D,N[6]-re*Y*D,N[7]-re*M*D,N[8]-Y*G*D,N[9]-Y*re*D,N[10]-Y*Y*D,N[11]-Y*M*D,N[12]-M*G*D,N[13]-M*re*D,N[14]-M*Y*D,N[15]-M*M*D],Z=j,ne=z;let k=[Math.random(),Math.random(),Math.random(),Math.random()],le=0,se=0;if(V!=0)for(let U=0;U<16&&(k=ne.multVec(Z,k),se=Math.sqrt(ne.dot(k,k)),k=ne.sml(1/se,k),!(U!=0&&Math.abs(se-le)<1e-9));U++)le=se;const B=[G*D,re*D,Y*D,M*D];return{Cov:j,q:B,e:k,L:le,eMq255:ne.dot(ne.sml(255,B),k),eMq:ne.dot(k,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var z={multVec:(T,N)=>[T[0]*N[0]+T[1]*N[1]+T[2]*N[2]+T[3]*N[3],T[4]*N[0]+T[5]*N[1]+T[6]*N[2]+T[7]*N[3],T[8]*N[0]+T[9]*N[1]+T[10]*N[2]+T[11]*N[3],T[12]*N[0]+T[13]*N[1]+T[14]*N[2]+T[15]*N[3]],dot:(T,N)=>T[0]*N[0]+T[1]*N[1]+T[2]*N[2]+T[3]*N[3],sml:(T,N)=>[T*N[0],T*N[1],T*N[2],T*N[3]]};Ti.encode=function(N,$,V,G,re,Y,M){G==null&&(G=0),M==null&&(M=!1);const D=d(N,$,V,G,[!1,!1,!1,0,M,!1]);return f(D,-1),c(D,$,V,re,Y)},Ti.encodeLL=function(N,$,V,G,re,Y,M,D){const j={ctype:0+(G==1?0:2)+(re==0?0:4),depth:Y,frames:[]},Z=(G+re)*Y,ne=Z*$;for(let k=0;k<N.length;k++)j.frames.push({rect:{x:0,y:0,width:$,height:V},img:new Uint8Array(N[k]),blend:0,dispose:1,bpp:Math.ceil(Z/8),bpl:Math.ceil(ne/8)});return f(j,0,!0),c(j,$,V,M,D)},Ti.encode.compress=d,Ti.encode.dither=u,Ti.quantize=w,Ti.quantize.getKDtree=A,Ti.quantize.getNearest=S})();const FE={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,a=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(a.data.buffer),u=(32*n+31)/32<<2,c=u*r,f=122+c,d=new ArrayBuffer(f),p=new DataView(d),g=1<<20;let v,_,w,A,S=g,L=0,P=0,F=0;function R(T){p.setUint16(P,T,!0),P+=2}function O(T){p.setUint32(P,T,!0),P+=4}function z(T){P+=T}R(19778),O(f),z(4),O(122),O(108),O(n),O(-r>>>0),R(1),R(32),O(3),O(c),O(2835),O(2835),z(8),O(16711680),O(65280),O(255),O(4278190080),O(1466527264),function T(){for(;L<r&&S>0;){for(A=122+L*u,v=0;v<i;)S--,_=o[F++],w=_>>>24,p.setUint32(A+v,_<<8|w),v+=4;L++}F<o.length?(S=g,setTimeout(T,FE._dly)):e(d)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Br={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Q3={[Br.CHROME]:16384,[Br.FIREFOX]:11180,[Br.DESKTOP_SAFARI]:16384,[Br.IE]:8192,[Br.IOS]:4096,[Br.ETC]:8192};const wv=typeof window<"u",UE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Kh=wv&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),J3=(wv||UE)&&(Kh&&Kh.getOriginalSymbol(window,"File")||typeof File<"u"&&File),qE=(wv||UE)&&(Kh&&Kh.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Sv(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),a=i[0].match(/:(.*?);/)[1],o=globalThis.atob(i[1]);let u=o.length;const c=new Uint8Array(u);for(;u--;)c[u]=o.charCodeAt(u);const f=new Blob([c],{type:a});f.name=e,f.lastModified=n,r(f)})}function HE(t){return new Promise((e,n)=>{const r=new qE;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function $E(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function oo(){if(oo.cachedResult!==void 0)return oo.cachedResult;let t=Br.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Br.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Br.IOS:/Safari/i.test(e)?t=Br.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Br.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Br.IE),oo.cachedResult=t,oo.cachedResult}function VE(t,e){const n=oo(),r=Q3[n];let i=t,a=e,o=i*a;const u=i>a?a/i:i/a;for(;o>r*r;){const c=(r+i)/2,f=(r+a)/2;c<f?(a=f,i=f*u):(a=c*u,i=c),o=i*a}return{width:i,height:a}}function xd(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function YE(t,e){const{width:n,height:r}=VE(t.width,t.height),[i,a]=xd(n,r);return e&&/jpe?g/.test(e)&&(a.fillStyle="white",a.fillRect(0,0,i.width,i.height)),a.drawImage(t,0,0,i.width,i.height),i}function Ih(){return Ih.cachedResult!==void 0||(Ih.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Ih.cachedResult}function Qh(t,e={}){return new Promise(function(n,r){let i,a;var o=function(){try{return a=YE(i,e.fileType||t.type),n([i,a])}catch(c){return r(c)}},u=function(c){try{var f=function(d){try{throw d}catch(p){return r(p)}};try{let d;return HE(t).then(function(p){try{return d=p,$E(d).then(function(g){try{return i=g,function(){try{return o()}catch(v){return r(v)}}()}catch(v){return f(v)}},f)}catch(g){return f(g)}},f)}catch(d){f(d)}}catch(d){return r(d)}};try{if(Ih()||[Br.DESKTOP_SAFARI,Br.MOBILE_SAFARI].includes(oo()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(c){try{return i=c,o()}catch{return u()}},u)}catch{u()}})}function Jh(t,e,n,r,i=1){return new Promise(function(a,o){let u;if(e==="image/png"){let f,d,p;return f=t.getContext("2d"),{data:d}=f.getImageData(0,0,t.width,t.height),p=Ti.encode([d.buffer],t.width,t.height,4096*i),u=new Blob([p],{type:e}),u.name=n,u.lastModified=r,c.call(this)}{let f=function(){return c.call(this)};if(e==="image/bmp")return new Promise(d=>FE.toBlob(t,d)).then((function(d){try{return u=d,u.name=n,u.lastModified=r,f.call(this)}catch(p){return o(p)}}).bind(this),o);{let d=function(){return f.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(p){try{return u=p,u.name=n,u.lastModified=r,d.call(this)}catch(g){return o(g)}}).bind(this),o);{let p;return p=t.toDataURL(e,i),Sv(p,n,r).then((function(g){try{return u=g,d.call(this)}catch(v){return o(v)}}).bind(this),o)}}}function c(){return a(u)}})}function Gi(t){t.width=0,t.height=0}function Sl(){return new Promise(function(t,e){let n,r,i,a;return Sl.cachedResult!==void 0?t(Sl.cachedResult):Sv("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,Qh(n).then(function(u){try{return r=u[1],Jh(r,n.type,n.name,n.lastModified).then(function(c){try{return i=c,Gi(r),Qh(i).then(function(f){try{return a=f[0],Sl.cachedResult=a.width===1&&a.height===2,t(Sl.cachedResult)}catch(d){return e(d)}},e)}catch(f){return e(f)}},e)}catch(c){return e(c)}},e)}catch(u){return e(u)}},e)})}function XE(t){return new Promise((e,n)=>{const r=new qE;r.onload=i=>{const a=new DataView(i.target.result);if(a.getUint16(0,!1)!=65496)return e(-2);const o=a.byteLength;let u=2;for(;u<o;){if(a.getUint16(u+2,!1)<=8)return e(-1);const c=a.getUint16(u,!1);if(u+=2,c==65505){if(a.getUint32(u+=2,!1)!=1165519206)return e(-1);const f=a.getUint16(u+=6,!1)==18761;u+=a.getUint32(u+4,f);const d=a.getUint16(u,f);u+=2;for(let p=0;p<d;p++)if(a.getUint16(u+12*p,f)==274)return e(a.getUint16(u+12*p+8,f))}else{if((65280&c)!=65280)break;u+=a.getUint16(u,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function GE(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let a,o=t;return isFinite(i)&&(n>i||r>i)&&([o,a]=xd(n,r),n>r?(o.width=i,o.height=r/n*i):(o.width=n/r*i,o.height=i),a.drawImage(t,0,0,o.width,o.height),Gi(t)),o}function WE(t,e){const{width:n}=t,{height:r}=t,[i,a]=xd(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:a.transform(-1,0,0,1,n,0);break;case 3:a.transform(-1,0,0,-1,n,r);break;case 4:a.transform(1,0,0,-1,0,r);break;case 5:a.transform(0,1,1,0,0,0);break;case 6:a.transform(0,1,-1,0,r,0);break;case 7:a.transform(0,-1,-1,0,r,n);break;case 8:a.transform(0,-1,1,0,0,n)}return a.drawImage(t,0,0,n,r),Gi(t),i}function m2(t,e,n=0){return new Promise(function(r,i){let a,o,u,c,f,d,p,g,v,_,w,A,S,L,P,F,R,O,z,T;function N(V=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;a+=V,e.onProgress(Math.min(a,100))}function $(V){if(e.signal&&e.signal.aborted)throw e.signal.reason;a=Math.min(Math.max(V,a),100),e.onProgress(a)}return a=n,o=e.maxIteration||10,u=1024*e.maxSizeMB*1024,N(),Qh(t,e).then((function(V){try{return[,c]=V,N(),f=GE(c,e),N(),new Promise(function(G,re){var Y;if(!(Y=e.exifOrientation))return XE(t).then((function(D){try{return Y=D,M.call(this)}catch(j){return re(j)}}).bind(this),re);function M(){return G(Y)}return M.call(this)}).then((function(G){try{return d=G,N(),Sl().then((function(re){try{return p=re?f:WE(f,d),N(),g=e.initialQuality||1,v=e.fileType||t.type,Jh(p,v,t.name,t.lastModified,g).then((function(Y){try{{let D=function(){if(o--&&(P>u||P>S)){let Z,ne;return Z=T?.95*z.width:z.width,ne=T?.95*z.height:z.height,[R,O]=xd(Z,ne),O.drawImage(z,0,0,Z,ne),g*=v==="image/png"?.85:.95,Jh(R,v,t.name,t.lastModified,g).then(function(k){try{return F=k,Gi(z),z=R,P=F.size,$(Math.min(99,Math.floor((L-P)/(L-u)*100))),D}catch(le){return i(le)}},i)}return[1]},j=function(){return Gi(z),Gi(R),Gi(f),Gi(p),Gi(c),$(100),r(F)};if(_=Y,N(),w=_.size>u,A=_.size>t.size,!w&&!A)return $(100),r(_);var M;return S=t.size,L=_.size,P=L,z=p,T=!e.alwaysKeepResolution&&w,(M=(function(Z){for(;Z;){if(Z.then)return void Z.then(M,i);try{if(Z.pop){if(Z.length)return Z.pop()?j.call(this):Z;Z=D}else Z=Z.call(this)}catch(ne){return i(ne)}}}).bind(this))(D)}}catch(D){return i(D)}}).bind(this),i)}catch(Y){return i(Y)}}).bind(this),i)}catch(re){return i(re)}}).bind(this),i)}catch(G){return i(G)}}).bind(this),i)})}const eN=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Ig;function tN(t,e){return new Promise((n,r)=>{Ig||(Ig=function(o){const u=[];return u.push(o),URL.createObjectURL(new Blob(u))}(eN));const i=new Worker(Ig);i.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)i.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void i.terminate();n(o.data.file),i.terminate()}else e.onProgress(o.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function Qn(t,e){return new Promise(function(n,r){let i,a,o,u,c,f;if(i={...e},o=0,{onProgress:u}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,c=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=v=>{o=v,typeof u=="function"&&u(o)},!(t instanceof Blob||t instanceof J3))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!c||typeof Worker!="function"||f)return m2(t,i).then((function(v){try{return a=v,g.call(this)}catch(_){return r(_)}}).bind(this),r);var d=(function(){try{return g.call(this)}catch(v){return r(v)}}).bind(this),p=function(v){try{return m2(t,i).then(function(_){try{return a=_,d()}catch(w){return r(w)}},r)}catch(_){return r(_)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",tN(t,i).then(function(v){try{return a=v,d()}catch{return p()}},p)}catch{p()}function g(){try{a.name=t.name,a.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(a=zE(t,a))}catch{}return n(a)}})}Qn.getDataUrlFromFile=HE,Qn.getFilefromDataUrl=Sv,Qn.loadImage=$E,Qn.drawImageInCanvas=YE,Qn.drawFileInCanvas=Qh,Qn.canvasToFile=Jh,Qn.getExifOrientation=XE,Qn.handleMaxWidthOrHeight=GE,Qn.followExifOrientation=WE,Qn.cleanupCanvasMemory=Gi,Qn.isAutoOrientationInBrowser=Sl,Qn.approximateBelowMaximumCanvasSizeOfBrowser=VE,Qn.copyExifWithoutOrientation=zE,Qn.getBrowserName=oo,Qn.version="2.0.2";const nN=er.memo(({value:t,onChange:e,name:n})=>{const r=o=>{if(!o.target.value.startsWith("+7-")){const f="+7-"+o.target.value.replace(/\D/g,"");e({target:{name:n,value:f}});return}const u=o.target.value.slice(3).replace(/\D/g,"");let c="+7-";c+=(u.length>0?u.slice(0,3):"")+(u.length>3?"-"+u.slice(3,6):"")+(u.length>6?"-"+u.slice(6,8):"")+(u.length>8?"-"+u.slice(8,10):""),e({target:{name:n,value:c}})},i=o=>{o.key==="Backspace"&&o.target.selectionStart<=3&&o.preventDefault(),o.key==="ArrowLeft"&&o.target.selectionStart<=3&&o.target.setSelectionRange(3,3)},a=o=>{o.target.selectionStart<3&&o.target.setSelectionRange(3,3)};return x.jsx("input",{className:"form__input",type:"tel",name:n,value:t,onChange:r,onKeyDown:i,onClick:a,placeholder:"+7-___-___-__-__",maxLength:"16",autoComplete:"off"})}),rN=({supabase:t,onSubmit:e,formError:n,setFormError:r,tempMessage:i})=>{const[a,o]=ie.useState([]),[u,c]=ie.useState(!1),f={clientType:"individual",lastName:"",firstName:"",middleName:"",orgName:"",phone:"+7-",repairType:"",serialNumber:"",object:"",state:"",note:"",isAvito:!1},[d,p]=ie.useState({total:0,completed:0,isProcessing:!1}),g=ie.useRef(null),v=ie.useRef(new Map);ie.useEffect(()=>()=>{v.current.forEach(T=>URL.revokeObjectURL(T)),v.current.clear()},[]),ie.useEffect(()=>()=>{a.forEach(T=>{try{T.preview&&URL.revokeObjectURL(T.preview)}catch(N){console.warn("Failed to revoke URL:",N)}})},[a]);const _=T=>{L(N=>({...N,isAvito:T}))},w=async T=>{const N=Array.from(T.target.files);if(N.length===0)return;p({total:N.length,completed:0,isProcessing:!0});const $={maxSizeMB:.5,maxWidthOrHeight:1920,useWebWorker:!0,fileType:"image/webp",initialQuality:.8,preserveExif:!1,maxIteration:10},V=await Promise.all(N.map(async G=>{try{const re=await Qn(G,$);p(D=>({...D,completed:D.completed+1}));const Y=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,M=URL.createObjectURL(re);return v.current.set(Y,M),{id:Y,file:re,preview:M}}catch(re){console.error("Ошибка при сжатии изображения:",re),p(D=>({...D,completed:D.completed+1}));const Y=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,M=URL.createObjectURL(G);return v.current.set(Y,M),{id:Y,file:G,preview:M}}}));o(G=>[...G,...V]),g.current.value="",p(G=>({...G,isProcessing:!1}))},A=T=>{o(N=>{const $=N.filter(V=>V.id!==T);return setTimeout(()=>{v.current.has(T)&&(URL.revokeObjectURL(v.current.get(T)),v.current.delete(T))},0),$})},[S,L]=ie.useState(f),P=T=>T==null?void 0:T.replace(/\s+/g," ").trim(),F=T=>{const{name:N,value:$}=T.target;L(V=>({...V,[N]:$}))},R=ie.useCallback(T=>{const{name:N,value:$}=T.target;$.length>200||L(V=>({...V,[N]:$}))},[]),O=T=>{L(N=>({...N,clientType:T,lastName:"",firstName:"",middleName:"",orgName:"",phone:T==="individual"?"+7-":""}))},z=async T=>{var N;if(T.preventDefault(),r(""),c(!0),S.clientType==="individual"){if(!/^\+7-\d{3}-\d{3}-\d{2}-\d{2}$/.test(S.phone)){r("Введите корректный номер телефона в формате +7-XXX-XXX-XX-XX");return}if(!S.lastName||!S.firstName){r("Заполните фамилию и имя");return}}else if(!S.orgName){r("Введите название организации");return}if(!S.object||!S.serialNumber||!S.state||!S.repairType){r("Заполните все обязательные поля");return}try{const{data:$,error:V}=await t.from("clients").select("receipt_number, social").order("receipt_number",{ascending:!1}).limit(1);if(V)throw V;const G=$&&$[0]?$[0].receipt_number+1:1;let re={};if(S.isAvito)re={is_avito:!0,is_yandex:!1,is_2gis:!1};else{const{data:M,error:D}=await t.from("clients").select("social").or("social->>is_yandex.eq.true,social->>is_2gis.eq.true").order("receipt_number",{ascending:!1}).limit(1);if(D)throw D;M&&M[0]?(N=M[0].social)!=null&&N.is_yandex?re={is_avito:!1,is_yandex:!1,is_2gis:!0}:re={is_avito:!1,is_yandex:!0,is_2gis:!1}:re={is_avito:!1,is_yandex:!0,is_2gis:!1}}const Y={receipt_number:G,phone:S.clientType==="individual"?S.phone:null,repair_type:P(S.repairType),state:P(S.state),note:P(S.note),object:S.object,photo_paths:a.map(M=>M.file),serial_number:S.serialNumber,social:re,...S.clientType==="individual"?{last_name:S.lastName,first_name:S.firstName,middle_name:S.middleName,org_name:null}:{org_name:S.orgName,last_name:null,first_name:null,middle_name:null}};await e(Y,T),L(f),o([])}catch($){r($.message||`Ошибка при создании записи. ${$.details||""}`)}finally{c(!1)}};return x.jsxs("form",{className:"form",onSubmit:z,children:[x.jsxs("fieldset",{className:"form__fieldset",children:[x.jsx("legend",{children:"Добавить запись"}),x.jsxs("div",{className:"view-mode-buttons",style:{marginBottom:"1rem"},children:[x.jsx("button",{type:"button",className:S.clientType==="individual"?"active":"",onClick:()=>O("individual"),children:"Частное лицо"}),x.jsx("button",{type:"button",className:S.clientType==="organization"?"active":"",onClick:()=>O("organization"),children:"Организация"})]}),S.clientType==="individual"?x.jsxs("div",{className:"form__name",children:[x.jsx("input",{className:"form__input",type:"text",name:"lastName",id:"last-name",value:S.lastName,onChange:F,placeholder:"Фамилия",autoComplete:"off",required:!0}),x.jsx("input",{className:"form__input",type:"text",name:"firstName",id:"first-name",value:S.firstName,onChange:F,placeholder:"Имя",autoComplete:"off",required:!0}),x.jsx("input",{className:"form__input",type:"text",name:"middleName",id:"middle-name",value:S.middleName,onChange:F,placeholder:"Отчество",autoComplete:"off",required:!0})]}):x.jsx("div",{className:"form__name",children:x.jsx("input",{className:"form__input",type:"text",name:"orgName",id:"organization",value:S.orgName,onChange:F,placeholder:"Название организации",autoComplete:"off",required:!0,style:{width:"100%"}})}),x.jsxs("div",{className:"form__tel-number",children:[S.clientType==="individual"?x.jsx(nN,{name:"phone",value:S.phone,onChange:F}):x.jsx("input",{className:"form__input",type:"tel",id:"tel-optional",name:"phone",autoComplete:"off",value:S.phone,onChange:F,placeholder:"Телефон формата +7-XXX-XXX-XX-XX (опционально)"}),x.jsx("input",{className:"form__input",type:"text",name:"object",id:"object",value:S.object,onChange:F,placeholder:"Изделие",autoComplete:"off",required:!0}),x.jsx("input",{className:"form__input",type:"text",name:"serialNumber",id:"serial-number",value:S.serialNumber,onChange:F,placeholder:"Серийный номер изделия или Б/Н",autoComplete:"off",required:!0})]}),x.jsxs("div",{className:"form__description",children:[x.jsxs("div",{className:"form__state",children:[x.jsx("textarea",{className:"form__input form__input--textarea",name:"state",id:"state",value:S.state,onChange:R,placeholder:"Внешнее состояние (максимум 200 символов)",autoComplete:"off",rows:"4",maxLength:200,required:!0}),x.jsxs("div",{className:"character-counter",children:[S.state.length,"/200 символов",S.state.length>=200&&x.jsx("span",{className:"counter-warning",children:" (лимит достигнут)"})]})]}),x.jsxs("div",{className:"form__problem",children:[x.jsx("textarea",{className:"form__input form__input--textarea",name:"repairType",id:"repair-type",value:S.repairType,onChange:R,placeholder:"Неисправность (максимум 200 символов)",autoComplete:"off",rows:"4",maxLength:200,required:!0}),x.jsxs("div",{className:"character-counter",children:[S.repairType.length,"/200 символов",S.repairType.length>=200&&x.jsx("span",{className:"counter-warning",children:" (лимит достигнут)"})]})]}),x.jsx("textarea",{className:"form__input form__input--textarea form__input--note",name:"note",id:"note",value:S.note,onChange:F,placeholder:"Заметка (опционально)",autoComplete:"off",rows:"4"})]}),x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("span",{className:"form__caption",children:"С Авито?"}),x.jsxs("div",{className:"switch-container",children:[x.jsxs("label",{className:"switch",children:[x.jsx("input",{name:"is_avito",id:"is_avito",type:"checkbox",autoComplete:"off",checked:S.isAvito,onChange:()=>_(!S.isAvito)}),x.jsx("span",{className:"slider round"})]}),x.jsx("span",{className:"form__caption",children:S.isAvito?"Да":"Нет"})]})]}),x.jsx("div",{className:"form__photos form__photos--wrapper",children:x.jsxs("div",{className:"form__wrapper",children:[d.isProcessing&&x.jsxs("div",{className:"compression-progress",children:[x.jsx("progress",{value:d.completed,max:d.total}),x.jsxs("span",{children:["Сжатие изображений: ",d.completed,"/",d.total]})]}),x.jsx("div",{className:`photos-preview ${a.length>0?"photos-preview--miniatures":""}`,children:a.map(T=>x.jsxs("div",{className:"photo-thumbnail",children:[x.jsx("img",{src:T.preview,alt:`Предпросмотр ${T.id}`,className:"photo-thumbnail__image"}),x.jsx("button",{type:"button",className:"photo-thumbnail__delete",onClick:()=>A(T.id),title:"Удалить фото",children:"×"})]},T.id))}),x.jsx("input",{type:"file",id:"receipt-photo-upload",ref:g,multiple:!0,accept:"image/*",onChange:w,style:{display:"none"}}),x.jsx("label",{htmlFor:"receipt-photo-upload",className:"button button--secondary button--upload",children:"Добавить фото"})]})}),x.jsx("button",{className:"button button--main",type:"submit",disabled:u,children:u?"Сохраняю...":"Сохранить"}),n&&x.jsx("div",{className:"error",children:n})]}),i&&x.jsx("div",{className:"form__message",children:i})]})};function Ct(){return Ct=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ct.apply(null,arguments)}function po(t){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(t)}function iN(t,e){if(po(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(po(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZE(t){var e=iN(t,"string");return po(e)=="symbol"?e:e+""}function lc(t,e,n){return(e=ZE(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(n),!0).forEach(function(r){lc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZE(r.key),r)}}function sN(t,e,n){return e&&v2(t.prototype,e),n&&v2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function N0(t,e){return N0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},N0(t,e)}function oN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N0(t,e)}function ed(t){return ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ed(t)}function KE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KE=function(){return!!t})()}function lN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uN(t,e){if(e&&(po(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lN(t)}function cN(t){var e=KE();return function(){var n,r=ed(t);if(e){var i=ed(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return uN(this,n)}}function R0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function fN(t){if(Array.isArray(t))return R0(t)}function hN(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QE(t,e){if(t){if(typeof t=="string")return R0(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R0(t,e):void 0}}function dN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cl(t){return fN(t)||hN(t)||QE(t)||dN()}function pN(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function mN(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var gN=function(){function t(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(mN(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=pN(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),xr="-ms-",td="-moz-",on="-webkit-",JE="comm",Ev="rule",Cv="decl",vN="@import",eC="@keyframes",yN="@layer",bN=Math.abs,wd=String.fromCharCode,_N=Object.assign;function xN(t,e){return pr(t,0)^45?(((e<<2^pr(t,0))<<2^pr(t,1))<<2^pr(t,2))<<2^pr(t,3):0}function tC(t){return t.trim()}function wN(t,e){return(t=e.exec(t))?t[0]:t}function ln(t,e,n){return t.replace(e,n)}function M0(t,e){return t.indexOf(e)}function pr(t,e){return t.charCodeAt(e)|0}function Tc(t,e,n){return t.slice(e,n)}function Wi(t){return t.length}function Av(t){return t.length}function ph(t,e){return e.push(t),t}function SN(t,e){return t.map(e).join("")}var Sd=1,jl=1,nC=0,Ur=0,Wn=0,ql="";function Ed(t,e,n,r,i,a,o){return{value:t,root:e,parent:n,type:r,props:i,children:a,line:Sd,column:jl,length:o,return:""}}function Wu(t,e){return _N(Ed("",null,null,"",null,null,0),t,{length:-t.length},e)}function EN(){return Wn}function CN(){return Wn=Ur>0?pr(ql,--Ur):0,jl--,Wn===10&&(jl=1,Sd--),Wn}function ni(){return Wn=Ur<nC?pr(ql,Ur++):0,jl++,Wn===10&&(jl=1,Sd++),Wn}function Ji(){return pr(ql,Ur)}function Bh(){return Ur}function Uc(t,e){return Tc(ql,t,e)}function Dc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rC(t){return Sd=jl=1,nC=Wi(ql=t),Ur=0,[]}function iC(t){return ql="",t}function zh(t){return tC(Uc(Ur-1,j0(t===91?t+2:t===40?t+1:t)))}function AN(t){for(;(Wn=Ji())&&Wn<33;)ni();return Dc(t)>2||Dc(Wn)>3?"":" "}function TN(t,e){for(;--e&&ni()&&!(Wn<48||Wn>102||Wn>57&&Wn<65||Wn>70&&Wn<97););return Uc(t,Bh()+(e<6&&Ji()==32&&ni()==32))}function j0(t){for(;ni();)switch(Wn){case t:return Ur;case 34:case 39:t!==34&&t!==39&&j0(Wn);break;case 40:t===41&&j0(t);break;case 92:ni();break}return Ur}function DN(t,e){for(;ni()&&t+Wn!==57;)if(t+Wn===84&&Ji()===47)break;return"/*"+Uc(e,Ur-1)+"*"+wd(t===47?t:ni())}function ON(t){for(;!Dc(Ji());)ni();return Uc(t,Ur)}function kN(t){return iC(Fh("",null,null,null,[""],t=rC(t),0,[0],t))}function Fh(t,e,n,r,i,a,o,u,c){for(var f=0,d=0,p=o,g=0,v=0,_=0,w=1,A=1,S=1,L=0,P="",F=i,R=a,O=r,z=P;A;)switch(_=L,L=ni()){case 40:if(_!=108&&pr(z,p-1)==58){M0(z+=ln(zh(L),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:z+=zh(L);break;case 9:case 10:case 13:case 32:z+=AN(_);break;case 92:z+=TN(Bh()-1,7);continue;case 47:switch(Ji()){case 42:case 47:ph(NN(DN(ni(),Bh()),e,n),c);break;default:z+="/"}break;case 123*w:u[f++]=Wi(z)*S;case 125*w:case 59:case 0:switch(L){case 0:case 125:A=0;case 59+d:S==-1&&(z=ln(z,/\f/g,"")),v>0&&Wi(z)-p&&ph(v>32?b2(z+";",r,n,p-1):b2(ln(z," ","")+";",r,n,p-2),c);break;case 59:z+=";";default:if(ph(O=y2(z,e,n,f,d,i,u,P,F=[],R=[],p),a),L===123)if(d===0)Fh(z,e,O,O,F,a,p,u,R);else switch(g===99&&pr(z,3)===110?100:g){case 100:case 108:case 109:case 115:Fh(t,O,O,r&&ph(y2(t,O,O,0,0,i,u,P,i,F=[],p),R),i,R,p,u,r?F:R);break;default:Fh(z,O,O,O,[""],R,0,u,R)}}f=d=v=0,w=S=1,P=z="",p=o;break;case 58:p=1+Wi(z),v=_;default:if(w<1){if(L==123)--w;else if(L==125&&w++==0&&CN()==125)continue}switch(z+=wd(L),L*w){case 38:S=d>0?1:(z+="\f",-1);break;case 44:u[f++]=(Wi(z)-1)*S,S=1;break;case 64:Ji()===45&&(z+=zh(ni())),g=Ji(),d=p=Wi(P=z+=ON(Bh())),L++;break;case 45:_===45&&Wi(z)==2&&(w=0)}}return a}function y2(t,e,n,r,i,a,o,u,c,f,d){for(var p=i-1,g=i===0?a:[""],v=Av(g),_=0,w=0,A=0;_<r;++_)for(var S=0,L=Tc(t,p+1,p=bN(w=o[_])),P=t;S<v;++S)(P=tC(w>0?g[S]+" "+L:ln(L,/&\f/g,g[S])))&&(c[A++]=P);return Ed(t,e,n,i===0?Ev:u,c,f,d)}function NN(t,e,n){return Ed(t,e,n,JE,wd(EN()),Tc(t,2,-2),0)}function b2(t,e,n,r){return Ed(t,e,n,Cv,Tc(t,0,r),Tc(t,r+1,-1),r)}function Al(t,e){for(var n="",r=Av(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function RN(t,e,n,r){switch(t.type){case yN:if(t.children.length)break;case vN:case Cv:return t.return=t.return||t.value;case JE:return"";case eC:return t.return=t.value+"{"+Al(t.children,r)+"}";case Ev:t.value=t.props.join(",")}return Wi(n=Al(t.children,r))?t.return=t.value+"{"+n+"}":""}function MN(t){var e=Av(t);return function(n,r,i,a){for(var o="",u=0;u<e;u++)o+=t[u](n,r,i,a)||"";return o}}function jN(t){return function(e){e.root||(e=e.return)&&t(e)}}function LN(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var PN=function(e,n,r){for(var i=0,a=0;i=a,a=Ji(),i===38&&a===12&&(n[r]=1),!Dc(a);)ni();return Uc(e,Ur)},IN=function(e,n){var r=-1,i=44;do switch(Dc(i)){case 0:i===38&&Ji()===12&&(n[r]=1),e[r]+=PN(Ur-1,n,r);break;case 2:e[r]+=zh(i);break;case 4:if(i===44){e[++r]=Ji()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=wd(i)}while(i=ni());return e},BN=function(e,n){return iC(IN(rC(e),n))},_2=new WeakMap,zN=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!_2.get(r))&&!i){_2.set(e,!0);for(var a=[],o=BN(n,a),u=r.props,c=0,f=0;c<o.length;c++)for(var d=0;d<u.length;d++,f++)e.props[f]=a[c]?o[c].replace(/&\f/g,u[d]):u[d]+" "+o[c]}}},FN=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function aC(t,e){switch(xN(t,e)){case 5103:return on+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return on+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return on+t+td+t+xr+t+t;case 6828:case 4268:return on+t+xr+t+t;case 6165:return on+t+xr+"flex-"+t+t;case 5187:return on+t+ln(t,/(\w+).+(:[^]+)/,on+"box-$1$2"+xr+"flex-$1$2")+t;case 5443:return on+t+xr+"flex-item-"+ln(t,/flex-|-self/,"")+t;case 4675:return on+t+xr+"flex-line-pack"+ln(t,/align-content|flex-|-self/,"")+t;case 5548:return on+t+xr+ln(t,"shrink","negative")+t;case 5292:return on+t+xr+ln(t,"basis","preferred-size")+t;case 6060:return on+"box-"+ln(t,"-grow","")+on+t+xr+ln(t,"grow","positive")+t;case 4554:return on+ln(t,/([^-])(transform)/g,"$1"+on+"$2")+t;case 6187:return ln(ln(ln(t,/(zoom-|grab)/,on+"$1"),/(image-set)/,on+"$1"),t,"")+t;case 5495:case 3959:return ln(t,/(image-set\([^]*)/,on+"$1$`$1");case 4968:return ln(ln(t,/(.+:)(flex-)?(.*)/,on+"box-pack:$3"+xr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+on+t+t;case 4095:case 3583:case 4068:case 2532:return ln(t,/(.+)-inline(.+)/,on+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Wi(t)-1-e>6)switch(pr(t,e+1)){case 109:if(pr(t,e+4)!==45)break;case 102:return ln(t,/(.+:)(.+)-([^]+)/,"$1"+on+"$2-$3$1"+td+(pr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~M0(t,"stretch")?aC(ln(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(pr(t,e+1)!==115)break;case 6444:switch(pr(t,Wi(t)-3-(~M0(t,"!important")&&10))){case 107:return ln(t,":",":"+on)+t;case 101:return ln(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+on+(pr(t,14)===45?"inline-":"")+"box$3$1"+on+"$2$3$1"+xr+"$2box$3")+t}break;case 5936:switch(pr(t,e+11)){case 114:return on+t+xr+ln(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return on+t+xr+ln(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return on+t+xr+ln(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return on+t+xr+t+t}return t}var UN=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Cv:e.return=aC(e.value,e.length);break;case eC:return Al([Wu(e,{value:ln(e.value,"@","@"+on)})],i);case Ev:if(e.length)return SN(e.props,function(a){switch(wN(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Al([Wu(e,{props:[ln(a,/:(read-\w+)/,":"+td+"$1")]})],i);case"::placeholder":return Al([Wu(e,{props:[ln(a,/:(plac\w+)/,":"+on+"input-$1")]}),Wu(e,{props:[ln(a,/:(plac\w+)/,":"+td+"$1")]}),Wu(e,{props:[ln(a,/:(plac\w+)/,xr+"input-$1")]})],i)}return""})}},qN=[UN],HN=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var A=w.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=e.stylisPlugins||qN,a={},o,u=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var A=w.getAttribute("data-emotion").split(" "),S=1;S<A.length;S++)a[A[S]]=!0;u.push(w)});var c,f=[zN,FN];{var d,p=[RN,jN(function(w){d.insert(w)})],g=MN(f.concat(i,p)),v=function(A){return Al(kN(A),g)};c=function(A,S,L,P){d=L,v(A?A+"{"+S.styles+"}":S.styles),P&&(_.inserted[S.name]=!0)}}var _={key:n,sheet:new gN({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:c};return _.sheet.hydrate(u),_},Bg={exports:{}},hn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2;function $N(){if(x2)return hn;x2=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,g=t?Symbol.for("react.suspense_list"):60120,v=t?Symbol.for("react.memo"):60115,_=t?Symbol.for("react.lazy"):60116,w=t?Symbol.for("react.block"):60121,A=t?Symbol.for("react.fundamental"):60117,S=t?Symbol.for("react.responder"):60118,L=t?Symbol.for("react.scope"):60119;function P(R){if(typeof R=="object"&&R!==null){var O=R.$$typeof;switch(O){case e:switch(R=R.type,R){case c:case f:case r:case a:case i:case p:return R;default:switch(R=R&&R.$$typeof,R){case u:case d:case _:case v:case o:return R;default:return O}}case n:return O}}}function F(R){return P(R)===f}return hn.AsyncMode=c,hn.ConcurrentMode=f,hn.ContextConsumer=u,hn.ContextProvider=o,hn.Element=e,hn.ForwardRef=d,hn.Fragment=r,hn.Lazy=_,hn.Memo=v,hn.Portal=n,hn.Profiler=a,hn.StrictMode=i,hn.Suspense=p,hn.isAsyncMode=function(R){return F(R)||P(R)===c},hn.isConcurrentMode=F,hn.isContextConsumer=function(R){return P(R)===u},hn.isContextProvider=function(R){return P(R)===o},hn.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===e},hn.isForwardRef=function(R){return P(R)===d},hn.isFragment=function(R){return P(R)===r},hn.isLazy=function(R){return P(R)===_},hn.isMemo=function(R){return P(R)===v},hn.isPortal=function(R){return P(R)===n},hn.isProfiler=function(R){return P(R)===a},hn.isStrictMode=function(R){return P(R)===i},hn.isSuspense=function(R){return P(R)===p},hn.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===r||R===f||R===a||R===i||R===p||R===g||typeof R=="object"&&R!==null&&(R.$$typeof===_||R.$$typeof===v||R.$$typeof===o||R.$$typeof===u||R.$$typeof===d||R.$$typeof===A||R.$$typeof===S||R.$$typeof===L||R.$$typeof===w)},hn.typeOf=P,hn}var w2;function VN(){return w2||(w2=1,Bg.exports=$N()),Bg.exports}var zg,S2;function YN(){if(S2)return zg;S2=1;var t=VN(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=r,a[t.Memo]=i;function o(_){return t.isMemo(_)?i:a[_.$$typeof]||e}var u=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;function v(_,w,A){if(typeof w!="string"){if(g){var S=p(w);S&&S!==g&&v(_,S,A)}var L=c(w);f&&(L=L.concat(f(w)));for(var P=o(_),F=o(w),R=0;R<L.length;++R){var O=L[R];if(!n[O]&&!(A&&A[O])&&!(F&&F[O])&&!(P&&P[O])){var z=d(w,O);try{u(_,O,z)}catch{}}}}return _}return zg=v,zg}YN();var XN=!0;function GN(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var sC=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||XN===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},WN=function(e,n,r){sC(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function ZN(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var KN={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},QN=/[A-Z]|^ms/g,JN=/_EMO_([^_]+?)_([^]*?)_EMO_/g,oC=function(e){return e.charCodeAt(1)===45},E2=function(e){return e!=null&&typeof e!="boolean"},Fg=LN(function(t){return oC(t)?t:t.replace(QN,"-$&").toLowerCase()}),C2=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(JN,function(r,i,a){return Zi={name:i,styles:a,next:Zi},i})}return KN[e]!==1&&!oC(e)&&typeof n=="number"&&n!==0?n+"px":n};function Oc(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Zi={name:i.name,styles:i.styles,next:Zi},i.name;var a=n;if(a.styles!==void 0){var o=a.next;if(o!==void 0)for(;o!==void 0;)Zi={name:o.name,styles:o.styles,next:Zi},o=o.next;var u=a.styles+";";return u}return eR(t,e,n)}case"function":{if(t!==void 0){var c=Zi,f=n(t);return Zi=c,Oc(t,e,f)}break}}var d=n;return d}function eR(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Oc(t,e,n[i])+";";else for(var a in n){var o=n[a];if(typeof o!="object"){var u=o;E2(u)&&(r+=Fg(a)+":"+C2(a,u)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var c=0;c<o.length;c++)E2(o[c])&&(r+=Fg(a)+":"+C2(a,o[c])+";");else{var f=Oc(t,e,o);switch(a){case"animation":case"animationName":{r+=Fg(a)+":"+f+";";break}default:r+=a+"{"+f+"}"}}}return r}var A2=/label:\s*([^\s;{]+)\s*(;|$)/g,Zi;function lC(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Zi=void 0;var a=t[0];if(a==null||a.raw===void 0)r=!1,i+=Oc(n,e,a);else{var o=a;i+=o[0]}for(var u=1;u<t.length;u++)if(i+=Oc(n,e,t[u]),r){var c=a;i+=c[u]}A2.lastIndex=0;for(var f="",d;(d=A2.exec(i))!==null;)f+="-"+d[1];var p=ZN(i)+f;return{name:p,styles:i,next:Zi}}var tR=function(e){return e()},nR=D1.useInsertionEffect?D1.useInsertionEffect:!1,rR=nR||tR,uC=ie.createContext(typeof HTMLElement<"u"?HN({key:"css"}):null);uC.Provider;var iR=function(e){return ie.forwardRef(function(n,r){var i=ie.useContext(uC);return e(n,i,r)})},aR=ie.createContext({}),Tv={}.hasOwnProperty,L0="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",sR=function(e,n){var r={};for(var i in n)Tv.call(n,i)&&(r[i]=n[i]);return r[L0]=e,r},oR=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return sC(n,r,i),rR(function(){return WN(n,r,i)}),null},lR=iR(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[L0],a=[r],o="";typeof t.className=="string"?o=GN(e.registered,a,t.className):t.className!=null&&(o=t.className+" ");var u=lC(a,void 0,ie.useContext(aR));o+=e.key+"-"+u.name;var c={};for(var f in t)Tv.call(t,f)&&f!=="css"&&f!==L0&&(c[f]=t[f]);return c.className=o,n&&(c.ref=n),ie.createElement(ie.Fragment,null,ie.createElement(oR,{cache:e,serialized:u,isStringTag:typeof i=="string"}),ie.createElement(i,c))}),uR=lR,yt=function(e,n){var r=arguments;if(n==null||!Tv.call(n,"css"))return ie.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=uR,a[1]=sR(e,n);for(var o=2;o<i;o++)a[o]=r[o];return ie.createElement.apply(null,a)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(yt||(yt={}));function Dv(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return lC(e)}function cR(){var t=Dv.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function fR(t){if(Array.isArray(t))return t}function hR(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function dR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ka(t,e){return fR(t)||hR(t,e)||QE(t,e)||dR()}function pR(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ia(t,e){if(t==null)return{};var n,r,i=pR(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mR(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var gR=iE();const Ll=Math.min,uo=Math.max,nd=Math.round,mh=Math.floor,ea=t=>({x:t,y:t}),vR={left:"right",right:"left",bottom:"top",top:"bottom"},yR={start:"end",end:"start"};function P0(t,e,n){return uo(t,Ll(e,n))}function qc(t,e){return typeof t=="function"?t(e):t}function mo(t){return t.split("-")[0]}function Hc(t){return t.split("-")[1]}function cC(t){return t==="x"?"y":"x"}function Ov(t){return t==="y"?"height":"width"}function co(t){return["top","bottom"].includes(mo(t))?"y":"x"}function kv(t){return cC(co(t))}function bR(t,e,n){n===void 0&&(n=!1);const r=Hc(t),i=kv(t),a=Ov(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=rd(o)),[o,rd(o)]}function _R(t){const e=rd(t);return[I0(t),e,I0(e)]}function I0(t){return t.replace(/start|end/g,e=>yR[e])}function xR(t,e,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?a:o;default:return[]}}function wR(t,e,n,r){const i=Hc(t);let a=xR(mo(t),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(I0)))),a}function rd(t){return t.replace(/left|right|bottom|top/g,e=>vR[e])}function SR(t){return{top:0,right:0,bottom:0,left:0,...t}}function fC(t){return typeof t!="number"?SR(t):{top:t,right:t,bottom:t,left:t}}function id(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function T2(t,e,n){let{reference:r,floating:i}=t;const a=co(e),o=kv(e),u=Ov(o),c=mo(e),f=a==="y",d=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,g=r[u]/2-i[u]/2;let v;switch(c){case"top":v={x:d,y:r.y-i.height};break;case"bottom":v={x:d,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:p};break;case"left":v={x:r.x-i.width,y:p};break;default:v={x:r.x,y:r.y}}switch(Hc(e)){case"start":v[o]-=g*(n&&f?-1:1);break;case"end":v[o]+=g*(n&&f?-1:1);break}return v}const ER=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,u=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let f=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:p}=T2(f,r,c),g=r,v={},_=0;for(let w=0;w<u.length;w++){const{name:A,fn:S}=u[w],{x:L,y:P,data:F,reset:R}=await S({x:d,y:p,initialPlacement:r,placement:g,strategy:i,middlewareData:v,rects:f,platform:o,elements:{reference:t,floating:e}});d=L??d,p=P??p,v={...v,[A]:{...v[A],...F}},R&&_<=50&&(_++,typeof R=="object"&&(R.placement&&(g=R.placement),R.rects&&(f=R.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):R.rects),{x:d,y:p}=T2(f,g,c)),w=-1)}return{x:d,y:p,placement:g,strategy:i,middlewareData:v}};async function hC(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:u,strategy:c}=t,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:g=!1,padding:v=0}=qc(e,t),_=fC(v),A=u[g?p==="floating"?"reference":"floating":p],S=id(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(A)))==null||n?A:A.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:f,rootBoundary:d,strategy:c})),L=p==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),F=await(a.isElement==null?void 0:a.isElement(P))?await(a.getScale==null?void 0:a.getScale(P))||{x:1,y:1}:{x:1,y:1},R=id(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:L,offsetParent:P,strategy:c}):L);return{top:(S.top-R.top+_.top)/F.y,bottom:(R.bottom-S.bottom+_.bottom)/F.y,left:(S.left-R.left+_.left)/F.x,right:(R.right-S.right+_.right)/F.x}}const CR=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:o,elements:u,middlewareData:c}=e,{element:f,padding:d=0}=qc(t,e)||{};if(f==null)return{};const p=fC(d),g={x:n,y:r},v=kv(i),_=Ov(v),w=await o.getDimensions(f),A=v==="y",S=A?"top":"left",L=A?"bottom":"right",P=A?"clientHeight":"clientWidth",F=a.reference[_]+a.reference[v]-g[v]-a.floating[_],R=g[v]-a.reference[v],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let z=O?O[P]:0;(!z||!await(o.isElement==null?void 0:o.isElement(O)))&&(z=u.floating[P]||a.floating[_]);const T=F/2-R/2,N=z/2-w[_]/2-1,$=Ll(p[S],N),V=Ll(p[L],N),G=$,re=z-w[_]-V,Y=z/2-w[_]/2+T,M=P0(G,Y,re),D=!c.arrow&&Hc(i)!=null&&Y!==M&&a.reference[_]/2-(Y<G?$:V)-w[_]/2<0,j=D?Y<G?Y-G:Y-re:0;return{[v]:g[v]+j,data:{[v]:M,centerOffset:Y-M-j,...D&&{alignmentOffset:j}},reset:D}}}),AR=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:u,platform:c,elements:f}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:w=!0,...A}=qc(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const S=mo(i),L=co(u),P=mo(u)===u,F=await(c.isRTL==null?void 0:c.isRTL(f.floating)),R=g||(P||!w?[rd(u)]:_R(u)),O=_!=="none";!g&&O&&R.push(...wR(u,w,_,F));const z=[u,...R],T=await hC(e,A),N=[];let $=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&N.push(T[S]),p){const M=bR(i,o,F);N.push(T[M[0]],T[M[1]])}if($=[...$,{placement:i,overflows:N}],!N.every(M=>M<=0)){var V,G;const M=(((V=a.flip)==null?void 0:V.index)||0)+1,D=z[M];if(D){var re;const Z=p==="alignment"?L!==co(D):!1,ne=((re=$[0])==null?void 0:re.overflows[0])>0;if(!Z||ne)return{data:{index:M,overflows:$},reset:{placement:D}}}let j=(G=$.filter(Z=>Z.overflows[0]<=0).sort((Z,ne)=>Z.overflows[1]-ne.overflows[1])[0])==null?void 0:G.placement;if(!j)switch(v){case"bestFit":{var Y;const Z=(Y=$.filter(ne=>{if(O){const k=co(ne.placement);return k===L||k==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(k=>k>0).reduce((k,le)=>k+le,0)]).sort((ne,k)=>ne[1]-k[1])[0])==null?void 0:Y[0];Z&&(j=Z);break}case"initialPlacement":j=u;break}if(i!==j)return{reset:{placement:j}}}return{}}}};async function TR(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=mo(n),u=Hc(n),c=co(n)==="y",f=["left","top"].includes(o)?-1:1,d=a&&c?-1:1,p=qc(e,t);let{mainAxis:g,crossAxis:v,alignmentAxis:_}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof _=="number"&&(v=u==="end"?_*-1:_),c?{x:v*d,y:g*f}:{x:g*f,y:v*d}}const DR=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:u}=e,c=await TR(e,t);return o===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},OR=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:u={fn:A=>{let{x:S,y:L}=A;return{x:S,y:L}}},...c}=qc(t,e),f={x:n,y:r},d=await hC(e,c),p=co(mo(i)),g=cC(p);let v=f[g],_=f[p];if(a){const A=g==="y"?"top":"left",S=g==="y"?"bottom":"right",L=v+d[A],P=v-d[S];v=P0(L,v,P)}if(o){const A=p==="y"?"top":"left",S=p==="y"?"bottom":"right",L=_+d[A],P=_-d[S];_=P0(L,_,P)}const w=u.fn({...e,[g]:v,[p]:_});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[g]:a,[p]:o}}}}}};function Cd(){return typeof window<"u"}function Hl(t){return dC(t)?(t.nodeName||"").toLowerCase():"#document"}function ri(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function aa(t){var e;return(e=(dC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function dC(t){return Cd()?t instanceof Node||t instanceof ri(t).Node:!1}function ki(t){return Cd()?t instanceof Element||t instanceof ri(t).Element:!1}function na(t){return Cd()?t instanceof HTMLElement||t instanceof ri(t).HTMLElement:!1}function D2(t){return!Cd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ri(t).ShadowRoot}function $c(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ni(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function kR(t){return["table","td","th"].includes(Hl(t))}function Ad(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Nv(t){const e=Rv(),n=ki(t)?Ni(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function NR(t){let e=bs(t);for(;na(e)&&!Pl(e);){if(Nv(e))return e;if(Ad(e))return null;e=bs(e)}return null}function Rv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pl(t){return["html","body","#document"].includes(Hl(t))}function Ni(t){return ri(t).getComputedStyle(t)}function Td(t){return ki(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function bs(t){if(Hl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||D2(t)&&t.host||aa(t);return D2(e)?e.host:e}function pC(t){const e=bs(t);return Pl(e)?t.ownerDocument?t.ownerDocument.body:t.body:na(e)&&$c(e)?e:pC(e)}function kc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=pC(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=ri(i);if(a){const u=B0(o);return e.concat(o,o.visualViewport||[],$c(i)?i:[],u&&n?kc(u):[])}return e.concat(i,kc(i,[],n))}function B0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function mC(t){const e=Ni(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=na(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,u=nd(n)!==a||nd(r)!==o;return u&&(n=a,r=o),{width:n,height:r,$:u}}function Mv(t){return ki(t)?t:t.contextElement}function Tl(t){const e=Mv(t);if(!na(e))return ea(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=mC(e);let o=(a?nd(n.width):n.width)/r,u=(a?nd(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!u||!Number.isFinite(u))&&(u=1),{x:o,y:u}}const RR=ea(0);function gC(t){const e=ri(t);return!Rv()||!e.visualViewport?RR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function MR(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ri(t)?!1:e}function go(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=Mv(t);let o=ea(1);e&&(r?ki(r)&&(o=Tl(r)):o=Tl(t));const u=MR(a,n,r)?gC(a):ea(0);let c=(i.left+u.x)/o.x,f=(i.top+u.y)/o.y,d=i.width/o.x,p=i.height/o.y;if(a){const g=ri(a),v=r&&ki(r)?ri(r):r;let _=g,w=B0(_);for(;w&&r&&v!==_;){const A=Tl(w),S=w.getBoundingClientRect(),L=Ni(w),P=S.left+(w.clientLeft+parseFloat(L.paddingLeft))*A.x,F=S.top+(w.clientTop+parseFloat(L.paddingTop))*A.y;c*=A.x,f*=A.y,d*=A.x,p*=A.y,c+=P,f+=F,_=ri(w),w=B0(_)}}return id({width:d,height:p,x:c,y:f})}function jv(t,e){const n=Td(t).scrollLeft;return e?e.left+n:go(aa(t)).left+n}function vC(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:jv(t,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function jR(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=aa(r),u=e?Ad(e.floating):!1;if(r===o||u&&a)return n;let c={scrollLeft:0,scrollTop:0},f=ea(1);const d=ea(0),p=na(r);if((p||!p&&!a)&&((Hl(r)!=="body"||$c(o))&&(c=Td(r)),na(r))){const v=go(r);f=Tl(r),d.x=v.x+r.clientLeft,d.y=v.y+r.clientTop}const g=o&&!p&&!a?vC(o,c,!0):ea(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-c.scrollLeft*f.x+d.x+g.x,y:n.y*f.y-c.scrollTop*f.y+d.y+g.y}}function LR(t){return Array.from(t.getClientRects())}function PR(t){const e=aa(t),n=Td(t),r=t.ownerDocument.body,i=uo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=uo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+jv(t);const u=-n.scrollTop;return Ni(r).direction==="rtl"&&(o+=uo(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:u}}function IR(t,e){const n=ri(t),r=aa(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,u=0,c=0;if(i){a=i.width,o=i.height;const f=Rv();(!f||f&&e==="fixed")&&(u=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:u,y:c}}function BR(t,e){const n=go(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=na(t)?Tl(t):ea(1),o=t.clientWidth*a.x,u=t.clientHeight*a.y,c=i*a.x,f=r*a.y;return{width:o,height:u,x:c,y:f}}function O2(t,e,n){let r;if(e==="viewport")r=IR(t,n);else if(e==="document")r=PR(aa(t));else if(ki(e))r=BR(e,n);else{const i=gC(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return id(r)}function yC(t,e){const n=bs(t);return n===e||!ki(n)||Pl(n)?!1:Ni(n).position==="fixed"||yC(n,e)}function zR(t,e){const n=e.get(t);if(n)return n;let r=kc(t,[],!1).filter(u=>ki(u)&&Hl(u)!=="body"),i=null;const a=Ni(t).position==="fixed";let o=a?bs(t):t;for(;ki(o)&&!Pl(o);){const u=Ni(o),c=Nv(o);!c&&u.position==="fixed"&&(i=null),(a?!c&&!i:!c&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||$c(o)&&!c&&yC(t,o))?r=r.filter(d=>d!==o):i=u,o=bs(o)}return e.set(t,r),r}function FR(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Ad(e)?[]:zR(e,this._c):[].concat(n),r],u=o[0],c=o.reduce((f,d)=>{const p=O2(e,d,i);return f.top=uo(p.top,f.top),f.right=Ll(p.right,f.right),f.bottom=Ll(p.bottom,f.bottom),f.left=uo(p.left,f.left),f},O2(e,u,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function UR(t){const{width:e,height:n}=mC(t);return{width:e,height:n}}function qR(t,e,n){const r=na(e),i=aa(e),a=n==="fixed",o=go(t,!0,a,e);let u={scrollLeft:0,scrollTop:0};const c=ea(0);function f(){c.x=jv(i)}if(r||!r&&!a)if((Hl(e)!=="body"||$c(i))&&(u=Td(e)),r){const v=go(e,!0,a,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else i&&f();a&&!r&&i&&f();const d=i&&!r&&!a?vC(i,u):ea(0),p=o.left+u.scrollLeft-c.x-d.x,g=o.top+u.scrollTop-c.y-d.y;return{x:p,y:g,width:o.width,height:o.height}}function Ug(t){return Ni(t).position==="static"}function k2(t,e){if(!na(t)||Ni(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return aa(t)===n&&(n=n.ownerDocument.body),n}function bC(t,e){const n=ri(t);if(Ad(t))return n;if(!na(t)){let i=bs(t);for(;i&&!Pl(i);){if(ki(i)&&!Ug(i))return i;i=bs(i)}return n}let r=k2(t,e);for(;r&&kR(r)&&Ug(r);)r=k2(r,e);return r&&Pl(r)&&Ug(r)&&!Nv(r)?n:r||NR(t)||n}const HR=async function(t){const e=this.getOffsetParent||bC,n=this.getDimensions,r=await n(t.floating);return{reference:qR(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $R(t){return Ni(t).direction==="rtl"}const VR={convertOffsetParentRelativeRectToViewportRelativeRect:jR,getDocumentElement:aa,getClippingRect:FR,getOffsetParent:bC,getElementRects:HR,getClientRects:LR,getDimensions:UR,getScale:Tl,isElement:ki,isRTL:$R};function _C(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function YR(t,e){let n=null,r;const i=aa(t);function a(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function o(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),a();const f=t.getBoundingClientRect(),{left:d,top:p,width:g,height:v}=f;if(u||e(),!g||!v)return;const _=mh(p),w=mh(i.clientWidth-(d+g)),A=mh(i.clientHeight-(p+v)),S=mh(d),P={rootMargin:-_+"px "+-w+"px "+-A+"px "+-S+"px",threshold:uo(0,Ll(1,c))||1};let F=!0;function R(O){const z=O[0].intersectionRatio;if(z!==c){if(!F)return o();z?o(!1,z):r=setTimeout(()=>{o(!1,1e-7)},1e3)}z===1&&!_C(f,t.getBoundingClientRect())&&o(),F=!1}try{n=new IntersectionObserver(R,{...P,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,P)}n.observe(t)}return o(!0),a}function xC(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,f=Mv(t),d=i||a?[...f?kc(f):[],...kc(e)]:[];d.forEach(S=>{i&&S.addEventListener("scroll",n,{passive:!0}),a&&S.addEventListener("resize",n)});const p=f&&u?YR(f,n):null;let g=-1,v=null;o&&(v=new ResizeObserver(S=>{let[L]=S;L&&L.target===f&&v&&(v.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var P;(P=v)==null||P.observe(e)})),n()}),f&&!c&&v.observe(f),v.observe(e));let _,w=c?go(t):null;c&&A();function A(){const S=go(t);w&&!_C(w,S)&&n(),w=S,_=requestAnimationFrame(A)}return n(),()=>{var S;d.forEach(L=>{i&&L.removeEventListener("scroll",n),a&&L.removeEventListener("resize",n)}),p==null||p(),(S=v)==null||S.disconnect(),v=null,c&&cancelAnimationFrame(_)}}const XR=DR,GR=OR,WR=AR,ZR=CR,N2=(t,e,n)=>{const r=new Map,i={platform:VR,...n},a={...i.platform,_c:r};return ER(t,e,{...i,platform:a})};var z0=ie.useLayoutEffect,KR=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],ad=function(){};function QR(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function JR(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&a.push("".concat(QR(t,o)));return a.filter(function(u){return u}).map(function(u){return String(u).trim()}).join(" ")}var sd=function(e){return l5(e)?e.filter(Boolean):po(e)==="object"&&e!==null?[e]:[]},wC=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=ia(e,KR);return _t({},n)},Fn=function(e,n,r){var i=e.cx,a=e.getStyles,o=e.getClassNames,u=e.className;return{css:a(n,e),className:i(r??{},o(n,e),u)}};function Dd(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function e5(t){return Dd(t)?window.innerHeight:t.clientHeight}function SC(t){return Dd(t)?window.pageYOffset:t.scrollTop}function od(t,e){if(Dd(t)){window.scrollTo(0,e);return}t.scrollTop=e}function t5(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function n5(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function gh(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ad,i=SC(t),a=e-i,o=10,u=0;function c(){u+=o;var f=n5(u,i,a,n);od(t,f),u<n?window.requestAnimationFrame(c):r(t)}c()}function R2(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?od(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&od(t,Math.max(e.offsetTop-i,0))}function r5(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function M2(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function i5(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var EC=!1,a5={get passive(){return EC=!0}},vh=typeof window<"u"?window:{};vh.addEventListener&&vh.removeEventListener&&(vh.addEventListener("p",ad,a5),vh.removeEventListener("p",ad,!1));var s5=EC;function o5(t){return t!=null}function l5(t){return Array.isArray(t)}function uc(t,e,n){return t?e:n}var u5=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=Object.entries(e).filter(function(o){var u=ka(o,1),c=u[0];return!r.includes(c)});return a.reduce(function(o,u){var c=ka(u,2),f=c[0],d=c[1];return o[f]=d,o},{})},c5=["children","innerProps"],f5=["children","innerProps"];function h5(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,a=t.shouldScroll,o=t.isFixedPosition,u=t.controlHeight,c=t5(n),f={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return f;var d=c.getBoundingClientRect(),p=d.height,g=n.getBoundingClientRect(),v=g.bottom,_=g.height,w=g.top,A=n.offsetParent.getBoundingClientRect(),S=A.top,L=o?window.innerHeight:e5(c),P=SC(c),F=parseInt(getComputedStyle(n).marginBottom,10),R=parseInt(getComputedStyle(n).marginTop,10),O=S-R,z=L-w,T=O+P,N=p-P-w,$=v-L+P+F,V=P+w-R,G=160;switch(i){case"auto":case"bottom":if(z>=_)return{placement:"bottom",maxHeight:e};if(N>=_&&!o)return a&&gh(c,$,G),{placement:"bottom",maxHeight:e};if(!o&&N>=r||o&&z>=r){a&&gh(c,$,G);var re=o?z-F:N-F;return{placement:"bottom",maxHeight:re}}if(i==="auto"||o){var Y=e,M=o?O:T;return M>=r&&(Y=Math.min(M-F-u,e)),{placement:"top",maxHeight:Y}}if(i==="bottom")return a&&od(c,$),{placement:"bottom",maxHeight:e};break;case"top":if(O>=_)return{placement:"top",maxHeight:e};if(T>=_&&!o)return a&&gh(c,V,G),{placement:"top",maxHeight:e};if(!o&&T>=r||o&&O>=r){var D=e;return(!o&&T>=r||o&&O>=r)&&(D=o?O-R:T-R),a&&gh(c,V,G),{placement:"top",maxHeight:D}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return f}function d5(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var CC=function(e){return e==="auto"?"bottom":e},p5=function(e,n){var r,i=e.placement,a=e.theme,o=a.borderRadius,u=a.spacing,c=a.colors;return _t((r={label:"menu"},lc(r,d5(i),"100%"),lc(r,"position","absolute"),lc(r,"width","100%"),lc(r,"zIndex",1),r),n?{}:{backgroundColor:c.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:u.menuGutter,marginTop:u.menuGutter})},AC=ie.createContext(null),m5=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,a=e.menuPlacement,o=e.menuPosition,u=e.menuShouldScrollIntoView,c=e.theme,f=ie.useContext(AC)||{},d=f.setPortalPlacement,p=ie.useRef(null),g=ie.useState(i),v=ka(g,2),_=v[0],w=v[1],A=ie.useState(null),S=ka(A,2),L=S[0],P=S[1],F=c.spacing.controlHeight;return z0(function(){var R=p.current;if(R){var O=o==="fixed",z=u&&!O,T=h5({maxHeight:i,menuEl:R,minHeight:r,placement:a,shouldScroll:z,isFixedPosition:O,controlHeight:F});w(T.maxHeight),P(T.placement),d==null||d(T.placement)}},[i,a,o,u,r,d,F]),n({ref:p,placerProps:_t(_t({},e),{},{placement:L||CC(a),maxHeight:_})})},g5=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return yt("div",Ct({},Fn(e,"menu",{menu:!0}),{ref:r},i),n)},v5=g5,y5=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return _t({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},b5=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,a=e.isMulti;return yt("div",Ct({},Fn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:i},r),n)},TC=function(e,n){var r=e.theme,i=r.spacing.baseUnit,a=r.colors;return _t({textAlign:"center"},n?{}:{color:a.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},_5=TC,x5=TC,w5=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,a=ia(e,c5);return yt("div",Ct({},Fn(_t(_t({},a),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},S5=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,a=ia(e,f5);return yt("div",Ct({},Fn(_t(_t({},a),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},E5=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},C5=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,a=e.innerProps,o=e.menuPlacement,u=e.menuPosition,c=ie.useRef(null),f=ie.useRef(null),d=ie.useState(CC(o)),p=ka(d,2),g=p[0],v=p[1],_=ie.useMemo(function(){return{setPortalPlacement:v}},[]),w=ie.useState(null),A=ka(w,2),S=A[0],L=A[1],P=ie.useCallback(function(){if(i){var z=r5(i),T=u==="fixed"?0:window.pageYOffset,N=z[g]+T;(N!==(S==null?void 0:S.offset)||z.left!==(S==null?void 0:S.rect.left)||z.width!==(S==null?void 0:S.rect.width))&&L({offset:N,rect:z})}},[i,u,g,S==null?void 0:S.offset,S==null?void 0:S.rect.left,S==null?void 0:S.rect.width]);z0(function(){P()},[P]);var F=ie.useCallback(function(){typeof f.current=="function"&&(f.current(),f.current=null),i&&c.current&&(f.current=xC(i,c.current,P,{elementResize:"ResizeObserver"in window}))},[i,P]);z0(function(){F()},[F]);var R=ie.useCallback(function(z){c.current=z,F()},[F]);if(!n&&u!=="fixed"||!S)return null;var O=yt("div",Ct({ref:R},Fn(_t(_t({},e),{},{offset:S.offset,position:u,rect:S.rect}),"menuPortal",{"menu-portal":!0}),a),r);return yt(AC.Provider,{value:_},n?gR.createPortal(O,n):O)},A5=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},T5=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,a=e.isRtl;return yt("div",Ct({},Fn(e,"container",{"--is-disabled":i,"--is-rtl":a}),r),n)},D5=function(e,n){var r=e.theme.spacing,i=e.isMulti,a=e.hasValue,o=e.selectProps.controlShouldRenderValue;return _t({alignItems:"center",display:i&&a&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},O5=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,a=e.hasValue;return yt("div",Ct({},Fn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":a}),r),n)},k5=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},N5=function(e){var n=e.children,r=e.innerProps;return yt("div",Ct({},Fn(e,"indicatorsContainer",{indicators:!0}),r),n)},j2,R5=["size"],M5=["innerProps","isRtl","size"],j5={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},DC=function(e){var n=e.size,r=ia(e,R5);return yt("svg",Ct({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:j5},r))},Lv=function(e){return yt(DC,Ct({size:20},e),yt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},OC=function(e){return yt(DC,Ct({size:20},e),yt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},kC=function(e,n){var r=e.isFocused,i=e.theme,a=i.spacing.baseUnit,o=i.colors;return _t({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2,":hover":{color:r?o.neutral80:o.neutral40}})},L5=kC,P5=function(e){var n=e.children,r=e.innerProps;return yt("div",Ct({},Fn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||yt(OC,null))},I5=kC,B5=function(e){var n=e.children,r=e.innerProps;return yt("div",Ct({},Fn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||yt(Lv,null))},z5=function(e,n){var r=e.isDisabled,i=e.theme,a=i.spacing.baseUnit,o=i.colors;return _t({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:a*2,marginTop:a*2})},F5=function(e){var n=e.innerProps;return yt("span",Ct({},n,Fn(e,"indicatorSeparator",{"indicator-separator":!0})))},U5=cR(j2||(j2=mR([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),q5=function(e,n){var r=e.isFocused,i=e.size,a=e.theme,o=a.colors,u=a.spacing.baseUnit;return _t({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:u*2})},qg=function(e){var n=e.delay,r=e.offset;return yt("span",{css:Dv({animation:"".concat(U5," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},H5=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,a=i===void 0?4:i,o=ia(e,M5);return yt("div",Ct({},Fn(_t(_t({},o),{},{innerProps:n,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),yt(qg,{delay:0,offset:r}),yt(qg,{delay:160,offset:!0}),yt(qg,{delay:320,offset:!r}))},$5=function(e,n){var r=e.isDisabled,i=e.isFocused,a=e.theme,o=a.colors,u=a.borderRadius,c=a.spacing;return _t({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:u,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},V5=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,a=e.innerRef,o=e.innerProps,u=e.menuIsOpen;return yt("div",Ct({ref:a},Fn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":u}),o,{"aria-disabled":r||void 0}),n)},Y5=V5,X5=["data"],G5=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},W5=function(e){var n=e.children,r=e.cx,i=e.getStyles,a=e.getClassNames,o=e.Heading,u=e.headingProps,c=e.innerProps,f=e.label,d=e.theme,p=e.selectProps;return yt("div",Ct({},Fn(e,"group",{group:!0}),c),yt(o,Ct({},u,{selectProps:p,theme:d,getStyles:i,getClassNames:a,cx:r}),f),yt("div",null,n))},Z5=function(e,n){var r=e.theme,i=r.colors,a=r.spacing;return _t({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},K5=function(e){var n=wC(e);n.data;var r=ia(n,X5);return yt("div",Ct({},Fn(e,"groupHeading",{"group-heading":!0}),r))},Q5=W5,J5=["innerRef","isDisabled","isHidden","inputClassName"],eM=function(e,n){var r=e.isDisabled,i=e.value,a=e.theme,o=a.spacing,u=a.colors;return _t(_t({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},tM),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:u.neutral80})},NC={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},tM={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":_t({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},NC)},nM=function(e){return _t({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},NC)},rM=function(e){var n=e.cx,r=e.value,i=wC(e),a=i.innerRef,o=i.isDisabled,u=i.isHidden,c=i.inputClassName,f=ia(i,J5);return yt("div",Ct({},Fn(e,"input",{"input-container":!0}),{"data-value":r||""}),yt("input",Ct({className:n({input:!0},c),ref:a,style:nM(u),disabled:o},f)))},iM=rM,aM=function(e,n){var r=e.theme,i=r.spacing,a=r.borderRadius,o=r.colors;return _t({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:a/2,margin:i.baseUnit/2})},sM=function(e,n){var r=e.theme,i=r.borderRadius,a=r.colors,o=e.cropWithEllipsis;return _t({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},oM=function(e,n){var r=e.theme,i=r.spacing,a=r.borderRadius,o=r.colors,u=e.isFocused;return _t({alignItems:"center",display:"flex"},n?{}:{borderRadius:a/2,backgroundColor:u?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},RC=function(e){var n=e.children,r=e.innerProps;return yt("div",r,n)},lM=RC,uM=RC;function cM(t){var e=t.children,n=t.innerProps;return yt("div",Ct({role:"button"},n),e||yt(Lv,{size:14}))}var fM=function(e){var n=e.children,r=e.components,i=e.data,a=e.innerProps,o=e.isDisabled,u=e.removeProps,c=e.selectProps,f=r.Container,d=r.Label,p=r.Remove;return yt(f,{data:i,innerProps:_t(_t({},Fn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),a),selectProps:c},yt(d,{data:i,innerProps:_t({},Fn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},n),yt(p,{data:i,innerProps:_t(_t({},Fn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},u),selectProps:c}))},hM=fM,dM=function(e,n){var r=e.isDisabled,i=e.isFocused,a=e.isSelected,o=e.theme,u=o.spacing,c=o.colors;return _t({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:a?c.primary:i?c.primary25:"transparent",color:r?c.neutral20:a?c.neutral0:"inherit",padding:"".concat(u.baseUnit*2,"px ").concat(u.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:a?c.primary:c.primary50}})},pM=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,a=e.isSelected,o=e.innerRef,u=e.innerProps;return yt("div",Ct({},Fn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":a}),{ref:o,"aria-disabled":r},u),n)},mM=pM,gM=function(e,n){var r=e.theme,i=r.spacing,a=r.colors;return _t({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:a.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},vM=function(e){var n=e.children,r=e.innerProps;return yt("div",Ct({},Fn(e,"placeholder",{placeholder:!0}),r),n)},yM=vM,bM=function(e,n){var r=e.isDisabled,i=e.theme,a=i.spacing,o=i.colors;return _t({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},_M=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return yt("div",Ct({},Fn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},xM=_M,wM={ClearIndicator:B5,Control:Y5,DropdownIndicator:P5,DownChevron:OC,CrossIcon:Lv,Group:Q5,GroupHeading:K5,IndicatorsContainer:N5,IndicatorSeparator:F5,Input:iM,LoadingIndicator:H5,Menu:v5,MenuList:b5,MenuPortal:C5,LoadingMessage:S5,NoOptionsMessage:w5,MultiValue:hM,MultiValueContainer:lM,MultiValueLabel:uM,MultiValueRemove:cM,Option:mM,Placeholder:yM,SelectContainer:T5,SingleValue:xM,ValueContainer:O5},SM=function(e){return _t(_t({},wM),e.components)},L2=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function EM(t,e){return!!(t===e||L2(t)&&L2(e))}function CM(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!EM(t[n],e[n]))return!1;return!0}function AM(t,e){e===void 0&&(e=CM);var n=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var TM={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},DM=function(e){return yt("span",Ct({css:TM},e))},P2=DM,OM={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,a=e.context,o=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,a=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,a=e.label,o=a===void 0?"":a,u=e.selectValue,c=e.isDisabled,f=e.isSelected,d=e.isAppleDevice,p=function(w,A){return w&&w.length?"".concat(w.indexOf(A)+1," of ").concat(w.length):""};if(n==="value"&&u)return"value ".concat(o," focused, ").concat(p(u,r),".");if(n==="menu"&&d){var g=c?" disabled":"",v="".concat(f?" selected":"").concat(g);return"".concat(o).concat(v,", ").concat(p(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},kM=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,a=e.focusableOptions,o=e.isFocused,u=e.selectValue,c=e.selectProps,f=e.id,d=e.isAppleDevice,p=c.ariaLiveMessages,g=c.getOptionLabel,v=c.inputValue,_=c.isMulti,w=c.isOptionDisabled,A=c.isSearchable,S=c.menuIsOpen,L=c.options,P=c.screenReaderStatus,F=c.tabSelectsValue,R=c.isLoading,O=c["aria-label"],z=c["aria-live"],T=ie.useMemo(function(){return _t(_t({},OM),p||{})},[p]),N=ie.useMemo(function(){var M="";if(n&&T.onChange){var D=n.option,j=n.options,Z=n.removedValue,ne=n.removedValues,k=n.value,le=function(oe){return Array.isArray(oe)?null:oe},se=Z||D||le(k),B=se?g(se):"",U=j||ne||void 0,I=U?U.map(g):[],W=_t({isDisabled:se&&w(se,u),label:B,labels:I},n);M=T.onChange(W)}return M},[n,T,w,u,g]),$=ie.useMemo(function(){var M="",D=r||i,j=!!(r&&u&&u.includes(r));if(D&&T.onFocus){var Z={focused:D,label:g(D),isDisabled:w(D,u),isSelected:j,options:a,context:D===r?"menu":"value",selectValue:u,isAppleDevice:d};M=T.onFocus(Z)}return M},[r,i,g,w,T,a,u,d]),V=ie.useMemo(function(){var M="";if(S&&L.length&&!R&&T.onFilter){var D=P({count:a.length});M=T.onFilter({inputValue:v,resultsMessage:D})}return M},[a,v,S,T,L,P,R]),G=(n==null?void 0:n.action)==="initial-input-focus",re=ie.useMemo(function(){var M="";if(T.guidance){var D=i?"value":S?"menu":"input";M=T.guidance({"aria-label":O,context:D,isDisabled:r&&w(r,u),isMulti:_,isSearchable:A,tabSelectsValue:F,isInitialFocus:G})}return M},[O,r,i,_,w,A,S,T,u,F,G]),Y=yt(ie.Fragment,null,yt("span",{id:"aria-selection"},N),yt("span",{id:"aria-focused"},$),yt("span",{id:"aria-results"},V),yt("span",{id:"aria-guidance"},re));return yt(ie.Fragment,null,yt(P2,{id:f},G&&Y),yt(P2,{"aria-live":z,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!G&&Y))},NM=kM,F0=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],RM=new RegExp("["+F0.map(function(t){return t.letters}).join("")+"]","g"),MC={};for(var Hg=0;Hg<F0.length;Hg++)for(var $g=F0[Hg],Vg=0;Vg<$g.letters.length;Vg++)MC[$g.letters[Vg]]=$g.base;var jC=function(e){return e.replace(RM,function(n){return MC[n]})},MM=AM(jC),I2=function(e){return e.replace(/^\s+|\s+$/g,"")},jM=function(e){return"".concat(e.label," ").concat(e.value)},LM=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=_t({ignoreCase:!0,ignoreAccents:!0,stringify:jM,trim:!0,matchFrom:"any"},e),a=i.ignoreCase,o=i.ignoreAccents,u=i.stringify,c=i.trim,f=i.matchFrom,d=c?I2(r):r,p=c?I2(u(n)):u(n);return a&&(d=d.toLowerCase(),p=p.toLowerCase()),o&&(d=MM(d),p=jC(p)),f==="start"?p.substr(0,d.length)===d:p.indexOf(d)>-1}},PM=["innerRef"];function IM(t){var e=t.innerRef,n=ia(t,PM),r=u5(n,"onExited","in","enter","exit","appear");return yt("input",Ct({ref:e},r,{css:Dv({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var BM=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function zM(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,a=t.onTopLeave,o=ie.useRef(!1),u=ie.useRef(!1),c=ie.useRef(0),f=ie.useRef(null),d=ie.useCallback(function(A,S){if(f.current!==null){var L=f.current,P=L.scrollTop,F=L.scrollHeight,R=L.clientHeight,O=f.current,z=S>0,T=F-R-P,N=!1;T>S&&o.current&&(r&&r(A),o.current=!1),z&&u.current&&(a&&a(A),u.current=!1),z&&S>T?(n&&!o.current&&n(A),O.scrollTop=F,N=!0,o.current=!0):!z&&-S>P&&(i&&!u.current&&i(A),O.scrollTop=0,N=!0,u.current=!0),N&&BM(A)}},[n,r,i,a]),p=ie.useCallback(function(A){d(A,A.deltaY)},[d]),g=ie.useCallback(function(A){c.current=A.changedTouches[0].clientY},[]),v=ie.useCallback(function(A){var S=c.current-A.changedTouches[0].clientY;d(A,S)},[d]),_=ie.useCallback(function(A){if(A){var S=s5?{passive:!1}:!1;A.addEventListener("wheel",p,S),A.addEventListener("touchstart",g,S),A.addEventListener("touchmove",v,S)}},[v,g,p]),w=ie.useCallback(function(A){A&&(A.removeEventListener("wheel",p,!1),A.removeEventListener("touchstart",g,!1),A.removeEventListener("touchmove",v,!1))},[v,g,p]);return ie.useEffect(function(){if(e){var A=f.current;return _(A),function(){w(A)}}},[e,_,w]),function(A){f.current=A}}var B2=["boxSizing","height","overflow","paddingRight","position"],z2={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function F2(t){t.cancelable&&t.preventDefault()}function U2(t){t.stopPropagation()}function q2(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function H2(){return"ontouchstart"in window||navigator.maxTouchPoints}var $2=!!(typeof window<"u"&&window.document&&window.document.createElement),Zu=0,gl={capture:!1,passive:!1};function FM(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=ie.useRef({}),a=ie.useRef(null),o=ie.useCallback(function(c){if($2){var f=document.body,d=f&&f.style;if(r&&B2.forEach(function(_){var w=d&&d[_];i.current[_]=w}),r&&Zu<1){var p=parseInt(i.current.paddingRight,10)||0,g=document.body?document.body.clientWidth:0,v=window.innerWidth-g+p||0;Object.keys(z2).forEach(function(_){var w=z2[_];d&&(d[_]=w)}),d&&(d.paddingRight="".concat(v,"px"))}f&&H2()&&(f.addEventListener("touchmove",F2,gl),c&&(c.addEventListener("touchstart",q2,gl),c.addEventListener("touchmove",U2,gl))),Zu+=1}},[r]),u=ie.useCallback(function(c){if($2){var f=document.body,d=f&&f.style;Zu=Math.max(Zu-1,0),r&&Zu<1&&B2.forEach(function(p){var g=i.current[p];d&&(d[p]=g)}),f&&H2()&&(f.removeEventListener("touchmove",F2,gl),c&&(c.removeEventListener("touchstart",q2,gl),c.removeEventListener("touchmove",U2,gl)))}},[r]);return ie.useEffect(function(){if(e){var c=a.current;return o(c),function(){u(c)}}},[e,o,u]),function(c){a.current=c}}var UM=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},qM={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function HM(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,a=t.onBottomArrive,o=t.onBottomLeave,u=t.onTopArrive,c=t.onTopLeave,f=zM({isEnabled:i,onBottomArrive:a,onBottomLeave:o,onTopArrive:u,onTopLeave:c}),d=FM({isEnabled:n}),p=function(v){f(v),d(v)};return yt(ie.Fragment,null,n&&yt("div",{onClick:UM,css:qM}),e(p))}var $M={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},VM=function(e){var n=e.name,r=e.onFocus;return yt("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:$M,value:"",onChange:function(){}})},YM=VM;function Pv(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function XM(){return Pv(/^iPhone/i)}function LC(){return Pv(/^Mac/i)}function GM(){return Pv(/^iPad/i)||LC()&&navigator.maxTouchPoints>1}function WM(){return XM()||GM()}function ZM(){return LC()||WM()}var KM=function(e){return e.label},PC=function(e){return e.label},IC=function(e){return e.value},QM=function(e){return!!e.isDisabled},JM={clearIndicator:I5,container:A5,control:$5,dropdownIndicator:L5,group:G5,groupHeading:Z5,indicatorsContainer:k5,indicatorSeparator:z5,input:eM,loadingIndicator:q5,loadingMessage:x5,menu:p5,menuList:y5,menuPortal:E5,multiValue:aM,multiValueLabel:sM,multiValueRemove:oM,noOptionsMessage:_5,option:dM,placeholder:gM,singleValue:bM,valueContainer:D5},ej={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},tj=4,BC=4,nj=38,rj=BC*2,ij={baseUnit:BC,controlHeight:nj,menuGutter:rj},Yg={borderRadius:tj,colors:ej,spacing:ij},aj={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:M2(),captureMenuScroll:!M2(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:LM(),formatGroupLabel:KM,getOptionLabel:PC,getOptionValue:IC,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:QM,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!i5(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function V2(t,e,n,r){var i=UC(t,e,n),a=qC(t,e,n),o=FC(t,e),u=ld(t,e);return{type:"option",data:e,isDisabled:i,isSelected:a,label:o,value:u,index:r}}function Uh(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,u){return V2(t,o,e,u)}).filter(function(o){return X2(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var a=V2(t,n,e,r);return X2(t,a)?a:void 0}).filter(o5)}function zC(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,Cl(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function Y2(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,Cl(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function sj(t,e){return zC(Uh(t,e))}function X2(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,a=e.isSelected,o=e.label,u=e.value;return(!$C(t)||!a)&&HC(t,{label:o,value:u,data:i},r)}function oj(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var a=e.indexOf(n);if(a>-1)return n;if(i<e.length)return e[i]}return null}function lj(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var Xg=function(e,n){var r,i=(r=e.find(function(a){return a.data===n}))===null||r===void 0?void 0:r.id;return i||null},FC=function(e,n){return e.getOptionLabel(n)},ld=function(e,n){return e.getOptionValue(n)};function UC(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function qC(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=ld(t,e);return n.some(function(i){return ld(t,i)===r})}function HC(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var $C=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},uj=1,VC=function(t){oN(n,t);var e=cN(n);function n(r){var i;if(aN(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=ZM(),i.controlRef=null,i.getControlRef=function(c){i.controlRef=c},i.focusedOptionRef=null,i.getFocusedOptionRef=function(c){i.focusedOptionRef=c},i.menuListRef=null,i.getMenuListRef=function(c){i.menuListRef=c},i.inputRef=null,i.getInputRef=function(c){i.inputRef=c},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(c,f){var d=i.props,p=d.onChange,g=d.name;f.name=g,i.ariaOnChange(c,f),p(c,f)},i.setValue=function(c,f,d){var p=i.props,g=p.closeMenuOnSelect,v=p.isMulti,_=p.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:_}),g&&(i.setState({inputIsHiddenAfterUpdate:!v}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(c,{action:f,option:d})},i.selectOption=function(c){var f=i.props,d=f.blurInputOnSelect,p=f.isMulti,g=f.name,v=i.state.selectValue,_=p&&i.isOptionSelected(c,v),w=i.isOptionDisabled(c,v);if(_){var A=i.getOptionValue(c);i.setValue(v.filter(function(S){return i.getOptionValue(S)!==A}),"deselect-option",c)}else if(!w)p?i.setValue([].concat(Cl(v),[c]),"select-option",c):i.setValue(c,"select-option");else{i.ariaOnChange(c,{action:"select-option",option:c,name:g});return}d&&i.blurInput()},i.removeValue=function(c){var f=i.props.isMulti,d=i.state.selectValue,p=i.getOptionValue(c),g=d.filter(function(_){return i.getOptionValue(_)!==p}),v=uc(f,g,g[0]||null);i.onChange(v,{action:"remove-value",removedValue:c}),i.focusInput()},i.clearValue=function(){var c=i.state.selectValue;i.onChange(uc(i.props.isMulti,[],null),{action:"clear",removedValues:c})},i.popValue=function(){var c=i.props.isMulti,f=i.state.selectValue,d=f[f.length-1],p=f.slice(0,f.length-1),g=uc(c,p,p[0]||null);d&&i.onChange(g,{action:"pop-value",removedValue:d})},i.getFocusedOptionId=function(c){return Xg(i.state.focusableOptionsWithIds,c)},i.getFocusableOptionsWithIds=function(){return Y2(Uh(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];return JR.apply(void 0,[i.props.classNamePrefix].concat(f))},i.getOptionLabel=function(c){return FC(i.props,c)},i.getOptionValue=function(c){return ld(i.props,c)},i.getStyles=function(c,f){var d=i.props.unstyled,p=JM[c](f,d);p.boxSizing="border-box";var g=i.props.styles[c];return g?g(p,f):p},i.getClassNames=function(c,f){var d,p;return(d=(p=i.props.classNames)[c])===null||d===void 0?void 0:d.call(p,f)},i.getElementId=function(c){return"".concat(i.state.instancePrefix,"-").concat(c)},i.getComponents=function(){return SM(i.props)},i.buildCategorizedOptions=function(){return Uh(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return zC(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(c,f){i.setState({ariaSelection:_t({value:c},f)})},i.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(c){i.blockOptionHover=!1},i.onControlMouseDown=function(c){if(!c.defaultPrevented){var f=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&i.onMenuClose():f&&i.openMenu("first"):(f&&(i.openAfterFocus=!0),i.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},i.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!i.props.isDisabled){var f=i.props,d=f.isMulti,p=f.menuIsOpen;i.focusInput(),p?(i.setState({inputIsHiddenAfterUpdate:!d}),i.onMenuClose()):i.openMenu("first"),c.preventDefault()}},i.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(i.clearValue(),c.preventDefault(),i.openAfterFocus=!1,c.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(c){typeof i.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Dd(c.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(c)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(c){var f=c.touches,d=f&&f.item(0);d&&(i.initialTouchX=d.clientX,i.initialTouchY=d.clientY,i.userIsDragging=!1)},i.onTouchMove=function(c){var f=c.touches,d=f&&f.item(0);if(d){var p=Math.abs(d.clientX-i.initialTouchX),g=Math.abs(d.clientY-i.initialTouchY),v=5;i.userIsDragging=p>v||g>v}},i.onTouchEnd=function(c){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(c.target)&&i.menuListRef&&!i.menuListRef.contains(c.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(c){i.userIsDragging||i.onControlMouseDown(c)},i.onClearIndicatorTouchEnd=function(c){i.userIsDragging||i.onClearIndicatorMouseDown(c)},i.onDropdownIndicatorTouchEnd=function(c){i.userIsDragging||i.onDropdownIndicatorMouseDown(c)},i.handleInputChange=function(c){var f=i.props.inputValue,d=c.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(d,{action:"input-change",prevInputValue:f}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(c){i.props.onFocus&&i.props.onFocus(c),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(c){var f=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(c),i.onInputChange("",{action:"input-blur",prevInputValue:f}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(c){if(!(i.blockOptionHover||i.state.focusedOption===c)){var f=i.getFocusableOptions(),d=f.indexOf(c);i.setState({focusedOption:c,focusedOptionId:d>-1?i.getFocusedOptionId(c):null})}},i.shouldHideSelectedOptions=function(){return $C(i.props)},i.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),i.focus()},i.onKeyDown=function(c){var f=i.props,d=f.isMulti,p=f.backspaceRemovesValue,g=f.escapeClearsValue,v=f.inputValue,_=f.isClearable,w=f.isDisabled,A=f.menuIsOpen,S=f.onKeyDown,L=f.tabSelectsValue,P=f.openMenuOnFocus,F=i.state,R=F.focusedOption,O=F.focusedValue,z=F.selectValue;if(!w&&!(typeof S=="function"&&(S(c),c.defaultPrevented))){switch(i.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||v)return;i.focusValue("previous");break;case"ArrowRight":if(!d||v)return;i.focusValue("next");break;case"Delete":case"Backspace":if(v)return;if(O)i.removeValue(O);else{if(!p)return;d?i.popValue():_&&i.clearValue()}break;case"Tab":if(i.isComposing||c.shiftKey||!A||!L||!R||P&&i.isOptionSelected(R,z))return;i.selectOption(R);break;case"Enter":if(c.keyCode===229)break;if(A){if(!R||i.isComposing)return;i.selectOption(R);break}return;case"Escape":A?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:v}),i.onMenuClose()):_&&g&&i.clearValue();break;case" ":if(v)return;if(!A){i.openMenu("first");break}if(!R)return;i.selectOption(R);break;case"ArrowUp":A?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":A?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!A)return;i.focusOption("pageup");break;case"PageDown":if(!A)return;i.focusOption("pagedown");break;case"Home":if(!A)return;i.focusOption("first");break;case"End":if(!A)return;i.focusOption("last");break;default:return}c.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++uj),i.state.selectValue=sd(r.value),r.menuIsOpen&&i.state.selectValue.length){var a=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),u=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=a,i.state.focusedOption=o[u],i.state.focusedOptionId=Xg(a,o[u])}return i}return sN(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&R2(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isDisabled,u=a.menuIsOpen,c=this.state.isFocused;(c&&!o&&i.isDisabled||c&&u&&!i.menuIsOpen)&&this.focusInput(),c&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(R2(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,a){this.props.onInputChange(i,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var a=this,o=this.state,u=o.selectValue,c=o.isFocused,f=this.buildFocusableOptions(),d=i==="first"?0:f.length-1;if(!this.props.isMulti){var p=f.indexOf(u[0]);p>-1&&(d=p)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:f[d],focusedOptionId:this.getFocusedOptionId(f[d])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(i){var a=this.state,o=a.selectValue,u=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=o.indexOf(u);u||(c=-1);var f=o.length-1,d=-1;if(o.length){switch(i){case"previous":c===0?d=0:c===-1?d=f:d=c-1;break;case"next":c>-1&&c<f&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,o=this.state.focusedOption,u=this.getFocusableOptions();if(u.length){var c=0,f=u.indexOf(o);o||(f=-1),i==="up"?c=f>0?f-1:u.length-1:i==="down"?c=(f+1)%u.length:i==="pageup"?(c=f-a,c<0&&(c=0)):i==="pagedown"?(c=f+a,c>u.length-1&&(c=u.length-1)):i==="last"&&(c=u.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:u[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(u[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Yg):_t(_t({},Yg),this.props.theme):Yg}},{key:"getCommonProps",value:function(){var i=this.clearValue,a=this.cx,o=this.getStyles,u=this.getClassNames,c=this.getValue,f=this.selectOption,d=this.setValue,p=this.props,g=p.isMulti,v=p.isRtl,_=p.options,w=this.hasValue();return{clearValue:i,cx:a,getStyles:o,getClassNames:u,getValue:c,hasValue:w,isMulti:g,isRtl:v,options:_,selectOption:f,selectProps:p,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,a=i.isClearable,o=i.isMulti;return a===void 0?o:a}},{key:"isOptionDisabled",value:function(i,a){return UC(this.props,i,a)}},{key:"isOptionSelected",value:function(i,a){return qC(this.props,i,a)}},{key:"filterOption",value:function(i,a){return HC(this.props,i,a)}},{key:"formatOptionLabel",value:function(i,a){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,u=this.state.selectValue;return this.props.formatOptionLabel(i,{context:a,inputValue:o,selectValue:u})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,a=i.isDisabled,o=i.isSearchable,u=i.inputId,c=i.inputValue,f=i.tabIndex,d=i.form,p=i.menuIsOpen,g=i.required,v=this.getComponents(),_=v.Input,w=this.state,A=w.inputIsHidden,S=w.ariaSelection,L=this.commonProps,P=u||this.getElementId("input"),F=_t(_t(_t({"aria-autocomplete":"list","aria-expanded":p,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":g,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},p&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(S==null?void 0:S.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?ie.createElement(_,Ct({},L,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:P,innerRef:this.getInputRef,isDisabled:a,isHidden:A,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:f,form:d,type:"text",value:c},F)):ie.createElement(IM,Ct({id:P,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:ad,onFocus:this.onInputFocus,disabled:a,tabIndex:f,inputMode:"none",form:d,value:""},F))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,a=this.getComponents(),o=a.MultiValue,u=a.MultiValueContainer,c=a.MultiValueLabel,f=a.MultiValueRemove,d=a.SingleValue,p=a.Placeholder,g=this.commonProps,v=this.props,_=v.controlShouldRenderValue,w=v.isDisabled,A=v.isMulti,S=v.inputValue,L=v.placeholder,P=this.state,F=P.selectValue,R=P.focusedValue,O=P.isFocused;if(!this.hasValue()||!_)return S?null:ie.createElement(p,Ct({},g,{key:"placeholder",isDisabled:w,isFocused:O,innerProps:{id:this.getElementId("placeholder")}}),L);if(A)return F.map(function(T,N){var $=T===R,V="".concat(i.getOptionLabel(T),"-").concat(i.getOptionValue(T));return ie.createElement(o,Ct({},g,{components:{Container:u,Label:c,Remove:f},isFocused:$,isDisabled:w,key:V,index:N,removeProps:{onClick:function(){return i.removeValue(T)},onTouchEnd:function(){return i.removeValue(T)},onMouseDown:function(re){re.preventDefault()}},data:T}),i.formatOptionLabel(T,"value"))});if(S)return null;var z=F[0];return ie.createElement(d,Ct({},g,{data:z,isDisabled:w}),this.formatOptionLabel(z,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),a=i.ClearIndicator,o=this.commonProps,u=this.props,c=u.isDisabled,f=u.isLoading,d=this.state.isFocused;if(!this.isClearable()||!a||c||!this.hasValue()||f)return null;var p={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return ie.createElement(a,Ct({},o,{innerProps:p,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),a=i.LoadingIndicator,o=this.commonProps,u=this.props,c=u.isDisabled,f=u.isLoading,d=this.state.isFocused;if(!a||!f)return null;var p={"aria-hidden":"true"};return ie.createElement(a,Ct({},o,{innerProps:p,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator,o=i.IndicatorSeparator;if(!a||!o)return null;var u=this.commonProps,c=this.props.isDisabled,f=this.state.isFocused;return ie.createElement(o,Ct({},u,{isDisabled:c,isFocused:f}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator;if(!a)return null;var o=this.commonProps,u=this.props.isDisabled,c=this.state.isFocused,f={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return ie.createElement(a,Ct({},o,{innerProps:f,isDisabled:u,isFocused:c}))}},{key:"renderMenu",value:function(){var i=this,a=this.getComponents(),o=a.Group,u=a.GroupHeading,c=a.Menu,f=a.MenuList,d=a.MenuPortal,p=a.LoadingMessage,g=a.NoOptionsMessage,v=a.Option,_=this.commonProps,w=this.state.focusedOption,A=this.props,S=A.captureMenuScroll,L=A.inputValue,P=A.isLoading,F=A.loadingMessage,R=A.minMenuHeight,O=A.maxMenuHeight,z=A.menuIsOpen,T=A.menuPlacement,N=A.menuPosition,$=A.menuPortalTarget,V=A.menuShouldBlockScroll,G=A.menuShouldScrollIntoView,re=A.noOptionsMessage,Y=A.onMenuScrollToTop,M=A.onMenuScrollToBottom;if(!z)return null;var D=function(B,U){var I=B.type,W=B.data,ae=B.isDisabled,oe=B.isSelected,pe=B.label,De=B.value,de=w===W,he=ae?void 0:function(){return i.onOptionHover(W)},Te=ae?void 0:function(){return i.selectOption(W)},fe="".concat(i.getElementId("option"),"-").concat(U),ce={id:fe,onClick:Te,onMouseMove:he,onMouseOver:he,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:oe};return ie.createElement(v,Ct({},_,{innerProps:ce,data:W,isDisabled:ae,isSelected:oe,key:fe,label:pe,type:I,value:De,isFocused:de,innerRef:de?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(B.data,"menu"))},j;if(this.hasOptions())j=this.getCategorizedOptions().map(function(se){if(se.type==="group"){var B=se.data,U=se.options,I=se.index,W="".concat(i.getElementId("group"),"-").concat(I),ae="".concat(W,"-heading");return ie.createElement(o,Ct({},_,{key:W,data:B,options:U,Heading:u,headingProps:{id:ae,data:se.data},label:i.formatGroupLabel(se.data)}),se.options.map(function(oe){return D(oe,"".concat(I,"-").concat(oe.index))}))}else if(se.type==="option")return D(se,"".concat(se.index))});else if(P){var Z=F({inputValue:L});if(Z===null)return null;j=ie.createElement(p,_,Z)}else{var ne=re({inputValue:L});if(ne===null)return null;j=ie.createElement(g,_,ne)}var k={minMenuHeight:R,maxMenuHeight:O,menuPlacement:T,menuPosition:N,menuShouldScrollIntoView:G},le=ie.createElement(m5,Ct({},_,k),function(se){var B=se.ref,U=se.placerProps,I=U.placement,W=U.maxHeight;return ie.createElement(c,Ct({},_,k,{innerRef:B,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:P,placement:I}),ie.createElement(HM,{captureEnabled:S,onTopArrive:Y,onBottomArrive:M,lockEnabled:V},function(ae){return ie.createElement(f,Ct({},_,{innerRef:function(pe){i.getMenuListRef(pe),ae(pe)},innerProps:{role:"listbox","aria-multiselectable":_.isMulti,id:i.getElementId("listbox")},isLoading:P,maxHeight:W,focusedOption:w}),j)}))});return $||N==="fixed"?ie.createElement(d,Ct({},_,{appendTo:$,controlElement:this.controlRef,menuPlacement:T,menuPosition:N}),le):le}},{key:"renderFormField",value:function(){var i=this,a=this.props,o=a.delimiter,u=a.isDisabled,c=a.isMulti,f=a.name,d=a.required,p=this.state.selectValue;if(d&&!this.hasValue()&&!u)return ie.createElement(YM,{name:f,onFocus:this.onValueInputFocus});if(!(!f||u))if(c)if(o){var g=p.map(function(w){return i.getOptionValue(w)}).join(o);return ie.createElement("input",{name:f,type:"hidden",value:g})}else{var v=p.length>0?p.map(function(w,A){return ie.createElement("input",{key:"i-".concat(A),name:f,type:"hidden",value:i.getOptionValue(w)})}):ie.createElement("input",{name:f,type:"hidden",value:""});return ie.createElement("div",null,v)}else{var _=p[0]?this.getOptionValue(p[0]):"";return ie.createElement("input",{name:f,type:"hidden",value:_})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,a=this.state,o=a.ariaSelection,u=a.focusedOption,c=a.focusedValue,f=a.isFocused,d=a.selectValue,p=this.getFocusableOptions();return ie.createElement(NM,Ct({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:u,focusedValue:c,isFocused:f,selectValue:d,focusableOptions:p,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),a=i.Control,o=i.IndicatorsContainer,u=i.SelectContainer,c=i.ValueContainer,f=this.props,d=f.className,p=f.id,g=f.isDisabled,v=f.menuIsOpen,_=this.state.isFocused,w=this.commonProps=this.getCommonProps();return ie.createElement(u,Ct({},w,{className:d,innerProps:{id:p,onKeyDown:this.onKeyDown},isDisabled:g,isFocused:_}),this.renderLiveRegion(),ie.createElement(a,Ct({},w,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:g,isFocused:_,menuIsOpen:v}),ie.createElement(c,Ct({},w,{isDisabled:g}),this.renderPlaceholderOrValue(),this.renderInput()),ie.createElement(o,Ct({},w,{isDisabled:g}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,a){var o=a.prevProps,u=a.clearFocusValueOnUpdate,c=a.inputIsHiddenAfterUpdate,f=a.ariaSelection,d=a.isFocused,p=a.prevWasFocused,g=a.instancePrefix,v=i.options,_=i.value,w=i.menuIsOpen,A=i.inputValue,S=i.isMulti,L=sd(_),P={};if(o&&(_!==o.value||v!==o.options||w!==o.menuIsOpen||A!==o.inputValue)){var F=w?sj(i,L):[],R=w?Y2(Uh(i,L),"".concat(g,"-option")):[],O=u?oj(a,L):null,z=lj(a,F),T=Xg(R,z);P={selectValue:L,focusedOption:z,focusedOptionId:T,focusableOptionsWithIds:R,focusedValue:O,clearFocusValueOnUpdate:!1}}var N=c!=null&&i!==o?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},$=f,V=d&&p;return d&&!V&&($={value:uc(S,L,L[0]||null),options:L,action:"initial-input-focus"},V=!p),(f==null?void 0:f.action)==="initial-input-focus"&&($=null),_t(_t(_t({},P),N),{},{prevProps:i,ariaSelection:$,prevWasFocused:V})}}]),n}(ie.Component);VC.defaultProps=aj;var cj=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function fj(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,a=t.defaultValue,o=a===void 0?null:a,u=t.inputValue,c=t.menuIsOpen,f=t.onChange,d=t.onInputChange,p=t.onMenuClose,g=t.onMenuOpen,v=t.value,_=ia(t,cj),w=ie.useState(u!==void 0?u:n),A=ka(w,2),S=A[0],L=A[1],P=ie.useState(c!==void 0?c:i),F=ka(P,2),R=F[0],O=F[1],z=ie.useState(v!==void 0?v:o),T=ka(z,2),N=T[0],$=T[1],V=ie.useCallback(function(Z,ne){typeof f=="function"&&f(Z,ne),$(Z)},[f]),G=ie.useCallback(function(Z,ne){var k;typeof d=="function"&&(k=d(Z,ne)),L(k!==void 0?k:Z)},[d]),re=ie.useCallback(function(){typeof g=="function"&&g(),O(!0)},[g]),Y=ie.useCallback(function(){typeof p=="function"&&p(),O(!1)},[p]),M=u!==void 0?u:S,D=c!==void 0?c:R,j=v!==void 0?v:N;return _t(_t({},_),{},{inputValue:M,menuIsOpen:D,onChange:V,onInputChange:G,onMenuClose:Y,onMenuOpen:re,value:j})}var hj=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],G2=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=String(e).toLowerCase(),a=String(r.getOptionValue(n)).toLowerCase(),o=String(r.getOptionLabel(n)).toLowerCase();return a===i||o===i},Gg={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,n,r,i){return!(!e||n.some(function(a){return G2(e,a,i)})||r.some(function(a){return G2(e,a,i)}))},getNewOptionData:function(e,n){return{label:n,value:e,__isNew__:!0}}};function dj(t){var e=t.allowCreateWhileLoading,n=e===void 0?!1:e,r=t.createOptionPosition,i=r===void 0?"last":r,a=t.formatCreateLabel,o=a===void 0?Gg.formatCreateLabel:a,u=t.isValidNewOption,c=u===void 0?Gg.isValidNewOption:u,f=t.getNewOptionData,d=f===void 0?Gg.getNewOptionData:f,p=t.onCreateOption,g=t.options,v=g===void 0?[]:g,_=t.onChange,w=ia(t,hj),A=w.getOptionValue,S=A===void 0?IC:A,L=w.getOptionLabel,P=L===void 0?PC:L,F=w.inputValue,R=w.isLoading,O=w.isMulti,z=w.value,T=w.name,N=ie.useMemo(function(){return c(F,sd(z),v,{getOptionValue:S,getOptionLabel:P})?d(F,o(F)):void 0},[o,d,P,S,F,c,v,z]),$=ie.useMemo(function(){return(n||!R)&&N?i==="first"?[N].concat(Cl(v)):[].concat(Cl(v),[N]):v},[n,i,R,N,v]),V=ie.useCallback(function(G,re){if(re.action!=="select-option")return _(G,re);var Y=Array.isArray(G)?G:[G];if(Y[Y.length-1]===N){if(p)p(F);else{var M=d(F,F),D={action:"create-option",name:T,option:M};_(uc(O,[].concat(Cl(sd(z)),[M]),M),D)}return}_(G,re)},[d,F,O,T,N,p,_,z]);return _t(_t({},w),{},{options:$,onChange:V})}var pj=ie.forwardRef(function(t,e){var n=fj(t),r=dj(n);return ie.createElement(VC,Ct({ref:e},r))}),Da=pj;const dr=[];for(let t=0;t<256;++t)dr.push((t+256).toString(16).slice(1));function mj(t,e=0){return(dr[t[e+0]]+dr[t[e+1]]+dr[t[e+2]]+dr[t[e+3]]+"-"+dr[t[e+4]]+dr[t[e+5]]+"-"+dr[t[e+6]]+dr[t[e+7]]+"-"+dr[t[e+8]]+dr[t[e+9]]+"-"+dr[t[e+10]]+dr[t[e+11]]+dr[t[e+12]]+dr[t[e+13]]+dr[t[e+14]]+dr[t[e+15]]).toLowerCase()}let Wg;const gj=new Uint8Array(16);function vj(){if(!Wg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Wg=crypto.getRandomValues.bind(crypto)}return Wg(gj)}const yj=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),W2={randomUUID:yj};function _s(t,e,n){var i;if(W2.randomUUID&&!t)return W2.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??vj();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,mj(r)}const bj=({supabase:t,onSuccess:e})=>{var se;const[n,r]=ie.useState({clientType:"supplier",object:"",serial_number:"",equipment:[],is_new:!0,state:"",note:"",seal_number:"",purchase_price:"",sale_price:"",contractor:"",last_name:"",first_name:"",middle_name:"",passport_series:"",passport_number:"",category:"",photo_paths:[],quantity:"",is_original:!0}),[i,a]=ie.useState([]),o=ie.useRef(null),u=ie.useRef(new Map),[c,f]=ie.useState([]),[d,p]=ie.useState([]),[g,v]=ie.useState(!1),[_,w]=ie.useState(!1),[A,S]=ie.useState(""),[L,P]=ie.useState(""),[F,R]=ie.useState(!0),[O,z]=ie.useState(""),[T,N]=ie.useState(!1),[$,V]=ie.useState({total:0,completed:0,isProcessing:!1}),G=["коробка","комплект проводов","геймпад","память"];ie.useEffect(()=>{const B=U=>{T&&!U.target.closest(".memory-input-container")&&N(!1)};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[T]),ie.useEffect(()=>()=>{u.current.forEach(B=>URL.revokeObjectURL(B)),u.current.clear()},[]),ie.useEffect(()=>()=>{i.forEach(B=>{try{B.preview&&URL.revokeObjectURL(B.preview)}catch(U){console.warn("Failed to revoke URL:",U)}})},[i]);const re=async B=>{const U=Array.from(B.target.files);if(U.length===0)return;V({total:U.length,completed:0,isProcessing:!0});const I={maxSizeMB:.5,maxWidthOrHeight:1920,useWebWorker:!0,fileType:"image/webp",initialQuality:.8,preserveExif:!1,maxIteration:10},W=await Promise.all(U.map(async ae=>{try{const oe=await Qn(ae,I);V(de=>({...de,completed:de.completed+1}));const pe=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,De=URL.createObjectURL(oe);return u.current.set(pe,De),{id:pe,file:oe,preview:De}}catch(oe){console.error("Ошибка при сжатии изображения:",oe),V(de=>({...de,completed:de.completed+1}));const pe=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,De=URL.createObjectURL(ae);return u.current.set(pe,De),{id:pe,file:ae,preview:De}}}));a(ae=>[...ae,...W]),o.current.value="",V(ae=>({...ae,isProcessing:!1}))},Y=B=>{a(U=>{const I=U.filter(W=>W.id!==B);return u.current.has(B)&&(URL.revokeObjectURL(u.current.get(B)),u.current.delete(B)),I})};ie.useEffect(()=>{(async()=>{if(t)try{v(!0);const{data:U,error:I}=await t.from("categories").select("name").order("name",{ascending:!0});if(I)throw I;U&&Array.isArray(U)&&f(U.map(W=>W.name||""))}catch(U){console.error("Ошибка загрузки списка категорий:",U),S("Не удалось загрузить список категорий")}finally{v(!1)}})()},[t]),ie.useEffect(()=>{(async()=>{if(!t||!n.category){p([]);return}try{v(!0);const{data:U,error:I}=await t.from("objects").select("name").eq("category",n.category).order("name",{ascending:!0});if(I)throw I;p((U==null?void 0:U.map(W=>W.name))||[])}catch(U){console.error("Ошибка загрузки списка изделий:",U),S("Не удалось загрузить список изделий")}finally{v(!1)}})()},[t,n.category]);const M=B=>{r({...n,clientType:B,contractor:B==="supplier"?n.contractor:"",last_name:"",first_name:"",middle_name:"",passport_series:"",passport_number:""})},D=B=>{const{name:U,value:I}=B.target;r({...n,[U]:I})},j=B=>{const{name:U,value:I}=B.target,W=I.replace(/\D/g,"");r({...n,[U]:W})},Z=(B,U)=>{U.preventDefault(),U.stopPropagation(),B==="память"?n.equipment.some(I=>I.startsWith("память"))?(r(I=>({...I,equipment:I.equipment.filter(W=>!W.startsWith("память"))})),z("")):N(!0):r(I=>{const W=I.equipment.includes(B)?I.equipment.filter(ae=>ae!==B):[...I.equipment,B];return{...I,equipment:W}})},ne=(se=n.category)==null?void 0:se.startsWith("Консоли"),k=B=>{B.preventDefault(),B.stopPropagation(),O&&!isNaN(O)&&r(U=>({...U,equipment:[...U.equipment.filter(I=>!I.startsWith("память")),`память ${O}Gb`]})),N(!1)},le=async B=>{B.preventDefault(),S(""),w(!0);let U=[];F&&(U=[...n.equipment],ne&&U.push(n.is_original?"оригинал":"модификация"));const I=n.serial_number.trim()||"Б/Н";if(!n.object||!n.category){S("Заполните все обязательные поля"),w(!1);return}if(n.clientType==="individual"){if(!n.last_name||!n.first_name){S("Заполните фамилию и имя"),w(!1);return}if(n.passport_series.length!==4){S("Серия паспорта должна содержать 4 цифры"),w(!1);return}if(n.passport_number.length!==6){S("Номер паспорта должен содержать 6 цифр"),w(!1);return}}try{const{data:W,error:ae}=await t.from("purchases").select("*").eq("object",n.object).eq("serial_number",I).eq("is_sale",!0).limit(1);if(ae)throw ae;if(W.length>0){const oe=W[0],pe=Number(oe.quantity||1)+Number(n.quantity||1);let De=oe.note||"";n.note&&n.note.trim()!==""&&(De=De?`${De}
${n.note.trim()}`:n.note.trim());let de=oe.sale_price_history||[];n.sale_price&&n.sale_price!=oe.sale_price&&(de=[{sale_price:n.sale_price,changed_at:new Date().toISOString()},...de]);let he=oe.purchase_history||[];he.length===0&&oe.purchase_price&&(he=[{changed_at:oe.created_at||new Date().toISOString(),quantity:oe.quantity||1,purchase_price:oe.purchase_price}]);const Te=[{changed_at:new Date().toISOString(),quantity:n.quantity,purchase_price:n.purchase_price||oe.purchase_price},...he],{error:fe}=await t.from("purchases").update({quantity:pe,purchase_price:n.purchase_price||oe.purchase_price,sale_price:n.sale_price||oe.sale_price,sale_price_history:de,purchase_history:Te,has_sale_price_changes:de.length>1,note:De}).eq("id",oe.id);if(fe)throw fe;P(`Товар обновлён! Количество увеличено до ${pe}`)}else{const oe=n.purchase_price||n.quantity?[{changed_at:new Date().toISOString(),quantity:n.quantity||1,purchase_price:n.purchase_price||null}]:[],pe=n.sale_price?[{sale_price:n.sale_price,changed_at:new Date().toISOString()}]:[],{data:De,error:de}=await t.from("purchases").select("receipt_number").order("receipt_number",{ascending:!1}).limit(1);if(de)throw de;const he=De.length>0?De[0].receipt_number+1:1,{error:Te}=await t.from("categories").upsert({name:n.category},{onConflict:"name",ignoreDuplicates:!0});if(Te)throw Te;const{error:fe}=await t.from("objects").upsert({name:n.object,category:n.category},{onConflict:"name"});if(fe)throw fe;let ce=[];i.length>0&&(ce=await Promise.all(i.map(async we=>{const H=we.file.name.split(".").pop(),X=`${_s()}.${H}`,ee=`purchase-photos/${he}/${X}`,{error:te}=await t.storage.from("purchase-photos").upload(ee,we.file,{cacheControl:"3600",upsert:!1});if(te)throw te;return ee})));const ve={object:n.object,serial_number:I,equipment:U,is_new:n.is_new,state:n.state,note:n.note,receipt_number:he,is_sale:!0,seal_number:n.seal_number||null,purchase_price:n.purchase_price||null,purchase_history:oe,sale_price:n.sale_price||null,sale_price_history:pe,has_sale_price_changes:!1,category:n.category,created_at:new Date().toISOString(),photo_paths:ce,quantity:n.quantity};n.clientType==="supplier"?(ve.contractor=n.contractor||null,ve.last_name=null,ve.first_name=null,ve.middle_name=null,ve.passport_series=null,ve.passport_number=null):(ve.contractor=null,ve.last_name=n.last_name,ve.first_name=n.first_name,ve.middle_name=n.middle_name||null,ve.passport_series=n.passport_series,ve.passport_number=n.passport_number);const{error:Se}=await t.from("purchases").insert([ve]);if(Se)throw Se;P("Закуп успешно сохранен!")}r({clientType:"supplier",object:"",serial_number:"",equipment:[],is_new:!0,state:"",note:"",seal_number:"",purchase_price:"",sale_price:"",contractor:"",last_name:"",first_name:"",middle_name:"",passport_series:"",passport_number:"",category:"",photo_paths:[],quantity:"",is_original:!0}),a([]),z(""),N(!1),R(!0),setTimeout(()=>{P(""),e==null||e()},3e3)}catch(W){console.error("Ошибка при сохранении:",W),S(W.message||"Ошибка при сохранении закупа")}finally{w(!1)}};return x.jsx("form",{className:"form",onSubmit:le,children:x.jsxs("fieldset",{className:"form__fieldset",children:[x.jsx("legend",{children:"Добавить позицию"}),x.jsxs("div",{className:"view-mode-buttons",style:{marginBottom:"1rem"},children:[x.jsx("button",{type:"button",className:n.clientType==="supplier"?"active":"",onClick:()=>M("supplier"),children:"Поставщик"}),x.jsx("button",{type:"button",className:n.clientType==="individual"?"active":"",onClick:()=>M("individual"),children:"Частное лицо"})]}),x.jsxs("div",{className:"form__group",children:[x.jsx(Da,{name:"choice-or-create-category",options:c.map(B=>({value:B,label:B})),value:n.category?{value:n.category,label:n.category}:null,onChange:B=>r({...n,category:B?B.value:"",object:""}),onCreateOption:B=>{const U=B.trim();f([...c,U]),r({...n,category:U,object:""})},placeholder:"Выбрать или добавить новую категорию",required:!0,isSearchable:!0,isClearable:!0,noOptionsMessage:()=>"Нет совпадений",formatCreateLabel:B=>`Создать "${B}"`,className:"form__input form__input--30 react-select-container",classNamePrefix:"select",styles:{control:(B,U)=>({...B,background:"transparent",border:U.isFocused?"1px solid var(--text-primary)":0,boxShadow:(U.isFocused,0),"&:hover":{border:U.isFocused?"1px solid var(--text-primary)":0}}),menu:B=>({...B,backgroundColor:"var(--bg-primary)"}),option:(B,U)=>({...B,whiteSpace:"nowrap",textOverflow:"ellipsis",backgroundColor:U.isSelected?"var(--accent-color)":"","&:hover":{backgroundColor:U.isSelected?"var(--accent-color)":"color-mix(in srgb, var(--accent-color) 40%, transparent)"}}),singleValue:B=>({...B,color:"var(--text-primary)"}),placeholder:B=>({...B,color:"var(--text-secondary)",fontSize:"14px"})}}),x.jsx(Da,{name:"choice-or-create-object",options:d.map(B=>({value:B,label:B})),value:n.object?{value:n.object,label:n.object}:null,onChange:B=>r({...n,object:B?B.value:""}),onCreateOption:B=>{if(!n.category){S("Сначала выберите или создайте категорию");return}const U=B.trim();d.includes(U)||p([...d,U]),r({...n,object:U})},placeholder:"Выбрать или добавить новое изделие",required:!0,isSearchable:!0,isClearable:!0,isDisabled:!n.category,noOptionsMessage:()=>"Нет совпадений",formatCreateLabel:B=>`Создать "${B}"`,className:"form__input form__input--30 react-select-container",classNamePrefix:"select",styles:{control:(B,U)=>({...B,background:"transparent",border:U.isFocused?"1px solid var(--text-primary)":0,boxShadow:(U.isFocused,0),"&:hover":{border:U.isFocused?"1px solid var(--text-primary)":0}}),menu:B=>({...B,backgroundColor:"var(--bg-primary)"}),option:(B,U)=>({...B,whiteSpace:"nowrap",textOverflow:"ellipsis",backgroundColor:U.isSelected?"var(--accent-color)":"","&:hover":{backgroundColor:U.isSelected?"var(--accent-color)":"color-mix(in srgb, var(--accent-color) 40%, transparent)"}}),singleValue:B=>({...B,color:"var(--text-primary)"}),placeholder:B=>({...B,color:"var(--text-secondary)",fontSize:"14px"})}}),x.jsx("input",{className:"form__input form__input--short",type:"text",inputMode:"numeric",name:"quantity",value:n.quantity,onChange:B=>{/^\d*$/.test(B.target.value)&&r({...n,quantity:B.target.value})},pattern:"[1-9]\\d*",title:"Введите число не менее 1",required:!0,placeholder:"Кол-во"}),x.jsx("input",{className:"form__input form__input--20 form__input--mob-50",type:"text",inputMode:"numeric",name:"purchase_price",value:n.purchase_price,onChange:j,placeholder:"Цена закупа, ₽ (опционально)"}),x.jsx("input",{className:"form__input form__input--20  form__input--mob-50",type:"text",inputMode:"numeric",name:"sale_price",value:n.sale_price,onChange:j,placeholder:"Цена продажи, ₽ (опционально)"})]}),x.jsxs("div",{className:"form__group",children:[x.jsx("input",{className:"form__input form__input--50",type:"text",name:"serial_number",value:n.serial_number,onChange:D,placeholder:"Серийный номер изделия или Б/Н (опционально)"}),x.jsx("input",{className:"form__input form__input--50",type:"text",name:"seal_number",value:n.seal_number,onChange:D,placeholder:"Номер внутренней пломбы (опционально)"})]}),n.clientType==="supplier"?x.jsx("div",{className:"form__group",children:x.jsx("input",{className:"form__input form__input--50",type:"text",name:"contractor",value:n.contractor,onChange:D,placeholder:"Поставщик (опционально)"})}):x.jsxs("div",{className:"form__group",children:[x.jsxs("div",{className:"form__name",children:[x.jsx("input",{className:"form__input",type:"text",name:"last_name",value:n.last_name,onChange:D,placeholder:"Фамилия",required:!0}),x.jsx("input",{className:"form__input",type:"text",name:"first_name",value:n.first_name,onChange:D,placeholder:"Имя",required:!0}),x.jsx("input",{className:"form__input",type:"text",name:"middle_name",value:n.middle_name,onChange:D,placeholder:"Отчество",required:!0})]}),x.jsxs("div",{className:"form__group",children:[x.jsx("input",{className:"form__input form__input--50",type:"text",name:"passport_series",value:n.passport_series,onChange:j,placeholder:"Серия паспорта (4 цифры)",maxLength:4,required:!0}),x.jsx("input",{className:"form__input form__input--50",type:"text",name:"passport_number",value:n.passport_number,onChange:j,placeholder:"Номер паспорта (6 цифр)",maxLength:6,required:!0})]})]}),x.jsxs("div",{className:"form__group",children:[x.jsx("div",{className:"form__group",children:x.jsx("textarea",{className:"form__input form__input--textarea",name:"state",value:n.state,onChange:D,placeholder:"Внешний вид (опционально)",rows:"3"})}),x.jsx("div",{className:"form__group",children:x.jsx("textarea",{className:"form__input form__input--textarea",name:"note",value:n.note,onChange:D,placeholder:"Заметка (опционально)",rows:"3"})})]}),x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsxs("span",{className:"form__caption",children:[n.is_new?"Новое":"Б/У"," ",x.jsx("sup",{className:"form__info",title:"Соcтояние товара: новое или Б/У",children:"ℹ"})]}),x.jsx("div",{className:"switch-container",children:x.jsxs("label",{className:"switch",children:[x.jsx("input",{id:"is_new",type:"checkbox",checked:n.is_new,onChange:()=>r({...n,is_new:!n.is_new})}),x.jsx("span",{className:`slider round ${n.is_new?"is-new":"is-used"}`})]})})]}),x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("div",{className:"switch-container",children:x.jsxs("div",{className:"switch-container switch-container--equipment",children:[x.jsx("span",{className:"form__caption",children:F?"Комплект":"Без комплекта"}),x.jsxs("label",{className:"switch",children:[x.jsx("input",{id:"equipment",type:"checkbox",checked:F,onChange:()=>{R(!F),F&&(r(B=>({...B,equipment:[]})),z(""),N(!1))}}),x.jsx("span",{className:"slider round"})]})]})}),x.jsx("div",{className:"chips-container",children:G.map(B=>{var U;return x.jsx("div",{className:"chip-container",children:B==="память"&&T?x.jsxs("div",{className:"memory-input-container",onClick:I=>I.stopPropagation(),children:[x.jsx("input",{type:"number",value:O,onChange:I=>z(I.target.value),placeholder:"ГБ",className:"memory-input",min:"1",onClick:I=>I.stopPropagation()}),x.jsx("button",{onClick:k,className:"memory-confirm-button",disabled:!O||isNaN(O)||O<=0,children:"✓"})]}):x.jsx("button",{type:"button",className:`button chip ${n.equipment.includes(B)||B==="память"&&n.equipment.some(I=>I.startsWith("память"))?"chip--active":""}`,onClick:I=>F&&Z(B,I),disabled:!F,children:B==="память"&&n.equipment.some(I=>I.startsWith("память"))?`память ${((U=n.equipment.find(I=>I.startsWith("память")))==null?void 0:U.split(" ")[1])||""}`:B})},B)})})]}),ne&&x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsxs("span",{className:"form__caption",children:[n.is_original?"Оригинал":"Модификация"," ",x.jsx("sup",{className:"form__info",title:"Тип товара: оригинал или модификация",children:"ℹ"})]}),x.jsx("div",{className:"switch-container",children:x.jsxs("label",{className:"switch",children:[x.jsx("input",{id:"is_original",type:"checkbox",checked:n.is_original,onChange:()=>r({...n,is_original:!n.is_original})}),x.jsx("span",{className:"slider round"})]})})]}),x.jsx("div",{className:"form__photos form__photos--wrapper",children:x.jsxs("div",{className:"form__wrapper",children:[$.isProcessing&&x.jsxs("div",{className:"compression-progress",children:[x.jsx("progress",{value:$.completed,max:$.total}),x.jsxs("span",{children:["Сжатие изображений: ",$.completed,"/",$.total]})]}),x.jsx("div",{className:`photos-preview ${i.length>0?"photos-preview--miniatures":""}`,children:i.map(B=>x.jsxs("div",{className:"photo-thumbnail",children:[x.jsx("img",{src:B.preview,alt:`Предпросмотр ${B.id}`,className:"photo-thumbnail__image"}),x.jsx("button",{type:"button",className:"photo-thumbnail__delete",onClick:()=>Y(B.id),title:"Удалить фото",children:"×"})]},B.id))}),x.jsx("input",{type:"file",id:"purchase-photo-upload",ref:o,multiple:!0,accept:"image/*",onChange:re,style:{display:"none"}}),x.jsx("label",{htmlFor:"purchase-photo-upload",className:"button button--secondary button--upload",children:"Добавить фото"})]})}),x.jsx("button",{className:"button button--main",type:"submit",disabled:_,children:_?"Сохраняю...":"Сохранить"}),A&&x.jsx("div",{className:"error",children:A}),L&&x.jsx("div",{className:"form__message",children:L})]})})},Iv=({photoPaths:t,onClose:e,bucket:n="client-photos"})=>{const[r,i]=ie.useState(0),[a,o]=ie.useState([]),[u,c]=ie.useState(!1),[f,d]=ie.useState(null),p=ie.useRef();ie.useEffect(()=>(document.body.classList.add("modal-open"),()=>{document.body.classList.remove("modal-open")}),[]);const g=L=>{L.stopPropagation(),L.target===p.current&&e()},v=L=>`https://ljcazclnmhjdcmgefcvp.supabase.co/storage/v1/object/public/${n}/${L}`;ie.useEffect(()=>{if(!t||t.length===0)return;c(!1),o([]),d(null);const L=t.map((P,F)=>new Promise(R=>{const O=new Image;O.src=v(P),O.onload=()=>R({index:F,success:!0}),O.onerror=()=>R({index:F,success:!1})}));Promise.all(L).then(P=>{const F=P.filter(R=>R.success).map(R=>R.index);o(F),c(!0),F.length===0&&d("Не удалось загрузить фотографии")}).catch(()=>{d("Ошибка при загрузке фотографий")})},[t]);const _=L=>{L.stopPropagation(),i(P=>P===0?t.length-1:P-1)},w=L=>{L.stopPropagation(),i(P=>P===t.length-1?0:P+1)},A=()=>{i(L=>L===0?t.length-1:L-1)},S=()=>{i(L=>L===t.length-1?0:L+1)};return ie.useEffect(()=>{const L=P=>{P.key==="Escape"?e():P.key==="ArrowLeft"?A():P.key==="ArrowRight"&&S()};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[e,t]),!t||t.length===0?null:f?x.jsxs("div",{className:"photo-gallery",children:[x.jsx("div",{className:"gallery-overlay",onClick:g,ref:p}),x.jsxs("div",{className:"gallery-content",onClick:L=>L.stopPropagation(),children:[x.jsx("div",{className:"gallery-error",children:f}),x.jsx("button",{className:"gallery-close",onClick:L=>{L.stopPropagation(),e()},children:"×"})]})]}):u?x.jsxs("div",{className:"photo-gallery",children:[x.jsx("div",{className:"gallery-overlay",onClick:g,ref:p}),x.jsxs("div",{className:"gallery-content",children:[x.jsx("button",{className:"gallery-close",onClick:e,title:"Закрыть галерею",children:"×"}),x.jsxs("div",{className:"gallery-main",children:[t.length>1&&x.jsx("button",{className:"gallery-nav gallery-prev",onClick:_,title:"Назад",children:x.jsx("img",{src:"/documents/icons/icon--prev.svg",alt:"Назад"})}),x.jsx("div",{className:"gallery-image-container",onClick:L=>L.stopPropagation(),onTouchStart:L=>L.stopPropagation(),onTouchEnd:L=>L.stopPropagation(),children:a.includes(r)?x.jsx("img",{src:v(t[r]),alt:`Фото ${r+1}`,className:"gallery-image",style:{maxHeight:"100%",maxWidth:"100%"}}):x.jsx("div",{className:"image-error",children:"Ошибка загрузки фото"})}),t.length>1&&x.jsx("button",{className:"gallery-nav gallery-next",onClick:w,title:"Вперёд",children:x.jsx("img",{src:"/documents/icons/icon--next.svg",alt:"Вперёд"})})]}),x.jsxs("div",{className:"gallery-counter",children:[r+1," / ",t.length]})]})]}):x.jsxs("div",{className:"photo-gallery",children:[x.jsx("div",{className:"gallery-overlay",onClick:g,onTouchStart:g,ref:p}),x.jsx("div",{className:"gallery-content",children:x.jsxs("div",{className:"gallery-loader",children:[x.jsx("div",{className:"loader"}),x.jsx("p",{children:"Загрузка фотографий..."})]})})]})};var Zg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Z2;function _j(){return Z2||(Z2=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",o=0;o<arguments.length;o++){var u=arguments[o];u&&(a=i(a,r(u)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var u in a)e.call(a,u)&&a[u]&&(o=i(o,u));return o}function i(a,o){return o?a?a+" "+o:a+o:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(Zg)),Zg.exports}var xj=_j();const U0=ws(xj);var K2={};const wj="react-tooltip-core-styles",Sj="react-tooltip-base-styles",Q2={core:!1,base:!1};function J2({css:t,id:e=Sj,type:n="base",ref:r}){var i,a;if(!t||typeof document>"u"||Q2[n]||n==="core"&&typeof process<"u"&&(!((i=process==null?void 0:K2)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((a=process==null?void 0:K2)===null||a===void 0)&&a.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(e=wj),r||(r={});const{insertAt:o}=r;if(document.getElementById(e))return;const u=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.id=e,c.type="text/css",o==="top"&&u.firstChild?u.insertBefore(c,u.firstChild):u.appendChild(c),c.styleSheet?c.styleSheet.cssText=t:c.appendChild(document.createTextNode(t)),Q2[n]=!0}const ew=async({elementReference:t=null,tooltipReference:e=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:a="absolute",middlewares:o=[XR(Number(i)),WR({fallbackAxisSideDirection:"start"}),GR({padding:5})],border:u})=>{if(!t)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(e===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const c=o;return n?(c.push(ZR({element:n,padding:5})),N2(t,e,{placement:r,strategy:a,middleware:c}).then(({x:f,y:d,placement:p,middlewareData:g})=>{var v,_;const w={left:`${f}px`,top:`${d}px`,border:u},{x:A,y:S}=(v=g.arrow)!==null&&v!==void 0?v:{x:0,y:0},L=(_={top:"bottom",right:"left",bottom:"top",left:"right"}[p.split("-")[0]])!==null&&_!==void 0?_:"bottom",P=u&&{borderBottom:u,borderRight:u};let F=0;if(u){const R=`${u}`.match(/(\d+)px/);F=R!=null&&R[1]?Number(R[1]):1}return{tooltipStyles:w,tooltipArrowStyles:{left:A!=null?`${A}px`:"",top:S!=null?`${S}px`:"",right:"",bottom:"",...P,[L]:`-${4+F}px`},place:p}})):N2(t,e,{placement:"bottom",strategy:a,middleware:c}).then(({x:f,y:d,placement:p})=>({tooltipStyles:{left:`${f}px`,top:`${d}px`},tooltipArrowStyles:{},place:p}))},tw=(t,e)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(t,e),nw=(t,e,n)=>{let r=null;const i=function(...a){const o=()=>{r=null};!r&&(t.apply(this,a),r=setTimeout(o,e))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},rw=t=>t!==null&&!Array.isArray(t)&&typeof t=="object",q0=(t,e)=>{if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e))return t.length===e.length&&t.every((i,a)=>q0(i,e[a]));if(Array.isArray(t)!==Array.isArray(e))return!1;if(!rw(t)||!rw(e))return t===e;const n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(i=>q0(t[i],e[i]))},Ej=t=>{if(!(t instanceof HTMLElement||t instanceof SVGElement))return!1;const e=getComputedStyle(t);return["overflow","overflow-x","overflow-y"].some(n=>{const r=e.getPropertyValue(n);return r==="auto"||r==="scroll"})},iw=t=>{if(!t)return null;let e=t.parentElement;for(;e;){if(Ej(e))return e;e=e.parentElement}return document.scrollingElement||document.documentElement},Cj=typeof window<"u"?ie.useLayoutEffect:ie.useEffect,mi=t=>{t.current&&(clearTimeout(t.current),t.current=null)},Aj="DEFAULT_TOOLTIP_ID",Tj={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},Dj=ie.createContext({getTooltipData:()=>Tj});function YC(t=Aj){return ie.useContext(Dj).getTooltipData(t)}var vl={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},Kg={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const Oj=({forwardRef:t,id:e,className:n,classNameArrow:r,variant:i="dark",anchorId:a,anchorSelect:o,place:u="top",offset:c=10,events:f=["hover"],openOnClick:d=!1,positionStrategy:p="absolute",middlewares:g,wrapper:v,delayShow:_=0,delayHide:w=0,float:A=!1,hidden:S=!1,noArrow:L=!1,clickable:P=!1,closeOnEsc:F=!1,closeOnScroll:R=!1,closeOnResize:O=!1,openEvents:z,closeEvents:T,globalCloseEvents:N,imperativeModeOnly:$,style:V,position:G,afterShow:re,afterHide:Y,disableTooltip:M,content:D,contentWrapperRef:j,isOpen:Z,defaultIsOpen:ne=!1,setIsOpen:k,activeAnchor:le,setActiveAnchor:se,border:B,opacity:U,arrowColor:I,role:W="tooltip"})=>{var ae;const oe=ie.useRef(null),pe=ie.useRef(null),De=ie.useRef(null),de=ie.useRef(null),he=ie.useRef(null),[Te,fe]=ie.useState({tooltipStyles:{},tooltipArrowStyles:{},place:u}),[ce,ve]=ie.useState(!1),[Se,we]=ie.useState(!1),[H,X]=ie.useState(null),ee=ie.useRef(!1),te=ie.useRef(null),{anchorRefs:ge,setActiveAnchor:Re}=YC(e),xe=ie.useRef(!1),[me,Ee]=ie.useState([]),je=ie.useRef(!1),Pe=d||f.includes("click"),qe=Pe||(z==null?void 0:z.click)||(z==null?void 0:z.dblclick)||(z==null?void 0:z.mousedown),We=z?{...z}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!z&&Pe&&Object.assign(We,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const Ke=T?{...T}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!T&&Pe&&Object.assign(Ke,{mouseleave:!1,blur:!1,mouseout:!1});const Qe=N?{...N}:{escape:F||!1,scroll:R||!1,resize:O||!1,clickOutsideAnchor:qe||!1};$&&(Object.assign(We,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Ke,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(Qe,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),Cj(()=>(je.current=!0,()=>{je.current=!1}),[]);const at=et=>{je.current&&(et&&we(!0),setTimeout(()=>{je.current&&(k==null||k(et),Z===void 0&&ve(et))},10))};ie.useEffect(()=>{if(Z===void 0)return()=>null;Z&&we(!0);const et=setTimeout(()=>{ve(Z)},10);return()=>{clearTimeout(et)}},[Z]),ie.useEffect(()=>{if(ce!==ee.current)if(mi(he),ee.current=ce,ce)re==null||re();else{const et=(q=>{const Q=q.match(/^([\d.]+)(ms|s)$/);if(!Q)return 0;const[,ye,Ne]=Q;return Number(ye)*(Ne==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));he.current=setTimeout(()=>{we(!1),X(null),Y==null||Y()},et+25)}},[ce]);const xt=et=>{fe(q=>q0(q,et)?q:et)},bt=(et=_)=>{mi(De),Se?at(!0):De.current=setTimeout(()=>{at(!0)},et)},gt=(et=w)=>{mi(de),de.current=setTimeout(()=>{xe.current||at(!1)},et)},Rt=et=>{var q;if(!et)return;const Q=(q=et.currentTarget)!==null&&q!==void 0?q:et.target;if(!(Q!=null&&Q.isConnected))return se(null),void Re({current:null});_?bt():at(!0),se(Q),Re({current:Q}),mi(de)},wn=()=>{P?gt(w||100):w?gt():at(!1),mi(De)},Wt=({x:et,y:q})=>{var Q;const ye={getBoundingClientRect:()=>({x:et,y:q,width:0,height:0,top:q,left:et,right:et,bottom:q})};ew({place:(Q=H==null?void 0:H.place)!==null&&Q!==void 0?Q:u,offset:c,elementReference:ye,tooltipReference:oe.current,tooltipArrowReference:pe.current,strategy:p,middlewares:g,border:B}).then(Ne=>{xt(Ne)})},Cn=et=>{if(!et)return;const q=et,Q={x:q.clientX,y:q.clientY};Wt(Q),te.current=Q},Bt=et=>{var q;if(!ce)return;const Q=et.target;Q.isConnected&&(!((q=oe.current)===null||q===void 0)&&q.contains(Q)||[document.querySelector(`[id='${a}']`),...me].some(ye=>ye==null?void 0:ye.contains(Q))||(at(!1),mi(De)))},Jt=nw(Rt,50),ut=nw(wn,50),lt=et=>{ut.cancel(),Jt(et)},st=()=>{Jt.cancel(),ut()},ht=ie.useCallback(()=>{var et,q;const Q=(et=H==null?void 0:H.position)!==null&&et!==void 0?et:G;Q?Wt(Q):A?te.current&&Wt(te.current):le!=null&&le.isConnected&&ew({place:(q=H==null?void 0:H.place)!==null&&q!==void 0?q:u,offset:c,elementReference:le,tooltipReference:oe.current,tooltipArrowReference:pe.current,strategy:p,middlewares:g,border:B}).then(ye=>{je.current&&xt(ye)})},[ce,le,D,V,u,H==null?void 0:H.place,c,p,G,H==null?void 0:H.position,A]);ie.useEffect(()=>{var et,q;const Q=new Set(ge);me.forEach(Nt=>{M!=null&&M(Nt)||Q.add({current:Nt})});const ye=document.querySelector(`[id='${a}']`);ye&&!(M!=null&&M(ye))&&Q.add({current:ye});const Ne=()=>{at(!1)},Ge=iw(le),nt=iw(oe.current);Qe.scroll&&(window.addEventListener("scroll",Ne),Ge==null||Ge.addEventListener("scroll",Ne),nt==null||nt.addEventListener("scroll",Ne));let vt=null;Qe.resize?window.addEventListener("resize",Ne):le&&oe.current&&(vt=xC(le,oe.current,ht,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const zt=Nt=>{Nt.key==="Escape"&&at(!1)};Qe.escape&&window.addEventListener("keydown",zt),Qe.clickOutsideAnchor&&window.addEventListener("click",Bt);const At=[],nn=Nt=>!!(Nt!=null&&Nt.target&&(le!=null&&le.contains(Nt.target))),yn=Nt=>{ce&&nn(Nt)||Rt(Nt)},lr=Nt=>{ce&&nn(Nt)&&wn()},jn=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Vt=["click","dblclick","mousedown","mouseup"];Object.entries(We).forEach(([Nt,ur])=>{ur&&(jn.includes(Nt)?At.push({event:Nt,listener:lt}):Vt.includes(Nt)&&At.push({event:Nt,listener:yn}))}),Object.entries(Ke).forEach(([Nt,ur])=>{ur&&(jn.includes(Nt)?At.push({event:Nt,listener:st}):Vt.includes(Nt)&&At.push({event:Nt,listener:lr}))}),A&&At.push({event:"pointermove",listener:Cn});const gr=()=>{xe.current=!0},Ln=()=>{xe.current=!1,wn()},Sn=P&&(Ke.mouseout||Ke.mouseleave);return Sn&&((et=oe.current)===null||et===void 0||et.addEventListener("mouseover",gr),(q=oe.current)===null||q===void 0||q.addEventListener("mouseout",Ln)),At.forEach(({event:Nt,listener:ur})=>{Q.forEach(kn=>{var Dr;(Dr=kn.current)===null||Dr===void 0||Dr.addEventListener(Nt,ur)})}),()=>{var Nt,ur;Qe.scroll&&(window.removeEventListener("scroll",Ne),Ge==null||Ge.removeEventListener("scroll",Ne),nt==null||nt.removeEventListener("scroll",Ne)),Qe.resize?window.removeEventListener("resize",Ne):vt==null||vt(),Qe.clickOutsideAnchor&&window.removeEventListener("click",Bt),Qe.escape&&window.removeEventListener("keydown",zt),Sn&&((Nt=oe.current)===null||Nt===void 0||Nt.removeEventListener("mouseover",gr),(ur=oe.current)===null||ur===void 0||ur.removeEventListener("mouseout",Ln)),At.forEach(({event:kn,listener:Dr})=>{Q.forEach(Hr=>{var Mi;(Mi=Hr.current)===null||Mi===void 0||Mi.removeEventListener(kn,Dr)})})}},[le,ht,Se,ge,me,z,T,N,Pe,_,w]),ie.useEffect(()=>{var et,q;let Q=(q=(et=H==null?void 0:H.anchorSelect)!==null&&et!==void 0?et:o)!==null&&q!==void 0?q:"";!Q&&e&&(Q=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`);const ye=new MutationObserver(Ne=>{const Ge=[],nt=[];Ne.forEach(vt=>{if(vt.type==="attributes"&&vt.attributeName==="data-tooltip-id"&&(vt.target.getAttribute("data-tooltip-id")===e?Ge.push(vt.target):vt.oldValue===e&&nt.push(vt.target)),vt.type==="childList"){if(le){const zt=[...vt.removedNodes].filter(At=>At.nodeType===1);if(Q)try{nt.push(...zt.filter(At=>At.matches(Q))),nt.push(...zt.flatMap(At=>[...At.querySelectorAll(Q)]))}catch{}zt.some(At=>{var nn;return!!(!((nn=At==null?void 0:At.contains)===null||nn===void 0)&&nn.call(At,le))&&(we(!1),at(!1),se(null),mi(De),mi(de),!0)})}if(Q)try{const zt=[...vt.addedNodes].filter(At=>At.nodeType===1);Ge.push(...zt.filter(At=>At.matches(Q))),Ge.push(...zt.flatMap(At=>[...At.querySelectorAll(Q)]))}catch{}}}),(Ge.length||nt.length)&&Ee(vt=>[...vt.filter(zt=>!nt.includes(zt)),...Ge])});return ye.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{ye.disconnect()}},[e,o,H==null?void 0:H.anchorSelect,le]),ie.useEffect(()=>{ht()},[ht]),ie.useEffect(()=>{if(!(j!=null&&j.current))return()=>null;const et=new ResizeObserver(()=>{setTimeout(()=>ht())});return et.observe(j.current),()=>{et.disconnect()}},[D,j==null?void 0:j.current]),ie.useEffect(()=>{var et;const q=document.querySelector(`[id='${a}']`),Q=[...me,q];le&&Q.includes(le)||se((et=me[0])!==null&&et!==void 0?et:q)},[a,me,le]),ie.useEffect(()=>(ne&&at(!0),()=>{mi(De),mi(de)}),[]),ie.useEffect(()=>{var et;let q=(et=H==null?void 0:H.anchorSelect)!==null&&et!==void 0?et:o;if(!q&&e&&(q=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),q)try{const Q=Array.from(document.querySelectorAll(q));Ee(Q)}catch{Ee([])}},[e,o,H==null?void 0:H.anchorSelect]),ie.useEffect(()=>{De.current&&(mi(De),bt(_))},[_]);const cn=(ae=H==null?void 0:H.content)!==null&&ae!==void 0?ae:D,Vn=ce&&Object.keys(Te.tooltipStyles).length>0;return ie.useImperativeHandle(t,()=>({open:et=>{if(et!=null&&et.anchorSelect)try{document.querySelector(et.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${et.anchorSelect}" is not a valid CSS selector`)}X(et??null),et!=null&&et.delay?bt(et.delay):at(!0)},close:et=>{et!=null&&et.delay?gt(et.delay):at(!1)},activeAnchor:le,place:Te.place,isOpen:!!(Se&&!S&&cn&&Vn)})),Se&&!S&&cn?er.createElement(v,{id:e,role:W,className:U0("react-tooltip",vl.tooltip,Kg.tooltip,Kg[i],n,`react-tooltip__place-${Te.place}`,vl[Vn?"show":"closing"],Vn?"react-tooltip__show":"react-tooltip__closing",p==="fixed"&&vl.fixed,P&&vl.clickable),onTransitionEnd:et=>{mi(he),ce||et.propertyName!=="opacity"||(we(!1),X(null),Y==null||Y())},style:{...V,...Te.tooltipStyles,opacity:U!==void 0&&Vn?U:void 0},ref:oe},cn,er.createElement(v,{className:U0("react-tooltip-arrow",vl.arrow,Kg.arrow,r,L&&vl.noArrow),style:{...Te.tooltipArrowStyles,background:I?`linear-gradient(to right bottom, transparent 50%, ${I} 50%)`:void 0},ref:pe})):null},kj=({content:t})=>er.createElement("span",{dangerouslySetInnerHTML:{__html:t}}),aw=er.forwardRef(({id:t,anchorId:e,anchorSelect:n,content:r,html:i,render:a,className:o,classNameArrow:u,variant:c="dark",place:f="top",offset:d=10,wrapper:p="div",children:g=null,events:v=["hover"],openOnClick:_=!1,positionStrategy:w="absolute",middlewares:A,delayShow:S=0,delayHide:L=0,float:P=!1,hidden:F=!1,noArrow:R=!1,clickable:O=!1,closeOnEsc:z=!1,closeOnScroll:T=!1,closeOnResize:N=!1,openEvents:$,closeEvents:V,globalCloseEvents:G,imperativeModeOnly:re=!1,style:Y,position:M,isOpen:D,defaultIsOpen:j=!1,disableStyleInjection:Z=!1,border:ne,opacity:k,arrowColor:le,setIsOpen:se,afterShow:B,afterHide:U,disableTooltip:I,role:W="tooltip"},ae)=>{const[oe,pe]=ie.useState(r),[De,de]=ie.useState(i),[he,Te]=ie.useState(f),[fe,ce]=ie.useState(c),[ve,Se]=ie.useState(d),[we,H]=ie.useState(S),[X,ee]=ie.useState(L),[te,ge]=ie.useState(P),[Re,xe]=ie.useState(F),[me,Ee]=ie.useState(p),[je,Pe]=ie.useState(v),[qe,We]=ie.useState(w),[Ke,Qe]=ie.useState(null),[at,xt]=ie.useState(null),bt=ie.useRef(Z),{anchorRefs:gt,activeAnchor:Rt}=YC(t),wn=ut=>ut==null?void 0:ut.getAttributeNames().reduce((lt,st)=>{var ht;return st.startsWith("data-tooltip-")&&(lt[st.replace(/^data-tooltip-/,"")]=(ht=ut==null?void 0:ut.getAttribute(st))!==null&&ht!==void 0?ht:null),lt},{}),Wt=ut=>{const lt={place:st=>{var ht;Te((ht=st)!==null&&ht!==void 0?ht:f)},content:st=>{pe(st??r)},html:st=>{de(st??i)},variant:st=>{var ht;ce((ht=st)!==null&&ht!==void 0?ht:c)},offset:st=>{Se(st===null?d:Number(st))},wrapper:st=>{var ht;Ee((ht=st)!==null&&ht!==void 0?ht:p)},events:st=>{const ht=st==null?void 0:st.split(" ");Pe(ht??v)},"position-strategy":st=>{var ht;We((ht=st)!==null&&ht!==void 0?ht:w)},"delay-show":st=>{H(st===null?S:Number(st))},"delay-hide":st=>{ee(st===null?L:Number(st))},float:st=>{ge(st===null?P:st==="true")},hidden:st=>{xe(st===null?F:st==="true")},"class-name":st=>{Qe(st)}};Object.values(lt).forEach(st=>st(null)),Object.entries(ut).forEach(([st,ht])=>{var cn;(cn=lt[st])===null||cn===void 0||cn.call(lt,ht)})};ie.useEffect(()=>{pe(r)},[r]),ie.useEffect(()=>{de(i)},[i]),ie.useEffect(()=>{Te(f)},[f]),ie.useEffect(()=>{ce(c)},[c]),ie.useEffect(()=>{Se(d)},[d]),ie.useEffect(()=>{H(S)},[S]),ie.useEffect(()=>{ee(L)},[L]),ie.useEffect(()=>{ge(P)},[P]),ie.useEffect(()=>{xe(F)},[F]),ie.useEffect(()=>{We(w)},[w]),ie.useEffect(()=>{bt.current!==Z&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[Z]),ie.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:Z==="core",disableBase:Z}}))},[]),ie.useEffect(()=>{var ut;const lt=new Set(gt);let st=n;if(!st&&t&&(st=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),st)try{document.querySelectorAll(st).forEach(q=>{lt.add({current:q})})}catch{console.warn(`[react-tooltip] "${st}" is not a valid CSS selector`)}const ht=document.querySelector(`[id='${e}']`);if(ht&&lt.add({current:ht}),!lt.size)return()=>null;const cn=(ut=at??ht)!==null&&ut!==void 0?ut:Rt.current,Vn=new MutationObserver(q=>{q.forEach(Q=>{var ye;if(!cn||Q.type!=="attributes"||!(!((ye=Q.attributeName)===null||ye===void 0)&&ye.startsWith("data-tooltip-")))return;const Ne=wn(cn);Wt(Ne)})}),et={attributes:!0,childList:!1,subtree:!1};if(cn){const q=wn(cn);Wt(q),Vn.observe(cn,et)}return()=>{Vn.disconnect()}},[gt,Rt,at,e,n]),ie.useEffect(()=>{Y!=null&&Y.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),ne&&!tw("border",`${ne}`)&&console.warn(`[react-tooltip] "${ne}" is not a valid \`border\`.`),Y!=null&&Y.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),k&&!tw("opacity",`${k}`)&&console.warn(`[react-tooltip] "${k}" is not a valid \`opacity\`.`)},[]);let Cn=g;const Bt=ie.useRef(null);if(a){const ut=a({content:(at==null?void 0:at.getAttribute("data-tooltip-content"))||oe||null,activeAnchor:at});Cn=ut?er.createElement("div",{ref:Bt,className:"react-tooltip-content-wrapper"},ut):null}else oe&&(Cn=oe);De&&(Cn=er.createElement(kj,{content:De}));const Jt={forwardRef:ae,id:t,anchorId:e,anchorSelect:n,className:U0(o,Ke),classNameArrow:u,content:Cn,contentWrapperRef:Bt,place:he,variant:fe,offset:ve,wrapper:me,events:je,openOnClick:_,positionStrategy:qe,middlewares:A,delayShow:we,delayHide:X,float:te,hidden:Re,noArrow:R,clickable:O,closeOnEsc:z,closeOnScroll:T,closeOnResize:N,openEvents:$,closeEvents:V,globalCloseEvents:G,imperativeModeOnly:re,style:Y,position:M,isOpen:D,defaultIsOpen:j,border:ne,opacity:k,arrowColor:le,setIsOpen:se,afterShow:B,afterHide:U,disableTooltip:I,activeAnchor:at,setActiveAnchor:ut=>xt(ut),role:W};return er.createElement(Oj,{...Jt})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",t=>{t.detail.disableCore||J2({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),t.detail.disableBase||J2({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});er.memo(({item:t,onUpdateQuantity:e,onUpdatePrice:n,onUpdateDiscount:r,onRemove:i,onTogglePayment:a,paymentCard:o})=>{const u=Math.round(t.sale_price*t.quantity),c=`${t.object}-${t.category}-${t.serial_number||"no-serial"}`,f=`${c}-price`,d=`${c}-discount`,p=`${c}-quantity`;return x.jsxs("tr",{children:[x.jsx("td",{className:"table__td--service-name",children:t.displayLabel||t.object}),x.jsx("td",{children:t.category}),x.jsx("td",{className:"table-sale__td--serial-number",children:t.serial_number||"Б/Н"}),x.jsx("td",{className:"table-sale__td--price",children:x.jsx("input",{id:f,type:"text",inputMode:"numeric",pattern:"[0-9]*",value:t.sale_price,onChange:g=>{(t.type!=="service"||t.object==="Оплата по факту")&&n(t,g.target.value)},className:"form__input form__input--no-spinner",placeholder:"0",autoComplete:"off",disabled:t.type==="service"&&t.object!=="Оплата по факту",title:t.type==="service"&&t.object!=="Оплата по факту"?"Цена для этой услуги не редактируется":""})}),x.jsx("td",{className:"table-sale__td--discount",children:x.jsx("input",{id:d,type:"text",inputMode:"numeric",pattern:"[0-9]*",min:"0",value:t.discount,onChange:g=>r(t,g.target.value),className:"form__input form__input--no-spinner",placeholder:"0",autoComplete:"off"})}),x.jsx("td",{className:"table-sale__td--quantity",children:x.jsx("input",{id:p,type:"number",inputMode:"numeric",pattern:"[0-9]*",max:t.maxQuantity,value:t.quantity,onChange:g=>e(t,g.target.value),onBlur:g=>{(g.target.value===""||parseInt(g.target.value)<1)&&e(t,"1")},className:"form__input",autoComplete:"off"})}),x.jsx("td",{className:"table-sale__td--payment",children:x.jsxs("div",{className:"payment-chip",children:[x.jsx("button",{className:`payment-chip__half payment-chip__half--left ${o===!1?"payment-chip__half--active":""}`,onClick:()=>a(t,!1),type:"button",disabled:t.category==="Печать"||t.category==="Подарочная карта",children:"Нал"}),x.jsx("button",{className:`payment-chip__half payment-chip__half--right ${o===!0?"payment-chip__half--active":""}`,onClick:()=>a(t,!0),type:"button",disabled:t.category==="Печать"||t.category==="Подарочная карта",children:"Безнал"})]})}),x.jsxs("td",{className:"table-sale__td--total-price",children:[u," ₽"]}),x.jsx("td",{className:"table-sale__td--actions",children:x.jsx("button",{className:"button button--icon",onClick:()=>i(t),title:"Удалить",children:"×"})})]},t.object)},(t,e)=>t.item===e.item&&t.item.quantity===e.item.quantity&&t.item.sale_price===e.item.sale_price&&t.paymentCard===e.paymentCard);const Qi=new Intl.NumberFormat("ru-RU",{maximumFractionDigits:0}),Nj=er.memo(({item:t,supabase:e,categoriesList:n,objectsList:r,editingId:i,editedData:a,setEditedData:o,updatingIds:u,deletingIds:c,onSave:f,onCancel:d,onEdit:p,onDelete:g,setEditingId:v,fetchObjectsByCategory:_,activeTheme:w,isExpanded:A,onToggleExpand:S,isMenuOpen:L,onMenuToggle:P,hasEquipment:F,setHasEquipment:R,isAdmin:O})=>{var Te,fe,ce,ve,Se,we;const z=["коробка","комплект проводов","геймпад","память"],[T,N]=ie.useState([]),[$,V]=ie.useState(!1),[G,re]=ie.useState([]),[Y,M]=ie.useState([]),[D,j]=ie.useState(""),[Z,ne]=ie.useState(!1),[k,le]=ie.useState({total:0,completed:0,isProcessing:!1}),se=ie.useRef(null),B=ie.useRef(null),U=ie.useRef(null),I=L&&i!==t.id,W=L&&i===t.id,ae=H=>{if(!H)return{top:"auto",bottom:"100%",transform:"translateY(-10px)"};const X=H.getBoundingClientRect();return window.innerHeight-X.bottom<120?{top:"auto",bottom:"100%",transform:"translateY(34px)"}:{top:"100%",bottom:"auto",transform:"translateY(-34px)"}},oe=H=>{if(!H||H.length===0)return null;const X=H.filter(ge=>ge.purchase_price!==null&&ge.purchase_price!==void 0&&ge.quantity&&ge.quantity>0);if(X.length===0)return null;if(X.length===1){const ge=parseInt(X[0].purchase_price);return isNaN(ge)?null:ge}let ee=0,te=0;return X.forEach(ge=>{const Re=parseFloat(ge.purchase_price)||0,xe=parseInt(ge.quantity)||0;ee+=Re*xe,te+=xe}),te>0?Math.round(ee/te):null},pe=H=>{H.preventDefault(),H.stopPropagation(),D&&!isNaN(D)&&o(X=>({...X,equipment:[...X.equipment.filter(ee=>!ee.startsWith("память")),`память ${D}Gb`]})),ne(!1)};ie.useEffect(()=>{const H=X=>{if(X.target.closest(".photo-gallery-container"))return;const ee=X.target.closest('.button--icon img[alt="Действия"]')&&X.target.closest("tr.edit-mode"),te=X.target.closest('.button--icon img[alt="Действия"]')&&!X.target.closest("tr.edit-mode");L&&!te&&!ee&&!X.target.closest(".actions-menu")&&P(null)};return document.addEventListener("click",H),()=>{document.removeEventListener("click",H)}},[L]);const De=async H=>{const X=Array.from(H.target.files);if(X.length===0)return;le({total:X.length,completed:0,isProcessing:!0});const ee={maxSizeMB:.5,maxWidthOrHeight:1920,useWebWorker:!0,fileType:"image/webp",initialQuality:.8,preserveExif:!1,maxIteration:10},te=await Promise.all(X.map(async ge=>{try{const Re=await Qn(ge,ee);return le(xe=>({...xe,completed:xe.completed+1})),Re}catch(Re){return console.error("Ошибка при сжатии изображения:",Re),le(xe=>({...xe,completed:xe.completed+1})),ge}}));re(ge=>[...ge,...te]),se.current.value="",le(ge=>({...ge,isProcessing:!1}))},de=H=>{H.startsWith("purchase-photos/")?(M(X=>[...X,H]),o(X=>({...X,photo_paths:X.photo_paths.filter(ee=>ee!==H)}))):re(X=>X.filter((ee,te)=>te!==parseInt(H)))};ie.useEffect(()=>{a.category?_(a.category).then(H=>{N(H)}):N([])},[a.category,_]);const he=(H,X)=>{X.preventDefault(),X.stopPropagation(),H==="память"?a.equipment.some(ee=>ee.startsWith("память"))?(o(ee=>({...ee,equipment:ee.equipment.filter(te=>!te.startsWith("память"))})),j("")):ne(!0):o(ee=>{const te=ee.equipment.includes(H)?ee.equipment.filter(ge=>ge!==H):[...ee.equipment,H];return{...ee,equipment:te}})};return ie.useCallback(async H=>{if(!e||!H)return[];try{const{data:X,error:ee}=await e.from("sale_price_history").select("sale_price, changed_at").eq("purchase_id",H).order("changed_at",{ascending:!1});if(ee)throw ee;return X||[]}catch(X){return console.error("Ошибка загрузки истории цен:",X),[]}},[e]),i===t.id?x.jsxs("tr",{className:"edit-mode",children:[x.jsx("td",{colSpan:"10",className:"edit-form-cell",children:x.jsxs("div",{className:"edit-form-container",children:[x.jsx("div",{className:"form__group form__group--vertical",style:{marginBottom:"1rem"},children:x.jsxs("div",{className:"view-mode-buttons",children:[x.jsx("button",{type:"button",className:a.clientType==="supplier"?"active":"",onClick:()=>o({...a,clientType:"supplier",last_name:null,first_name:null,middle_name:null,passport_series:null,passport_number:null}),children:"Поставщик"}),x.jsx("button",{type:"button",className:a.clientType==="individual"?"active":"",onClick:()=>o({...a,clientType:"individual",contractor:null}),children:"Частное лицо"})]})}),x.jsxs("div",{className:"form__group",children:[x.jsxs("div",{className:"form__group form__group--vertical form__group--30",children:[x.jsx("label",{htmlFor:`category-select-${t.id}`,children:"Категория"}),x.jsx(Da,{inputId:`category-select-${t.id}`,options:n.map(H=>({value:H,label:H})),value:a.category?{value:a.category,label:a.category}:null,onChange:H=>o({...a,category:H?H.value:"",object:""}),onCreateOption:H=>{const X=H.trim();n.includes(X)?o({...a,category:X}):o({...a,category:X,object:""})},placeholder:"Выбрать или создать новую категорию",required:!0,isSearchable:!0,isClearable:!0,noOptionsMessage:()=>"Нет совпадений",formatCreateLabel:H=>`Создать "${H}"`,className:"form__input react-select-container",classNamePrefix:"select",styles:{control:(H,X)=>({...H,background:"transparent",border:X.isFocused?"1px solid var(--text-primary)":0,boxShadow:(X.isFocused,0),"&:hover":{border:X.isFocused?"1px solid var(--text-primary)":0}}),menu:H=>({...H,backgroundColor:"var(--bg-primary)"}),option:(H,X)=>({...H,whiteSpace:"nowrap",textOverflow:"ellipsis",backgroundColor:X.isSelected?"var(--accent-color)":"","&:hover":{backgroundColor:X.isSelected?"var(--accent-color)":"color-mix(in srgb, var(--accent-color) 40%, transparent)"}}),singleValue:H=>({...H,color:"var(--text-primary)"}),placeholder:H=>({...H,color:"var(--text-secondary)",fontSize:"14px"})}})]}),x.jsxs("div",{className:"form__group form__group--vertical form__group--30",children:[x.jsx("label",{htmlFor:`object-select-${t.id}`,children:"Изделие"}),x.jsx(Da,{inputId:`object-select-${t.id}`,options:T.map(H=>({value:H,label:H})),value:a.object?{value:a.object,label:a.object}:null,onChange:H=>o({...a,object:H?H.value:""}),onCreateOption:H=>{if(!a.category){alert("Сначала выберите или создайте категорию");return}const X=H.trim();T.includes(X)?o({...a,object:X}):(o({...a,object:X}),N([...T,X]))},placeholder:"Выберите или введите новое изделие",required:!0,isSearchable:!0,isClearable:!0,isDisabled:!a.category,noOptionsMessage:()=>"Нет совпадений",formatCreateLabel:H=>`Создать "${H}"`,className:"form__input react-select-container",classNamePrefix:"select",styles:{control:(H,X)=>({...H,background:"transparent",border:X.isFocused?"1px solid var(--text-primary)":0,boxShadow:(X.isFocused,0),"&:hover":{border:X.isFocused?"1px solid var(--text-primary)":0}}),menu:H=>({...H,backgroundColor:"var(--bg-primary)"}),option:(H,X)=>({...H,whiteSpace:"nowrap",textOverflow:"ellipsis",backgroundColor:X.isSelected?"var(--accent-color)":"","&:hover":{backgroundColor:X.isSelected?"var(--accent-color)":"color-mix(in srgb, var(--accent-color) 40%, transparent)"}}),singleValue:H=>({...H,color:"var(--text-primary)"}),placeholder:H=>({...H,color:"var(--text-secondary)",fontSize:"14px"})}})]}),x.jsxs("div",{className:"form__group form__group--vertical form__group--short",children:[x.jsx("label",{htmlFor:`quantity-${t.id}`,children:"Кол-во"}),x.jsx("input",{id:`quantity-${t.id}`,className:"form__input",type:"text",value:a.quantity||"",onChange:H=>{/^\d*$/.test(H.target.value)&&o({...a,quantity:H.target.value})},pattern:"[1-9]\\d*",required:!0,readOnly:!0,placeholder:"Количество"})]}),x.jsxs("div",{className:"form__group form__group--vertical form__group--20",children:[x.jsx("label",{htmlFor:`serial_number-${t.id}`,children:"Серийный номер"}),x.jsx("input",{id:`serial_number-${t.id}`,className:"form__input",type:"text",value:a.serial_number||"",onChange:H=>o({...a,serial_number:H.target.value}),placeholder:"Серийный номер"})]}),x.jsxs("div",{className:"form__group form__group--vertical form__group--20",children:[x.jsx("label",{htmlFor:`seal_number-${t.id}`,children:"Номер пломбы"}),x.jsx("input",{id:`seal_number-${t.id}`,className:"form__input form__input--50",type:"text",value:a.seal_number||"",onChange:H=>o({...a,seal_number:H.target.value}),placeholder:"Номер внутренней пломбы (опционально)"})]})]}),x.jsxs("div",{className:"form__group",children:[x.jsxs("div",{className:"form__group form__group--vertical form__group--25",children:[x.jsx("label",{htmlFor:`purchase_price-${t.id}`,children:"Цена закупа, ₽"}),x.jsx("input",{id:`purchase_price-${t.id}`,className:"form__input",type:"text",value:oe(a.purchase_history)||"",onChange:H=>o({...a,purchase_price:H.target.value.replace(/[^0-9 ]/g,"")}),placeholder:"Цена закупа (опционально)",readOnly:!0})]}),x.jsxs("div",{className:"form__group form__group--vertical form__group--25",children:[x.jsx("label",{htmlFor:`sale_price-${t.id}`,children:"Цена продажи, ₽"}),x.jsx("input",{id:`sale_price-${t.id}`,className:"form__input",type:"text",inputMode:"numeric",value:a.sale_price||"",onChange:H=>o({...a,sale_price:H.target.value.replace(/[^0-9 ]/g,"")}),placeholder:"Цена продажи (опционально)"})]}),x.jsxs("div",{className:"form__group form__group--vertical form__group--25",children:[x.jsx("label",{htmlFor:`created_at-${t.id}`,children:"Дата закупа"}),x.jsx("input",{id:`created_at-${t.id}`,className:"form__input",type:"text",value:a.created_at?new Date(a.created_at).toLocaleDateString():"",readOnly:!0,placeholder:"Дата закупа"})]}),x.jsxs("div",{className:"form__group form__group--vertical form__group--25",children:[x.jsx("label",{htmlFor:`sold_at-${t.id}`,children:"Дата продажи"}),x.jsx("input",{id:`sold_at-${t.id}`,className:"form__input form__input--50",type:"text",value:a.sold_at?new Date(a.sold_at).toLocaleDateString():"",readOnly:!0,placeholder:"Дата продажи"})]})]}),a.clientType==="supplier"?x.jsx("div",{className:"form__group",children:x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("label",{htmlFor:`contractor-${t.id}`,children:"Поставщик"}),x.jsx("input",{id:`contractor-${t.id}`,className:"form__input form__input--50",type:"text",value:a.contractor||"",onChange:H=>o({...a,contractor:H.target.value}),placeholder:"Поставщик (опционально)"})]})}):x.jsxs("div",{className:"form__group",children:[x.jsxs("div",{className:"form__name",children:[x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("label",{htmlFor:`last_name-${t.id}`,children:"Фамилия"}),x.jsx("input",{id:`last_name-${t.id}`,className:"form__input",type:"text",value:a.last_name||"",onChange:H=>o({...a,last_name:H.target.value}),placeholder:"Фамилия"})]}),x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("label",{htmlFor:`first_name-${t.id}`,children:"Имя"}),x.jsx("input",{id:`first_name-${t.id}`,className:"form__input",type:"text",value:a.first_name||"",onChange:H=>o({...a,first_name:H.target.value}),placeholder:"Имя"})]}),x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("label",{htmlFor:`middle_name-${t.id}`,children:"Отчество"}),x.jsx("input",{id:`middle_name-${t.id}`,className:"form__input",type:"text",value:a.middle_name||"",onChange:H=>o({...a,middle_name:H.target.value}),placeholder:"Отчество (опционально)"})]})]}),x.jsxs("div",{className:"form__group",children:[x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("label",{htmlFor:`passport_series-${t.id}`,children:"Серия паспорта"}),x.jsx("input",{id:`passport_series-${t.id}`,className:"form__input form__input--50",type:"text",value:a.passport_series||"",onChange:H=>o({...a,passport_series:H.target.value.replace(/\D/g,"").slice(0,4)}),placeholder:"Серия паспорта (4 цифры)",maxLength:4})]}),x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("label",{htmlFor:`passport_number-${t.id}`,children:"Номер паспорта"}),x.jsx("input",{id:`passport_number-${t.id}`,className:"form__input form__input--50",type:"text",value:a.passport_number||"",onChange:H=>o({...a,passport_number:H.target.value.replace(/\D/g,"").slice(0,6)}),placeholder:"Номер паспорта (6 цифр)",maxLength:6})]})]})]}),x.jsxs("div",{className:"form__group",children:[x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("label",{htmlFor:`state-${t.id}`,children:"Внешний вид"}),x.jsx("textarea",{id:`state-${t.id}`,className:"form__input form__input--textarea",value:a.state||"",onChange:H=>o({...a,state:H.target.value}),placeholder:"Внешний вид (опционально)",rows:"3"})]}),x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("label",{htmlFor:`note-${t.id}`,children:"Заметка"}),x.jsx("textarea",{id:`note-${t.id}`,className:"form__input form__input--textarea",value:a.note||"",onChange:H=>o({...a,note:H.target.value}),placeholder:"Заметка (опционально)",rows:"3"})]})]}),x.jsxs("div",{className:"form__group form__group form__group--vertical",children:[x.jsxs("span",{className:"form__caption",children:[a.is_new?"Новое":"Б/У",x.jsx("sup",{className:"form__info form__info--edited",title:"Соcтояние товара: новое или Б/У",children:"ℹ"})]}),x.jsxs("label",{className:"switch",children:[x.jsx("input",{id:"is_new",type:"checkbox",checked:a.is_new||!1,onChange:H=>o({...a,is_new:H.target.checked})}),x.jsx("span",{className:`slider round ${a.is_new?"is-new":"is-used"}`})]})]}),x.jsxs("div",{className:"form__group form__group form__group--vertical",children:[x.jsx("div",{className:"form__group form__group--vertical",children:x.jsxs("div",{className:"switch-container switch-container--equipment",children:[x.jsx("span",{className:"form__caption",children:F?"Комплект":"Без комплекта"}),x.jsxs("label",{className:"switch",children:[x.jsx("input",{id:"equipment",type:"checkbox",checked:F,onChange:()=>{R(!F),F&&(o(H=>({...H,equipment:[]})),j(""),ne(!1))}}),x.jsx("span",{className:"slider round"})]})]})}),x.jsx("div",{className:"chips-container",children:z.map(H=>{var X,ee,te,ge;return x.jsx("div",{className:"chip-container",children:H==="память"&&Z?x.jsxs("div",{className:"memory-input-container",onClick:Re=>Re.stopPropagation(),children:[x.jsx("input",{type:"number",value:D,onChange:Re=>j(Re.target.value),placeholder:"ГБ",className:"memory-input",min:"1",onClick:Re=>Re.stopPropagation()}),x.jsx("button",{onClick:pe,className:"memory-confirm-button",disabled:!D||isNaN(D)||D<=0,children:"✓"})]}):x.jsx("button",{type:"button",className:`button chip ${(X=a.equipment)!=null&&X.includes(H)||H==="память"&&((ee=a.equipment)!=null&&ee.some(Re=>Re.startsWith("память")))?"chip--active":""}`,onClick:Re=>F&&he(H,Re),disabled:!F,children:H==="память"&&((te=a.equipment)!=null&&te.some(Re=>Re.startsWith("память")))?`память ${((ge=a.equipment.find(Re=>Re.startsWith("память")))==null?void 0:ge.split(" ")[1])||""}`:H})},H)})})]}),((Te=a.category)==null?void 0:Te.startsWith("Консоли"))&&x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsxs("span",{className:"form__caption",children:[a.is_original?"Оригинал":"Модификация",x.jsx("sup",{className:"form__info form__info--edited",title:"Тип товара: оригинал или модификация",children:"ℹ"})]}),x.jsxs("label",{className:"switch",children:[x.jsx("input",{id:"is_original",type:"checkbox",checked:a.is_original||!1,onChange:()=>{const H=!a.is_original;let X=[...a.equipment||[]];H?(X=X.filter(ee=>ee!=="модификация"),X.includes("оригинал")||X.push("оригинал")):(X=X.filter(ee=>ee!=="оригинал"),X.includes("модификация")||X.push("модификация")),o({...a,is_original:H,equipment:X})}}),x.jsx("span",{className:"slider round"})]})]}),x.jsx("div",{className:"form__photos form__photos--wrapper",children:x.jsxs("div",{className:"form__wrapper",children:[k.isProcessing&&x.jsxs("div",{className:"compression-progress",children:[x.jsx("progress",{value:k.completed,max:k.total}),x.jsxs("span",{children:["Сжатие изображений: ",k.completed,"/",k.total]})]}),x.jsxs("div",{className:"photos-preview--edit",children:[(fe=a.photo_paths)==null?void 0:fe.map((H,X)=>x.jsxs("div",{className:"photo-thumbnail",children:[x.jsx("img",{src:`https://ljcazclnmhjdcmgefcvp.supabase.co/storage/v1/object/public/purchase-photos/${H}`,alt:`Фото ${X+1}`,className:"photo-thumbnail__image",onError:ee=>{ee.target.src="/documents/icons/icon--photo.svg"}}),x.jsx("button",{type:"button",className:"photo-thumbnail__delete",onClick:()=>de(H),title:"Удалить фото",children:"×"})]},H)),G.map((H,X)=>x.jsxs("div",{className:"photo-thumbnail",children:[x.jsx("img",{src:URL.createObjectURL(H),alt:`Новое фото ${X+1}`,className:"photo-thumbnail__image"}),x.jsx("button",{type:"button",className:"photo-thumbnail__delete",onClick:()=>de(X.toString()),children:"×"})]},`new-${X}`))]}),x.jsx("input",{type:"file",id:`photo-upload-${t.id}`,ref:se,multiple:!0,accept:"image/*",onChange:De,style:{display:"none"}}),x.jsx("label",{htmlFor:`photo-upload-${t.id}`,className:"button button--secondary button--upload",children:"Добавить фото"})]})})]})}),x.jsx("td",{className:"form__status",children:x.jsx("span",{className:t.is_sale?"active":"archived",children:t.is_sale?"В продаже":"Продано"})}),x.jsx("td",{className:"form__buttons",children:x.jsxs("div",{className:"table__buttons",onClick:H=>H.stopPropagation(),children:[x.jsx("button",{className:"button button--icon",onClick:H=>{H.stopPropagation(),P(t.id)},ref:U,title:"Действия",children:x.jsx("img",{src:`/documents/icons/icon--more-${w}.svg`,alt:"Действия"})}),W&&x.jsxs("div",{className:"actions-menu",style:{position:"absolute",...ae(U.current),right:32,zIndex:1e3},children:[x.jsx("button",{className:"button button--icon",onClick:async()=>{var X;if(!a.object||!a.category){alert("Пожалуйста, заполните все обязательные поля");return}const H=((X=a.serial_number)==null?void 0:X.trim())||"Б/Н";await f(t.id,{...a,serial_number:H,newPhotos:G,photosToDelete:Y,receipt_number:t.receipt_number}).then(()=>{v(null),re([]),M([])}),P(null)},disabled:u.includes(t.id)||c.includes(t.id),children:u.includes(t.id)?x.jsx("img",{src:`/documents/icons/icon--loading-${w}.svg`,alt:"В процессе",className:"loading-icon"}):x.jsx("img",{src:`/documents/icons/icon--save-${w}.svg`,alt:"Сохранить",title:"Сохранить"})}),x.jsx("button",{className:"button button--icon",onClick:()=>{v(null),P(null)},disabled:u.includes(t.id)||c.includes(t.id),children:x.jsx("img",{src:`/documents/icons/icon--cancel-${w}.svg`,alt:"Отменить",title:"Отменить"})}),x.jsx("button",{className:"button button--icon",onClick:async H=>{H.stopPropagation();try{await g(t.id),P(null)}catch(X){console.error("Ошибка при удалении:",X)}},disabled:u.includes(t.id)||c.includes(t.id),title:c.includes(t.id)?"Удаление...":"Удалить",children:c.includes(t.id)?x.jsx("img",{src:`/documents/icons/icon--loading-${w}.svg`,alt:"Удаление...",className:"loading-icon"}):x.jsx("img",{src:`/documents/icons/icon--delete-${w}.svg`,alt:"Удалить"})})]})]})})]}):x.jsxs("tr",{className:`${t.is_sale?"":"archived-row"}  ${A?"table__row--expanded":""}`,onClick:H=>{$||H.target.closest(".photo-gallery")||H.target.closest(".actions-menu")||H.target.closest('.button--icon img[alt="Действия"]')||S(t.id)},children:[x.jsx("td",{className:`form__receipt-number ${A?"table__cell--expanded":"table__cell--collapsed"}`,children:t.receipt_number}),x.jsx("td",{className:`${t.is_new?"table__td--new":"table__td--not-new"} ${A?"table__cell--expanded":"table__cell--collapsed"}`,children:x.jsx("span",{children:t.object||"—"})}),x.jsx("td",{className:A?"table__cell--expanded":"table__cell--collapsed",children:t.category}),x.jsx("td",{className:`table__td--serial-number ${A?"table__cell--expanded":"table__cell--collapsed"}`,children:t.serial_number||"—"}),x.jsx("td",{className:`table__td--equipment ${A?"table__cell--expanded":"table__cell--collapsed"}`,children:((ce=t.equipment)==null?void 0:ce.length)===0||!t.equipment?"Без комплекта":x.jsxs("div",{children:[((ve=t.category)==null?void 0:ve.startsWith("Консоли"))&&x.jsxs(x.Fragment,{children:[t.equipment.includes("оригинал")&&x.jsx("img",{src:`/documents/icons/icon--original-${w}.svg`,alt:"оригинал",className:"icon icon--equipment-icon",title:"оригинал"}),t.equipment.includes("модификация")&&x.jsx("img",{src:`/documents/icons/icon--modification-${w}.svg`,alt:"модификация",className:"icon icon--equipment-icon",title:"модификация"})]}),t.equipment.includes("коробка")&&x.jsx("img",{src:`/documents/icons/icon--box-${w}.svg`,alt:"коробка",className:"icon icon--equipment-icon",title:"коробка"}),t.equipment.includes("комплект проводов")&&x.jsx("img",{src:`/documents/icons/icon--wire-${w}.svg`,alt:"комплект проводов",className:"icon icon--equipment-icon",title:"комплект проводов"}),t.equipment.includes("геймпад")&&x.jsx("img",{src:`/documents/icons/icon--gamepad-${w}.svg`,alt:"геймпад",className:"icon icon--equipment-icon",title:"геймпад"}),t.equipment.some(H=>H.startsWith("память"))&&x.jsx("img",{src:`/documents/icons/icon--memory-${w}.svg`,alt:"память",className:"icon icon--equipment-icon",title:t.equipment.find(H=>H.startsWith("память"))})]})}),x.jsx("td",{className:`table__td--long ${t.state?"":"table__td--center"} ${A?"table__cell--expanded":"table__cell--collapsed"}`,children:t.state||"—"}),x.jsx("td",{className:`table__td--long ${t.note?"":"table__td--center"} ${A?"table__cell--expanded":"table__cell--collapsed"}`,children:t.note||"—"}),x.jsx("td",{className:`table__td--purchase-price ${oe(t.purchase_history)?"":"table__td--center"} ${A?"table__cell--expanded":"table__cell--collapsed"}`,children:Qi.format(oe(t.purchase_history))||"—"}),x.jsx("td",{className:A?"table__cell--expanded":"table__cell--collapsed",children:x.jsxs("div",{className:"table__td--flex",children:[Qi.format(t.sale_price)||"—",((Se=t.sale_price_history)==null?void 0:Se.length)>1&&x.jsxs(x.Fragment,{children:[x.jsx("img",{src:`/documents/icons/icon--history-${w}.svg`,alt:"История цен",className:"price-history-icon","data-tooltip-id":`price-history-${t.id}`}),x.jsx(aw,{id:`price-history-${t.id}`,place:"left",clickable:!0,className:"price-history-tooltip",content:x.jsxs("div",{className:"price-history-popup",children:[x.jsx("h4",{className:"price-history-title",children:"История изменения цены"}),x.jsxs("table",{className:"table--price-history",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"Дата изменения"}),x.jsx("th",{children:"Цена продажи, ₽"})]})}),x.jsx("tbody",{children:[...t.sale_price_history].sort((H,X)=>new Date(X.changed_at)-new Date(H.changed_at)).map((H,X)=>x.jsxs("tr",{children:[x.jsx("td",{children:H.changed_at?new Date(H.changed_at).toLocaleString():"Дата не указана"}),x.jsx("td",{children:Qi.format(H.sale_price)})]},X))})]})]})})]})]})}),x.jsx("td",{className:`table__td--quantity ${A?"table__cell--expanded":"table__cell--collapsed"}`,children:x.jsxs("div",{className:"table__td--flex table__td--flex-right",children:[t.quantity,((we=t.purchase_history)==null?void 0:we.length)>1&&x.jsxs(x.Fragment,{children:[x.jsx("img",{src:`/documents/icons/icon--history-${w}.svg`,alt:"История закупа",className:"price-history-icon","data-tooltip-id":`purchase-history-${t.id}`}),x.jsx(aw,{id:`purchase-history-${t.id}`,place:"left",clickable:!0,className:"price-history-tooltip",content:x.jsxs("div",{className:"price-history-popup",children:[x.jsx("h4",{className:"price-history-title",children:"История закупа"}),x.jsxs("table",{className:"table--price-history",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"Дата изменения"}),x.jsx("th",{children:"Кол-во"}),x.jsx("th",{children:"Цена закупа, ₽"})]})}),x.jsx("tbody",{children:t.purchase_history.map((H,X)=>x.jsxs("tr",{children:[x.jsx("td",{children:H.changed_at?new Date(H.changed_at).toLocaleString():"Дата не указана"}),x.jsx("td",{children:H.quantity}),x.jsx("td",{children:Qi.format(H.purchase_price)||"—"})]},X))})]})]})})]})]})}),x.jsx("td",{className:`form__status ${A?"table__cell--expanded":"table__cell--collapsed"}`,children:x.jsx("span",{className:t.is_sale?"active":"archived",children:t.is_sale?"В продаже":"Продано"})}),x.jsxs("td",{className:"form__buttons",children:[x.jsxs("div",{className:"table__buttons",onClick:H=>H.stopPropagation(),children:[x.jsx("button",{className:"button button--icon",onClick:H=>{H.stopPropagation(),P(t.id)},ref:B,title:"Действия",children:x.jsx("img",{src:`/documents/icons/icon--more-${w}.svg`,alt:"Действия"})}),I&&x.jsxs("div",{className:"actions-menu",style:{position:"absolute",...ae(B.current),right:32,zIndex:1e3},children:[O&&x.jsx("button",{className:"button button--icon",onClick:()=>{p(t),P(null)},title:"Редактировать",children:x.jsx("img",{src:`/documents/icons/icon--edit-${w}.svg`,alt:"Редактировать"})}),t.photo_paths&&t.photo_paths.length>0&&x.jsx("button",{className:"button button--icon",onClick:H=>{H.stopPropagation(),V(!0),P(null)},disabled:!t.photo_paths||t.photo_paths.length===0,title:"Просмотреть фото",children:x.jsx("img",{src:`/documents/icons/icon--photo-${w}.svg`,alt:"Просмотреть фото"})})]})]}),$&&x.jsx(Iv,{photoPaths:t.photo_paths,supabase:e,bucket:"purchase-photos",onClose:()=>V(!1)})]})]})}),Rj=({supabase:t,items:e,loadItems:n,onStatusChange:r,activeTheme:i,isLoading:a,isAdmin:o})=>{const[u,c]=ie.useState(e||[]),[f,d]=ie.useState(""),[p,g]=ie.useState("all"),[v,_]=ie.useState(""),[w,A]=ie.useState(null),[S,L]=ie.useState({}),[P,F]=ie.useState([]),[R,O]=ie.useState([]),[z,T]=ie.useState([]),[N,$]=ie.useState([]),[V,G]=ie.useState(null),[re,Y]=ie.useState(null),[M,D]=ie.useState(null),[j,Z]=ie.useState(!0),[ne,k]=ie.useState(!1),le=de=>{_(de.target.value)},se=()=>{_("")},B=ie.useCallback(de=>{de.key==="Escape"&&se()},[]),U=ie.useCallback(async de=>{if(!t||!de)return[];try{const{data:he,error:Te}=await t.from("objects").select("name").eq("category",de).order("name",{ascending:!0});if(Te)throw Te;return he?he.map(fe=>fe.name):[]}catch(he){return console.error("Ошибка загрузки объектов:",he),[]}},[t]);ie.useEffect(()=>{(async()=>{if(t)try{const{data:he,error:Te}=await t.from("categories").select("name").order("name",{ascending:!0});if(Te)throw Te;he&&T(he.map(fe=>fe.name))}catch(he){console.error("Ошибка загрузки категорий:",he)}})()},[t]),ie.useEffect(()=>{(async()=>{if(t)try{const{data:he,error:Te}=await t.from("objects").select("name, category").order("name",{ascending:!0});if(Te)throw Te;he&&$(he.map(fe=>fe.name))}catch(he){console.error("Ошибка загрузки объектов:",he)}})()},[t]);const I=ie.useCallback(async()=>{try{const{data:de,error:he}=await t.from("purchases").select("*").order("is_sale",{ascending:!1}).order("receipt_number",{ascending:!1});if(he)throw he;c(de)}catch(de){d("Не удалось загрузить список остатков"),console.error("Ошибка загрузки остатков:",de)}},[t]);ie.useEffect(()=>{t&&(n?n():I())},[t,n,I]);const W=ie.useCallback(de=>{Y(he=>he===de?null:de)},[]),ae=ie.useMemo(()=>{let de=e||[];if(p==="sold"&&(de=de.filter(he=>!he.is_sale)),V&&(de=de.filter(he=>he.category===V)),v.trim()){const he=v.toLowerCase().trim();de=de.filter(Te=>{var fe,ce;return((fe=Te.object)==null?void 0:fe.toLowerCase().includes(he))||((ce=Te.serial_number)==null?void 0:ce.toLowerCase().includes(he))})}return de},[v,p,e,V]);ie.useCallback(async de=>{var he;try{const{data:Te,error:fe}=await t.from("purchases").select("receipt_number").order("receipt_number",{ascending:!1}).limit(1);if(fe)throw fe;const ce=Te.length>0?Te[0].receipt_number+1:1,ve=(he=de.category)==null?void 0:he.startsWith("Консоли");let Se=de.equipment||[];ve&&(Se=[...Se,de.is_original?"оригинал":"модификация"]);const{data:we,error:H}=await t.from("purchases").insert([{...de,receipt_number:ce,is_sale:!0,sale_price_history:de.sale_price?[{sale_price:de.sale_price,changed_at:new Date().toISOString()}]:[],has_sale_price_changes:!1}]).select();if(H)throw H;return de.sale_price&&await t.from("sale_price_history").insert([{purchase_id:we[0].id,sale_price:de.sale_price,changed_at:new Date().toISOString()}]),await I(),we[0]}catch(Te){throw console.error("Ошибка при создании записи:",Te),Te}},[t,I]);const oe=ie.useCallback(async(de,he)=>{var Te,fe;F(ce=>[...ce,de]);try{((Te=he.photosToDelete)==null?void 0:Te.length)>0&&await t.storage.from("purchase-photos").remove(he.photosToDelete);let ce=[];((fe=he.newPhotos)==null?void 0:fe.length)>0&&(ce=await Promise.all(he.newPhotos.map(async Re=>{const xe=Re.name.split(".").pop(),me=`${_s()}.${xe}`,Ee=`purchase-photos/${he.receipt_number}/${me}`,{error:je}=await t.storage.from("purchase-photos").upload(Ee,Re,{cacheControl:"3600",upsert:!1});if(je)throw je;return Ee})));const{data:ve,error:Se}=await t.from("purchases").select("sale_price, sale_price_history").eq("id",de).single();if(Se)throw Se;const we=ve.sale_price_history||[],H=ve.sale_price,X=he.sale_price;String(H)!==String(X)&&X&&we.unshift({sale_price:X,changed_at:new Date().toISOString()});const te={object:he.object,serial_number:he.serial_number,equipment:he.equipment,is_new:he.is_new,state:he.state,note:he.note,seal_number:he.seal_number,purchase_price:he.purchase_price,sale_price:he.sale_price,sale_price_history:we,has_sale_price_changes:we.length>1,category:he.category,quantity:he.quantity,photo_paths:[...(he.photo_paths||[]).filter(Re=>{var xe;return!((xe=he.photosToDelete)!=null&&xe.includes(Re))}),...ce],purchase_history:he.purchase_history||[]};String(ve.sale_price)!==String(he.sale_price)&&(te.has_sale_price_changes=!0),he.clientType==="supplier"?(te.contractor=he.contractor||null,te.last_name=null,te.first_name=null,te.middle_name=null,te.passport_series=null,te.passport_number=null):(te.contractor=null,te.last_name=he.last_name,te.first_name=he.first_name,te.middle_name=he.middle_name||null,te.passport_series=he.passport_series,te.passport_number=he.passport_number);const{error:ge}=await t.from("purchases").update(te).eq("id",de);if(ge)throw ge;return I&&await I(),!0}catch(ce){return alert("Ошибка при обновлении данных: "+ce.message),!1}finally{F(ce=>ce.filter(ve=>ve!==de))}},[t,I]),pe=ie.useCallback(async de=>{if(window.confirm("Вы уверены, что хотите удалить эту запись?")){O(he=>[...he,de]);try{const{data:he,error:Te}=await t.from("purchases").select("receipt_number, photo_paths").eq("id",de).single();if(Te)throw Te;const fe=he.receipt_number,ce=he.photo_paths||[];if(ce.length>0){const Se=ce.map(H=>`purchase-photos/${fe}/${H.split("/").pop()}`),{error:we}=await t.storage.from("purchase-photos").remove(Se);if(we)throw we}const{error:ve}=await t.from("purchases").delete().eq("id",de);if(ve)throw ve;I?await I():n&&await n()}catch(he){console.error("Ошибка при удалении:",he),alert("Ошибка при удалении: "+he.message)}finally{O(he=>he.filter(Te=>Te!==de))}}},[t,I,n]),De=ie.useCallback(async de=>{var Te,fe,ce,ve;A(de.id);let he=de.category||"";if(!he&&de.object)try{const{data:Se,error:we}=await t.from("objects").select("category").eq("name",de.object).single();!we&&Se&&(he=Se.category)}catch(Se){console.error("Ошибка получения категории:",Se)}L({...de,sale_price_history:de.sale_price_history||[],purchase_history:de.purchase_history||[],...!((Te=de.purchase_history)!=null&&Te.length)&&de.purchase_price?{purchase_history:[{changed_at:de.created_at||new Date().toISOString(),quantity:de.quantity||1,purchase_price:de.purchase_price}]}:{},equipment:de.equipment||[],category:he||"",clientType:de.contractor!==null&&de.contractor!==void 0?"supplier":de.last_name||de.first_name||de.middle_name?"individual":"supplier",quantity:de.quantity||1,is_original:(fe=de.equipment)!=null&&fe.includes("оригинал")?!0:!((ce=de.equipment)!=null&&ce.includes("модификация"))}),Z(((ve=de.equipment)==null?void 0:ve.length)>0||!0)},[t]);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"table__settings table__settings--purchases",children:[x.jsxs("div",{className:"view-mode-buttons",children:[x.jsx("button",{className:p==="all"?"active":"",onClick:()=>g("all"),children:"Все"}),x.jsx("button",{className:p==="sold"?"active":"",onClick:()=>g("sold"),children:"Проданные"})]}),x.jsx(Da,{options:[{value:"",label:"Все категории"},...z.map(de=>({value:de,label:de}))],value:V?{value:V,label:V}:{value:"",label:"Все категории"},onChange:de=>G((de==null?void 0:de.value)||null),placeholder:"Выберите категорию",isClearable:!0,isSearchable:!0,noOptionsMessage:()=>"Нет доступных категорий",className:"form__input form__input--select react-select-container",classNamePrefix:"select",styles:{control:(de,he)=>({...de,minHeight:"36px",height:"36px",boxSizing:"border-box",lineHeight:1,background:"transparent",border:he.isFocused?"1px solid var(--text-primary)":0,boxShadow:(he.isFocused,0),"&:hover":{border:he.isFocused?"1px solid var(--text-primary)":0}}),menu:de=>({...de,backgroundColor:"var(--bg-primary)"}),option:(de,he)=>({...de,whiteSpace:"nowrap",textOverflow:"ellipsis",backgroundColor:he.isSelected?"var(--accent-color)":"","&:hover":{backgroundColor:he.isSelected?"var(--accent-color)":"color-mix(in srgb, var(--accent-color) 40%, transparent)"}}),singleValue:de=>({...de,color:"var(--text-primary)"}),placeholder:de=>({...de,color:"var(--text-secondary)",fontSize:"14px"})}}),x.jsxs("div",{className:"search-container",children:[x.jsx("input",{id:"search-stock",name:"search-stock",className:"form__input form__input--search",type:"text",placeholder:"Поиск по изделию или серийному номеру",autoComplete:"off",value:v,onChange:le,onKeyDown:B}),v&&x.jsx("button",{className:"clear-search-button",onClick:se,title:"Очистить",children:"⨯"})]})]}),x.jsx("div",{className:"error",children:f}),a?x.jsx("div",{className:"loader-container",children:x.jsx("div",{className:"loader"})}):ae.length===0?x.jsxs("div",{className:"table__empty",children:[x.jsx("img",{src:`/documents/icons/icon--empty-${i}.svg`,alt:"Нет данных",className:"no-data-icon",width:"128"}),x.jsx("div",{children:p==="all"?"Остатков не найдено":"Проданных товаров не найдено"})]}):x.jsx("div",{className:"table-container",children:x.jsxs("table",{className:"table table--purchases",cellSpacing:"0",cellPadding:"0",children:[x.jsx("thead",{className:"table__row-sticky",children:x.jsxs("tr",{children:[x.jsx("th",{children:"#"}),x.jsx("th",{className:"table__th--object",children:"Изделие"}),x.jsx("th",{className:"table__th--category",children:"Категория"}),x.jsx("th",{children:"Сер. номер"}),x.jsx("th",{children:"Комплект"}),x.jsx("th",{children:"Внешний вид"}),x.jsx("th",{children:"Заметка"}),x.jsx("th",{className:"table__th--purchase",children:"Закуп, ₽"}),x.jsx("th",{className:"table__th--sale",children:"Продажа, ₽"}),x.jsx("th",{children:"Кол-во"}),x.jsx("th",{children:"Статус"}),x.jsx("th",{className:"table__td--actions"})]})}),x.jsx("tbody",{children:ae.map(de=>x.jsx(Nj,{item:de,supabase:t,categoriesList:z,fetchObjectsByCategory:U,objectsList:N,editingId:w,editedData:S,setEditedData:L,updatingIds:P,deletingIds:R,onSave:oe,onCancel:()=>A(null),onEdit:De,onDelete:pe,setEditingId:A,activeTheme:i,isExpanded:re===de.id,onToggleExpand:W,onMenuToggle:he=>D(he===M?null:he),isMenuOpen:M===de.id,hasEquipment:j,setHasEquipment:Z,isAdmin:o},`${de.id}-${w===de.id?"editing":"view"}`))})]})})]})},Mj=({client:t,editingId:e,editedData:n,setEditedData:r,archivingIds:i,updatingIds:a,deletingIds:o,onSave:u,onCancel:c,onDelete:f,onArchive:d,onGenerateDocx:p,onEdit:g,onViewPhotos:v,supabase:_,activeTheme:w,isExpanded:A,onToggleExpand:S,isMenuOpen:L,onMenuToggle:P,tableContainerRef:F,isAdmin:R})=>{var I,W,ae,oe,pe,De,de,he;const[O,z]=ie.useState({}),[T,N]=ie.useState(!1),[$,V]=ie.useState({total:0,completed:0,isProcessing:!1}),G=L&&e!==t.id,re=L&&e===t.id,Y=ie.useRef(null),M=ie.useRef(null),D=ie.useRef(null),j=ie.useRef(null);ie.useLayoutEffect(()=>{if(!F||!F.current||!G&&!re)return;const Te=G&&D.current,fe=re&&j.current;if(!Te&&!fe)return;const ce=Te?D:j;if(!ce.current)return;const Se=setTimeout(()=>{if(!ce.current||!F.current)return;const we=ce.current.getBoundingClientRect(),H=F.current.getBoundingClientRect(),X=we.bottom>window.innerHeight,ee=we.bottom>H.bottom;if(X||ee){const te=we.bottom-window.innerHeight,ge=we.bottom-H.bottom,Re=Math.max(te,ge,0);Re>0&&F.current.scrollBy({top:Re+10,behavior:"smooth"})}},0);return()=>{Se&&clearTimeout(Se)}},[G,re,F]),ie.useEffect(()=>{const Te=fe=>{if(fe.target.closest(".photo-gallery-container"))return;const ce=fe.target.closest('.button--icon img[alt="Действия"]')&&fe.target.closest("tr.edit-mode"),ve=fe.target.closest('.button--icon img[alt="Действия"]')&&!fe.target.closest("tr.edit-mode");L&&!ve&&!ce&&!fe.target.closest(".actions-menu")&&P(null)};return document.addEventListener("click",Te),()=>{document.removeEventListener("click",Te)}},[G,re]);const Z=Te=>{if(!Te)return{top:"auto",bottom:"100%",transform:"translateY(-10px)"};const fe=Te.getBoundingClientRect();return window.innerHeight-fe.bottom<120?{top:"auto",bottom:"100%",transform:"translateY(35px)"}:{top:"100%",bottom:"auto",transform:"translateY(-34px)"}};ie.useLayoutEffect(()=>{G&&Y.current&&Z(Y.current)},[G]);const ne=ie.useCallback(Te=>{const{name:fe,value:ce}=Te.target;(fe==="state"||fe==="repair_type")&&ce.length>200||r(ve=>({...ve,[fe]:ce}))},[]),k=Te=>{if(!Te.target.value.startsWith("+7-")){const ve="+7-"+Te.target.value.replace(/\D/g,"");r({...n,phone:ve});return}const fe=Te.target.value.slice(3).replace(/\D/g,"");let ce="+7-";ce+=(fe.length>0?fe.slice(0,3):"")+(fe.length>3?"—"+fe.slice(3,6):"")+(fe.length>6?"—"+fe.slice(6,8):"")+(fe.length>8?"—"+fe.slice(8,10):""),r({...n,phone:ce})},le=Te=>{Te.key==="Backspace"&&Te.target.selectionStart<=3&&Te.preventDefault(),Te.key==="ArrowLeft"&&Te.target.selectionStart<=3&&Te.target.setSelectionRange(3,3)},se=Te=>{Te.target.selectionStart<3&&Te.target.setSelectionRange(3,3)},B=Te=>{r(fe=>({...fe,clientType:Te,last_name:Te==="organization"?null:fe.last_name,first_name:Te==="organization"?null:fe.first_name,middle_name:Te==="organization"?null:fe.middle_name,org_name:Te==="individual"?null:fe.org_name,phone:Te==="individual"?"+7-":""}))},U=async Te=>{const fe=Array.from(Te.target.files);if(fe.length===0)return;Te.target.value="",V({total:fe.length,completed:0,isProcessing:!0});const ce={maxSizeMB:.5,maxWidthOrHeight:1920,useWebWorker:!0,fileType:"image/webp",initialQuality:.8,preserveExif:!1};try{const ve=await Promise.all(fe.map(async Se=>{try{const we=await Qn(Se,ce);return V(H=>({...H,completed:H.completed+1})),we}catch(we){return console.error("Ошибка сжатия:",we),V(H=>({...H,completed:H.completed+1})),Se}}));r(Se=>({...Se,newPhotos:[...Se.newPhotos||[],...ve]}))}catch(ve){console.error("Ошибка при обработке файлов:",ve)}finally{V(ve=>({...ve,isProcessing:!1}))}};if(e===t.id){const Te=n.clientType||(n.org_name?"organization":"individual"),fe=ce=>{r(ve=>{var Se,we;return{...ve,social:{...ve.social,is_avito:ce,is_yandex:!ce&&((Se=ve.social)==null?void 0:Se.is_yandex),is_2gis:!ce&&((we=ve.social)==null?void 0:we.is_2gis)}}})};return x.jsxs("tr",{className:"edit-mode",children:[x.jsx("td",{colSpan:"8",className:"edit-form-cell",children:x.jsxs("div",{className:"edit-form-container",children:[x.jsxs("div",{className:"view-mode-buttons",style:{marginBottom:"1rem"},children:[x.jsx("button",{type:"button",className:Te==="individual"?"active":"",onClick:()=>B("individual"),children:"Частное лицо"}),x.jsx("button",{type:"button",className:Te==="organization"?"active":"",onClick:()=>B("organization"),children:"Организация"})]}),Te==="individual"?x.jsxs("div",{className:"form__name",children:[x.jsxs("div",{className:"form__group--vertical",children:[x.jsx("label",{htmlFor:`last_name_${t.id}`,children:"Фамилия"}),x.jsx("input",{id:`last_name_${t.id}`,className:"form__input",type:"text",value:n.last_name||"",onChange:ce=>r({...n,last_name:ce.target.value}),placeholder:"Фамилия",required:!0})]}),x.jsxs("div",{className:"form__group--vertical",children:[x.jsx("label",{htmlFor:`first_name_${t.id}`,children:"Имя"}),x.jsx("input",{id:`first_name_${t.id}`,className:"form__input",type:"text",value:n.first_name||"",onChange:ce=>r({...n,first_name:ce.target.value}),placeholder:"Имя",required:!0})]}),x.jsxs("div",{className:"form__group--vertical",children:[x.jsx("label",{htmlFor:`middle_name_${t.id}`,children:"Отчество"}),x.jsx("input",{id:`middle_name_${t.id}`,className:"form__input",type:"text",value:n.middle_name||"",onChange:ce=>r({...n,middle_name:ce.target.value}),placeholder:"Отчество",required:!0})]})]}):x.jsx("div",{className:"form__name",children:x.jsxs("div",{className:"form__group--vertical",children:[x.jsx("label",{htmlFor:`org_name_${t.id}`,children:"Название организации"}),x.jsx("input",{id:`org_name_${t.id}`,className:"form__input",type:"text",value:n.org_name||"",onChange:ce=>r({...n,org_name:ce.target.value}),placeholder:"Название организации",required:!0,style:{width:"100%"}})]})}),x.jsxs("div",{className:"form__tel-number",children:[Te==="individual"?x.jsxs("div",{className:"form__group--vertical",children:[x.jsx("label",{htmlFor:`phone_${t.id}`,children:"Телефон"}),x.jsx("input",{id:`phone_${t.id}`,className:"form__input",type:"tel",value:n.phone||"+7-",onChange:k,onKeyDown:le,onClick:se,placeholder:"+7-___-___-__-__",maxLength:"16",required:!0})]}):x.jsxs("div",{className:"form__group--vertical",children:[x.jsx("label",{htmlFor:`phone_${t.id}`,children:"Телефон (опционально)"}),x.jsx("input",{id:`phone_${t.id}`,className:"form__input",type:"tel",value:n.phone||"",onChange:ce=>r({...n,phone:ce.target.value}),placeholder:"Телефон (опционально)"})]}),x.jsxs("div",{className:"form__group--vertical",children:[x.jsx("label",{htmlFor:`object_${t.id}`,children:"Изделие"}),x.jsx("input",{id:`object_${t.id}`,className:"form__input",type:"text",value:n.object||"",onChange:ce=>r({...n,object:ce.target.value}),placeholder:"Изделие",required:!0})]}),x.jsxs("div",{className:"form__group--vertical",children:[x.jsx("label",{htmlFor:`serial_number_${t.id}`,children:"Серийный номер"}),x.jsx("input",{id:`serial_number_${t.id}`,className:"form__input",type:"text",value:n.serial_number||"",onChange:ce=>r({...n,serial_number:ce.target.value}),placeholder:"Серийный номер",required:!0})]})]}),x.jsxs("div",{className:"form__description",children:[x.jsxs("div",{className:"form__state",children:[x.jsxs("div",{className:"form__group--vertical",children:[x.jsx("label",{htmlFor:`state_${t.id}`,children:"Внешнее состояние (максимум 200 символов)"}),x.jsx("textarea",{id:`state_${t.id}`,className:"form__input form__input--textarea",name:"state",value:n.state||"",onChange:ne,placeholder:"Внешнее состояние (максимум 200 символов)",maxLength:200,required:!0})]}),x.jsxs("div",{className:"character-counter",children:[((I=n.state)==null?void 0:I.length)||0,"/200 символов",(((W=n.state)==null?void 0:W.length)||0)>=200&&x.jsx("span",{className:"counter-warning",children:" (лимит достигнут)"})]})]}),x.jsxs("div",{className:"form__problem",children:[x.jsxs("div",{className:"form__group--vertical",children:[x.jsx("label",{htmlFor:`repair_type_${t.id}`,children:"Неисправность (максимум 200 символов)"}),x.jsx("textarea",{id:`repair_type_${t.id}`,className:"form__input form__input--textarea",name:"repair_type",value:n.repair_type||"",onChange:ne,placeholder:"Неисправность (максимум 200 символов)",maxLength:200,required:!0})]}),x.jsxs("div",{className:"character-counter",children:[((ae=n.repair_type)==null?void 0:ae.length)||0,"/200 символов",(((oe=n.repair_type)==null?void 0:oe.length)||0)>=200&&x.jsx("span",{className:"counter-warning",children:" (лимит достигнут)"})]})]}),x.jsxs("div",{className:"form__group--vertical",children:[x.jsx("label",{htmlFor:`note_${t.id}`,children:"Заметка"}),x.jsx("textarea",{id:`note_${t.id}`,className:"form__input form__input--textarea form__input--note",value:n.note||"",onChange:ce=>r({...n,note:ce.target.value}),placeholder:"Заметка"})]})]}),x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("span",{className:"form__caption",children:"С Авито?"}),x.jsxs("div",{className:"switch-container",children:[x.jsxs("label",{className:"switch",children:[x.jsx("input",{id:"is_avito",type:"checkbox",checked:((pe=n.social)==null?void 0:pe.is_avito)||!1,onChange:()=>{var ce;return fe(!((ce=n.social)!=null&&ce.is_avito))}}),x.jsx("span",{className:"slider round"})]}),x.jsx("span",{className:"form__caption",children:(De=n.social)!=null&&De.is_avito?"Да":"Нет"})]})]}),x.jsx("div",{className:"form__photos form__photos--wrapper",children:x.jsxs("div",{className:"form__wrapper",children:[$.isProcessing&&x.jsxs("div",{className:"compression-progress",children:[x.jsx("progress",{value:$.completed,max:$.total}),x.jsxs("span",{children:["Сжатие: ",$.completed,"/",$.total]})]}),x.jsxs("div",{className:"photos-preview--edit",children:[(de=n.photo_paths)==null?void 0:de.map((ce,ve)=>x.jsxs("div",{className:"photo-thumbnail",children:[x.jsx("img",{src:`https://ljcazclnmhjdcmgefcvp.supabase.co/storage/v1/object/public/client-photos/${ce}`,alt:`Фото ${ve+1}`,className:"photo-thumbnail__image",onError:Se=>{Se.target.src="/documents/icons/icon--photo.svg"}}),x.jsx("button",{type:"button",className:"photo-thumbnail__delete",onClick:()=>{const Se=n.photo_paths.filter(we=>we!==ce);r({...n,photo_paths:Se,photosToDelete:[...n.photosToDelete||[],ce]})},title:"Удалить фото",children:"×"})]},ce)),(he=n.newPhotos)==null?void 0:he.map((ce,ve)=>x.jsxs("div",{className:"photo-thumbnail",children:[x.jsx("img",{src:URL.createObjectURL(ce),alt:`Новое фото ${ve+1}`,className:"photo-thumbnail__image"}),x.jsx("button",{type:"button",className:"photo-thumbnail__delete",onClick:()=>{const Se=n.newPhotos.filter((we,H)=>H!==ve);r({...n,newPhotos:Se})},children:"×"})]},`new-${ve}`))]}),x.jsx("input",{type:"file",id:`photo-upload-${t.id}`,multiple:!0,accept:"image/*",onChange:U,style:{display:"none"}}),x.jsx("label",{htmlFor:`photo-upload-${t.id}`,className:"button button--secondary button--upload",children:"Добавить фото"})]})})]})}),x.jsx("td",{children:new Date(t.created_at).toLocaleDateString("ru-RU")}),x.jsx("td",{children:t.closed_at?new Date(t.closed_at).toLocaleDateString("ru-RU"):"—"}),x.jsx("td",{className:"form__status",children:x.jsx("span",{className:t.is_archive?"archived":"active",children:t.is_archive?"В архиве":"Активно"})}),x.jsx("td",{className:"form__buttons",children:x.jsxs("div",{className:"table__buttons",onClick:ce=>ce.stopPropagation(),children:[x.jsx("button",{className:"button button--icon",onClick:ce=>{ce.stopPropagation(),P(t.id)},ref:M,title:"Действия",children:x.jsx("img",{src:`/documents/icons/icon--more-${w}.svg`,alt:"Действия"})}),re&&x.jsxs("div",{className:"actions-menu",style:{position:"absolute",...Z(M.current),right:32,zIndex:1e3},children:[x.jsx("button",{className:"button button--icon",onClick:async()=>{try{await u(t.id)}catch(ce){console.error("Ошибка при сохранении:",ce)}},disabled:a.includes(t.id)||o.includes(t.id),children:a.includes(t.id)?x.jsx("img",{src:`/documents/icons/icon--loading-${w}.svg`,alt:"В процессе",className:"loading-icon"}):x.jsx("img",{src:`/documents/icons/icon--save-${w}.svg`,alt:"Сохранить",title:"Сохранить"})}),x.jsx("button",{className:"button button--icon",onClick:()=>{c(),P(null)},disabled:a.includes(t.id)||o.includes(t.id),children:x.jsx("img",{src:`/documents/icons/icon--cancel-${w}.svg`,alt:"Отменить",title:"Отменить"})}),x.jsx("button",{className:"button button--icon",onClick:async ce=>{ce.stopPropagation();try{await f(t.id),P(null)}catch(ve){console.error("Ошибка при удалении:",ve)}},disabled:a.includes(t.id)||o.includes(t.id),title:o.includes(t.id)?"Удаление...":"Удалить",children:o.includes(t.id)?x.jsx("img",{src:`/documents/icons/icon--loading-${w}.svg`,alt:"Удаление...",className:"loading-icon"}):x.jsx("img",{src:`/documents/icons/icon--delete-${w}.svg`,alt:"Удалить"})})]})]})})]})}return x.jsxs("tr",{className:`${t.is_archive?"archived-row":""} ${A?"table__row--expanded":""}`,onClick:Te=>{T||Te.target.closest(".photo-gallery")||Te.target.closest(".actions-menu")||S(t.id)},children:[x.jsx("td",{className:`form__receipt-number ${A?"table__cell--expanded":"table__cell--collapsed"}`,children:t.receipt_number}),x.jsx("td",{className:A?"table__cell--expanded":"table__cell--collapsed",children:t.org_name?t.org_name:`${t.last_name||""} ${t.first_name||""} ${t.middle_name||""}`.trim()||"—"}),x.jsx("td",{className:`form__phone ${t.phone?"":"table__td--center"} ${A?"table__cell--expanded":"table__cell--collapsed"}`,children:t.phone||"—"}),x.jsx("td",{className:A?"table__cell--expanded":"table__cell--collapsed",children:t.object||"—"}),x.jsx("td",{className:A?"table__cell--expanded":"table__cell--collapsed",children:t.serial_number||"—"}),x.jsx("td",{className:`table__td--long ${t.state?"":"table__td--center"} ${A?"table__cell--expanded":"table__cell--collapsed"}`,children:t.state||"—"}),x.jsx("td",{className:`table__td--long form__repair-type ${A?"table__cell--expanded":"table__cell--collapsed"}`,children:t.repair_type}),x.jsx("td",{className:`table__td--long ${t.note?"":"table__td--center"} ${A?"table__cell--expanded":"table__cell--collapsed"}`,children:t.note||"—"}),x.jsx("td",{className:`table__td--open ${A?"table__cell--expanded":"table__cell--collapsed"}`,children:new Date(t.created_at).toLocaleDateString("ru-RU")}),x.jsx("td",{className:`table__td--closed ${t.closed_at?"":"table__td--center"} ${A?"table__cell--expanded":"table__cell--collapsed"}`,children:t.closed_at?new Date(t.closed_at).toLocaleDateString("ru-RU"):"—"}),x.jsx("td",{className:`form__status ${A?"table__cell--expanded":"table__cell--collapsed"}`,children:x.jsx("span",{className:t.is_archive?"archived":"active",children:t.is_archive?"В архиве":"Активно"})}),x.jsxs("td",{className:"form__buttons",children:[x.jsxs("div",{className:"table__buttons",onClick:Te=>Te.stopPropagation(),children:[x.jsx("button",{className:"button button--icon",onClick:Te=>{Te.stopPropagation(),P(t.id)},ref:Y,title:"Действия",children:x.jsx("img",{src:`/documents/icons/icon--more-${w}.svg`,alt:"Действия"})}),G&&x.jsxs("div",{className:"actions-menu",style:{position:"absolute",...Z(Y.current),right:32,zIndex:1e3},children:[R&&x.jsx("button",{className:"button button--icon",onClick:()=>{g(t),P(null)},title:"Редактировать",children:x.jsx("img",{src:`/documents/icons/icon--edit-${w}.svg`,alt:"Редактировать"})}),x.jsx("button",{className:"button button--icon",onClick:()=>{d(t.id,!t.is_archive),P(null)},disabled:i.includes(t.id),title:i.includes(t.id)?"Идет обработка...":t.is_archive?"Восстановить":"В архив через продажу",children:i.includes(t.id)?x.jsx("img",{src:`/documents/icons/icon--loading-${w}.svg`,alt:"В процессе",className:"loading-icon"}):x.jsx("img",{src:t.is_archive?`/documents/icons/icon--restore-${w}.svg`:`/documents/icons/icon--archive-${w}.svg`,alt:t.is_archive?"Восстановить":"В архив через продажу"})}),t.photo_paths&&t.photo_paths.length>0&&x.jsx("button",{className:"button button--icon",onClick:Te=>{Te.stopPropagation(),N(!0),P(null)},disabled:!t.photo_paths||t.photo_paths.length===0,title:"Просмотреть фото",children:x.jsx("img",{src:`/documents/icons/icon--photo-${w}.svg`,alt:"Просмотреть фото"})}),x.jsx("button",{className:"button button--icon",onClick:()=>{p(t),P(null)},title:"Скачать квитанцию",children:x.jsx("img",{src:`/documents/icons/icon--doc-${w}.svg`,alt:"Скачать квитанцию"})})]})]}),T&&x.jsx(Iv,{photoPaths:t.photo_paths,supabase:_,onClose:()=>N(!1)})]})]})},jj=er.memo(Mj),Lj=({clients:t,loading:e,initialLoadComplete:n,supabase:r,loadClients:i,generateDocx:a,onViewPhotos:o,onStatusChange:u,activeTheme:c,isAdmin:f})=>{const[d,p]=ie.useState("active"),[g,v]=ie.useState("all"),[_,w]=ie.useState(""),[A,S]=ie.useState(null),[L,P]=ie.useState({}),[F,R]=ie.useState([]),[O,z]=ie.useState(""),[T,N]=ie.useState([]),[$,V]=ie.useState([]),[G,re]=ie.useState(null),[Y,M]=ie.useState(null),D=ie.useRef(null),j=ae=>ae==null?void 0:ae.replace(/\s+/g," ").trim(),Z=ae=>{w(ae.target.value)},ne=()=>{w("")},k=ie.useCallback(ae=>{ae.key==="Escape"&&ne()},[]),le=ie.useCallback(ae=>{re(oe=>oe===ae?null:ae)},[]),se=ie.useMemo(()=>{let ae=d==="archive"?t.filter(oe=>oe.is_archive):[...t];if(g!=="all"&&(ae=ae.filter(oe=>g==="individual"?!oe.org_name&&(oe.first_name||oe.last_name):!!oe.org_name)),_.trim()){const oe=_.toLowerCase().trim();ae=ae.filter(pe=>{if(!pe.org_name){const De=`${pe.last_name||""} ${pe.first_name||""} ${pe.middle_name||""}`.toLowerCase();if(De.includes(oe)||oe.split(" ").every(he=>De.includes(he)))return!0}return pe.org_name&&pe.org_name.toLowerCase().includes(oe)?!0:pe.phone&&pe.phone.includes(oe)||pe.serial_number&&pe.serial_number.toLowerCase().includes(oe)||pe.object&&pe.object.toLowerCase().includes(oe)})}return ae},[_,d,t,g]),B=ie.useCallback(async(ae,oe)=>{R(pe=>[...pe,ae]);try{const pe={is_archive:oe,closed_at:oe?new Date().toISOString().split("T")[0]:null},{error:De}=await r.from("clients").update(pe).eq("id",ae);if(De)throw De;await i(r),u&&u()}catch(pe){z("Ошибка архивации: "+pe.message)}finally{R(pe=>pe.filter(De=>De!==ae))}},[r,i,u]),U=ie.useCallback(async ae=>{if(window.confirm("Вы уверены, что хотите удалить эту запись?")){V(oe=>[...oe,ae]);try{const{data:oe,error:pe}=await r.from("clients").select("receipt_number, photo_paths").eq("id",ae).single();if(pe)throw pe;const De=oe.receipt_number;if((oe.photo_paths||[]).length>0){const{data:Te,error:fe}=await r.storage.from("client-photos").list(`client-photos/${De}`);if(fe)throw fe;const ce=Te.map(ve=>`client-photos/${De}/${ve.name}`);if(ce.length>0){const{error:ve}=await r.storage.from("client-photos").remove(ce);if(ve)throw ve}}const{error:he}=await r.from("clients").delete().eq("id",ae);if(he)throw he;await i(r)}catch(oe){z("Ошибка при удалении записи: "+oe.message)}finally{V(oe=>oe.filter(pe=>pe!==ae))}}},[r,i]),I=ie.useCallback(ae=>{S(ae.id),P({...ae,phone:ae.org_name?"":ae.phone.startsWith("+7-")?ae.phone:"+7-"+ae.phone.replace(/\D/g,""),clientType:ae.org_name?"organization":"individual",social:ae.social||{is_avito:!1,is_yandex:!1,is_2gis:!1}}),S(ae.id),M(null)},[]),W=ie.useCallback(async(ae,oe)=>{var pe,De,de,he;if(L.clientType==="individual"){if(!L.last_name||!L.first_name||!L.phone||!L.object||!L.serial_number||!L.state||!L.repair_type){alert("Пожалуйста, заполните все обязательные поля для частного лица");return}if(((pe=L.state)==null?void 0:pe.length)>200||((De=L.repair_type)==null?void 0:De.length)>200){alert("Поля 'Внешнее состояние' и 'Неисправность' должны содержать не более 200 символов");return}if(!/^\+7-\d{3}-\d{3}-\d{2}-\d{2}$/.test(L.phone)){alert("Неверный формат телефона. Используйте формат +7-XXX-XXX-XX-XX");return}}else if(!L.org_name||!L.object||!L.serial_number||!L.state||!L.repair_type){alert("Пожалуйста, заполните все обязательные поля для организации");return}N(Te=>[...Te,ae]);try{const{data:Te,error:fe}=await r.from("clients").select("receipt_number").eq("id",ae).single();if(fe)throw fe;const ce=Te.receipt_number;((de=L.photosToDelete)==null?void 0:de.length)>0&&await r.storage.from("client-photos").remove(L.photosToDelete);let ve=[];((he=L.newPhotos)==null?void 0:he.length)>0&&(ve=await Promise.all(L.newPhotos.map(async H=>{const X=H.name.split(".").pop(),ee=`${_s()}.${X}`,te=`client-photos/${ce}/${ee}`,{error:ge}=await r.storage.from("client-photos").upload(te,H,{cacheControl:"3600",upsert:!1});if(ge)throw ge;return te})));const Se={object:L.object,serial_number:L.serial_number,state:j(L.state),repair_type:j(L.repair_type),note:j(L.note),phone:L.clientType==="individual"?L.phone:null,social:L.social||{is_avito:!1,is_yandex:!1,is_2gis:!1},photo_paths:[...(L.photo_paths||[]).filter(H=>{var X;return!((X=L.photosToDelete)!=null&&X.includes(H))}),...ve]};L.clientType==="individual"?(Se.last_name=L.last_name,Se.first_name=L.first_name,Se.middle_name=L.middle_name,Se.org_name=null):(Se.org_name=L.org_name,Se.last_name=null,Se.first_name=null,Se.middle_name=null);const{error:we}=await r.from("clients").update(Se).eq("id",ae);if(we)throw we;return S(null),M(null),await i(r),!0}catch(Te){throw z("Ошибка при сохранении данных: "+Te.message),Te}finally{N(Te=>Te.filter(fe=>fe!==ae))}},[L,r,i,j]);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"table__settings",children:[x.jsxs("div",{className:"view-mode-buttons",children:[x.jsx("button",{className:d==="active"?"active":"",onClick:()=>p("active"),children:"Все"}),x.jsx("button",{className:d==="archive"?"active":"",onClick:()=>p("archive"),children:"Архив"})]}),x.jsxs("div",{className:"client-type-filter",children:[x.jsx("button",{className:g==="all"?"tab tab--chart tab--active":"tab tab--chart",onClick:()=>v("all"),children:"Все"}),x.jsx("button",{className:g==="individual"?"tab tab--chart tab--active":"tab tab--chart",onClick:()=>v("individual"),children:"Частные лица"}),x.jsx("button",{className:g==="organization"?"tab tab--chart tab--active":"tab tab--chart",onClick:()=>v("organization"),children:"Организации"})]}),x.jsxs("div",{className:"search-container search-container--clients",children:[x.jsx("input",{name:"search-clients",id:"search-clients",className:"form__input form__input--search form__input--search-clients",type:"text",placeholder:"Поиск по ФИО, орг-ии, телефону или серийному номеру",autoComplete:"off",value:_,onChange:Z,onKeyDown:k}),_&&x.jsx("button",{className:"clear-search-button",onClick:ne,title:"Очистить",children:"⨯"})]})]}),x.jsx("div",{className:"error",children:O}),e&&!n?x.jsx("div",{className:"loader-container",children:x.jsx("div",{className:"loader"})}):se.length===0&&n?x.jsxs("div",{className:"table__empty",children:[x.jsx("img",{src:`/documents/icons/icon--empty-${c}.svg`,alt:"Нет данных",className:"no-data-icon",width:"128"}),x.jsx("div",{children:d==="active"?"Активных клиентов не найдено":"Архив пуст"})]}):x.jsx("div",{className:"table-container",ref:D,children:x.jsxs("table",{className:"table",id:"clientsTable",cellSpacing:"0",cellPadding:"0",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"table__row-sticky",children:[x.jsx("th",{children:"#"}),x.jsx("th",{children:"ФИО / Орг-ия"}),x.jsx("th",{children:"Телефон"}),x.jsx("th",{children:"Изделие"}),x.jsx("th",{children:"Сер. номер"}),x.jsx("th",{children:"Состояние"}),x.jsx("th",{children:"Неисправность"}),x.jsx("th",{children:"Заметка"}),x.jsx("th",{children:"Принят"}),x.jsx("th",{children:"Выдан"}),x.jsx("th",{children:"Статус"}),x.jsx("th",{className:"table__td--actions"})]})}),x.jsx("tbody",{children:se.map(ae=>x.jsx(jj,{client:ae,editingId:A,editedData:L,setEditedData:P,archivingIds:F,updatingIds:T,deletingIds:$,onSave:W,onCancel:()=>S(null),onDelete:U,onArchive:B,onStatusChange:u,onGenerateDocx:a,onEdit:I,supabase:r,activeTheme:c,isExpanded:G===ae.id,onToggleExpand:le,onMenuToggle:oe=>M(oe===Y?null:oe),isMenuOpen:Y===ae.id,tableContainerRef:D,isAdmin:f},`${ae.id}-${A===ae.id?"editing":"view"}`))})]})})]})},Pj=er.memo(({item:t,supabase:e,editingId:n,editedData:r,setEditedData:i,updatingIds:a,deletingIds:o,onSave:u,onCancel:c,onEdit:f,onDelete:d,setEditingId:p,activeTheme:g,isExpanded:v,onToggleExpand:_,isMenuOpen:w,onMenuToggle:A})=>{const[S,L]=ie.useState(!1),[P,F]=ie.useState([]),[R,O]=ie.useState([]);ie.useRef(null);const z=ie.useRef(null),T=ie.useRef(null),N=w&&n!==t.id,$=w&&n===t.id,[V,G]=ie.useState([]);ie.useEffect(()=>{n===t.id&&G(Object.entries(r.service_prices||{}).map(([Z,ne])=>({duration:Z,price:ne,id:_s()})))},[n,r.service_prices]),ie.useEffect(()=>{const Z=ne=>{ne.target.closest(".photo-gallery-container")||ne.target.closest('.button--icon img[alt="Действия"]')||ne.target.closest(".actions-menu")||w&&A(null)};return document.addEventListener("click",Z),()=>{document.removeEventListener("click",Z)}},[w,A]);const re=(Z,ne,k)=>{if(ne==="price"){const le=k.replace(/[^0-9.,]/g,"");G(se=>se.map(B=>B.id===Z?{...B,[ne]:le}:B))}else G(le=>le.map(se=>se.id===Z?{...se,[ne]:k}:se))},Y=()=>{G(Z=>[...Z,{duration:"",price:"",id:_s()}])},M=Z=>{G(ne=>ne.filter(k=>k.id!==Z))},D=()=>V.reduce((Z,ne)=>(ne.duration&&(ne.price||ne.price===0||ne.price==="0")&&(Z[ne.duration]=Number(ne.price)),Z),{}),j=Z=>{if(!Z)return{top:"auto",bottom:"100%",transform:"translateY(-10px)"};const ne=Z.getBoundingClientRect();return window.innerHeight-ne.bottom<120?{top:"auto",bottom:"100%",transform:"translateY(34px)"}:{top:"100%",bottom:"auto",transform:"translateY(-34px)"}};return n===t.id?x.jsxs("tr",{className:"edit-mode",children:[x.jsx("td",{colSpan:"4",className:"edit-form-cell",children:x.jsxs("div",{className:"edit-form-container",children:[x.jsxs("div",{className:"form__group",children:[x.jsxs("div",{className:"form__group form__group--vertical form__group--40",children:[x.jsx("label",{htmlFor:`name-${t.id}`,children:"Наименование"}),x.jsx("input",{id:`name-${t.id}`,className:"form__input",type:"text",value:r.name||"",onChange:Z=>i({...r,name:Z.target.value}),placeholder:"Наименование услуги",required:!0})]}),x.jsxs("div",{className:"form__group form__group--vertical form__group--20",children:[x.jsx("label",{htmlFor:`purchase_price-${t.id}`,children:"Цена закупа, ₽"}),x.jsx("input",{id:`purchase_price-${t.id}`,className:"form__input",type:"number",value:r.purchase_price||0,onChange:Z=>i({...r,purchase_price:Z.target.value}),placeholder:"0",min:"0"})]})]}),x.jsxs("div",{className:"form__group",children:[x.jsx("div",{className:"form__group form__group--vertical",children:x.jsxs("fieldset",{className:"price-editor__fieldset",children:[x.jsx("legend",{className:"form__legend",children:"Прайс услуг"}),x.jsx(Ij,{items:V,onChange:re,onAdd:Y,onRemove:M})]})}),x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("label",{htmlFor:`note-${t.id}`,children:"Заметка"}),x.jsx("textarea",{id:`note-${t.id}`,className:"form__input form__input--textarea",value:r.note||"",onChange:Z=>i({...r,note:Z.target.value}),placeholder:"Заметка (опционально)",rows:"3"})]})]})]})}),x.jsx("td",{className:"form__buttons",children:x.jsxs("div",{className:"table__buttons",onClick:Z=>Z.stopPropagation(),children:[x.jsx("button",{className:"button button--icon",onClick:Z=>{Z.stopPropagation(),A(t.id)},ref:T,title:"Действия",children:x.jsx("img",{src:`/documents/icons/icon--more-${g}.svg`,alt:"Действия"})}),$&&x.jsxs("div",{className:"actions-menu",style:{position:"absolute",...j(T.current),right:32,zIndex:1e3},children:[x.jsx("button",{className:"button button--icon",onClick:async Z=>{if(Z.stopPropagation(),!r.name){alert("Пожалуйста, заполните наименование услуги");return}const ne=V.filter(le=>le.duration&&(le.price||le.price===0||le.price==="0")),k=V.filter(le=>!le.duration||le.price!==0&&le.price!=="0"&&!le.price);k.length>0&&!window.confirm(`Обнаружены незавершённые строки в прайсе (${k.length}). Продолжить без них?`)||ne.length===0&&Object.keys(r.service_prices||{}).length===0&&!window.confirm("Прайс пуст. Сохранить без прайса?")||(await u(t.id,{...r,service_prices:D(),newPhotos:P,photosToDelete:R}).then(()=>{p(null),F([]),O([])}),A(null))},disabled:a.includes(t.id),children:a.includes(t.id)?x.jsx("img",{src:`/documents/icons/icon--loading-${g}.svg`,alt:"В процессе",className:"loading-icon"}):x.jsx("img",{src:`/documents/icons/icon--save-${g}.svg`,alt:"Сохранить",title:"Сохранить"})}),x.jsx("button",{className:"button button--icon",onClick:()=>{p(null),A(null)},disabled:a.includes(t.id),children:x.jsx("img",{src:`/documents/icons/icon--cancel-${g}.svg`,alt:"Отменить",title:"Отменить"})}),x.jsx("button",{className:"button button--icon",onClick:async Z=>{Z.stopPropagation();try{await d(t.id),A(null)}catch(ne){console.error("Ошибка при удалении:",ne)}},disabled:a.includes(t.id)||o.includes(t.id),title:o.includes(t.id)?"Удаление...":"Удалить",children:o.includes(t.id)?x.jsx("img",{src:`/documents/icons/icon--loading-${g}.svg`,alt:"Удаление...",className:"loading-icon"}):x.jsx("img",{src:`/documents/icons/icon--delete-${g}.svg`,alt:"Удалить"})})]})]})})]}):x.jsxs("tr",{className:v?"table__row--expanded":"",onClick:Z=>{S||Z.target.closest(".photo-gallery")||Z.target.closest(".actions-menu")||Z.target.closest('.button--icon img[alt="Действия"]')||_(t.id)},children:[x.jsx("td",{className:`form__receipt-number ${v?"table__cell--expanded":"table__cell--collapsed"}`,children:t.id}),x.jsx("td",{className:`table__td--service-name ${v?"table__cell--expanded":"table__cell--collapsed"}`,children:x.jsx("span",{children:t.name||"-"})}),x.jsx("td",{className:v?"table__cell--expanded":"table__cell--collapsed",children:t.service_prices?x.jsx("div",{className:"service-prices-container",children:v?x.jsx("div",{className:"service-prices-expanded",children:Object.entries(t.service_prices).map(([Z,ne])=>x.jsxs("div",{children:[Z,": ",ne,"₽"]},Z))}):x.jsx("div",{className:"service-prices-compact",children:Object.entries(t.service_prices).length>0?x.jsxs(x.Fragment,{children:[Object.entries(t.service_prices)[0][0],":"," ",Object.entries(t.service_prices)[0][1],"₽",Object.entries(t.service_prices).length>1&&x.jsxs("span",{className:"more-prices-indicator",children:["+",Object.entries(t.service_prices).length-1]})]}):"-"})}):"-"}),x.jsx("td",{className:v?"table__cell--expanded":"table__cell--collapsed",children:t.note||"-"}),x.jsxs("td",{className:"form__buttons",children:[x.jsxs("div",{className:"table__buttons",onClick:Z=>Z.stopPropagation(),children:[x.jsx("button",{className:"button button--icon",onClick:Z=>{Z.stopPropagation(),A(t.id)},ref:z,title:"Действия",children:x.jsx("img",{src:`/documents/icons/icon--more-${g}.svg`,alt:"Действия"})}),N&&x.jsxs("div",{className:"actions-menu",style:{position:"absolute",...j(z.current),right:32,zIndex:1e3},children:[x.jsx("button",{className:"button button--icon",onClick:()=>{f(t),A(null)},title:"Редактировать",children:x.jsx("img",{src:`/documents/icons/icon--edit-${g}.svg`,alt:"Редактировать"})}),t.photo_paths&&t.photo_paths.length>0&&x.jsx("button",{className:"button button--icon",onClick:Z=>{Z.stopPropagation(),L(!0),A(null)},disabled:!t.photo_paths||t.photo_paths.length===0,title:"Просмотреть фото",children:x.jsx("img",{src:`/documents/icons/icon--photo-${g}.svg`,alt:"Просмотреть фото"})})]})]}),S&&x.jsx(Iv,{photoPaths:t.photo_paths,supabase:e,bucket:"service-photos",onClose:()=>L(!1)})]})]})}),Ij=({items:t,onChange:e,onAdd:n,onRemove:r,invalidItems:i=[]})=>x.jsxs("div",{className:"price-editor",children:[t.map(a=>{const o=i.includes(a.id),u=`option-${a.id}`,c=`option-price-${a.id}`;return x.jsxs("div",{className:`price-editor__row ${o?"price-editor__row--invalid":""}`,children:[x.jsx("input",{id:u,type:"text",value:a.duration,onChange:f=>e(a.id,"duration",f.target.value),placeholder:"Опция",className:"form__input"}),x.jsx("input",{id:c,type:"text",inputMode:"numeric",pattern:"[0-9]*",value:a.price,onChange:f=>e(a.id,"price",f.target.value),placeholder:"Цена",className:"form__input",min:"0"}),x.jsx("button",{type:"button",className:"button button--secondary",onClick:()=>r(a.id),children:"Удалить"})]},a.id)}),x.jsx("button",{type:"button",className:"button button--secondary",onClick:n,children:"+ Вариант"})]}),Bj=({supabase:t,activeTheme:e,onServicesLoaded:n})=>{const[r,i]=ie.useState([]),[a,o]=ie.useState(!1),[u,c]=ie.useState(""),[f,d]=ie.useState(""),[p,g]=ie.useState(null),[v,_]=ie.useState({}),[w,A]=ie.useState([]),[S,L]=ie.useState([]),[P,F]=ie.useState(null),[R,O]=ie.useState(null),z=j=>{d(j.target.value)},T=()=>{d("")},N=ie.useCallback(j=>{j.key==="Escape"&&T()},[]),$=ie.useCallback(async()=>{o(!0);try{const{data:j,error:Z}=await t.from("services").select("*").order("id",{ascending:!1});if(Z)throw Z;i(j),n(j)}catch(j){c("Не удалось загрузить список услуг"),console.error("Ошибка загрузки услуг:",j)}finally{o(!1)}},[t,n]);ie.useEffect(()=>{t&&$()},[t,$]);const V=ie.useCallback(j=>{F(Z=>Z===j?null:j)},[]),G=ie.useMemo(()=>{let j=r||[];if(f.trim()){const Z=f.toLowerCase().trim();j=j.filter(ne=>{var k,le;return((k=ne.name)==null?void 0:k.toLowerCase().includes(Z))||((le=ne.note)==null?void 0:le.toLowerCase().includes(Z))})}return j},[f,r]),re=ie.useCallback(async()=>{try{const{data:j,error:Z}=await t.from("services").insert([{name:"Новая услуга",purchase_price:0,service_prices:{},note:""}]).select();if(Z)throw Z;return await $(),j[0]}catch(j){throw console.error("Ошибка при создании услуги:",j),j}},[t,$]),Y=ie.useCallback(async(j,Z)=>{var ne,k;A(le=>[...le,j]);try{((ne=Z.photosToDelete)==null?void 0:ne.length)>0&&await t.storage.from("service-photos").remove(Z.photosToDelete);let le=[];((k=Z.newPhotos)==null?void 0:k.length)>0&&(le=await Promise.all(Z.newPhotos.map(async U=>{const I=U.name.split(".").pop(),W=`${_s()}.${I}`,ae=`service-photos/${j}/${W}`,{error:oe}=await t.storage.from("service-photos").upload(ae,U,{cacheControl:"3600",upsert:!1});if(oe)throw oe;return ae})));const se={name:Z.name,purchase_price:Z.purchase_price||0,note:Z.note||"",service_prices:Z.service_prices||{},photo_paths:[...(Z.photo_paths||[]).filter(U=>{var I;return!((I=Z.photosToDelete)!=null&&I.includes(U))}),...le]},{error:B}=await t.from("services").update(se).eq("id",j);if(B)throw B;return await $(),!0}catch(le){return alert("Ошибка при обновлении данных: "+le.message),!1}finally{A(le=>le.filter(se=>se!==j))}},[t,$]),M=ie.useCallback(async j=>{if(window.confirm("Вы уверены, что хотите удалить эту услугу?")){L(Z=>[...Z,j]);try{const{data:Z,error:ne}=await t.from("services").select("photo_paths").eq("id",j).single();if(ne)throw ne;const k=Z.photo_paths||[];if(k.length>0){const{error:se}=await t.storage.from("service-photos").remove(k);if(se)throw se}const{error:le}=await t.from("services").delete().eq("id",j);if(le)throw le;await $()}catch(Z){console.error("Ошибка при удалении:",Z),alert("Ошибка при удалении: "+Z.message)}finally{L(Z=>Z.filter(ne=>ne!==j))}}},[t,$]),D=ie.useCallback(j=>{g(j.id),_({...j,service_prices:j.service_prices||{}})},[]);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"table__settings table__settings--services",children:[x.jsx("button",{className:"button button--main",onClick:re,disabled:a,title:a?"Загрузка данных...":"",children:"+ Новая услуга"}),x.jsxs("div",{className:"search-container search-container--services",children:[x.jsx("input",{id:"search-services",name:"search-services",className:"form__input form__input--search",type:"text",placeholder:"Поиск по наименованию или заметке",autoComplete:"off",value:f,onChange:z,onKeyDown:N}),f&&x.jsx("button",{className:"clear-search-button",onClick:T,title:"Очистить",children:"⨯"})]})]}),x.jsx("div",{className:"error",children:u}),a?x.jsx("div",{className:"loader-container",children:x.jsx("div",{className:"loader"})}):G.length===0?x.jsxs("div",{className:"table__empty",children:[x.jsx("img",{src:`/documents/icons/icon--empty-${e}.svg`,alt:"Нет данных",className:"no-data-icon",width:"128"}),x.jsx("div",{children:"Услуг не найдено"})]}):x.jsx("div",{className:"table-container",children:x.jsxs("table",{className:"table table--services",cellSpacing:"0",cellPadding:"0",children:[x.jsx("thead",{className:"table__row-sticky",children:x.jsxs("tr",{children:[x.jsx("th",{children:"#"}),x.jsx("th",{className:"table__th--name",children:"Наименование"}),x.jsx("th",{children:"Прайс"}),x.jsx("th",{children:"Заметка"}),x.jsx("th",{className:"table__td--actions"})]})}),x.jsx("tbody",{children:G.map(j=>x.jsx(Pj,{item:j,supabase:t,editingId:p,editedData:v,setEditedData:_,updatingIds:w,deletingIds:S,onSave:Y,onCancel:()=>g(null),onEdit:D,onDelete:M,setEditingId:g,activeTheme:e,isExpanded:P===j.id,onToggleExpand:V,onMenuToggle:Z=>O(Z===R?null:Z),isMenuOpen:R===j.id},`${j.id}-${p===j.id?"editing":"view"}`))})]})})]})},zj=({supabase:t,activeTheme:e,salesUpdated:n})=>{const[r,i]=ie.useState([]),[a,o]=ie.useState(!0),[u,c]=ie.useState(!1),[f,d]=ie.useState(new Date().toISOString().split("T")[0]),[p,g]=ie.useState(new Date().toISOString().split("T")[0]),v=f===p,_=R=>{const O=R.payment_type==="card"?" (Безнал)":R.payment_type==="cash"?" (Нал)":"",z=R.discount>0?x.jsxs(x.Fragment,{children:[x.jsxs("span",{style:{textDecoration:"line-through"},children:[R.base_price," ₽"]})," ",R.sale_price," ₽",` (${R.discount}% скидка)`]}):`${R.sale_price} ₽`;return x.jsxs(x.Fragment,{children:[R.object," / ",R.category," - ",R.quantity," шт. × ",z,O]})},w=ie.useCallback(async()=>{if(t){o(!0);try{const R=f===p;let O=t.from("sales").select("*");const z=`${f}T00:00:00`,T=`${p}T23:59:59`;O=O.gte("created_at",z).lte("created_at",T),O=O.order("created_at",{ascending:R});const{data:N,error:$}=await O;if($)throw $;i(N||[])}catch(R){console.error("Ошибка загрузки продаж:",R)}finally{o(!1),c(!1)}}},[t,f,p]);ie.useEffect(()=>{t&&w()},[t,f,p,n]);const A=R=>{c(!0),d(R.target.value)},S=R=>{c(!0),g(R.target.value)},L=()=>{const R=new Date().toISOString().split("T")[0];d(R),g(R)},P=()=>{const R={},O=["Января","Февраля","Марта","Апреля","Мая","Июня","Июля","Августа","Сентября","Октября","Ноября","Декабря"],z=["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"];return r.forEach(T=>{const N=new Date(T.created_at),$=N.toISOString().split("T")[0];if(!R[$]){const V=N.getDate(),G=O[N.getMonth()],re=N.getFullYear(),Y=z[N.getDay()];R[$]={dateLabel:`${V} ${G}, ${re} (${Y})`,sales:[],dayTotal:0}}R[$].sales.push(T),R[$].dayTotal+=T.total_amount||0}),Object.entries(R).sort(([T],[N])=>v?0:N.localeCompare(T))},F=r.reduce((R,O)=>R+(O.total_amount||0),0);return a?x.jsx("div",{className:"loader-container",children:x.jsx("div",{className:"loader"})}):x.jsxs("div",{className:"sales-container",children:[x.jsx("div",{className:"sales-controls",children:x.jsxs("div",{className:"date-filters",children:[x.jsxs("div",{className:"date-filter-group",children:[x.jsx("label",{htmlFor:"start-date",className:"form__label",children:"От:"}),x.jsx("input",{id:"start-date-sales",type:"date",value:f,onChange:A,className:"form__input",max:p})]}),x.jsxs("div",{className:"date-filter-group",children:[x.jsx("label",{htmlFor:"end-date",className:"form__label",children:"До:"}),x.jsx("input",{id:"end-date-sales",type:"date",value:p,onChange:S,className:"form__input",min:f,max:new Date().toISOString().split("T")[0]})]}),x.jsx("button",{className:"button button--main",onClick:L,children:"Сегодня"})]})}),x.jsx("div",{className:"table-container",children:r.length===0?x.jsxs("div",{className:"table__empty",children:[x.jsx("img",{src:`/documents/icons/icon--empty-${e}.svg`,alt:"Нет данных",className:"no-data-icon",width:"128"}),x.jsx("div",{children:"Продаж за выбранный период нет"})]}):x.jsxs("table",{className:"table table--sale-stats",cellSpacing:"0",cellPadding:"0",children:[x.jsx("thead",{className:"table__row-sticky",children:x.jsxs("tr",{children:[x.jsx("th",{className:"table--sales__td--number",children:"#"}),x.jsx("th",{children:"Продажа"}),x.jsx("th",{children:"Сумма, ₽"}),x.jsx("th",{children:v?"Дата":"Время"})]})}),x.jsx("tbody",{children:f===p?r.map((R,O)=>x.jsxs("tr",{children:[x.jsx("td",{className:"table--sale-stats__number",children:O+1}),x.jsx("td",{className:"table--sale-stats__sale",children:R.items.length>1?x.jsx("ol",{className:"table__ol",children:R.items.map((z,T)=>x.jsx("li",{children:_(z)},T))}):_(R.items[0])}),x.jsx("td",{className:"table--sale-stats__amount",children:Qi.format(R.total_amount)}),x.jsxs("td",{className:"table--sale-stats__date",children:[new Date(R.created_at).toLocaleDateString(),","," ",new Date(R.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]},R.id)):P().map(([R,O])=>x.jsxs(er.Fragment,{children:[x.jsx("tr",{className:"table-day-header",children:x.jsx("td",{colSpan:"4",className:"table-day-header__title",children:O.dateLabel})}),O.sales.map((z,T)=>x.jsxs("tr",{children:[x.jsx("td",{className:"table--sale-stats__number",children:T+1}),x.jsx("td",{className:"table--sale-stats__sale",children:z.items.length>1?x.jsx("ol",{className:"table__ol",children:z.items.map((N,$)=>x.jsx("li",{children:_(N)},$))}):_(z.items[0])}),x.jsx("td",{className:"table--sale-stats__amount",children:Qi.format(z.total_amount)}),x.jsx("td",{className:"table--sale-stats__date",children:new Date(z.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},z.id)),x.jsxs("tr",{className:"table--sale--stats__total",children:[x.jsx("td",{colSpan:"2",className:"table-day-total__label",children:"Итого за день:"}),x.jsx("td",{className:"table-day-total__amount",children:Qi.format(O.dayTotal)}),x.jsx("td",{})]})]},R))}),x.jsx("tfoot",{children:x.jsxs("tr",{className:"table__footer-row",children:[x.jsx("td",{className:"table--sale--stats__total",colSpan:"2",children:"Итого за период:"}),x.jsx("td",{className:"table--sale--stats__total",children:Qi.format(F)}),x.jsx("td",{})]})})]})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Vc(t){return t+.5|0}const ms=(t,e,n)=>Math.max(Math.min(t,n),e);function cc(t){return ms(Vc(t*2.55),0,255)}function ys(t){return ms(Vc(t*255),0,255)}function Ta(t){return ms(Vc(t/2.55)/100,0,1)}function sw(t){return ms(Vc(t*100),0,100)}const gi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},H0=[..."0123456789ABCDEF"],Fj=t=>H0[t&15],Uj=t=>H0[(t&240)>>4]+H0[t&15],yh=t=>(t&240)>>4===(t&15),qj=t=>yh(t.r)&&yh(t.g)&&yh(t.b)&&yh(t.a);function Hj(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&gi[t[1]]*17,g:255&gi[t[2]]*17,b:255&gi[t[3]]*17,a:e===5?gi[t[4]]*17:255}:(e===7||e===9)&&(n={r:gi[t[1]]<<4|gi[t[2]],g:gi[t[3]]<<4|gi[t[4]],b:gi[t[5]]<<4|gi[t[6]],a:e===9?gi[t[7]]<<4|gi[t[8]]:255})),n}const $j=(t,e)=>t<255?e(t):"";function Vj(t){var e=qj(t)?Fj:Uj;return t?"#"+e(t.r)+e(t.g)+e(t.b)+$j(t.a,e):void 0}const Yj=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function XC(t,e,n){const r=e*Math.min(n,1-n),i=(a,o=(a+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Xj(t,e,n){const r=(i,a=(i+t/60)%6)=>n-n*e*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function Gj(t,e,n){const r=XC(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function Wj(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function Bv(t){const n=t.r/255,r=t.g/255,i=t.b/255,a=Math.max(n,r,i),o=Math.min(n,r,i),u=(a+o)/2;let c,f,d;return a!==o&&(d=a-o,f=u>.5?d/(2-a-o):d/(a+o),c=Wj(n,r,i,d,a),c=c*60+.5),[c|0,f||0,u]}function zv(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(ys)}function Fv(t,e,n){return zv(XC,t,e,n)}function Zj(t,e,n){return zv(Gj,t,e,n)}function Kj(t,e,n){return zv(Xj,t,e,n)}function GC(t){return(t%360+360)%360}function Qj(t){const e=Yj.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?cc(+e[5]):ys(+e[5]));const i=GC(+e[2]),a=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=Zj(i,a,o):e[1]==="hsv"?r=Kj(i,a,o):r=Fv(i,a,o),{r:r[0],g:r[1],b:r[2],a:n}}function Jj(t,e){var n=Bv(t);n[0]=GC(n[0]+e),n=Fv(n),t.r=n[0],t.g=n[1],t.b=n[2]}function e4(t){if(!t)return;const e=Bv(t),n=e[0],r=sw(e[1]),i=sw(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Ta(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const ow={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},lw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function t4(){const t={},e=Object.keys(lw),n=Object.keys(ow);let r,i,a,o,u;for(r=0;r<e.length;r++){for(o=u=e[r],i=0;i<n.length;i++)a=n[i],u=u.replace(a,ow[a]);a=parseInt(lw[o],16),t[u]=[a>>16&255,a>>8&255,a&255]}return t}let bh;function n4(t){bh||(bh=t4(),bh.transparent=[0,0,0,0]);const e=bh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const r4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function i4(t){const e=r4.exec(t);let n=255,r,i,a;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?cc(o):ms(o*255,0,255)}return r=+e[1],i=+e[3],a=+e[5],r=255&(e[2]?cc(r):ms(r,0,255)),i=255&(e[4]?cc(i):ms(i,0,255)),a=255&(e[6]?cc(a):ms(a,0,255)),{r,g:i,b:a,a:n}}}function a4(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ta(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Qg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,yl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function s4(t,e,n){const r=yl(Ta(t.r)),i=yl(Ta(t.g)),a=yl(Ta(t.b));return{r:ys(Qg(r+n*(yl(Ta(e.r))-r))),g:ys(Qg(i+n*(yl(Ta(e.g))-i))),b:ys(Qg(a+n*(yl(Ta(e.b))-a))),a:t.a+n*(e.a-t.a)}}function _h(t,e,n){if(t){let r=Bv(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Fv(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function WC(t,e){return t&&Object.assign(e||{},t)}function uw(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ys(t[3]))):(e=WC(t,{r:0,g:0,b:0,a:1}),e.a=ys(e.a)),e}function o4(t){return t.charAt(0)==="r"?i4(t):Qj(t)}class Nc{constructor(e){if(e instanceof Nc)return e;const n=typeof e;let r;n==="object"?r=uw(e):n==="string"&&(r=Hj(e)||n4(e)||o4(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=WC(this._rgb);return e&&(e.a=Ta(e.a)),e}set rgb(e){this._rgb=uw(e)}rgbString(){return this._valid?a4(this._rgb):void 0}hexString(){return this._valid?Vj(this._rgb):void 0}hslString(){return this._valid?e4(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let a;const o=n===a?.5:n,u=2*o-1,c=r.a-i.a,f=((u*c===-1?u:(u+c)/(1+u*c))+1)/2;a=1-f,r.r=255&f*r.r+a*i.r+.5,r.g=255&f*r.g+a*i.g+.5,r.b=255&f*r.b+a*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=s4(this._rgb,e._rgb,n)),this}clone(){return new Nc(this.rgb)}alpha(e){return this._rgb.a=ys(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Vc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return _h(this._rgb,2,e),this}darken(e){return _h(this._rgb,2,-e),this}saturate(e){return _h(this._rgb,1,e),this}desaturate(e){return _h(this._rgb,1,-e),this}rotate(e){return Jj(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Sa(){}const l4=(()=>{let t=0;return()=>t++})();function dn(t){return t==null}function Jn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function rn(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function bi(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Hi(t,e){return bi(t)?t:e}function Gt(t,e){return typeof t>"u"?e:t}const u4=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,ZC=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Nn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function vn(t,e,n,r){let i,a,o;if(Jn(t))for(a=t.length,i=0;i<a;i++)e.call(n,t[i],i);else if(rn(t))for(o=Object.keys(t),a=o.length,i=0;i<a;i++)e.call(n,t[o[i]],o[i])}function ud(t,e){let n,r,i,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],a=e[n],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function cd(t){if(Jn(t))return t.map(cd);if(rn(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=cd(t[n[i]]);return e}return t}function KC(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function c4(t,e,n,r){if(!KC(t))return;const i=e[t],a=n[t];rn(i)&&rn(a)?Rc(i,a,r):e[t]=cd(a)}function Rc(t,e,n){const r=Jn(e)?e:[e],i=r.length;if(!rn(t))return t;n=n||{};const a=n.merger||c4;let o;for(let u=0;u<i;++u){if(o=r[u],!rn(o))continue;const c=Object.keys(o);for(let f=0,d=c.length;f<d;++f)a(c[f],t,o,n)}return t}function bc(t,e){return Rc(t,e,{merger:f4})}function f4(t,e,n){if(!KC(t))return;const r=e[t],i=n[t];rn(r)&&rn(i)?bc(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=cd(i))}const cw={"":t=>t,x:t=>t.x,y:t=>t.y};function h4(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function d4(t){const e=h4(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function vo(t,e){return(cw[e]||(cw[e]=d4(e)))(t)}function Uv(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Mc=t=>typeof t<"u",xs=t=>typeof t=="function",fw=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function p4(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Un=Math.PI,zn=2*Un,m4=zn+Un,fd=Number.POSITIVE_INFINITY,g4=Un/180,tr=Un/2,eo=Un/4,hw=Un*2/3,QC=Math.log10,ta=Math.sign;function _c(t,e,n){return Math.abs(t-e)<n}function dw(t){const e=Math.round(t);t=_c(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(QC(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function v4(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,a)=>i-a).pop(),e}function y4(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function jc(t){return!y4(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function b4(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function _4(t,e,n){let r,i,a;for(r=0,i=t.length;r<i;r++)a=t[r][n],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function Oa(t){return t*(Un/180)}function x4(t){return t*(180/Un)}function pw(t){if(!bi(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function JC(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*Un&&(a+=zn),{angle:a,distance:i}}function $0(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function w4(t,e){return(t-e+m4)%zn-Un}function hs(t){return(t%zn+zn)%zn}function Lc(t,e,n,r){const i=hs(t),a=hs(e),o=hs(n),u=hs(a-i),c=hs(o-i),f=hs(i-a),d=hs(i-o);return i===a||i===o||r&&a===o||u>c&&f<d}function Sr(t,e,n){return Math.max(e,Math.min(n,t))}function S4(t){return Sr(t,-32768,32767)}function gs(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function qv(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,a;for(;r-i>1;)a=i+r>>1,n(a)?i=a:r=a;return{lo:i,hi:r}}const lo=(t,e,n,r)=>qv(t,n,r?i=>{const a=t[i][e];return a<n||a===n&&t[i+1][e]===n}:i=>t[i][e]<n),E4=(t,e,n)=>qv(t,n,r=>t[r][e]>=n);function C4(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const eA=["push","pop","shift","splice","unshift"];function A4(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),eA.forEach(n=>{const r="_onData"+Uv(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...a){const o=i.apply(this,a);return t._chartjs.listeners.forEach(u=>{typeof u[r]=="function"&&u[r](...a)}),o}})})}function mw(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(eA.forEach(a=>{delete t[a]}),delete t._chartjs)}function tA(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const nA=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function rA(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,nA.call(window,()=>{r=!1,t.apply(e,n)}))}}function T4(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const Hv=t=>t==="start"?"left":t==="end"?"right":"center",wr=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,D4=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function O4(t,e,n){const r=e.length;let i=0,a=r;if(t._sorted){const{iScale:o,vScale:u,_parsed:c}=t,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=o.axis,{min:p,max:g,minDefined:v,maxDefined:_}=o.getUserBounds();if(v){if(i=Math.min(lo(c,d,p).lo,n?r:lo(e,d,o.getPixelForValue(p)).lo),f){const w=c.slice(0,i+1).reverse().findIndex(A=>!dn(A[u.axis]));i-=Math.max(0,w)}i=Sr(i,0,r-1)}if(_){let w=Math.max(lo(c,o.axis,g,!0).hi+1,n?0:lo(e,d,o.getPixelForValue(g),!0).hi+1);if(f){const A=c.slice(w-1).findIndex(S=>!dn(S[u.axis]));w+=Math.max(0,A)}a=Sr(w,i,r)-i}else a=r-i}return{start:i,count:a}}function k4(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const a=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),a}const xh=t=>t===0||t===1,gw=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*zn/n)),vw=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*zn/n)+1,xc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*tr)+1,easeOutSine:t=>Math.sin(t*tr),easeInOutSine:t=>-.5*(Math.cos(Un*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>xh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>xh(t)?t:gw(t,.075,.3),easeOutElastic:t=>xh(t)?t:vw(t,.075,.3),easeInOutElastic(t){return xh(t)?t:t<.5?.5*gw(t*2,.1125,.45):.5+.5*vw(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-xc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?xc.easeInBounce(t*2)*.5:xc.easeOutBounce(t*2-1)*.5+.5};function $v(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function yw(t){return $v(t)?t:new Nc(t)}function Jg(t){return $v(t)?t:new Nc(t).saturate(.5).darken(.1).hexString()}const N4=["x","y","borderWidth","radius","tension"],R4=["color","borderColor","backgroundColor"];function M4(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:R4},numbers:{type:"number",properties:N4}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function j4(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const bw=new Map;function L4(t,e){e=e||{};const n=t+JSON.stringify(e);let r=bw.get(n);return r||(r=new Intl.NumberFormat(t,e),bw.set(n,r)),r}function Vv(t,e,n){return L4(e,n).format(t)}const P4={values(t){return Jn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,a=t;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(i="scientific"),a=I4(t,n)}const o=QC(Math.abs(a)),u=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(c,this.options.ticks.format),Vv(t,r,c)}};function I4(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var iA={formatters:P4};function B4(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:iA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const yo=Object.create(null),V0=Object.create(null);function wc(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const a=n[r];t=t[a]||(t[a]=Object.create(null))}return t}function e0(t,e,n){return typeof e=="string"?Rc(wc(t,e),n):Rc(wc(t,""),e)}class z4{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Jg(i.backgroundColor),this.hoverBorderColor=(r,i)=>Jg(i.borderColor),this.hoverColor=(r,i)=>Jg(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return e0(this,e,n)}get(e){return wc(this,e)}describe(e,n){return e0(V0,e,n)}override(e,n){return e0(yo,e,n)}route(e,n,r,i){const a=wc(this,e),o=wc(this,r),u="_"+n;Object.defineProperties(a,{[u]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[u],f=o[i];return rn(c)?Object.assign({},f,c):Gt(c,f)},set(c){this[u]=c}}})}apply(e){e.forEach(n=>n(this))}}var $n=new z4({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[M4,j4,B4]);function F4(t){return!t||dn(t.size)||dn(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function _w(t,e,n,r,i){let a=e[i];return a||(a=e[i]=t.measureText(i).width,n.push(i)),a>r&&(r=a),r}function to(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function xw(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Y0(t,e,n,r){aA(t,e,n,r,null)}function aA(t,e,n,r,i){let a,o,u,c,f,d,p,g;const v=e.pointStyle,_=e.rotation,w=e.radius;let A=(_||0)*g4;if(v&&typeof v=="object"&&(a=v.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(A),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),v){default:i?t.ellipse(n,r,i/2,w,0,0,zn):t.arc(n,r,w,0,zn),t.closePath();break;case"triangle":d=i?i/2:w,t.moveTo(n+Math.sin(A)*d,r-Math.cos(A)*w),A+=hw,t.lineTo(n+Math.sin(A)*d,r-Math.cos(A)*w),A+=hw,t.lineTo(n+Math.sin(A)*d,r-Math.cos(A)*w),t.closePath();break;case"rectRounded":f=w*.516,c=w-f,o=Math.cos(A+eo)*c,p=Math.cos(A+eo)*(i?i/2-f:c),u=Math.sin(A+eo)*c,g=Math.sin(A+eo)*(i?i/2-f:c),t.arc(n-p,r-u,f,A-Un,A-tr),t.arc(n+g,r-o,f,A-tr,A),t.arc(n+p,r+u,f,A,A+tr),t.arc(n-g,r+o,f,A+tr,A+Un),t.closePath();break;case"rect":if(!_){c=Math.SQRT1_2*w,d=i?i/2:c,t.rect(n-d,r-c,2*d,2*c);break}A+=eo;case"rectRot":p=Math.cos(A)*(i?i/2:w),o=Math.cos(A)*w,u=Math.sin(A)*w,g=Math.sin(A)*(i?i/2:w),t.moveTo(n-p,r-u),t.lineTo(n+g,r-o),t.lineTo(n+p,r+u),t.lineTo(n-g,r+o),t.closePath();break;case"crossRot":A+=eo;case"cross":p=Math.cos(A)*(i?i/2:w),o=Math.cos(A)*w,u=Math.sin(A)*w,g=Math.sin(A)*(i?i/2:w),t.moveTo(n-p,r-u),t.lineTo(n+p,r+u),t.moveTo(n+g,r-o),t.lineTo(n-g,r+o);break;case"star":p=Math.cos(A)*(i?i/2:w),o=Math.cos(A)*w,u=Math.sin(A)*w,g=Math.sin(A)*(i?i/2:w),t.moveTo(n-p,r-u),t.lineTo(n+p,r+u),t.moveTo(n+g,r-o),t.lineTo(n-g,r+o),A+=eo,p=Math.cos(A)*(i?i/2:w),o=Math.cos(A)*w,u=Math.sin(A)*w,g=Math.sin(A)*(i?i/2:w),t.moveTo(n-p,r-u),t.lineTo(n+p,r+u),t.moveTo(n+g,r-o),t.lineTo(n-g,r+o);break;case"line":o=i?i/2:Math.cos(A)*w,u=Math.sin(A)*w,t.moveTo(n-o,r-u),t.lineTo(n+o,r+u);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(A)*(i?i/2:w),r+Math.sin(A)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Pc(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Yv(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Xv(t){t.restore()}function U4(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const a=(e.x+n.x)/2;t.lineTo(a,e.y),t.lineTo(a,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function q4(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function H4(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),dn(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function $4(t,e,n,r,i){if(i.strikethrough||i.underline){const a=t.measureText(r),o=e-a.actualBoundingBoxLeft,u=e+a.actualBoundingBoxRight,c=n-a.actualBoundingBoxAscent,f=n+a.actualBoundingBoxDescent,d=i.strikethrough?(c+f)/2:f;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,d),t.lineTo(u,d),t.stroke()}}function V4(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ic(t,e,n,r,i,a={}){const o=Jn(e)?e:[e],u=a.strokeWidth>0&&a.strokeColor!=="";let c,f;for(t.save(),t.font=i.string,H4(t,a),c=0;c<o.length;++c)f=o[c],a.backdrop&&V4(t,a.backdrop),u&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),dn(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(f,n,r,a.maxWidth)),t.fillText(f,n,r,a.maxWidth),$4(t,n,r,f,a),r+=Number(i.lineHeight);t.restore()}function hd(t,e){const{x:n,y:r,w:i,h:a,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Un,Un,!0),t.lineTo(n,r+a-o.bottomLeft),t.arc(n+o.bottomLeft,r+a-o.bottomLeft,o.bottomLeft,Un,tr,!0),t.lineTo(n+i-o.bottomRight,r+a),t.arc(n+i-o.bottomRight,r+a-o.bottomRight,o.bottomRight,tr,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-tr,!0),t.lineTo(n+o.topLeft,r)}const Y4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,X4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function G4(t,e){const n=(""+t).match(Y4);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const W4=t=>+t||0;function Gv(t,e){const n={},r=rn(e),i=r?Object.keys(e):e,a=rn(t)?r?o=>Gt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=W4(a(o));return n}function sA(t){return Gv(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Dl(t){return Gv(t,["topLeft","topRight","bottomLeft","bottomRight"])}function _i(t){const e=sA(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Er(t,e){t=t||{},e=e||$n.font;let n=Gt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Gt(t.style,e.style);r&&!(""+r).match(X4)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Gt(t.family,e.family),lineHeight:G4(Gt(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Gt(t.weight,e.weight),string:""};return i.string=F4(i),i}function wh(t,e,n,r){let i,a,o;for(i=0,a=t.length;i<a;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function Z4(t,e,n){const{min:r,max:i}=t,a=ZC(e,(i-r)/2),o=(u,c)=>n&&u===0?0:u+c;return{min:o(r,-Math.abs(a)),max:o(i,a)}}function xo(t,e){return Object.assign(Object.create(t),e)}function Wv(t,e=[""],n,r,i=()=>t[0]){const a=n||t;typeof r>"u"&&(r=cA("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:r,_getTarget:i,override:u=>Wv([u,...t],e,a,r)};return new Proxy(o,{deleteProperty(u,c){return delete u[c],delete u._keys,delete t[0][c],!0},get(u,c){return lA(u,c,()=>i6(c,e,t,u))},getOwnPropertyDescriptor(u,c){return Reflect.getOwnPropertyDescriptor(u._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(u,c){return Sw(u).includes(c)},ownKeys(u){return Sw(u)},set(u,c,f){const d=u._storage||(u._storage=i());return u[c]=d[c]=f,delete u._keys,!0}})}function Il(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:oA(t,r),setContext:a=>Il(t,a,n,r),override:a=>Il(t.override(a),e,n,r)};return new Proxy(i,{deleteProperty(a,o){return delete a[o],delete t[o],!0},get(a,o,u){return lA(a,o,()=>Q4(a,o,u))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(a,o,u){return t[o]=u,delete a[o],!0}})}function oA(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:xs(n)?n:()=>n,isIndexable:xs(r)?r:()=>r}}const K4=(t,e)=>t?t+Uv(e):e,Zv=(t,e)=>rn(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function lA(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function Q4(t,e,n){const{_proxy:r,_context:i,_subProxy:a,_descriptors:o}=t;let u=r[e];return xs(u)&&o.isScriptable(e)&&(u=J4(e,u,t,n)),Jn(u)&&u.length&&(u=e6(e,u,t,o.isIndexable)),Zv(e,u)&&(u=Il(u,i,a&&a[e],o)),u}function J4(t,e,n,r){const{_proxy:i,_context:a,_subProxy:o,_stack:u}=n;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let c=e(a,o||r);return u.delete(t),Zv(t,c)&&(c=Kv(i._scopes,i,t,c)),c}function e6(t,e,n,r){const{_proxy:i,_context:a,_subProxy:o,_descriptors:u}=n;if(typeof a.index<"u"&&r(t))return e[a.index%e.length];if(rn(e[0])){const c=e,f=i._scopes.filter(d=>d!==c);e=[];for(const d of c){const p=Kv(f,i,t,d);e.push(Il(p,a,o&&o[t],u))}}return e}function uA(t,e,n){return xs(t)?t(e,n):t}const t6=(t,e)=>t===!0?e:typeof t=="string"?vo(e,t):void 0;function n6(t,e,n,r,i){for(const a of e){const o=t6(n,a);if(o){t.add(o);const u=uA(o._fallback,n,i);if(typeof u<"u"&&u!==n&&u!==r)return u}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Kv(t,e,n,r){const i=e._rootScopes,a=uA(e._fallback,n,r),o=[...t,...i],u=new Set;u.add(r);let c=ww(u,o,n,a||n,r);return c===null||typeof a<"u"&&a!==n&&(c=ww(u,o,a,c,r),c===null)?!1:Wv(Array.from(u),[""],i,a,()=>r6(e,n,r))}function ww(t,e,n,r,i){for(;n;)n=n6(t,e,n,r,i);return n}function r6(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Jn(i)&&rn(n)?n:i||{}}function i6(t,e,n,r){let i;for(const a of e)if(i=cA(K4(a,t),n),typeof i<"u")return Zv(t,i)?Kv(n,r,t,i):i}function cA(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Sw(t){let e=t._keys;return e||(e=t._keys=a6(t._scopes)),e}function a6(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const s6=Number.EPSILON||1e-14,Bl=(t,e)=>e<t.length&&!t[e].skip&&t[e],fA=t=>t==="x"?"y":"x";function o6(t,e,n,r){const i=t.skip?e:t,a=e,o=n.skip?e:n,u=$0(a,i),c=$0(o,a);let f=u/(u+c),d=c/(u+c);f=isNaN(f)?0:f,d=isNaN(d)?0:d;const p=r*f,g=r*d;return{previous:{x:a.x-p*(o.x-i.x),y:a.y-p*(o.y-i.y)},next:{x:a.x+g*(o.x-i.x),y:a.y+g*(o.y-i.y)}}}function l6(t,e,n){const r=t.length;let i,a,o,u,c,f=Bl(t,0);for(let d=0;d<r-1;++d)if(c=f,f=Bl(t,d+1),!(!c||!f)){if(_c(e[d],0,s6)){n[d]=n[d+1]=0;continue}i=n[d]/e[d],a=n[d+1]/e[d],u=Math.pow(i,2)+Math.pow(a,2),!(u<=9)&&(o=3/Math.sqrt(u),n[d]=i*o*e[d],n[d+1]=a*o*e[d])}}function u6(t,e,n="x"){const r=fA(n),i=t.length;let a,o,u,c=Bl(t,0);for(let f=0;f<i;++f){if(o=u,u=c,c=Bl(t,f+1),!u)continue;const d=u[n],p=u[r];o&&(a=(d-o[n])/3,u[`cp1${n}`]=d-a,u[`cp1${r}`]=p-a*e[f]),c&&(a=(c[n]-d)/3,u[`cp2${n}`]=d+a,u[`cp2${r}`]=p+a*e[f])}}function c6(t,e="x"){const n=fA(e),r=t.length,i=Array(r).fill(0),a=Array(r);let o,u,c,f=Bl(t,0);for(o=0;o<r;++o)if(u=c,c=f,f=Bl(t,o+1),!!c){if(f){const d=f[e]-c[e];i[o]=d!==0?(f[n]-c[n])/d:0}a[o]=u?f?ta(i[o-1])!==ta(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}l6(t,i,a),u6(t,a,e)}function Sh(t,e,n){return Math.max(Math.min(t,n),e)}function f6(t,e){let n,r,i,a,o,u=Pc(t[0],e);for(n=0,r=t.length;n<r;++n)o=a,a=u,u=n<r-1&&Pc(t[n+1],e),a&&(i=t[n],o&&(i.cp1x=Sh(i.cp1x,e.left,e.right),i.cp1y=Sh(i.cp1y,e.top,e.bottom)),u&&(i.cp2x=Sh(i.cp2x,e.left,e.right),i.cp2y=Sh(i.cp2y,e.top,e.bottom)))}function h6(t,e,n,r,i){let a,o,u,c;if(e.spanGaps&&(t=t.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")c6(t,i);else{let f=r?t[t.length-1]:t[0];for(a=0,o=t.length;a<o;++a)u=t[a],c=o6(f,u,t[Math.min(a+1,o-(r?0:1))%o],e.tension),u.cp1x=c.previous.x,u.cp1y=c.previous.y,u.cp2x=c.next.x,u.cp2y=c.next.y,f=u}e.capBezierPoints&&f6(t,n)}function Qv(){return typeof window<"u"&&typeof document<"u"}function Jv(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function dd(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Od=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function d6(t,e){return Od(t).getPropertyValue(e)}const p6=["top","right","bottom","left"];function fo(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const a=p6[i];r[a]=parseFloat(t[e+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const m6=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function g6(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:a}=r;let o=!1,u,c;if(m6(i,a,t.target))u=i,c=a;else{const f=e.getBoundingClientRect();u=r.clientX-f.left,c=r.clientY-f.top,o=!0}return{x:u,y:c,box:o}}function io(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Od(n),a=i.boxSizing==="border-box",o=fo(i,"padding"),u=fo(i,"border","width"),{x:c,y:f,box:d}=g6(t,n),p=o.left+(d&&u.left),g=o.top+(d&&u.top);let{width:v,height:_}=e;return a&&(v-=o.width+u.width,_-=o.height+u.height),{x:Math.round((c-p)/v*n.width/r),y:Math.round((f-g)/_*n.height/r)}}function v6(t,e,n){let r,i;if(e===void 0||n===void 0){const a=t&&Jv(t);if(!a)e=t.clientWidth,n=t.clientHeight;else{const o=a.getBoundingClientRect(),u=Od(a),c=fo(u,"border","width"),f=fo(u,"padding");e=o.width-f.width-c.width,n=o.height-f.height-c.height,r=dd(u.maxWidth,a,"clientWidth"),i=dd(u.maxHeight,a,"clientHeight")}}return{width:e,height:n,maxWidth:r||fd,maxHeight:i||fd}}const Eh=t=>Math.round(t*10)/10;function y6(t,e,n,r){const i=Od(t),a=fo(i,"margin"),o=dd(i.maxWidth,t,"clientWidth")||fd,u=dd(i.maxHeight,t,"clientHeight")||fd,c=v6(t,e,n);let{width:f,height:d}=c;if(i.boxSizing==="content-box"){const g=fo(i,"border","width"),v=fo(i,"padding");f-=v.width+g.width,d-=v.height+g.height}return f=Math.max(0,f-a.width),d=Math.max(0,r?f/r:d-a.height),f=Eh(Math.min(f,o,c.maxWidth)),d=Eh(Math.min(d,u,c.maxHeight)),f&&!d&&(d=Eh(f/2)),(e!==void 0||n!==void 0)&&r&&c.height&&d>c.height&&(d=c.height,f=Eh(Math.floor(d*r))),{width:f,height:d}}function Ew(t,e,n){const r=e||1,i=Math.floor(t.height*r),a=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==a?(t.currentDevicePixelRatio=r,o.height=i,o.width=a,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const b6=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Qv()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Cw(t,e){const n=d6(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ao(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function _6(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function x6(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},o=ao(t,i,n),u=ao(i,a,n),c=ao(a,e,n),f=ao(o,u,n),d=ao(u,c,n);return ao(f,d,n)}const w6=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},S6=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ol(t,e,n){return t?w6(e,n):S6()}function hA(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function dA(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function pA(t){return t==="angle"?{between:Lc,compare:w4,normalize:hs}:{between:gs,compare:(e,n)=>e-n,normalize:e=>e}}function Aw({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function E6(t,e,n){const{property:r,start:i,end:a}=n,{between:o,normalize:u}=pA(r),c=e.length;let{start:f,end:d,loop:p}=t,g,v;if(p){for(f+=c,d+=c,g=0,v=c;g<v&&o(u(e[f%c][r]),i,a);++g)f--,d--;f%=c,d%=c}return d<f&&(d+=c),{start:f,end:d,loop:p,style:t.style}}function C6(t,e,n){if(!n)return[t];const{property:r,start:i,end:a}=n,o=e.length,{compare:u,between:c,normalize:f}=pA(r),{start:d,end:p,loop:g,style:v}=E6(t,e,n),_=[];let w=!1,A=null,S,L,P;const F=()=>c(i,P,S)&&u(i,P)!==0,R=()=>u(a,S)===0||c(a,P,S),O=()=>w||F(),z=()=>!w||R();for(let T=d,N=d;T<=p;++T)L=e[T%o],!L.skip&&(S=f(L[r]),S!==P&&(w=c(S,i,a),A===null&&O()&&(A=u(S,i)===0?T:N),A!==null&&z()&&(_.push(Aw({start:A,end:T,loop:g,count:o,style:v})),A=null),N=T,P=S));return A!==null&&_.push(Aw({start:A,end:p,loop:g,count:o,style:v})),_}function A6(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const a=C6(r[i],t.points,e);a.length&&n.push(...a)}return n}function T6(t,e,n,r){let i=0,a=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(a+=i);a>i&&t[a%e].skip;)a--;return a%=e,{start:i,end:a}}function D6(t,e,n,r){const i=t.length,a=[];let o=e,u=t[e],c;for(c=e+1;c<=n;++c){const f=t[c%i];f.skip||f.stop?u.skip||(r=!1,a.push({start:e%i,end:(c-1)%i,loop:r}),e=o=f.stop?c:null):(o=c,u.skip&&(e=c)),u=f}return o!==null&&a.push({start:e%i,end:o%i,loop:r}),a}function O6(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const a=!!t._loop,{start:o,end:u}=T6(n,i,a,r);if(r===!0)return Tw(t,[{start:o,end:u,loop:a}],n,e);const c=u<o?u+i:u,f=!!t._fullLoop&&o===0&&u===i-1;return Tw(t,D6(n,o,c,f),n,e)}function Tw(t,e,n,r){return!r||!r.setContext||!n?e:k6(t,e,n,r)}function k6(t,e,n,r){const i=t._chart.getContext(),a=Dw(t.options),{_datasetIndex:o,options:{spanGaps:u}}=t,c=n.length,f=[];let d=a,p=e[0].start,g=p;function v(_,w,A,S){const L=u?-1:1;if(_!==w){for(_+=c;n[_%c].skip;)_-=L;for(;n[w%c].skip;)w+=L;_%c!==w%c&&(f.push({start:_%c,end:w%c,loop:A,style:S}),d=S,p=w%c)}}for(const _ of e){p=u?p:_.start;let w=n[p%c],A;for(g=p+1;g<=_.end;g++){const S=n[g%c];A=Dw(r.setContext(xo(i,{type:"segment",p0:w,p1:S,p0DataIndex:(g-1)%c,p1DataIndex:g%c,datasetIndex:o}))),N6(A,d)&&v(p,g-1,_.loop,d),w=S,d=A}p<g-1&&v(p,g-1,_.loop,d)}return f}function Dw(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function N6(t,e){if(!e)return!1;const n=[],r=function(i,a){return $v(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Ch(t,e,n){return t.options.clip?t[n]:e[n]}function R6(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Ch(n,e,"left"),right:Ch(n,e,"right"),top:Ch(r,e,"top"),bottom:Ch(r,e,"bottom")}:e}function M6(t,e){const n=e._clip;if(n.disabled)return!1;const r=R6(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class j6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const a=n.listeners[i],o=n.duration;a.forEach(u=>u({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=nA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const a=r.items;let o=a.length-1,u=!1,c;for(;o>=0;--o)c=a[o],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),u=!0):(a[o]=a[a.length-1],a.pop());u&&(i.draw(),this._notify(i,r,e,"progress")),a.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=a.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ea=new j6;const Ow="transparent",L6={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=yw(t||Ow),i=r.valid&&yw(e||Ow);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class P6{constructor(e,n,r,i){const a=n[r];i=wh([e.to,i,a,e.from]);const o=wh([e.from,a,i]);this._active=!0,this._fn=e.fn||L6[e.type||typeof o],this._easing=xc[e.easing]||xc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],a=r-this._start,o=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=wh([e.to,n,i,e.from]),this._from=wh([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,a=this._from,o=this._loop,u=this._to;let c;if(this._active=a!==u&&(o||n<r),!this._active){this._target[i]=u,this._notify(!0);return}if(n<0){this._target[i]=a;return}c=n/r%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(a,u,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class mA{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!rn(e))return;const n=Object.keys($n.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const a=e[i];if(!rn(a))return;const o={};for(const u of n)o[u]=a[u];(Jn(a.properties)&&a.properties||[i]).forEach(u=>{(u===i||!r.has(u))&&r.set(u,o)})})}_animateOptions(e,n){const r=n.options,i=B6(e,r);if(!i)return[];const a=this._createAnimations(i,r);return r.$shared&&I6(e.options.$animations,r).then(()=>{e.options=r},()=>{}),a}_createAnimations(e,n){const r=this._properties,i=[],a=e.$animations||(e.$animations={}),o=Object.keys(n),u=Date.now();let c;for(c=o.length-1;c>=0;--c){const f=o[c];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(e,n));continue}const d=n[f];let p=a[f];const g=r.get(f);if(p)if(g&&p.active()){p.update(g,d,u);continue}else p.cancel();if(!g||!g.duration){e[f]=d;continue}a[f]=p=new P6(g,e,f,d),i.push(p)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Ea.add(this._chart,r),!0}}function I6(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const a=t[r[i]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function B6(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function kw(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,a=n.max===void 0?e:0;return{start:r?a:i,end:r?i:a}}function z6(t,e,n){if(n===!1)return!1;const r=kw(t,n),i=kw(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function F6(t){let e,n,r,i;return rn(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function gA(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,a;for(i=0,a=r.length;i<a;++i)n.push(r[i].index);return n}function Nw(t,e,n,r={}){const i=t.keys,a=r.mode==="single";let o,u,c,f;if(e===null)return;let d=!1;for(o=0,u=i.length;o<u;++o){if(c=+i[o],c===n){if(d=!0,r.all)continue;break}f=t.values[c],bi(f)&&(a||e===0||ta(e)===ta(f))&&(e+=f)}return!d&&!r.all?0:e}function U6(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",o=Object.keys(t),u=new Array(o.length);let c,f,d;for(c=0,f=o.length;c<f;++c)d=o[c],u[c]={[i]:d,[a]:t[d]};return u}function t0(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function q6(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function H6(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function $6(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Rw(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const a=t[i.index];if(n&&a>0||!n&&a<0)return i.index}return null}function Mw(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:a,vScale:o,index:u}=r,c=a.axis,f=o.axis,d=q6(a,o,r),p=e.length;let g;for(let v=0;v<p;++v){const _=e[v],{[c]:w,[f]:A}=_,S=_._stacks||(_._stacks={});g=S[f]=$6(i,d,w),g[u]=A,g._top=Rw(g,o,!0,r.type),g._bottom=Rw(g,o,!1,r.type);const L=g._visualValues||(g._visualValues={});L[u]=A}}function n0(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function V6(t,e){return xo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Y6(t,e,n){return xo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Ku(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const a=i._stacks;if(!a||a[r]===void 0||a[r][n]===void 0)return;delete a[r][n],a[r]._visualValues!==void 0&&a[r]._visualValues[n]!==void 0&&delete a[r]._visualValues[n]}}}const r0=t=>t==="reset"||t==="none",jw=(t,e)=>e?t:Object.assign({},t),X6=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:gA(n,!0),values:null};class ho{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=t0(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ku(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(p,g,v,_)=>p==="x"?g:p==="r"?_:v,a=n.xAxisID=Gt(r.xAxisID,n0(e,"x")),o=n.yAxisID=Gt(r.yAxisID,n0(e,"y")),u=n.rAxisID=Gt(r.rAxisID,n0(e,"r")),c=n.indexAxis,f=n.iAxisID=i(c,a,o,u),d=n.vAxisID=i(c,o,a,u);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&mw(this._data,this),e._stacked&&Ku(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(rn(n)){const i=this._cachedMeta;this._data=U6(n,i)}else if(r!==n){if(r){mw(r,this);const i=this._cachedMeta;Ku(i),i._parsed=[]}n&&Object.isExtensible(n)&&A4(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const a=n._stacked;n._stacked=t0(n.vScale,n),n.stack!==r.stack&&(i=!0,Ku(n),n.stack=r.stack),this._resyncElements(e),(i||a!==n._stacked)&&(Mw(this,n._parsed),n._stacked=t0(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:a,_stacked:o}=r,u=a.axis;let c=e===0&&n===i.length?!0:r._sorted,f=e>0&&r._parsed[e-1],d,p,g;if(this._parsing===!1)r._parsed=i,r._sorted=!0,g=i;else{Jn(i[e])?g=this.parseArrayData(r,i,e,n):rn(i[e])?g=this.parseObjectData(r,i,e,n):g=this.parsePrimitiveData(r,i,e,n);const v=()=>p[u]===null||f&&p[u]<f[u];for(d=0;d<n;++d)r._parsed[d+e]=p=g[d],c&&(v()&&(c=!1),f=p);r._sorted=c}o&&Mw(this,g)}parsePrimitiveData(e,n,r,i){const{iScale:a,vScale:o}=e,u=a.axis,c=o.axis,f=a.getLabels(),d=a===o,p=new Array(i);let g,v,_;for(g=0,v=i;g<v;++g)_=g+r,p[g]={[u]:d||a.parse(f[_],_),[c]:o.parse(n[_],_)};return p}parseArrayData(e,n,r,i){const{xScale:a,yScale:o}=e,u=new Array(i);let c,f,d,p;for(c=0,f=i;c<f;++c)d=c+r,p=n[d],u[c]={x:a.parse(p[0],d),y:o.parse(p[1],d)};return u}parseObjectData(e,n,r,i){const{xScale:a,yScale:o}=e,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f=new Array(i);let d,p,g,v;for(d=0,p=i;d<p;++d)g=d+r,v=n[g],f[d]={x:a.parse(vo(v,u),g),y:o.parse(vo(v,c),g)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,a=this._cachedMeta,o=n[e.axis],u={keys:gA(i,!0),values:n._stacks[e.axis]._visualValues};return Nw(u,o,a.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const a=r[n.axis];let o=a===null?NaN:a;const u=i&&r._stacks[n.axis];i&&u&&(i.values=u,o=Nw(i,a,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,a=r._sorted&&e===r.iScale,o=i.length,u=this._getOtherScale(e),c=X6(n,r,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:p}=H6(u);let g,v;function _(){v=i[g];const w=v[u.axis];return!bi(v[e.axis])||d>w||p<w}for(g=0;g<o&&!(!_()&&(this.updateRangeFromParsed(f,e,v,c),a));++g);if(a){for(g=o-1;g>=0;--g)if(!_()){this.updateRangeFromParsed(f,e,v,c);break}}return f}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,a,o;for(i=0,a=n.length;i<a;++i)o=n[i][e.axis],bi(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=F6(Gt(this.options.clip,z6(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],a=n.chartArea,o=[],u=this._drawStart||0,c=this._drawCount||i.length-u,f=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,a,u,c),d=u;d<u+c;++d){const p=i[d];p.hidden||(p.active&&f?o.push(p):p.draw(e,a))}for(d=0;d<o.length;++d)o[d].draw(e,a)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];a=o.$context||(o.$context=Y6(this.getContext(),e,o)),a.parsed=this.getParsed(e),a.raw=i.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=V6(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",a=this._cachedDataOpts,o=e+"-"+n,u=a[o],c=this.enableOptionSharing&&Mc(r);if(u)return jw(u,c);const f=this.chart.config,d=f.datasetElementScopeKeys(this._type,e),p=i?[`${e}Hover`,"hover",e,""]:[e,""],g=f.getOptionScopes(this.getDataset(),d),v=Object.keys($n.elements[e]),_=()=>this.getContext(r,i,n),w=f.resolveNamedOptions(g,v,_,p);return w.$shared&&(w.$shared=c,a[o]=Object.freeze(jw(w,c))),w}_resolveAnimations(e,n,r){const i=this.chart,a=this._cachedDataOpts,o=`animation-${n}`,u=a[o];if(u)return u;let c;if(i.options.animation!==!1){const d=this.chart.config,p=d.datasetAnimationScopeKeys(this._type,n),g=d.getOptionScopes(this.getDataset(),p);c=d.createResolver(g,this.getContext(e,r,n))}const f=new mA(i,c&&c.animations);return c&&c._cacheable&&(a[o]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||r0(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,a=this.getSharedOptions(r),o=this.includeOptions(n,a)||a!==i;return this.updateSharedOptions(a,n,r),{sharedOptions:a,includeOptions:o}}updateElement(e,n,r,i){r0(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!r0(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const a=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[u,c,f]of this._syncList)this[u](c,f);this._syncList=[];const i=r.length,a=n.length,o=Math.min(a,i);o&&this.parse(0,o),a>i?this._insertElements(i,a-i,e):a<i&&this._removeElements(a,i-a)}_insertElements(e,n,r=!0){const i=this._cachedMeta,a=i.data,o=e+n;let u;const c=f=>{for(f.length+=n,u=f.length-1;u>=o;u--)f[u]=f[u-n]};for(c(a),u=e;u<o;++u)a[u]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,n),r&&this.updateElements(a,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Ku(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ft(ho,"defaults",{}),ft(ho,"datasetElementType",null),ft(ho,"dataElementType",null);function G6(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,a=n.length;i<a;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=tA(r.sort((i,a)=>i-a))}return t._cache.$bar}function W6(t){const e=t.iScale,n=G6(e,t.type);let r=e._length,i,a,o,u;const c=()=>{o===32767||o===-32768||(Mc(u)&&(r=Math.min(r,Math.abs(o-u)||r)),u=o)};for(i=0,a=n.length;i<a;++i)o=e.getPixelForValue(n[i]),c();for(u=void 0,i=0,a=e.ticks.length;i<a;++i)o=e.getPixelForTick(i),c();return r}function Z6(t,e,n,r){const i=n.barThickness;let a,o;return dn(i)?(a=e.min*n.categoryPercentage,o=n.barPercentage):(a=i*r,o=1),{chunk:a/r,ratio:o,start:e.pixels[t]-a/2}}function K6(t,e,n,r){const i=e.pixels,a=i[t];let o=t>0?i[t-1]:null,u=t<i.length-1?i[t+1]:null;const c=n.categoryPercentage;o===null&&(o=a-(u===null?e.end-e.start:u-a)),u===null&&(u=a+a-o);const f=a-(a-Math.min(o,u))/2*c;return{chunk:Math.abs(u-o)/2*c/r,ratio:n.barPercentage,start:f}}function Q6(t,e,n,r){const i=n.parse(t[0],r),a=n.parse(t[1],r),o=Math.min(i,a),u=Math.max(i,a);let c=o,f=u;Math.abs(o)>Math.abs(u)&&(c=u,f=o),e[n.axis]=f,e._custom={barStart:c,barEnd:f,start:i,end:a,min:o,max:u}}function vA(t,e,n,r){return Jn(t)?Q6(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Lw(t,e,n,r){const i=t.iScale,a=t.vScale,o=i.getLabels(),u=i===a,c=[];let f,d,p,g;for(f=n,d=n+r;f<d;++f)g=e[f],p={},p[i.axis]=u||i.parse(o[f],f),c.push(vA(g,p,a,f));return c}function i0(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function J6(t,e,n){return t!==0?ta(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function eL(t){let e,n,r,i,a;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",a="start"):(i="start",a="end"),{start:n,end:r,reverse:e,top:i,bottom:a}}function tL(t,e,n,r){let i=e.borderSkipped;const a={};if(!i){t.borderSkipped=a;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:u,reverse:c,top:f,bottom:d}=eL(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=f:(n._bottom||0)===r?i=d:(a[Pw(d,o,u,c)]=!0,i=f)),a[Pw(i,o,u,c)]=!0,t.borderSkipped=a}function Pw(t,e,n,r){return r?(t=nL(t,e,n),t=Iw(t,n,e)):t=Iw(t,e,n),t}function nL(t,e,n){return t===e?n:t===n?e:t}function Iw(t,e,n){return t==="start"?e:t==="end"?n:t}function rL(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class qh extends ho{parsePrimitiveData(e,n,r,i){return Lw(e,n,r,i)}parseArrayData(e,n,r,i){return Lw(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:a,vScale:o}=e,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f=a.axis==="x"?u:c,d=o.axis==="x"?u:c,p=[];let g,v,_,w;for(g=r,v=r+i;g<v;++g)w=n[g],_={},_[a.axis]=a.parse(vo(w,f),g),p.push(vA(vo(w,d),_,o,g));return p}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const a=r._custom;a&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,a=this.getParsed(e),o=a._custom,u=i0(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const a=i==="reset",{index:o,_cachedMeta:{vScale:u}}=this,c=u.getBasePixel(),f=u.isHorizontal(),d=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,i);for(let v=n;v<n+r;v++){const _=this.getParsed(v),w=a||dn(_[u.axis])?{base:c,head:c}:this._calculateBarValuePixels(v),A=this._calculateBarIndexPixels(v,d),S=(_._stacks||{})[u.axis],L={horizontal:f,base:w.base,enableBorderRadius:!S||i0(_._custom)||o===S._top||o===S._bottom,x:f?w.head:A.center,y:f?A.center:w.head,height:f?A.size:Math.abs(w.size),width:f?Math.abs(w.size):A.size};g&&(L.options=p||this.resolveDataElementOptions(v,e[v].active?"active":i));const P=L.options||e[v].options;tL(L,P,S,o),rL(L,P,d.ratio),this.updateElement(e[v],v,L,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),a=r.options.stacked,o=[],u=this._cachedMeta.controller.getParsed(n),c=u&&u[r.axis],f=d=>{const p=d._parsed.find(v=>v[r.axis]===c),g=p&&p[d.vScale.axis];if(dn(g)||isNaN(g))return!0};for(const d of i)if(!(n!==void 0&&f(d))&&((a===!1||o.indexOf(d.stack)===-1||a===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),a=n!==void 0?i.indexOf(n):-1;return a===-1?i.length-1:a}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let a,o;for(a=0,o=n.data.length;a<o;++a)i.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const u=e.barThickness;return{min:u||W6(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:a,minBarLength:o}}=this,u=a||0,c=this.getParsed(e),f=c._custom,d=i0(f);let p=c[n.axis],g=0,v=r?this.applyStack(n,c,r):p,_,w;v!==p&&(g=v-p,v=p),d&&(p=f.barStart,v=f.barEnd-f.barStart,p!==0&&ta(p)!==ta(f.barEnd)&&(g=0),g+=p);const A=!dn(a)&&!d?a:g;let S=n.getPixelForValue(A);if(this.chart.getDataVisibility(e)?_=n.getPixelForValue(g+v):_=S,w=_-S,Math.abs(w)<o){w=J6(w,n,u)*o,p===u&&(S-=w/2);const L=n.getPixelForDecimal(0),P=n.getPixelForDecimal(1),F=Math.min(L,P),R=Math.max(L,P);S=Math.max(Math.min(S,R),F),_=S+w,r&&!d&&(c._stacks[n.axis]._visualValues[i]=n.getValueForPixel(_)-n.getValueForPixel(S))}if(S===n.getPixelForValue(u)){const L=ta(w)*n.getLineWidthForValue(u)/2;S+=L,w-=L}return{size:w,base:S,head:_,center:_+w/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,a=i.skipNull,o=Gt(i.maxBarThickness,1/0);let u,c;if(n.grouped){const f=a?this._getStackCount(e):n.stackCount,d=i.barThickness==="flex"?K6(e,n,i,f):Z6(e,n,i,f),p=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);u=d.start+d.chunk*p+d.chunk/2,c=Math.min(o,d.chunk*d.ratio)}else u=r.getPixelForValue(this.getParsed(e)[r.axis],e),c=Math.min(o,n.min*n.ratio);return{base:u-c/2,head:u+c/2,center:u,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let a=0;for(;a<i;++a)this.getParsed(a)[n.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}ft(qh,"id","bar"),ft(qh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ft(qh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function iL(t,e,n){let r=1,i=1,a=0,o=0;if(e<zn){const u=t,c=u+e,f=Math.cos(u),d=Math.sin(u),p=Math.cos(c),g=Math.sin(c),v=(P,F,R)=>Lc(P,u,c,!0)?1:Math.max(F,F*n,R,R*n),_=(P,F,R)=>Lc(P,u,c,!0)?-1:Math.min(F,F*n,R,R*n),w=v(0,f,p),A=v(tr,d,g),S=_(Un,f,p),L=_(Un+tr,d,g);r=(w-S)/2,i=(A-L)/2,a=-(w+S)/2,o=-(A+L)/2}return{ratioX:r,ratioY:i,offsetX:a,offsetY:o}}class fc extends ho{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let a=c=>+r[c];if(rn(r[e])){const{key:c="value"}=this._parsing;a=f=>+vo(r[f],c)}let o,u;for(o=e,u=e+n;o<u;++o)i._parsed[o]=a(o)}}_getRotation(){return Oa(this.options.rotation-90)}_getCircumference(){return Oa(this.options.circumference)}_getRotationExtents(){let e=zn,n=-zn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,a=i._getRotation(),o=i._getCircumference();e=Math.min(e,a),n=Math.max(n,a+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,a=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,u=Math.max((Math.min(r.width,r.height)-o)/2,0),c=Math.min(u4(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:d,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:v,offsetX:_,offsetY:w}=iL(p,d,c),A=(r.width-o)/g,S=(r.height-o)/v,L=Math.max(Math.min(A,S)/2,0),P=ZC(this.options.radius,L),F=Math.max(P*c,0),R=(P-F)/this._getVisibleDatasetWeightTotal();this.offsetX=_*P,this.offsetY=w*P,i.total=this.calculateTotal(),this.outerRadius=P-R*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-R*f,0),this.updateElements(a,0,a.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,a=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*a/zn)}updateElements(e,n,r,i){const a=i==="reset",o=this.chart,u=o.chartArea,f=o.options.animation,d=(u.left+u.right)/2,p=(u.top+u.bottom)/2,g=a&&f.animateScale,v=g?0:this.innerRadius,_=g?0:this.outerRadius,{sharedOptions:w,includeOptions:A}=this._getSharedOptions(n,i);let S=this._getRotation(),L;for(L=0;L<n;++L)S+=this._circumference(L,a);for(L=n;L<n+r;++L){const P=this._circumference(L,a),F=e[L],R={x:d+this.offsetX,y:p+this.offsetY,startAngle:S,endAngle:S+P,circumference:P,outerRadius:_,innerRadius:v};A&&(R.options=w||this.resolveDataElementOptions(L,F.active?"active":i)),S+=P,this.updateElement(F,L,R,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const a=e._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?zn*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],a=Vv(n._parsed[e],r.options.locale);return{label:i[e]||"",value:a}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,a,o,u,c;if(!e){for(i=0,a=r.data.datasets.length;i<a;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,u=o.controller;break}}if(!e)return 0;for(i=0,a=e.length;i<a;++i)c=u.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const a=this.resolveDataElementOptions(r);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Gt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ft(fc,"id","doughnut"),ft(fc,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ft(fc,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ft(fc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((a,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:a,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Hh extends ho{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:a}=n,o=this.chart._animationsDisabled;let{start:u,count:c}=O4(n,i,o);this._drawStart=u,this._drawCount=c,k4(n)&&(u=0,c=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=i;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:f},e),this.updateElements(i,u,c,e)}updateElements(e,n,r,i){const a=i==="reset",{iScale:o,vScale:u,_stacked:c,_dataset:f}=this._cachedMeta,{sharedOptions:d,includeOptions:p}=this._getSharedOptions(n,i),g=o.axis,v=u.axis,{spanGaps:_,segment:w}=this.options,A=jc(_)?_:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||a||i==="none",L=n+r,P=e.length;let F=n>0&&this.getParsed(n-1);for(let R=0;R<P;++R){const O=e[R],z=S?O:{};if(R<n||R>=L){z.skip=!0;continue}const T=this.getParsed(R),N=dn(T[v]),$=z[g]=o.getPixelForValue(T[g],R),V=z[v]=a||N?u.getBasePixel():u.getPixelForValue(c?this.applyStack(u,T,c):T[v],R);z.skip=isNaN($)||isNaN(V)||N,z.stop=R>0&&Math.abs(T[g]-F[g])>A,w&&(z.parsed=T,z.raw=f.data[R]),p&&(z.options=d||this.resolveDataElementOptions(R,O.active?"active":i)),S||this.updateElement(O,R,z,i),F=T}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const a=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,a,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ft(Hh,"id","line"),ft(Hh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ft(Hh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class X0 extends fc{}ft(X0,"id","pie"),ft(X0,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function no(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ey{constructor(e){ft(this,"options");this.options=e||{}}static override(e){Object.assign(ey.prototype,e)}init(){}formats(){return no()}parse(){return no()}format(){return no()}add(){return no()}diff(){return no()}startOf(){return no()}endOf(){return no()}}var aL={_date:ey};function sL(t,e,n,r){const{controller:i,data:a,_sorted:o}=t,u=i._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&o&&a.length){const f=u._reversePixels?E4:lo;if(r){if(i._sharedOptions){const d=a[0],p=typeof d.getRange=="function"&&d.getRange(e);if(p){const g=f(a,e,n-p),v=f(a,e,n+p);return{lo:g.lo,hi:v.hi}}}}else{const d=f(a,e,n);if(c){const{vScale:p}=i._cachedMeta,{_parsed:g}=t,v=g.slice(0,d.lo+1).reverse().findIndex(w=>!dn(w[p.axis]));d.lo-=Math.max(0,v);const _=g.slice(d.hi).findIndex(w=>!dn(w[p.axis]));d.hi+=Math.max(0,_)}return d}}return{lo:0,hi:a.length-1}}function kd(t,e,n,r,i){const a=t.getSortedVisibleDatasetMetas(),o=n[e];for(let u=0,c=a.length;u<c;++u){const{index:f,data:d}=a[u],{lo:p,hi:g}=sL(a[u],e,o,i);for(let v=p;v<=g;++v){const _=d[v];_.skip||r(_,f,v)}}}function oL(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const a=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function a0(t,e,n,r,i){const a=[];return!i&&!t.isPointInArea(e)||kd(t,n,e,function(u,c,f){!i&&!Pc(u,t.chartArea,0)||u.inRange(e.x,e.y,r)&&a.push({element:u,datasetIndex:c,index:f})},!0),a}function lL(t,e,n,r){let i=[];function a(o,u,c){const{startAngle:f,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:p}=JC(o,{x:e.x,y:e.y});Lc(p,f,d)&&i.push({element:o,datasetIndex:u,index:c})}return kd(t,n,e,a),i}function uL(t,e,n,r,i,a){let o=[];const u=oL(n);let c=Number.POSITIVE_INFINITY;function f(d,p,g){const v=d.inRange(e.x,e.y,i);if(r&&!v)return;const _=d.getCenterPoint(i);if(!(!!a||t.isPointInArea(_))&&!v)return;const A=u(e,_);A<c?(o=[{element:d,datasetIndex:p,index:g}],c=A):A===c&&o.push({element:d,datasetIndex:p,index:g})}return kd(t,n,e,f),o}function s0(t,e,n,r,i,a){return!a&&!t.isPointInArea(e)?[]:n==="r"&&!r?lL(t,e,n,i):uL(t,e,n,r,i,a)}function Bw(t,e,n,r,i){const a=[],o=n==="x"?"inXRange":"inYRange";let u=!1;return kd(t,n,e,(c,f,d)=>{c[o]&&c[o](e[n],i)&&(a.push({element:c,datasetIndex:f,index:d}),u=u||c.inRange(e.x,e.y,i))}),r&&!u?[]:a}var cL={modes:{index(t,e,n,r){const i=io(e,t),a=n.axis||"x",o=n.includeInvisible||!1,u=n.intersect?a0(t,i,a,r,o):s0(t,i,a,!1,r,o),c=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(f=>{const d=u[0].index,p=f.data[d];p&&!p.skip&&c.push({element:p,datasetIndex:f.index,index:d})}),c):[]},dataset(t,e,n,r){const i=io(e,t),a=n.axis||"xy",o=n.includeInvisible||!1;let u=n.intersect?a0(t,i,a,r,o):s0(t,i,a,!1,r,o);if(u.length>0){const c=u[0].datasetIndex,f=t.getDatasetMeta(c).data;u=[];for(let d=0;d<f.length;++d)u.push({element:f[d],datasetIndex:c,index:d})}return u},point(t,e,n,r){const i=io(e,t),a=n.axis||"xy",o=n.includeInvisible||!1;return a0(t,i,a,r,o)},nearest(t,e,n,r){const i=io(e,t),a=n.axis||"xy",o=n.includeInvisible||!1;return s0(t,i,a,n.intersect,r,o)},x(t,e,n,r){const i=io(e,t);return Bw(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=io(e,t);return Bw(t,i,"y",n.intersect,r)}}};const yA=["left","top","right","bottom"];function Qu(t,e){return t.filter(n=>n.pos===e)}function zw(t,e){return t.filter(n=>yA.indexOf(n.pos)===-1&&n.box.axis===e)}function Ju(t,e){return t.sort((n,r)=>{const i=e?r:n,a=e?n:r;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function fL(t){const e=[];let n,r,i,a,o,u;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:a,options:{stack:o,stackWeight:u=1}}=i,e.push({index:n,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&a+o,stackWeight:u});return e}function hL(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:a}=n;if(!r||!yA.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return e}function dL(t,e){const n=hL(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let a,o,u;for(a=0,o=t.length;a<o;++a){u=t[a];const{fullSize:c}=u.box,f=n[u.stack],d=f&&u.stackWeight/f.weight;u.horizontal?(u.width=d?d*r:c&&e.availableWidth,u.height=i):(u.width=r,u.height=d?d*i:c&&e.availableHeight)}return n}function pL(t){const e=fL(t),n=Ju(e.filter(f=>f.box.fullSize),!0),r=Ju(Qu(e,"left"),!0),i=Ju(Qu(e,"right")),a=Ju(Qu(e,"top"),!0),o=Ju(Qu(e,"bottom")),u=zw(e,"x"),c=zw(e,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:i.concat(c).concat(o).concat(u),chartArea:Qu(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:a.concat(o).concat(u)}}function Fw(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function bA(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function mL(t,e,n,r){const{pos:i,box:a}=n,o=t.maxPadding;if(!rn(i)){n.size&&(t[i]-=n.size);const p=r[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?a.height:a.width),n.size=p.size/p.count,t[i]+=n.size}a.getPadding&&bA(o,a.getPadding());const u=Math.max(0,e.outerWidth-Fw(o,t,"left","right")),c=Math.max(0,e.outerHeight-Fw(o,t,"top","bottom")),f=u!==t.w,d=c!==t.h;return t.w=u,t.h=c,n.horizontal?{same:f,other:d}:{same:d,other:f}}function gL(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function vL(t,e){const n=e.maxPadding;function r(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{a[o]=Math.max(e[o],n[o])}),a}return r(t?["left","right"]:["top","bottom"])}function hc(t,e,n,r){const i=[];let a,o,u,c,f,d;for(a=0,o=t.length,f=0;a<o;++a){u=t[a],c=u.box,c.update(u.width||e.w,u.height||e.h,vL(u.horizontal,e));const{same:p,other:g}=mL(e,n,u,r);f|=p&&i.length,d=d||g,c.fullSize||i.push(u)}return f&&hc(i,e,n,r)||d}function Ah(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function Uw(t,e,n,r){const i=n.padding;let{x:a,y:o}=e;for(const u of t){const c=u.box,f=r[u.stack]||{placed:0,weight:1},d=u.stackWeight/f.weight||1;if(u.horizontal){const p=e.w*d,g=f.size||c.height;Mc(f.start)&&(o=f.start),c.fullSize?Ah(c,i.left,o,n.outerWidth-i.right-i.left,g):Ah(c,e.left+f.placed,o,p,g),f.start=o,f.placed+=p,o=c.bottom}else{const p=e.h*d,g=f.size||c.width;Mc(f.start)&&(a=f.start),c.fullSize?Ah(c,a,i.top,g,n.outerHeight-i.bottom-i.top):Ah(c,a,e.top+f.placed,g,p),f.start=a,f.placed+=p,a=c.right}}e.x=a,e.y=o}var yi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=_i(t.options.layout.padding),a=Math.max(e-i.width,0),o=Math.max(n-i.height,0),u=pL(t.boxes),c=u.vertical,f=u.horizontal;vn(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const d=c.reduce((w,A)=>A.box.options&&A.box.options.display===!1?w:w+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/d,hBoxMaxHeight:o/2}),g=Object.assign({},i);bA(g,_i(r));const v=Object.assign({maxPadding:g,w:a,h:o,x:i.left,y:i.top},i),_=dL(c.concat(f),p);hc(u.fullSize,v,p,_),hc(c,v,p,_),hc(f,v,p,_)&&hc(c,v,p,_),gL(v),Uw(u.leftAndTop,v,p,_),v.x+=v.w,v.y+=v.h,Uw(u.rightAndBottom,v,p,_),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},vn(u.chartArea,w=>{const A=w.box;Object.assign(A,t.chartArea),A.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class _A{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class yL extends _A{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const $h="$chartjs",bL={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qw=t=>t===null||t==="";function _L(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[$h]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",qw(i)){const a=Cw(t,"width");a!==void 0&&(t.width=a)}if(qw(r))if(t.style.height==="")t.height=t.width/(e||2);else{const a=Cw(t,"height");a!==void 0&&(t.height=a)}return t}const xA=b6?{passive:!0}:!1;function xL(t,e,n){t&&t.addEventListener(e,n,xA)}function wL(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,xA)}function SL(t,e){const n=bL[t.type]||t.type,{x:r,y:i}=io(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function pd(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function EL(t,e,n){const r=t.canvas,i=new MutationObserver(a=>{let o=!1;for(const u of a)o=o||pd(u.addedNodes,r),o=o&&!pd(u.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function CL(t,e,n){const r=t.canvas,i=new MutationObserver(a=>{let o=!1;for(const u of a)o=o||pd(u.removedNodes,r),o=o&&!pd(u.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Bc=new Map;let Hw=0;function wA(){const t=window.devicePixelRatio;t!==Hw&&(Hw=t,Bc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function AL(t,e){Bc.size||window.addEventListener("resize",wA),Bc.set(t,e)}function TL(t){Bc.delete(t),Bc.size||window.removeEventListener("resize",wA)}function DL(t,e,n){const r=t.canvas,i=r&&Jv(r);if(!i)return;const a=rA((u,c)=>{const f=i.clientWidth;n(u,c),f<i.clientWidth&&n()},window),o=new ResizeObserver(u=>{const c=u[0],f=c.contentRect.width,d=c.contentRect.height;f===0&&d===0||a(f,d)});return o.observe(i),AL(t,a),o}function o0(t,e,n){n&&n.disconnect(),e==="resize"&&TL(t)}function OL(t,e,n){const r=t.canvas,i=rA(a=>{t.ctx!==null&&n(SL(a,t))},t);return xL(r,e,i),i}class kL extends _A{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(_L(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[$h])return!1;const r=n[$h].initial;["height","width"].forEach(a=>{const o=r[a];dn(o)?n.removeAttribute(a):n.setAttribute(a,o)});const i=r.style||{};return Object.keys(i).forEach(a=>{n.style[a]=i[a]}),n.width=n.width,delete n[$h],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:EL,detach:CL,resize:DL}[n]||OL;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:o0,detach:o0,resize:o0}[n]||wL)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return y6(e,n,r,i)}isAttached(e){const n=e&&Jv(e);return!!(n&&n.isConnected)}}function NL(t){return!Qv()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?yL:kL}var Lh;let Na=(Lh=class{constructor(){ft(this,"x");ft(this,"y");ft(this,"active",!1);ft(this,"options");ft(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return jc(this.x)&&jc(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(a=>{i[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),i}},ft(Lh,"defaults",{}),ft(Lh,"defaultRoutes"),Lh);function RL(t,e){const n=t.options.ticks,r=ML(t),i=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?LL(e):[],o=a.length,u=a[0],c=a[o-1],f=[];if(o>i)return PL(e,f,a,o/i),f;const d=jL(a,e,i);if(o>0){let p,g;const v=o>1?Math.round((c-u)/(o-1)):null;for(Th(e,f,d,dn(v)?0:u-v,u),p=0,g=o-1;p<g;p++)Th(e,f,d,a[p],a[p+1]);return Th(e,f,d,c,dn(v)?e.length:c+v),f}return Th(e,f,d),f}function ML(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function jL(t,e,n){const r=IL(t),i=e.length/n;if(!r)return Math.max(i,1);const a=v4(r);for(let o=0,u=a.length-1;o<u;o++){const c=a[o];if(c>i)return c}return Math.max(i,1)}function LL(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function PL(t,e,n,r){let i=0,a=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===a&&(e.push(t[o]),i++,a=n[i*r])}function Th(t,e,n,r,i){const a=Gt(r,0),o=Math.min(Gt(i,t.length),t.length);let u=0,c,f,d;for(n=Math.ceil(n),i&&(c=i-r,n=c/Math.floor(c/n)),d=a;d<0;)u++,d=Math.round(a+u*n);for(f=Math.max(a,0);f<o;f++)f===d&&(e.push(t[f]),u++,d=Math.round(a+u*n))}function IL(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const BL=t=>t==="left"?"right":t==="right"?"left":t,$w=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Vw=(t,e)=>Math.min(e||t,t);function Yw(t,e){const n=[],r=t.length/e,i=t.length;let a=0;for(;a<i;a+=r)n.push(t[Math.floor(a)]);return n}function zL(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),a=t._startPixel,o=t._endPixel,u=1e-6;let c=t.getPixelForTick(i),f;if(!(n&&(r===1?f=Math.max(c-a,o-c):e===0?f=(t.getPixelForTick(1)-c)/2:f=(c-t.getPixelForTick(i-1))/2,c+=i<e?f:-f,c<a-u||c>o+u)))return c}function FL(t,e){vn(t,n=>{const r=n.gc,i=r.length/2;let a;if(i>e){for(a=0;a<i;++a)delete n.data[r[a]];r.splice(0,i)}})}function ec(t){return t.drawTicks?t.tickLength:0}function Xw(t,e){if(!t.display)return 0;const n=Er(t.font,e),r=_i(t.padding);return(Jn(t.text)?t.text.length:1)*n.lineHeight+r.height}function UL(t,e){return xo(t,{scale:e,type:"scale"})}function qL(t,e,n){return xo(t,{tick:n,index:e,type:"tick"})}function HL(t,e,n){let r=Hv(t);return(n&&e!=="right"||!n&&e==="right")&&(r=BL(r)),r}function $L(t,e,n,r){const{top:i,left:a,bottom:o,right:u,chart:c}=t,{chartArea:f,scales:d}=c;let p=0,g,v,_;const w=o-i,A=u-a;if(t.isHorizontal()){if(v=wr(r,a,u),rn(n)){const S=Object.keys(n)[0],L=n[S];_=d[S].getPixelForValue(L)+w-e}else n==="center"?_=(f.bottom+f.top)/2+w-e:_=$w(t,n,e);g=u-a}else{if(rn(n)){const S=Object.keys(n)[0],L=n[S];v=d[S].getPixelForValue(L)-A+e}else n==="center"?v=(f.left+f.right)/2-A+e:v=$w(t,n,e);_=wr(r,o,i),p=n==="left"?-tr:tr}return{titleX:v,titleY:_,maxWidth:g,rotation:p}}class $l extends Na{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Hi(e,Number.POSITIVE_INFINITY),n=Hi(n,Number.NEGATIVE_INFINITY),r=Hi(r,Number.POSITIVE_INFINITY),i=Hi(i,Number.NEGATIVE_INFINITY),{min:Hi(e,r),max:Hi(n,i),minDefined:bi(e),maxDefined:bi(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:a}=this.getUserBounds(),o;if(i&&a)return{min:n,max:r};const u=this.getMatchingVisibleMetas();for(let c=0,f=u.length;c<f;++c)o=u[c].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),a||(r=Math.max(r,o.max));return n=a&&n>r?r:n,r=i&&n>r?n:r,{min:Hi(n,Hi(r,n)),max:Hi(r,Hi(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Nn(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:a,ticks:o}=this.options,u=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Z4(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=u<this.ticks.length;this._convertTicksToLabels(c?Yw(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=RL(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Nn(this.options.afterUpdate,[this])}beforeSetDimensions(){Nn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Nn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Nn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Nn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,a;for(r=0,i=e.length;r<i;r++)a=e[r],a.label=Nn(n.callback,[a.value,r,e],this)}afterTickToLabelConversion(){Nn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Nn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=Vw(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,a=n.maxRotation;let o=i,u,c,f;if(!this._isVisible()||!n.display||i>=a||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),p=d.widest.width,g=d.highest.height,v=Sr(this.chart.width-p,0,this.maxWidth);u=e.offset?this.maxWidth/r:v/(r-1),p+6>u&&(u=v/(r-(e.offset?.5:1)),c=this.maxHeight-ec(e.grid)-n.padding-Xw(e.title,this.chart.options.font),f=Math.sqrt(p*p+g*g),o=x4(Math.min(Math.asin(Sr((d.highest.height+6)/u,-1,1)),Math.asin(Sr(c/f,-1,1))-Math.asin(Sr(g/f,-1,1)))),o=Math.max(i,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){Nn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Nn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:a}}=this,o=this._isVisible(),u=this.isHorizontal();if(o){const c=Xw(i,n.options.font);if(u?(e.width=this.maxWidth,e.height=ec(a)+c):(e.height=this.maxHeight,e.width=ec(a)+c),r.display&&this.ticks.length){const{first:f,last:d,widest:p,highest:g}=this._getLabelSizes(),v=r.padding*2,_=Oa(this.labelRotation),w=Math.cos(_),A=Math.sin(_);if(u){const S=r.mirror?0:A*p.width+w*g.height;e.height=Math.min(this.maxHeight,e.height+S+v)}else{const S=r.mirror?0:w*p.width+A*g.height;e.width=Math.min(this.maxWidth,e.width+S+v)}this._calculatePadding(f,d,A,w)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:a,padding:o},position:u}=this.options,c=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,v=0;c?f?(g=i*e.width,v=r*n.height):(g=r*e.height,v=i*n.width):a==="start"?v=n.width:a==="end"?g=e.width:a!=="inner"&&(g=e.width/2,v=n.width/2),this.paddingLeft=Math.max((g-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((v-p+o)*this.width/(this.width-p),0)}else{let d=n.height/2,p=e.height/2;a==="start"?(d=0,p=e.height):a==="end"&&(d=n.height,p=0),this.paddingTop=d+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Nn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)dn(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Yw(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:a}=this,o=[],u=[],c=Math.floor(n/Vw(n,r));let f=0,d=0,p,g,v,_,w,A,S,L,P,F,R;for(p=0;p<n;p+=c){if(_=e[p].label,w=this._resolveTickFontOptions(p),i.font=A=w.string,S=a[A]=a[A]||{data:{},gc:[]},L=w.lineHeight,P=F=0,!dn(_)&&!Jn(_))P=_w(i,S.data,S.gc,P,_),F=L;else if(Jn(_))for(g=0,v=_.length;g<v;++g)R=_[g],!dn(R)&&!Jn(R)&&(P=_w(i,S.data,S.gc,P,R),F+=L);o.push(P),u.push(F),f=Math.max(P,f),d=Math.max(F,d)}FL(a,n);const O=o.indexOf(f),z=u.indexOf(d),T=N=>({width:o[N]||0,height:u[N]||0});return{first:T(0),last:T(n-1),widest:T(O),highest:T(z),widths:o,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return S4(this._alignToPixels?to(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=qL(this.getContext(),e,r))}return this.$context||(this.$context=UL(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Oa(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),a=this._getLabelSizes(),o=e.autoSkipPadding||0,u=a?a.widest.width+o:0,c=a?a.highest.height+o:0;return this.isHorizontal()?c*r>u*i?u/r:c/i:c*i<u*r?c/r:u/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:a,position:o,border:u}=i,c=a.offset,f=this.isHorizontal(),p=this.ticks.length+(c?1:0),g=ec(a),v=[],_=u.setContext(this.getContext()),w=_.display?_.width:0,A=w/2,S=function(D){return to(r,D,w)};let L,P,F,R,O,z,T,N,$,V,G,re;if(o==="top")L=S(this.bottom),z=this.bottom-g,N=L-A,V=S(e.top)+A,re=e.bottom;else if(o==="bottom")L=S(this.top),V=e.top,re=S(e.bottom)-A,z=L+A,N=this.top+g;else if(o==="left")L=S(this.right),O=this.right-g,T=L-A,$=S(e.left)+A,G=e.right;else if(o==="right")L=S(this.left),$=e.left,G=S(e.right)-A,O=L+A,T=this.left+g;else if(n==="x"){if(o==="center")L=S((e.top+e.bottom)/2+.5);else if(rn(o)){const D=Object.keys(o)[0],j=o[D];L=S(this.chart.scales[D].getPixelForValue(j))}V=e.top,re=e.bottom,z=L+A,N=z+g}else if(n==="y"){if(o==="center")L=S((e.left+e.right)/2);else if(rn(o)){const D=Object.keys(o)[0],j=o[D];L=S(this.chart.scales[D].getPixelForValue(j))}O=L-A,T=O-g,$=e.left,G=e.right}const Y=Gt(i.ticks.maxTicksLimit,p),M=Math.max(1,Math.ceil(p/Y));for(P=0;P<p;P+=M){const D=this.getContext(P),j=a.setContext(D),Z=u.setContext(D),ne=j.lineWidth,k=j.color,le=Z.dash||[],se=Z.dashOffset,B=j.tickWidth,U=j.tickColor,I=j.tickBorderDash||[],W=j.tickBorderDashOffset;F=zL(this,P,c),F!==void 0&&(R=to(r,F,ne),f?O=T=$=G=R:z=N=V=re=R,v.push({tx1:O,ty1:z,tx2:T,ty2:N,x1:$,y1:V,x2:G,y2:re,width:ne,color:k,borderDash:le,borderDashOffset:se,tickWidth:B,tickColor:U,tickBorderDash:I,tickBorderDashOffset:W}))}return this._ticksLength=p,this._borderValue=L,v}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:a}=r,o=this.isHorizontal(),u=this.ticks,{align:c,crossAlign:f,padding:d,mirror:p}=a,g=ec(r.grid),v=g+d,_=p?-d:v,w=-Oa(this.labelRotation),A=[];let S,L,P,F,R,O,z,T,N,$,V,G,re="middle";if(i==="top")O=this.bottom-_,z=this._getXAxisLabelAlignment();else if(i==="bottom")O=this.top+_,z=this._getXAxisLabelAlignment();else if(i==="left"){const M=this._getYAxisLabelAlignment(g);z=M.textAlign,R=M.x}else if(i==="right"){const M=this._getYAxisLabelAlignment(g);z=M.textAlign,R=M.x}else if(n==="x"){if(i==="center")O=(e.top+e.bottom)/2+v;else if(rn(i)){const M=Object.keys(i)[0],D=i[M];O=this.chart.scales[M].getPixelForValue(D)+v}z=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")R=(e.left+e.right)/2-v;else if(rn(i)){const M=Object.keys(i)[0],D=i[M];R=this.chart.scales[M].getPixelForValue(D)}z=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(c==="start"?re="top":c==="end"&&(re="bottom"));const Y=this._getLabelSizes();for(S=0,L=u.length;S<L;++S){P=u[S],F=P.label;const M=a.setContext(this.getContext(S));T=this.getPixelForTick(S)+a.labelOffset,N=this._resolveTickFontOptions(S),$=N.lineHeight,V=Jn(F)?F.length:1;const D=V/2,j=M.color,Z=M.textStrokeColor,ne=M.textStrokeWidth;let k=z;o?(R=T,z==="inner"&&(S===L-1?k=this.options.reverse?"left":"right":S===0?k=this.options.reverse?"right":"left":k="center"),i==="top"?f==="near"||w!==0?G=-V*$+$/2:f==="center"?G=-Y.highest.height/2-D*$+$:G=-Y.highest.height+$/2:f==="near"||w!==0?G=$/2:f==="center"?G=Y.highest.height/2-D*$:G=Y.highest.height-V*$,p&&(G*=-1),w!==0&&!M.showLabelBackdrop&&(R+=$/2*Math.sin(w))):(O=T,G=(1-V)*$/2);let le;if(M.showLabelBackdrop){const se=_i(M.backdropPadding),B=Y.heights[S],U=Y.widths[S];let I=G-se.top,W=0-se.left;switch(re){case"middle":I-=B/2;break;case"bottom":I-=B;break}switch(z){case"center":W-=U/2;break;case"right":W-=U;break;case"inner":S===L-1?W-=U:S>0&&(W-=U/2);break}le={left:W,top:I,width:U+se.width,height:B+se.height,color:M.backdropColor}}A.push({label:F,font:N,textOffset:G,options:{rotation:w,color:j,strokeColor:Z,strokeWidth:ne,textAlign:k,textBaseline:re,translation:[R,O],backdrop:le}})}return A}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Oa(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:a}}=this.options,o=this._getLabelSizes(),u=e+a,c=o.widest.width;let f,d;return n==="left"?i?(d=this.right+a,r==="near"?f="left":r==="center"?(f="center",d+=c/2):(f="right",d+=c)):(d=this.right-u,r==="near"?f="right":r==="center"?(f="center",d-=c/2):(f="left",d=this.left)):n==="right"?i?(d=this.left+a,r==="near"?f="right":r==="center"?(f="center",d-=c/2):(f="left",d-=c)):(d=this.left+u,r==="near"?f="left":r==="center"?(f="center",d+=c/2):(f="right",d=this.right)):f="right",{textAlign:f,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:a,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,a,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(a=>a.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,o;const u=(c,f,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(f.x,f.y),r.stroke(),r.restore())};if(n.display)for(a=0,o=i.length;a<o;++a){const c=i[a];n.drawOnChartArea&&u({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&u({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,a=r.setContext(this.getContext()),o=r.display?a.width:0;if(!o)return;const u=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let f,d,p,g;this.isHorizontal()?(f=to(e,this.left,o)-o/2,d=to(e,this.right,u)+u/2,p=g=c):(p=to(e,this.top,o)-o/2,g=to(e,this.bottom,u)+u/2,f=d=c),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(f,p),n.lineTo(d,g),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Yv(r,i);const a=this.getLabelItems(e);for(const o of a){const u=o.options,c=o.font,f=o.label,d=o.textOffset;Ic(r,f,0,d,c,u)}i&&Xv(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const a=Er(r.font),o=_i(r.padding),u=r.align;let c=a.lineHeight/2;n==="bottom"||n==="center"||rn(n)?(c+=o.bottom,Jn(r.text)&&(c+=a.lineHeight*(r.text.length-1))):c+=o.top;const{titleX:f,titleY:d,maxWidth:p,rotation:g}=$L(this,c,n,u);Ic(e,r.text,0,0,a,{color:r.color,maxWidth:p,rotation:g,textAlign:HL(u,n,i),textBaseline:"middle",translation:[f,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Gt(e.grid&&e.grid.z,-1),i=Gt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==$l.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let a,o;for(a=0,o=n.length;a<o;++a){const u=n[a];u[r]===this.id&&(!e||u.type===e)&&i.push(u)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Er(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Dh{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;XL(n)&&(r=this.register(n));const i=this.items,a=e.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in i||(i[a]=e,VL(e,o,r),this.override&&$n.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in $n[i]&&(delete $n[i][r],this.override&&delete yo[r])}}function VL(t,e,n){const r=Rc(Object.create(null),[n?$n.get(n):{},$n.get(e),t.defaults]);$n.set(e,r),t.defaultRoutes&&YL(e,t.defaultRoutes),t.descriptors&&$n.describe(e,t.descriptors)}function YL(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),a=[t].concat(r).join("."),o=e[n].split("."),u=o.pop(),c=o.join(".");$n.route(a,i,c,u)})}function XL(t){return"id"in t&&"defaults"in t}class GL{constructor(){this.controllers=new Dh(ho,"datasets",!0),this.elements=new Dh(Na,"elements"),this.plugins=new Dh(Object,"plugins"),this.scales=new Dh($l,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const a=r||this._getRegistryForType(i);r||a.isForType(i)||a===this.plugins&&i.id?this._exec(e,a,i):vn(i,o=>{const u=r||this._getRegistryForType(o);this._exec(e,u,o)})})}_exec(e,n,r){const i=Uv(e);Nn(r["before"+i],[],r),n[e](r),Nn(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Yi=new GL;class WL{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(a,e,n,r);return n==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const a of e){const o=a.plugin,u=o[r],c=[n,i,a.options];if(Nn(u,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){dn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=Gt(r.options&&r.options.plugins,{}),a=ZL(r);return i===!1&&!n?[]:QL(e,a,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(a,o)=>a.filter(u=>!o.some(c=>u.plugin.id===c.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function ZL(t){const e={},n=[],r=Object.keys(Yi.plugins.items);for(let a=0;a<r.length;a++)n.push(Yi.getPlugin(r[a]));const i=t.plugins||[];for(let a=0;a<i.length;a++){const o=i[a];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function KL(t,e){return!e&&t===!1?null:t===!0?{}:t}function QL(t,{plugins:e,localIds:n},r,i){const a=[],o=t.getContext();for(const u of e){const c=u.id,f=KL(r[c],i);f!==null&&a.push({plugin:u,options:JL(t.config,{plugin:u,local:n[c]},f,o)})}return a}function JL(t,{plugin:e,local:n},r,i){const a=t.pluginScopeKeys(e),o=t.getOptionScopes(r,a);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function G0(t,e){const n=$n.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function eP(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function tP(t,e){return t===e?"_index_":"_value_"}function Gw(t){if(t==="x"||t==="y"||t==="r")return t}function nP(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function W0(t,...e){if(Gw(t))return t;for(const n of e){const r=n.axis||nP(n.position)||t.length>1&&Gw(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Ww(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function rP(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return Ww(t,"x",n[0])||Ww(t,"y",n[0])}return{}}function iP(t,e){const n=yo[t.type]||{scales:{}},r=e.scales||{},i=G0(t.type,e),a=Object.create(null);return Object.keys(r).forEach(o=>{const u=r[o];if(!rn(u))return console.error(`Invalid scale configuration for scale: ${o}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=W0(o,u,rP(o,t),$n.scales[u.type]),f=tP(c,i),d=n.scales||{};a[o]=bc(Object.create(null),[{axis:c},u,d[c],d[f]])}),t.data.datasets.forEach(o=>{const u=o.type||t.type,c=o.indexAxis||G0(u,e),d=(yo[u]||{}).scales||{};Object.keys(d).forEach(p=>{const g=eP(p,c),v=o[g+"AxisID"]||g;a[v]=a[v]||Object.create(null),bc(a[v],[{axis:g},r[v],d[p]])})}),Object.keys(a).forEach(o=>{const u=a[o];bc(u,[$n.scales[u.type],$n.scale])}),a}function SA(t){const e=t.options||(t.options={});e.plugins=Gt(e.plugins,{}),e.scales=iP(t,e)}function EA(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function aP(t){return t=t||{},t.data=EA(t.data),SA(t),t}const Zw=new Map,CA=new Set;function Oh(t,e){let n=Zw.get(t);return n||(n=e(),Zw.set(t,n),CA.add(n)),n}const tc=(t,e,n)=>{const r=vo(e,n);r!==void 0&&t.add(r)};class sP{constructor(e){this._config=aP(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=EA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),SA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Oh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Oh(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Oh(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Oh(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:a}=this,o=this._cachedScopes(e,r),u=o.get(n);if(u)return u;const c=new Set;n.forEach(d=>{e&&(c.add(e),d.forEach(p=>tc(c,e,p))),d.forEach(p=>tc(c,i,p)),d.forEach(p=>tc(c,yo[a]||{},p)),d.forEach(p=>tc(c,$n,p)),d.forEach(p=>tc(c,V0,p))});const f=Array.from(c);return f.length===0&&f.push(Object.create(null)),CA.has(n)&&o.set(n,f),f}chartOptionScopes(){const{options:e,type:n}=this;return[e,yo[n]||{},$n.datasets[n]||{},{type:n},$n,V0]}resolveNamedOptions(e,n,r,i=[""]){const a={$shared:!0},{resolver:o,subPrefixes:u}=Kw(this._resolverCache,e,i);let c=o;if(lP(o,n)){a.$shared=!1,r=xs(r)?r():r;const f=this.createResolver(e,r,u);c=Il(o,r,f)}for(const f of n)a[f]=c[f];return a}createResolver(e,n,r=[""],i){const{resolver:a}=Kw(this._resolverCache,e,r);return rn(n)?Il(a,n,void 0,i):a}}function Kw(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let a=r.get(i);return a||(a={resolver:Wv(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},r.set(i,a)),a}const oP=t=>rn(t)&&Object.getOwnPropertyNames(t).some(e=>xs(t[e]));function lP(t,e){const{isScriptable:n,isIndexable:r}=oA(t);for(const i of e){const a=n(i),o=r(i),u=(o||a)&&t[i];if(a&&(xs(u)||oP(u))||o&&Jn(u))return!0}return!1}var uP="4.4.9";const cP=["top","bottom","left","right","chartArea"];function Qw(t,e){return t==="top"||t==="bottom"||cP.indexOf(t)===-1&&e==="x"}function Jw(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function eS(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Nn(n&&n.onComplete,[t],e)}function fP(t){const e=t.chart,n=e.options.animation;Nn(n&&n.onProgress,[t],e)}function AA(t){return Qv()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Vh={},tS=t=>{const e=AA(t);return Object.values(Vh).filter(n=>n.canvas===e).pop()};function hP(t,e,n){const r=Object.keys(t);for(const i of r){const a=+i;if(a>=e){const o=t[i];delete t[i],(n>0||a>e)&&(t[a+n]=o)}}}function dP(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var us;let Nd=(us=class{static register(...e){Yi.add(...e),nS()}static unregister(...e){Yi.remove(...e),nS()}constructor(e,n){const r=this.config=new sP(n),i=AA(e),a=tS(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||NL(i)),this.platform.updateConfig(r);const u=this.platform.acquireContext(i,o.aspectRatio),c=u&&u.canvas,f=c&&c.height,d=c&&c.width;if(this.id=l4(),this.ctx=u,this.canvas=c,this.width=d,this.height=f,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new WL,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=T4(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],Vh[this.id]=this,!u||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ea.listen(this,"complete",eS),Ea.listen(this,"progress",fP),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:a}=this;return dn(e)?n&&a?a:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Yi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ew(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return xw(this.canvas,this.ctx),this}stop(){return Ea.stop(this),this}resize(e,n){Ea.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,a),u=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Ew(this,u,!0)&&(this.notifyPlugins("resize",{size:o}),Nn(r.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};vn(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,u)=>(o[u]=!1,o),{});let a=[];n&&(a=a.concat(Object.keys(n).map(o=>{const u=n[o],c=W0(o,u),f=c==="r",d=c==="x";return{options:u,dposition:f?"chartArea":d?"bottom":"left",dtype:f?"radialLinear":d?"category":"linear"}}))),vn(a,o=>{const u=o.options,c=u.id,f=W0(c,u),d=Gt(u.type,o.dtype);(u.position===void 0||Qw(u.position,f)!==Qw(o.dposition))&&(u.position=o.dposition),i[c]=!0;let p=null;if(c in r&&r[c].type===d)p=r[c];else{const g=Yi.getScale(d);p=new g({id:c,type:d,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(u,e)}),vn(i,(o,u)=>{o||delete r[u]}),vn(r,o=>{yi.configure(this,o,o.options),yi.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,a)=>i.index-a.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(Jw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const a=n[r];let o=this.getDatasetMeta(r);const u=a.type||this.config.type;if(o.type&&o.type!==u&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=u,o.indexAxis=a.indexAxis||G0(u,this.options),o.order=a.order||0,o.index=r,o.label=""+a.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const c=Yi.getController(u),{datasetElementType:f,dataElementType:d}=$n.datasets[u];Object.assign(c,{dataElementType:Yi.getElement(d),datasetElementType:f&&Yi.getElement(f)}),o.controller=new c(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){vn(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let f=0,d=this.data.datasets.length;f<d;f++){const{controller:p}=this.getDatasetMeta(f),g=!i&&a.indexOf(p)===-1;p.buildOrUpdateElements(g),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||vn(a,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Jw("z","_idx"));const{_active:u,_lastEvent:c}=this;c?this._eventHandler(c,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){vn(this.scales,e=>{yi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!fw(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:a}of n){const o=r==="_removeElements"?-a:a;hP(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=a=>new Set(e.filter(o=>o[0]===a).map((o,u)=>u+","+o.splice(1).join(","))),i=r(0);for(let a=1;a<n;a++)if(!fw(i,r(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;yi.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],vn(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,xs(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ea.has(this)?this.attached&&!Ea.running(this)&&Ea.start(this):(this.draw(),eS({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,a;for(i=0,a=n.length;i<a;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=M6(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Yv(n,i),e.controller.draw(),i&&Xv(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Pc(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const a=cL.modes[n];return typeof a=="function"?a(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(a=>a&&a._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=xo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",a=this.getDatasetMeta(e),o=a.controller._resolveAnimations(void 0,i);Mc(n)?(a.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(a,{visible:r}),this.update(u=>u.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ea.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),xw(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Vh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(a,o)=>{n.addEventListener(this,a,o),e[a]=o},i=(a,o,u)=>{a.offsetX=o,a.offsetY=u,this._eventHandler(a)};vn(this.options.events,a=>r(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(c,f)=>{n.addEventListener(this,c,f),e[c]=f},i=(c,f)=>{e[c]&&(n.removeEventListener(this,c,f),delete e[c])},a=(c,f)=>{this.canvas&&this.resize(c,f)};let o;const u=()=>{i("attach",u),this.attached=!0,this.resize(),r("resize",a),r("detach",o)};o=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),r("attach",u)},n.isAttached(this.canvas)?u():o()}unbindEvents(){vn(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},vn(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let a,o,u,c;for(n==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),u=0,c=e.length;u<c;++u){o=e[u];const f=o&&this.getDatasetMeta(o.datasetIndex).controller;f&&f[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:a,index:o})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[o],index:o}});!ud(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,a=(c,f)=>c.filter(d=>!f.some(p=>d.datasetIndex===p.datasetIndex&&d.index===p.index)),o=a(n,e),u=r?e:a(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),u.length&&i.mode&&this.updateHoverStyle(u,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const a=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(a||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:a}=this,o=n,u=this._getActiveElements(e,i,r,o),c=p4(e),f=dP(e,this._lastEvent,r,c);r&&(this._lastEvent=null,Nn(a.onHover,[e,u,this],this),c&&Nn(a.onClick,[e,u,this],this));const d=!ud(u,i);return(d||n)&&(this._active=u,this._updateHoverStyles(u,i,n)),this._lastEvent=f,d}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,i)}},ft(us,"defaults",$n),ft(us,"instances",Vh),ft(us,"overrides",yo),ft(us,"registry",Yi),ft(us,"version",uP),ft(us,"getChart",tS),us);function nS(){return vn(Nd.instances,t=>t._plugins.invalidate())}function pP(t,e,n){const{startAngle:r,pixelMargin:i,x:a,y:o,outerRadius:u,innerRadius:c}=e;let f=i/u;t.beginPath(),t.arc(a,o,u,r-f,n+f),c>i?(f=i/c,t.arc(a,o,c,n+f,r-f,!0)):t.arc(a,o,i,n+tr,r-tr),t.closePath(),t.clip()}function mP(t){return Gv(t,["outerStart","outerEnd","innerStart","innerEnd"])}function gP(t,e,n,r){const i=mP(t.options.borderRadius),a=(n-e)/2,o=Math.min(a,r*e/2),u=c=>{const f=(n-Math.min(a,c))*r/2;return Sr(c,0,Math.min(a,f))};return{outerStart:u(i.outerStart),outerEnd:u(i.outerEnd),innerStart:Sr(i.innerStart,0,o),innerEnd:Sr(i.innerEnd,0,o)}}function bl(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function md(t,e,n,r,i,a){const{x:o,y:u,startAngle:c,pixelMargin:f,innerRadius:d}=e,p=Math.max(e.outerRadius+r+n-f,0),g=d>0?d+r+n+f:0;let v=0;const _=i-c;if(r){const M=d>0?d-r:0,D=p>0?p-r:0,j=(M+D)/2,Z=j!==0?_*j/(j+r):_;v=(_-Z)/2}const w=Math.max(.001,_*p-n/Un)/p,A=(_-w)/2,S=c+A+v,L=i-A-v,{outerStart:P,outerEnd:F,innerStart:R,innerEnd:O}=gP(e,g,p,L-S),z=p-P,T=p-F,N=S+P/z,$=L-F/T,V=g+R,G=g+O,re=S+R/V,Y=L-O/G;if(t.beginPath(),a){const M=(N+$)/2;if(t.arc(o,u,p,N,M),t.arc(o,u,p,M,$),F>0){const ne=bl(T,$,o,u);t.arc(ne.x,ne.y,F,$,L+tr)}const D=bl(G,L,o,u);if(t.lineTo(D.x,D.y),O>0){const ne=bl(G,Y,o,u);t.arc(ne.x,ne.y,O,L+tr,Y+Math.PI)}const j=(L-O/g+(S+R/g))/2;if(t.arc(o,u,g,L-O/g,j,!0),t.arc(o,u,g,j,S+R/g,!0),R>0){const ne=bl(V,re,o,u);t.arc(ne.x,ne.y,R,re+Math.PI,S-tr)}const Z=bl(z,S,o,u);if(t.lineTo(Z.x,Z.y),P>0){const ne=bl(z,N,o,u);t.arc(ne.x,ne.y,P,S-tr,N)}}else{t.moveTo(o,u);const M=Math.cos(N)*p+o,D=Math.sin(N)*p+u;t.lineTo(M,D);const j=Math.cos($)*p+o,Z=Math.sin($)*p+u;t.lineTo(j,Z)}t.closePath()}function vP(t,e,n,r,i){const{fullCircles:a,startAngle:o,circumference:u}=e;let c=e.endAngle;if(a){md(t,e,n,r,c,i);for(let f=0;f<a;++f)t.fill();isNaN(u)||(c=o+(u%zn||zn))}return md(t,e,n,r,c,i),t.fill(),c}function yP(t,e,n,r,i){const{fullCircles:a,startAngle:o,circumference:u,options:c}=e,{borderWidth:f,borderJoinStyle:d,borderDash:p,borderDashOffset:g}=c,v=c.borderAlign==="inner";if(!f)return;t.setLineDash(p||[]),t.lineDashOffset=g,v?(t.lineWidth=f*2,t.lineJoin=d||"round"):(t.lineWidth=f,t.lineJoin=d||"bevel");let _=e.endAngle;if(a){md(t,e,n,r,_,i);for(let w=0;w<a;++w)t.stroke();isNaN(u)||(_=o+(u%zn||zn))}v&&pP(t,e,_),a||(md(t,e,n,r,_,i),t.stroke())}class dc extends Na{constructor(n){super();ft(this,"circumference");ft(this,"endAngle");ft(this,"fullCircles");ft(this,"innerRadius");ft(this,"outerRadius");ft(this,"pixelMargin");ft(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const a=this.getProps(["x","y"],i),{angle:o,distance:u}=JC(a,{x:n,y:r}),{startAngle:c,endAngle:f,innerRadius:d,outerRadius:p,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=(this.options.spacing+this.options.borderWidth)/2,_=Gt(g,f-c),w=Lc(o,c,f)&&c!==f,A=_>=zn||w,S=gs(u,d+v,p+v);return A&&S}getCenterPoint(n){const{x:r,y:i,startAngle:a,endAngle:o,innerRadius:u,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:f,spacing:d}=this.options,p=(a+o)/2,g=(u+c+d+f)/2;return{x:r+Math.cos(p)*g,y:i+Math.sin(p)*g}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,a=(r.offset||0)/4,o=(r.spacing||0)/2,u=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>zn?Math.floor(i/zn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*a,Math.sin(c)*a);const f=1-Math.sin(Math.min(Un,i||0)),d=a*f;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,vP(n,this,d,o,u),yP(n,this,d,o,u),n.restore()}}ft(dc,"id","arc"),ft(dc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ft(dc,"defaultRoutes",{backgroundColor:"backgroundColor"}),ft(dc,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function TA(t,e,n=e){t.lineCap=Gt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Gt(n.borderDash,e.borderDash)),t.lineDashOffset=Gt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Gt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Gt(n.borderWidth,e.borderWidth),t.strokeStyle=Gt(n.borderColor,e.borderColor)}function bP(t,e,n){t.lineTo(n.x,n.y)}function _P(t){return t.stepped?U4:t.tension||t.cubicInterpolationMode==="monotone"?q4:bP}function DA(t,e,n={}){const r=t.length,{start:i=0,end:a=r-1}=n,{start:o,end:u}=e,c=Math.max(i,o),f=Math.min(a,u),d=i<o&&a<o||i>u&&a>u;return{count:r,start:c,loop:e.loop,ilen:f<c&&!d?r+f-c:f-c}}function xP(t,e,n,r){const{points:i,options:a}=e,{count:o,start:u,loop:c,ilen:f}=DA(i,n,r),d=_P(a);let{move:p=!0,reverse:g}=r||{},v,_,w;for(v=0;v<=f;++v)_=i[(u+(g?f-v:v))%o],!_.skip&&(p?(t.moveTo(_.x,_.y),p=!1):d(t,w,_,g,a.stepped),w=_);return c&&(_=i[(u+(g?f:0))%o],d(t,w,_,g,a.stepped)),!!c}function wP(t,e,n,r){const i=e.points,{count:a,start:o,ilen:u}=DA(i,n,r),{move:c=!0,reverse:f}=r||{};let d=0,p=0,g,v,_,w,A,S;const L=F=>(o+(f?u-F:F))%a,P=()=>{w!==A&&(t.lineTo(d,A),t.lineTo(d,w),t.lineTo(d,S))};for(c&&(v=i[L(0)],t.moveTo(v.x,v.y)),g=0;g<=u;++g){if(v=i[L(g)],v.skip)continue;const F=v.x,R=v.y,O=F|0;O===_?(R<w?w=R:R>A&&(A=R),d=(p*d+F)/++p):(P(),t.lineTo(F,R),_=O,p=0,w=A=R),S=R}P()}function Z0(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?wP:xP}function SP(t){return t.stepped?_6:t.tension||t.cubicInterpolationMode==="monotone"?x6:ao}function EP(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),TA(t,e.options),t.stroke(i)}function CP(t,e,n,r){const{segments:i,options:a}=e,o=Z0(e);for(const u of i)TA(t,a,u.style),t.beginPath(),o(t,e,u,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const AP=typeof Path2D=="function";function TP(t,e,n,r){AP&&!e.options.segment?EP(t,e,n,r):CP(t,e,n,r)}class pc extends Na{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;h6(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=O6(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],a=this.points,o=A6(this,{property:n,start:i,end:i});if(!o.length)return;const u=[],c=SP(r);let f,d;for(f=0,d=o.length;f<d;++f){const{start:p,end:g}=o[f],v=a[p],_=a[g];if(v===_){u.push(v);continue}const w=Math.abs((i-v[n])/(_[n]-v[n])),A=c(v,_,w,r.stepped);A[n]=e[n],u.push(A)}return u.length===1?u[0]:u}pathSegment(e,n,r){return Z0(this)(e,this,n,r)}path(e,n,r){const i=this.segments,a=Z0(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const u of i)o&=a(e,this,u,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),TP(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ft(pc,"id","line"),ft(pc,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ft(pc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ft(pc,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function rS(t,e,n,r){const i=t.options,{[n]:a}=t.getProps([n],r);return Math.abs(e-a)<i.radius+i.hitRadius}class Yh extends Na{constructor(n){super();ft(this,"parsed");ft(this,"skip");ft(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const a=this.options,{x:o,y:u}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-u,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(n,r){return rS(this,n,"x",r)}inYRange(n,r){return rS(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Pc(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Y0(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ft(Yh,"id","point"),ft(Yh,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ft(Yh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function OA(t,e){const{x:n,y:r,base:i,width:a,height:o}=t.getProps(["x","y","base","width","height"],e);let u,c,f,d,p;return t.horizontal?(p=o/2,u=Math.min(n,i),c=Math.max(n,i),f=r-p,d=r+p):(p=a/2,u=n-p,c=n+p,f=Math.min(r,i),d=Math.max(r,i)),{left:u,top:f,right:c,bottom:d}}function vs(t,e,n,r){return t?0:Sr(e,n,r)}function DP(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,a=sA(r);return{t:vs(i.top,a.top,0,n),r:vs(i.right,a.right,0,e),b:vs(i.bottom,a.bottom,0,n),l:vs(i.left,a.left,0,e)}}function OP(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,a=Dl(i),o=Math.min(e,n),u=t.borderSkipped,c=r||rn(i);return{topLeft:vs(!c||u.top||u.left,a.topLeft,0,o),topRight:vs(!c||u.top||u.right,a.topRight,0,o),bottomLeft:vs(!c||u.bottom||u.left,a.bottomLeft,0,o),bottomRight:vs(!c||u.bottom||u.right,a.bottomRight,0,o)}}function kP(t){const e=OA(t),n=e.right-e.left,r=e.bottom-e.top,i=DP(t,n/2,r/2),a=OP(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:a},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function l0(t,e,n,r){const i=e===null,a=n===null,u=t&&!(i&&a)&&OA(t,r);return u&&(i||gs(e,u.left,u.right))&&(a||gs(n,u.top,u.bottom))}function NP(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function RP(t,e){t.rect(e.x,e.y,e.w,e.h)}function u0(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,a=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+a,h:t.h+o,radius:t.radius}}class Xh extends Na{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:a,outer:o}=kP(this),u=NP(o.radius)?hd:RP;e.save(),(o.w!==a.w||o.h!==a.h)&&(e.beginPath(),u(e,u0(o,n,a)),e.clip(),u(e,u0(a,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),u(e,u0(a,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return l0(this,e,n,r)}inXRange(e,n){return l0(this,e,null,n)}inYRange(e,n){return l0(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(n+i)/2:n,y:a?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ft(Xh,"id","bar"),ft(Xh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ft(Xh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const iS=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},MP=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class aS extends Na{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Nn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Er(r.font),a=i.size,o=this._computeTitleHeight(),{boxWidth:u,itemHeight:c}=iS(r,a);let f,d;n.font=i.string,this.isHorizontal()?(f=this.maxWidth,d=this._fitRows(o,a,u,c)+10):(d=this.maxHeight,f=this._fitCols(o,i,u,c)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:a,maxWidth:o,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],f=this.lineWidths=[0],d=i+u;let p=e;a.textAlign="left",a.textBaseline="middle";let g=-1,v=-d;return this.legendItems.forEach((_,w)=>{const A=r+n/2+a.measureText(_.text).width;(w===0||f[f.length-1]+A+2*u>o)&&(p+=d,f[f.length-(w>0?0:1)]=0,v+=d,g++),c[w]={left:0,top:v,row:g,width:A,height:i},f[f.length-1]+=A+u}),p}_fitCols(e,n,r,i){const{ctx:a,maxHeight:o,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],f=this.columnSizes=[],d=o-e;let p=u,g=0,v=0,_=0,w=0;return this.legendItems.forEach((A,S)=>{const{itemWidth:L,itemHeight:P}=jP(r,n,a,A,i);S>0&&v+P+2*u>d&&(p+=g+u,f.push({width:g,height:v}),_+=g+u,w++,g=v=0),c[S]={left:_,top:v,col:w,width:L,height:P},g=Math.max(g,L),v+=P+u}),p+=g,f.push({width:g,height:v}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:a}}=this,o=Ol(a,this.left,this.width);if(this.isHorizontal()){let u=0,c=wr(r,this.left+i,this.right-this.lineWidths[u]);for(const f of n)u!==f.row&&(u=f.row,c=wr(r,this.left+i,this.right-this.lineWidths[u])),f.top+=this.top+e+i,f.left=o.leftForLtr(o.x(c),f.width),c+=f.width+i}else{let u=0,c=wr(r,this.top+e+i,this.bottom-this.columnSizes[u].height);for(const f of n)f.col!==u&&(u=f.col,c=wr(r,this.top+e+i,this.bottom-this.columnSizes[u].height)),f.top=c,f.left+=this.left+i,f.left=o.leftForLtr(o.x(f.left),f.width),c+=f.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Yv(e,this),this._draw(),Xv(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:a,labels:o}=e,u=$n.color,c=Ol(e.rtl,this.left,this.width),f=Er(o.font),{padding:d}=o,p=f.size,g=p/2;let v;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=f.string;const{boxWidth:_,boxHeight:w,itemHeight:A}=iS(o,p),S=function(O,z,T){if(isNaN(_)||_<=0||isNaN(w)||w<0)return;i.save();const N=Gt(T.lineWidth,1);if(i.fillStyle=Gt(T.fillStyle,u),i.lineCap=Gt(T.lineCap,"butt"),i.lineDashOffset=Gt(T.lineDashOffset,0),i.lineJoin=Gt(T.lineJoin,"miter"),i.lineWidth=N,i.strokeStyle=Gt(T.strokeStyle,u),i.setLineDash(Gt(T.lineDash,[])),o.usePointStyle){const $={radius:w*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:N},V=c.xPlus(O,_/2),G=z+g;aA(i,$,V,G,o.pointStyleWidth&&_)}else{const $=z+Math.max((p-w)/2,0),V=c.leftForLtr(O,_),G=Dl(T.borderRadius);i.beginPath(),Object.values(G).some(re=>re!==0)?hd(i,{x:V,y:$,w:_,h:w,radius:G}):i.rect(V,$,_,w),i.fill(),N!==0&&i.stroke()}i.restore()},L=function(O,z,T){Ic(i,T.text,O,z+A/2,f,{strikethrough:T.hidden,textAlign:c.textAlign(T.textAlign)})},P=this.isHorizontal(),F=this._computeTitleHeight();P?v={x:wr(a,this.left+d,this.right-r[0]),y:this.top+d+F,line:0}:v={x:this.left+d,y:wr(a,this.top+F+d,this.bottom-n[0].height),line:0},hA(this.ctx,e.textDirection);const R=A+d;this.legendItems.forEach((O,z)=>{i.strokeStyle=O.fontColor,i.fillStyle=O.fontColor;const T=i.measureText(O.text).width,N=c.textAlign(O.textAlign||(O.textAlign=o.textAlign)),$=_+g+T;let V=v.x,G=v.y;c.setWidth(this.width),P?z>0&&V+$+d>this.right&&(G=v.y+=R,v.line++,V=v.x=wr(a,this.left+d,this.right-r[v.line])):z>0&&G+R>this.bottom&&(V=v.x=V+n[v.line].width+d,v.line++,G=v.y=wr(a,this.top+F+d,this.bottom-n[v.line].height));const re=c.x(V);if(S(re,G,O),V=D4(N,V+_+g,P?V+$:this.right,e.rtl),L(c.x(V),G,O),P)v.x+=$+d;else if(typeof O.text!="string"){const Y=f.lineHeight;v.y+=kA(O,Y)+d}else v.y+=R}),dA(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Er(n.font),i=_i(n.padding);if(!n.display)return;const a=Ol(e.rtl,this.left,this.width),o=this.ctx,u=n.position,c=r.size/2,f=i.top+c;let d,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),d=this.top+f,p=wr(e.align,p,this.right-g);else{const _=this.columnSizes.reduce((w,A)=>Math.max(w,A.height),0);d=f+wr(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const v=wr(u,p,p+g);o.textAlign=a.textAlign(Hv(u)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Ic(o,n.text,v,d,r)}_computeTitleHeight(){const e=this.options.title,n=Er(e.font),r=_i(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,a;if(gs(e,this.left,this.right)&&gs(n,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(i=a[r],gs(e,i.left,i.left+i.width)&&gs(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!IP(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,a=MP(i,r);i&&!a&&Nn(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!a&&Nn(n.onHover,[e,r,this],this)}else r&&Nn(n.onClick,[e,r,this],this)}}function jP(t,e,n,r,i){const a=LP(r,t,e,n),o=PP(i,r,e.lineHeight);return{itemWidth:a,itemHeight:o}}function LP(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((a,o)=>a.length>o.length?a:o)),e+n.size/2+r.measureText(i).width}function PP(t,e,n){let r=t;return typeof e.text!="string"&&(r=kA(e,n)),r}function kA(t,e){const n=t.text?t.text.length:0;return e*n}function IP(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var BP={id:"legend",_element:aS,start(t,e,n){const r=t.legend=new aS({ctx:t.ctx,options:n,chart:t});yi.configure(t,r,n),yi.addBox(t,r)},stop(t){yi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;yi.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:a,useBorderRadius:o,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const f=c.controller.getStyle(n?0:void 0),d=_i(f.borderWidth);return{text:e[c.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!c.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:f.borderColor,pointStyle:r||f.pointStyle,rotation:f.rotation,textAlign:i||f.textAlign,borderRadius:o&&(u||f.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class NA extends Na{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Jn(r.text)?r.text.length:1;this._padding=_i(r.padding);const a=i*Er(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:a,options:o}=this,u=o.align;let c=0,f,d,p;return this.isHorizontal()?(d=wr(u,r,a),p=n+e,f=a-r):(o.position==="left"?(d=r+e,p=wr(u,i,n),c=Un*-.5):(d=a-e,p=wr(u,n,i),c=Un*.5),f=i-n),{titleX:d,titleY:p,maxWidth:f,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Er(n.font),a=r.lineHeight/2+this._padding.top,{titleX:o,titleY:u,maxWidth:c,rotation:f}=this._drawArgs(a);Ic(e,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:f,textAlign:Hv(n.align),textBaseline:"middle",translation:[o,u]})}}function zP(t,e){const n=new NA({ctx:t.ctx,options:e,chart:t});yi.configure(t,n,e),yi.addBox(t,n),t.titleBlock=n}var FP={id:"title",_element:NA,start(t,e,n){zP(t,n)},stop(t){const e=t.titleBlock;yi.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;yi.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const mc={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,a=0;for(e=0,n=t.length;e<n;++e){const u=t[e].element;if(u&&u.hasValue()){const c=u.tooltipPosition();r.add(c.x),i+=c.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((u,c)=>u+c)/r.size,y:i/a}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,a,o,u;for(a=0,o=t.length;a<o;++a){const c=t[a].element;if(c&&c.hasValue()){const f=c.getCenterPoint(),d=$0(e,f);d<i&&(i=d,u=c)}}if(u){const c=u.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function Vi(t,e){return e&&(Jn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ca(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function UP(t,e){const{element:n,datasetIndex:r,index:i}=e,a=t.getDatasetMeta(r).controller,{label:o,value:u}=a.getLabelAndValue(i);return{chart:t,label:o,parsed:a.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:u,dataset:a.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function sS(t,e){const n=t.chart.ctx,{body:r,footer:i,title:a}=t,{boxWidth:o,boxHeight:u}=e,c=Er(e.bodyFont),f=Er(e.titleFont),d=Er(e.footerFont),p=a.length,g=i.length,v=r.length,_=_i(e.padding);let w=_.height,A=0,S=r.reduce((F,R)=>F+R.before.length+R.lines.length+R.after.length,0);if(S+=t.beforeBody.length+t.afterBody.length,p&&(w+=p*f.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),S){const F=e.displayColors?Math.max(u,c.lineHeight):c.lineHeight;w+=v*F+(S-v)*c.lineHeight+(S-1)*e.bodySpacing}g&&(w+=e.footerMarginTop+g*d.lineHeight+(g-1)*e.footerSpacing);let L=0;const P=function(F){A=Math.max(A,n.measureText(F).width+L)};return n.save(),n.font=f.string,vn(t.title,P),n.font=c.string,vn(t.beforeBody.concat(t.afterBody),P),L=e.displayColors?o+2+e.boxPadding:0,vn(r,F=>{vn(F.before,P),vn(F.lines,P),vn(F.after,P)}),L=0,n.font=d.string,vn(t.footer,P),n.restore(),A+=_.width,{width:A,height:w}}function qP(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function HP(t,e,n,r){const{x:i,width:a}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+a+o>e.width||t==="right"&&i-a-o<0)return!0}function $P(t,e,n,r){const{x:i,width:a}=n,{width:o,chartArea:{left:u,right:c}}=t;let f="center";return r==="center"?f=i<=(u+c)/2?"left":"right":i<=a/2?f="left":i>=o-a/2&&(f="right"),HP(f,t,e,n)&&(f="center"),f}function oS(t,e,n){const r=n.yAlign||e.yAlign||qP(t,n);return{xAlign:n.xAlign||e.xAlign||$P(t,e,n,r),yAlign:r}}function VP(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function YP(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function lS(t,e,n,r){const{caretSize:i,caretPadding:a,cornerRadius:o}=t,{xAlign:u,yAlign:c}=n,f=i+a,{topLeft:d,topRight:p,bottomLeft:g,bottomRight:v}=Dl(o);let _=VP(e,u);const w=YP(e,c,f);return c==="center"?u==="left"?_+=f:u==="right"&&(_-=f):u==="left"?_-=Math.max(d,g)+i:u==="right"&&(_+=Math.max(p,v)+i),{x:Sr(_,0,r.width-e.width),y:Sr(w,0,r.height-e.height)}}function kh(t,e,n){const r=_i(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function uS(t){return Vi([],Ca(t))}function XP(t,e,n){return xo(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function cS(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const RA={beforeTitle:Sa,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Sa,beforeBody:Sa,beforeLabel:Sa,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return dn(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Sa,afterBody:Sa,beforeFooter:Sa,footer:Sa,afterFooter:Sa};function Pr(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?RA[e].call(n,r):i}class K0 extends Na{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,a=new mA(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=XP(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Pr(r,"beforeTitle",this,e),a=Pr(r,"title",this,e),o=Pr(r,"afterTitle",this,e);let u=[];return u=Vi(u,Ca(i)),u=Vi(u,Ca(a)),u=Vi(u,Ca(o)),u}getBeforeBody(e,n){return uS(Pr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return vn(e,a=>{const o={before:[],lines:[],after:[]},u=cS(r,a);Vi(o.before,Ca(Pr(u,"beforeLabel",this,a))),Vi(o.lines,Pr(u,"label",this,a)),Vi(o.after,Ca(Pr(u,"afterLabel",this,a))),i.push(o)}),i}getAfterBody(e,n){return uS(Pr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Pr(r,"beforeFooter",this,e),a=Pr(r,"footer",this,e),o=Pr(r,"afterFooter",this,e);let u=[];return u=Vi(u,Ca(i)),u=Vi(u,Ca(a)),u=Vi(u,Ca(o)),u}_createItems(e){const n=this._active,r=this.chart.data,i=[],a=[],o=[];let u=[],c,f;for(c=0,f=n.length;c<f;++c)u.push(UP(this.chart,n[c]));return e.filter&&(u=u.filter((d,p,g)=>e.filter(d,p,g,r))),e.itemSort&&(u=u.sort((d,p)=>e.itemSort(d,p,r))),vn(u,d=>{const p=cS(e.callbacks,d);i.push(Pr(p,"labelColor",this,d)),a.push(Pr(p,"labelPointStyle",this,d)),o.push(Pr(p,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=u,u}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let a,o=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const u=mc[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const c=this._size=sS(this,r),f=Object.assign({},u,c),d=oS(this.chart,r,f),p=lS(r,f,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,a={opacity:1,x:p.x,y:p.y,width:c.width,height:c.height,caretX:u.x,caretY:u.y}}this._tooltipItems=o,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const a=this.getCaretPosition(e,r,i);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:a}=this,{caretSize:o,cornerRadius:u}=r,{topLeft:c,topRight:f,bottomLeft:d,bottomRight:p}=Dl(u),{x:g,y:v}=e,{width:_,height:w}=n;let A,S,L,P,F,R;return a==="center"?(F=v+w/2,i==="left"?(A=g,S=A-o,P=F+o,R=F-o):(A=g+_,S=A+o,P=F-o,R=F+o),L=A):(i==="left"?S=g+Math.max(c,d)+o:i==="right"?S=g+_-Math.max(f,p)-o:S=this.caretX,a==="top"?(P=v,F=P-o,A=S-o,L=S+o):(P=v+w,F=P+o,A=S+o,L=S-o),R=P),{x1:A,x2:S,x3:L,y1:P,y2:F,y3:R}}drawTitle(e,n,r){const i=this.title,a=i.length;let o,u,c;if(a){const f=Ol(r.rtl,this.x,this.width);for(e.x=kh(this,r.titleAlign,r),n.textAlign=f.textAlign(r.titleAlign),n.textBaseline="middle",o=Er(r.titleFont),u=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,c=0;c<a;++c)n.fillText(i[c],f.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+u,c+1===a&&(e.y+=r.titleMarginBottom-u)}}_drawColorBox(e,n,r,i,a){const o=this.labelColors[r],u=this.labelPointStyles[r],{boxHeight:c,boxWidth:f}=a,d=Er(a.bodyFont),p=kh(this,"left",a),g=i.x(p),v=c<d.lineHeight?(d.lineHeight-c)/2:0,_=n.y+v;if(a.usePointStyle){const w={radius:Math.min(f,c)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},A=i.leftForLtr(g,f)+f/2,S=_+c/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Y0(e,w,A,S),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Y0(e,w,A,S)}else{e.lineWidth=rn(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const w=i.leftForLtr(g,f),A=i.leftForLtr(i.xPlus(g,1),f-2),S=Dl(o.borderRadius);Object.values(S).some(L=>L!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,hd(e,{x:w,y:_,w:f,h:c,radius:S}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),hd(e,{x:A,y:_+1,w:f-2,h:c-2,radius:S}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(w,_,f,c),e.strokeRect(w,_,f,c),e.fillStyle=o.backgroundColor,e.fillRect(A,_+1,f-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:a,bodyAlign:o,displayColors:u,boxHeight:c,boxWidth:f,boxPadding:d}=r,p=Er(r.bodyFont);let g=p.lineHeight,v=0;const _=Ol(r.rtl,this.x,this.width),w=function(T){n.fillText(T,_.x(e.x+v),e.y+g/2),e.y+=g+a},A=_.textAlign(o);let S,L,P,F,R,O,z;for(n.textAlign=o,n.textBaseline="middle",n.font=p.string,e.x=kh(this,A,r),n.fillStyle=r.bodyColor,vn(this.beforeBody,w),v=u&&A!=="right"?o==="center"?f/2+d:f+2+d:0,F=0,O=i.length;F<O;++F){for(S=i[F],L=this.labelTextColors[F],n.fillStyle=L,vn(S.before,w),P=S.lines,u&&P.length&&(this._drawColorBox(n,e,F,_,r),g=Math.max(p.lineHeight,c)),R=0,z=P.length;R<z;++R)w(P[R]),g=p.lineHeight;vn(S.after,w)}v=0,g=p.lineHeight,vn(this.afterBody,w),e.y-=a}drawFooter(e,n,r){const i=this.footer,a=i.length;let o,u;if(a){const c=Ol(r.rtl,this.x,this.width);for(e.x=kh(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",o=Er(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,u=0;u<a;++u)n.fillText(i[u],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:a,yAlign:o}=this,{x:u,y:c}=e,{width:f,height:d}=r,{topLeft:p,topRight:g,bottomLeft:v,bottomRight:_}=Dl(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(u+p,c),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(u+f-g,c),n.quadraticCurveTo(u+f,c,u+f,c+g),o==="center"&&a==="right"&&this.drawCaret(e,n,r,i),n.lineTo(u+f,c+d-_),n.quadraticCurveTo(u+f,c+d,u+f-_,c+d),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(u+v,c+d),n.quadraticCurveTo(u,c+d,u,c+d-v),o==="center"&&a==="left"&&this.drawCaret(e,n,r,i),n.lineTo(u,c+p),n.quadraticCurveTo(u,c,u+p,c),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,a=r&&r.y;if(i||a){const o=mc[e.position].call(this,this._active,this._eventPosition);if(!o)return;const u=this._size=sS(this,e),c=Object.assign({},o,this._size),f=oS(n,e,c),d=lS(e,c,f,n);(i._to!==d.x||a._to!==d.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=_i(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,i,n),hA(e,n.textDirection),a.y+=o.top,this.drawTitle(a,e,n),this.drawBody(a,e,n),this.drawFooter(a,e,n),dA(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:u,index:c})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[c],index:c}}),a=!ud(r,i),o=this._positionChanged(i,n);(a||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],o=this._getActiveElements(e,a,n,r),u=this._positionChanged(o,e),c=n||!ud(o,a)||u;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,r,i){const a=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:a}=this,o=mc[a.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}ft(K0,"positioners",mc);var GP={id:"tooltip",_element:K0,positioners:mc,afterInit(t,e,n){n&&(t.tooltip=new K0({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:RA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const WP=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function ZP(t,e,n,r){const i=t.indexOf(e);if(i===-1)return WP(t,e,n,r);const a=t.lastIndexOf(e);return i!==a?n:i}const KP=(t,e)=>t===null?null:Sr(Math.round(t),0,e);function fS(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Q0 extends $l{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:a}of n)r[i]===a&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(dn(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:ZP(r,e,Gt(n,e),this._addedLabels),KP(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let a=this.getLabels();a=e===0&&n===a.length-1?a:a.slice(e,n+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return fS.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ft(Q0,"id","category"),ft(Q0,"defaults",{ticks:{callback:fS}});function QP(t,e){const n=[],{bounds:i,step:a,min:o,max:u,precision:c,count:f,maxTicks:d,maxDigits:p,includeBounds:g}=t,v=a||1,_=d-1,{min:w,max:A}=e,S=!dn(o),L=!dn(u),P=!dn(f),F=(A-w)/(p+1);let R=dw((A-w)/_/v)*v,O,z,T,N;if(R<1e-14&&!S&&!L)return[{value:w},{value:A}];N=Math.ceil(A/R)-Math.floor(w/R),N>_&&(R=dw(N*R/_/v)*v),dn(c)||(O=Math.pow(10,c),R=Math.ceil(R*O)/O),i==="ticks"?(z=Math.floor(w/R)*R,T=Math.ceil(A/R)*R):(z=w,T=A),S&&L&&a&&b4((u-o)/a,R/1e3)?(N=Math.round(Math.min((u-o)/R,d)),R=(u-o)/N,z=o,T=u):P?(z=S?o:z,T=L?u:T,N=f-1,R=(T-z)/N):(N=(T-z)/R,_c(N,Math.round(N),R/1e3)?N=Math.round(N):N=Math.ceil(N));const $=Math.max(pw(R),pw(z));O=Math.pow(10,dn(c)?$:c),z=Math.round(z*O)/O,T=Math.round(T*O)/O;let V=0;for(S&&(g&&z!==o?(n.push({value:o}),z<o&&V++,_c(Math.round((z+V*R)*O)/O,o,hS(o,F,t))&&V++):z<o&&V++);V<N;++V){const G=Math.round((z+V*R)*O)/O;if(L&&G>u)break;n.push({value:G})}return L&&g&&T!==u?n.length&&_c(n[n.length-1].value,u,hS(u,F,t))?n[n.length-1].value=u:n.push({value:u}):(!L||T===u)&&n.push({value:T}),n}function hS(t,e,{horizontal:n,minRotation:r}){const i=Oa(r),a=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/a,o)}class JP extends $l{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return dn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:a}=this;const o=c=>i=n?i:c,u=c=>a=r?a:c;if(e){const c=ta(i),f=ta(a);c<0&&f<0?u(0):c>0&&f>0&&o(0)}if(i===a){let c=a===0?1:Math.abs(a*.05);u(a+c),e||o(i-c)}this.min=i,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,o=QP(i,a);return e.bounds==="ticks"&&_4(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Vv(e,this.chart.options.locale,this.options.ticks.format)}}class J0 extends JP{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=bi(e)?e:0,this.max=bi(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Oa(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ft(J0,"id","linear"),ft(J0,"defaults",{ticks:{callback:iA.formatters.numeric}});const Rd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},zr=Object.keys(Rd);function dS(t,e){return t-e}function pS(t,e){if(dn(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:a}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),bi(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(jc(a)||a===!0)?n.startOf(o,"isoWeek",a):n.startOf(o,i)),+o)}function mS(t,e,n,r){const i=zr.length;for(let a=zr.indexOf(t);a<i-1;++a){const o=Rd[zr[a]],u=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(u*o.size))<=r)return zr[a]}return zr[i-1]}function e8(t,e,n,r,i){for(let a=zr.length-1;a>=zr.indexOf(n);a--){const o=zr[a];if(Rd[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return zr[n?zr.indexOf(n):0]}function t8(t){for(let e=zr.indexOf(t)+1,n=zr.length;e<n;++e)if(Rd[zr[e]].common)return zr[e]}function gS(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=qv(n,e),a=n[r]>=e?n[r]:n[i];t[a]=!0}}function n8(t,e,n,r){const i=t._adapter,a=+i.startOf(e[0].value,r),o=e[e.length-1].value;let u,c;for(u=a;u<=o;u=+i.add(u,1,r))c=n[u],c>=0&&(e[c].major=!0);return e}function vS(t,e,n){const r=[],i={},a=e.length;let o,u;for(o=0;o<a;++o)u=e[o],i[u]=o,r.push({value:u,major:!1});return a===0||!n?r:n8(t,r,i,n)}class gd extends $l{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new aL._date(e.adapters.date);i.init(n),bc(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:pS(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:a,minDefined:o,maxDefined:u}=this.getUserBounds();function c(f){!o&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!u&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!o||!u)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=bi(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),a=bi(a)&&!isNaN(a)?a:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,o=this.max,u=C4(i,a,o);return this._unit=n.unit||(r.autoSkip?mS(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):e8(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:t8(this._unit),this.initOffsets(i),e.reverse&&u.reverse(),vS(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,a;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?r=a:r=(a-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Sr(n,0,o),r=Sr(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,a=i.time,o=a.unit||mS(a.minUnit,n,r,this._getLabelCapacity(n)),u=Gt(i.ticks.stepSize,1),c=o==="week"?a.isoWeekday:!1,f=jc(c)||c===!0,d={};let p=n,g,v;if(f&&(p=+e.startOf(p,"isoWeek",c)),p=+e.startOf(p,f?"day":o),e.diff(r,n,o)>1e5*u)throw new Error(n+" and "+r+" are too far apart with stepSize of "+u+" "+o);const _=i.ticks.source==="data"&&this.getDataTimestamps();for(g=p,v=0;g<r;g=+e.add(g,u,o),v++)gS(d,g,_);return(g===r||i.bounds==="ticks"||v===1)&&gS(d,g,_),Object.keys(d).sort(dS).map(w=>+w)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,a=this._unit,o=n||i[a];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const a=this.options,o=a.ticks.callback;if(o)return Nn(o,[e,n,r],this);const u=a.time.displayFormats,c=this._unit,f=this._majorUnit,d=c&&u[c],p=f&&u[f],g=r[n],v=f&&p&&g&&g.major;return this._adapter.format(e,i||(v?p:d))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Oa(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(i),o=Math.sin(i),u=this._resolveTickFontOptions(0).size;return{w:r*a+u*o,h:r*o+u*a}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,a=this._tickFormatFunction(e,0,vS(this,[e],this._majorUnit),i),o=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(pS(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return tA(e.sort(dS))}}ft(gd,"id","time"),ft(gd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Nh(t,e,n){let r=0,i=t.length-1,a,o,u,c;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=lo(t,"pos",e)),{pos:a,time:u}=t[r],{pos:o,time:c}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=lo(t,"time",e)),{time:a,pos:u}=t[r],{time:o,pos:c}=t[i]);const f=o-a;return f?u+(c-u)*(e-a)/f:u}class yS extends gd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Nh(n,this.min),this._tableRange=Nh(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],a=[];let o,u,c,f,d;for(o=0,u=e.length;o<u;++o)f=e[o],f>=n&&f<=r&&i.push(f);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,u=i.length;o<u;++o)d=i[o+1],c=i[o-1],f=i[o],Math.round((d+c)/2)!==f&&a.push({time:f,pos:o/(u-1)});return a}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,a)=>i-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Nh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Nh(this._table,r*this._tableRange+this._minPos,!0)}}ft(yS,"id","timeseries"),ft(yS,"defaults",gd.defaults);const MA="label";function bS(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function r8(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function jA(t,e){t.labels=e}function LA(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:MA;const r=[];t.datasets=e.map(i=>{const a=t.datasets.find(o=>o[n]===i[n]);return!a||!i.data||r.includes(a)?{...i}:(r.push(a),Object.assign(a,i),a)})}function i8(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:MA;const n={labels:[],datasets:[]};return jA(n,t.labels),LA(n,t.datasets,e),n}function a8(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:a,type:o,data:u,options:c,plugins:f=[],fallbackContent:d,updateMode:p,...g}=t,v=ie.useRef(null),_=ie.useRef(null),w=()=>{v.current&&(_.current=new Nd(v.current,{type:o,data:i8(u,a),options:c&&{...c},plugins:f}),bS(e,_.current))},A=()=>{bS(e,null),_.current&&(_.current.destroy(),_.current=null)};return ie.useEffect(()=>{!i&&_.current&&c&&r8(_.current,c)},[i,c]),ie.useEffect(()=>{!i&&_.current&&jA(_.current.config.data,u.labels)},[i,u.labels]),ie.useEffect(()=>{!i&&_.current&&u.datasets&&LA(_.current.config.data,u.datasets,a)},[i,u.datasets]),ie.useEffect(()=>{_.current&&(i?(A(),setTimeout(w)):_.current.update(p))},[i,c,u.labels,u.datasets,p]),ie.useEffect(()=>{_.current&&(A(),setTimeout(w))},[o]),ie.useEffect(()=>(w(),()=>A()),[]),er.createElement("canvas",{ref:v,role:"img",height:n,width:r,...g},d)}const s8=ie.forwardRef(a8);function ty(t,e){return Nd.register(e),ie.forwardRef((n,r)=>er.createElement(s8,{...n,ref:r,type:t}))}const o8=ty("line",Hh),l8=ty("bar",qh),u8=ty("pie",X0);Nd.register(Q0,J0,Yh,pc,Xh,FP,GP,BP,dc);const c8=({supabase:t,salesDataUpdated:e,clientsDataUpdated:n})=>{const[r,i]=ie.useState([]),[a,o]=ie.useState([]),[u,c]=ie.useState([]),[f,d]=ie.useState([]),[p,g]=ie.useState([]),[v,_]=ie.useState(""),[w,A]=ie.useState(""),[S,L]=ie.useState(!1),[P,F]=ie.useState(""),[R,O]=ie.useState("line"),[z,T]=ie.useState("service"),[N,$]=ie.useState({width:window.innerWidth,height:window.innerHeight}),[V,G]=ie.useState(!1);ie.useEffect(()=>{const W=new Date().toISOString().split("T")[0];_("2025-01-01"),A(W);const oe=()=>{$({width:window.innerWidth,height:window.innerHeight})},pe=()=>{G(document.documentElement.classList.contains("dark-theme"))};pe();const De=new MutationObserver(pe);return De.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),window.addEventListener("resize",oe),()=>{window.removeEventListener("resize",oe),De.disconnect()}},[]),ie.useEffect(()=>{t&&(re(),Y(),M(),D())},[t,v,w,e,n]);const re=ie.useCallback(async()=>{try{const{data:I,error:W}=await t.from("categories").select("name").order("name",{ascending:!0});if(W)throw W;I&&(d(I.map(ae=>ae.name)),g(I.map(ae=>ae.name)))}catch(I){console.error("Ошибка загрузки категорий:",I),F("Не удалось загрузить категории")}},[t]),Y=ie.useCallback(async()=>{if(t){L(!0);try{let I=t.from("purchases").select("id, sold_at, sale_price, category").eq("is_sale",!1).not("sold_at","is",null);if(v&&w){const oe=`${v}T00:00:00`,pe=`${w}T23:59:59`;I=I.gte("sold_at",oe).lte("sold_at",pe)}const{data:W,error:ae}=await I;if(ae)throw ae;i(W||[])}catch(I){console.error("Ошибка загрузки данных о продажах:",I),F("Не удалось загрузить данные о продажах")}finally{L(!1)}}},[t,v,w,e]),M=ie.useCallback(async()=>{if(t){L(!0);try{let I=t.from("purchases").select("id, created_at, category, purchase_price");if(v&&w){const oe=`${v}T00:00:00`,pe=`${w}T23:59:59`;I=I.gte("created_at",oe).lte("created_at",pe)}const{data:W,error:ae}=await I;if(ae)throw ae;o(W||[])}catch(I){console.error("Ошибка загрузки данных о закупках:",I),F("Не удалось загрузить данные о закупках")}finally{L(!1)}}},[t,v,w]),D=ie.useCallback(async()=>{if(t){L(!0);try{let I=t.from("clients").select("id, created_at, closed_at, is_archive");if(v&&w){const oe=`${v}T00:00:00`,pe=`${w}T23:59:59`;I=I.gte("created_at",oe).lte("created_at",pe)}const{data:W,error:ae}=await I;if(ae)throw ae;c(W||[])}catch(I){console.error("Ошибка загрузки данных сервиса:",I),F("Не удалось загрузить данные сервиса")}finally{L(!1)}}},[t,v,w]),j=ie.useMemo(()=>{const I=V?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.7)",W=V?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)";return{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Статистика продаж и закупок по месяцам",font:{size:N.width<768?14:16},color:I},tooltip:{mode:"point",intersect:!0,callbacks:{title:function(ae){return ae[0].label},label:function(ae){const oe=ae.dataset.label||"",pe=Math.round(ae.raw).toLocaleString();return`${oe}: ${pe} ₽`}}},legend:{position:"top",labels:{boxWidth:N.width<768?10:12,font:{size:N.width<768?10:12},color:I}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1e4,callback:function(ae){return ae.toLocaleString()},font:{size:N.width<768?10:12},color:I},grid:{color:W}},x:{ticks:{autoSkip:!0,maxRotation:N.width<768?45:0,minRotation:N.width<768?45:0,font:{size:N.width<768?10:12},color:I},grid:{color:W}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}},[V,N.width]),Z=ie.useMemo(()=>{const I=V?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.7)";return{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Распределение продаж и закупок по категориям",font:{size:N.width<768?14:16},color:I},tooltip:{callbacks:{label:function(W){const ae=W.dataset.label||"",oe=W.label||"",pe=W.raw||0;return`${ae} ${oe}: ${pe.toLocaleString()} ₽`}}},legend:{position:"top",labels:{boxWidth:N.width<768?10:12,font:{size:N.width<768?10:12},color:I}}}}},[V,N.width]),ne=ie.useMemo(()=>{const I=V?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.7)",W=V?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)";return{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Статистика сервисных записей по месяцам",font:{size:N.width<768?14:16},color:I},tooltip:{mode:"nearest",intersect:!0,callbacks:{label:function(ae){const oe=ae.dataset.label||"",pe=ae.raw||0;return ae.label==="Всего"?`${oe}: ${pe}`:`${oe}: ${pe}`},title:function(ae){return ae[0].label==="Всего"?"Весь период":ae[0].label}}},legend:{position:"top",labels:{boxWidth:N.width<768?10:12,font:{size:N.width<768?10:12},color:I}}},scales:{y:{beginAtZero:!0,title:{display:!0,font:{size:N.width<768?10:12},color:I},ticks:{stepSize:1,font:{size:N.width<768?10:12},color:I},grid:{color:W}},x:{title:{display:!0,font:{size:N.width<768?10:12},color:I},ticks:{autoSkip:!0,maxRotation:N.width<768?45:0,minRotation:N.width<768?45:0,font:{size:N.width<768?10:12},color:I},grid:{color:W}}},interaction:{mode:"nearest",axis:"x",intersect:!0}}},[V,N.width]),k=()=>{if(!u.length)return{labels:[],datasets:[]};const I=["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],W=new Date(v),ae=new Date(w);ae.setDate(ae.getDate()+1);const oe=[];let pe=new Date(W);for(;pe<=ae;){const Se=I[pe.getMonth()],we=pe.getFullYear();oe.push(`${Se} ${we}`),pe.setMonth(pe.getMonth()+1)}const De={},de={};let he=0,Te=0;u.forEach(Se=>{const we=new Date(Se.created_at),H=I[we.getMonth()],X=we.getFullYear(),ee=`${H} ${X}`;if(Se.is_archive||(De[ee]||(De[ee]=0),De[ee]++,he++),Se.closed_at){const te=new Date(Se.closed_at),ge=I[te.getMonth()],Re=te.getFullYear(),xe=`${ge} ${Re}`;de[xe]||(de[xe]=0),de[xe]++,Te++}});const fe=[...oe,"Всего"],ce=oe.map(Se=>De[Se]||0),ve=oe.map(Se=>de[Se]||0);return ce.push(he),ve.push(Te),{labels:fe,datasets:[{label:"Активные записи",data:ce,backgroundColor:Se=>Se.dataIndex===ce.length-1?"rgba(76, 175, 80, 0.9)":"rgba(76, 175, 80, 0.7)",borderColor:Se=>(Se.dataIndex===ce.length-1,"rgba(76, 175, 80, 1)"),borderWidth:1},{label:"Закрытые записи",data:ve,backgroundColor:Se=>Se.dataIndex===ve.length-1?"rgba(158, 158, 158, 0.9)":"rgba(158, 158, 158, 0.7)",borderColor:Se=>(Se.dataIndex===ve.length-1,"rgba(158, 158, 158, 1)"),borderWidth:1}]}},le=()=>{if(!r.length&&!a.length)return{labels:[],datasets:[]};const I={},W={},ae=["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],oe=new Date(v),pe=new Date(w),De=[];let de=new Date(oe);for(;de<=pe;){const Te=ae[de.getMonth()],fe=de.getFullYear();De.push(`${Te} ${fe}`),de.setMonth(de.getMonth()+1)}r.forEach(Te=>{const fe=new Date(Te.sold_at),ce=ae[fe.getMonth()],ve=fe.getFullYear(),Se=`${ce} ${ve}`;let we=Te.category||"Неизвестно";I[we]||(I[we]={}),I[we][Se]||(I[we][Se]=0);const H=parseFloat(Te.sale_price)||0;I[we][Se]+=H}),a.forEach(Te=>{const fe=new Date(Te.created_at),ce=ae[fe.getMonth()],ve=fe.getFullYear(),Se=`${ce} ${ve}`;let we=Te.category||"Неизвестно";W[we]||(W[we]={}),W[we][Se]||(W[we][Se]=0);const H=parseFloat(Te.purchase_price)||0;W[we][Se]+=H});const he=[];if(z==="purchases"||z==="both"){const Te=De.map(fe=>Object.keys(W).reduce((ce,ve)=>ce+(W[ve][fe]||0),0));he.push({label:"Все закупки",data:Te,borderColor:V?"#aaa":"#666",backgroundColor:"transparent",borderWidth:2,borderDash:[5,5],tension:.1,pointBackgroundColor:V?"#aaa":"#666",pointBorderColor:V?"#333":"#fff",pointRadius:3,pointHoverRadius:5}),p.forEach(fe=>{if(!W[fe])return;const ve=`hsl(${f.indexOf(fe)*360/f.length%360}, 70%, ${V?"60%":"50%"})`,Se=z==="both"?`${fe} (закупки)`:fe;he.push({label:Se,data:De.map(we=>W[fe][we]||0),borderColor:ve,backgroundColor:"transparent",borderWidth:2,borderDash:[5,5],tension:.1,pointBackgroundColor:ve,pointBorderColor:V?"#333":"#fff",pointRadius:3,pointHoverRadius:5})})}if(z==="sales"||z==="both"){const Te=De.map(fe=>Object.keys(I).reduce((ce,ve)=>ce+(I[ve][fe]||0),0));he.push({label:"Все продажи",data:Te,borderColor:V?"#fff":"#000",backgroundColor:V?"#fff":"#000",tension:.1,borderWidth:2,borderDash:void 0}),p.forEach(fe=>{if(!I[fe])return;const ve=`hsl(${f.indexOf(fe)*360/f.length%360}, 70%, ${V?"60%":"50%"})`,Se=z==="both"?`${fe} (продажи)`:fe;he.push({label:Se,data:De.map(we=>I[fe][we]||0),borderColor:ve,backgroundColor:ve,tension:.1,borderWidth:2,borderDash:void 0})})}return{labels:De,datasets:he}},se=()=>{if(!r.length&&!a.length)return{labels:[],datasets:[]};const I={},W={};r.forEach(de=>{let he=de.category||"Неизвестно";I[he]||(I[he]=0);const Te=parseFloat(de.sale_price)||0;I[he]+=Te}),a.forEach(de=>{let he=de.category||"Неизвестно";W[he]||(W[he]=0);const Te=parseFloat(de.purchase_price)||0;W[he]+=Te});let ae=[];z==="sales"?ae=Object.keys(I):z==="purchases"?ae=Object.keys(W):ae=[...new Set([...Object.keys(I),...Object.keys(W)])];const oe=ae.map((de,he)=>`hsl(${he*360/ae.length}, 70%, ${V?"60%":"50%"})`),pe=ae.map((de,he)=>`hsl(${he*360/ae.length}, 70%, ${V?"80%":"70%"})`),De=[];return(z==="sales"||z==="both")&&De.push({label:"Продажи",data:ae.map(de=>I[de]||0),backgroundColor:oe,borderWidth:1,borderColor:V?"#333":"#fff"}),(z==="purchases"||z==="both")&&De.push({label:"Закупки",data:ae.map(de=>W[de]||0),backgroundColor:pe,borderWidth:1,borderColor:V?"#333":"#fff"}),{labels:ae,datasets:De}},B=()=>{const W=new Date().toISOString().split("T")[0];_("2025-01-01"),A(W)},U=()=>{if(z==="service"){const ae=k();return x.jsx(l8,{data:ae,options:ne,height:N.width<768?250:400},`bar-${N.width}-${V}`)}const I=R==="line"?le():se(),W=R==="line"?j:Z;return R==="line"?x.jsx(o8,{data:I,options:W,height:N.width<768?250:400},`line-${N.width}-${V}-${z}`):x.jsx(u8,{data:I,options:W,height:N.width<768?250:400},`pie-${N.width}-${V}-${z}`)};return x.jsxs("div",{className:"sales-container",children:[x.jsxs("div",{className:"sales-controls",children:[x.jsxs("div",{className:"date-filters",children:[x.jsxs("div",{className:"date-filter-group",children:[x.jsx("label",{htmlFor:"start-date",className:"form__label",children:"От:"}),x.jsx("input",{id:"start-date",type:"date",value:v,onChange:I=>_(I.target.value),className:"form__input",max:w})]}),x.jsxs("div",{className:"date-filter-group",children:[x.jsx("label",{htmlFor:"end-date",className:"form__label",children:"До:"}),x.jsx("input",{id:"end-date",type:"date",value:w,onChange:I=>A(I.target.value),className:"form__input",min:v,max:new Date().toISOString().split("T")[0]})]}),x.jsx("button",{className:"button button--main",onClick:B,children:"Сбросить"})]}),x.jsxs("div",{className:"chart-mode-tabs",children:[x.jsx("button",{className:`tab tab--chart ${z==="service"?"tab--active":""}`,onClick:()=>T("service"),children:"Сервис"}),x.jsx("button",{className:`tab tab--chart ${z==="sales"?"tab--active":""}`,onClick:()=>T("sales"),children:"Только продажи"}),x.jsx("button",{className:`tab tab--chart ${z==="purchases"?"tab--active":""}`,onClick:()=>T("purchases"),children:"Только закупки"}),x.jsx("button",{className:`tab tab--chart ${z==="both"?"tab--active":""}`,onClick:()=>T("both"),children:"Оба"})]}),z!=="service"&&x.jsxs("div",{className:"chart-type-tabs",children:[x.jsx("button",{className:`tab tab--chart ${R==="line"?"tab--active":""}`,onClick:()=>O("line"),children:"Линейный"}),x.jsx("button",{className:`tab tab--chart ${R==="pie"?"tab--active":""}`,onClick:()=>O("pie"),children:"Круговой"})]})]}),P&&x.jsx("div",{className:"error",children:P}),S?x.jsx("div",{className:"loader-container",children:x.jsx("div",{className:"loader"})}):x.jsx("div",{className:"chart-container",style:{backgroundColor:V?"var(--card-bg)":"#fff",border:V?"1px solid var(--border-primary)":"none"},children:U()})]})};function f8(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const h8=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,d8=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,p8={};function _S(t,e){return(p8.jsx?d8:h8).test(t)}const m8=/[ \t\n\f\r]/g;function g8(t){return typeof t=="object"?t.type==="text"?xS(t.value):!1:xS(t)}function xS(t){return t.replace(m8,"")===""}class Yc{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Yc.prototype.normal={};Yc.prototype.property={};Yc.prototype.space=void 0;function PA(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Yc(n,r,e)}function ev(t){return t.toLowerCase()}class qr{constructor(e,n){this.attribute=n,this.property=e}}qr.prototype.attribute="";qr.prototype.booleanish=!1;qr.prototype.boolean=!1;qr.prototype.commaOrSpaceSeparated=!1;qr.prototype.commaSeparated=!1;qr.prototype.defined=!1;qr.prototype.mustUseProperty=!1;qr.prototype.number=!1;qr.prototype.overloadedBoolean=!1;qr.prototype.property="";qr.prototype.spaceSeparated=!1;qr.prototype.space=void 0;let v8=0;const Pt=wo(),Gn=wo(),tv=wo(),Ze=wo(),Dn=wo(),kl=wo(),Jr=wo();function wo(){return 2**++v8}const nv=Object.freeze(Object.defineProperty({__proto__:null,boolean:Pt,booleanish:Gn,commaOrSpaceSeparated:Jr,commaSeparated:kl,number:Ze,overloadedBoolean:tv,spaceSeparated:Dn},Symbol.toStringTag,{value:"Module"})),c0=Object.keys(nv);class ny extends qr{constructor(e,n,r,i){let a=-1;if(super(e,n),wS(this,"space",i),typeof r=="number")for(;++a<c0.length;){const o=c0[a];wS(this,c0[a],(r&nv[o])===nv[o])}}}ny.prototype.defined=!0;function wS(t,e,n){n&&(t[e]=n)}function Vl(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new ny(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[ev(r)]=r,n[ev(a.attribute)]=r}return new Yc(e,n,t.space)}const IA=Vl({properties:{ariaActiveDescendant:null,ariaAtomic:Gn,ariaAutoComplete:null,ariaBusy:Gn,ariaChecked:Gn,ariaColCount:Ze,ariaColIndex:Ze,ariaColSpan:Ze,ariaControls:Dn,ariaCurrent:null,ariaDescribedBy:Dn,ariaDetails:null,ariaDisabled:Gn,ariaDropEffect:Dn,ariaErrorMessage:null,ariaExpanded:Gn,ariaFlowTo:Dn,ariaGrabbed:Gn,ariaHasPopup:null,ariaHidden:Gn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Dn,ariaLevel:Ze,ariaLive:null,ariaModal:Gn,ariaMultiLine:Gn,ariaMultiSelectable:Gn,ariaOrientation:null,ariaOwns:Dn,ariaPlaceholder:null,ariaPosInSet:Ze,ariaPressed:Gn,ariaReadOnly:Gn,ariaRelevant:null,ariaRequired:Gn,ariaRoleDescription:Dn,ariaRowCount:Ze,ariaRowIndex:Ze,ariaRowSpan:Ze,ariaSelected:Gn,ariaSetSize:Ze,ariaSort:null,ariaValueMax:Ze,ariaValueMin:Ze,ariaValueNow:Ze,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function BA(t,e){return e in t?t[e]:e}function zA(t,e){return BA(t,e.toLowerCase())}const y8=Vl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:kl,acceptCharset:Dn,accessKey:Dn,action:null,allow:null,allowFullScreen:Pt,allowPaymentRequest:Pt,allowUserMedia:Pt,alt:null,as:null,async:Pt,autoCapitalize:null,autoComplete:Dn,autoFocus:Pt,autoPlay:Pt,blocking:Dn,capture:null,charSet:null,checked:Pt,cite:null,className:Dn,cols:Ze,colSpan:null,content:null,contentEditable:Gn,controls:Pt,controlsList:Dn,coords:Ze|kl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Pt,defer:Pt,dir:null,dirName:null,disabled:Pt,download:tv,draggable:Gn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Pt,formTarget:null,headers:Dn,height:Ze,hidden:tv,high:Ze,href:null,hrefLang:null,htmlFor:Dn,httpEquiv:Dn,id:null,imageSizes:null,imageSrcSet:null,inert:Pt,inputMode:null,integrity:null,is:null,isMap:Pt,itemId:null,itemProp:Dn,itemRef:Dn,itemScope:Pt,itemType:Dn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Pt,low:Ze,manifest:null,max:null,maxLength:Ze,media:null,method:null,min:null,minLength:Ze,multiple:Pt,muted:Pt,name:null,nonce:null,noModule:Pt,noValidate:Pt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Pt,optimum:Ze,pattern:null,ping:Dn,placeholder:null,playsInline:Pt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Pt,referrerPolicy:null,rel:Dn,required:Pt,reversed:Pt,rows:Ze,rowSpan:Ze,sandbox:Dn,scope:null,scoped:Pt,seamless:Pt,selected:Pt,shadowRootClonable:Pt,shadowRootDelegatesFocus:Pt,shadowRootMode:null,shape:null,size:Ze,sizes:null,slot:null,span:Ze,spellCheck:Gn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ze,step:null,style:null,tabIndex:Ze,target:null,title:null,translate:null,type:null,typeMustMatch:Pt,useMap:null,value:Gn,width:Ze,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Dn,axis:null,background:null,bgColor:null,border:Ze,borderColor:null,bottomMargin:Ze,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Pt,declare:Pt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ze,leftMargin:Ze,link:null,longDesc:null,lowSrc:null,marginHeight:Ze,marginWidth:Ze,noResize:Pt,noHref:Pt,noShade:Pt,noWrap:Pt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ze,rules:null,scheme:null,scrolling:Gn,standby:null,summary:null,text:null,topMargin:Ze,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ze,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Pt,disableRemotePlayback:Pt,prefix:null,property:null,results:Ze,security:null,unselectable:null},space:"html",transform:zA}),b8=Vl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Jr,accentHeight:Ze,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ze,amplitude:Ze,arabicForm:null,ascent:Ze,attributeName:null,attributeType:null,azimuth:Ze,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ze,by:null,calcMode:null,capHeight:Ze,className:Dn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ze,diffuseConstant:Ze,direction:null,display:null,dur:null,divisor:Ze,dominantBaseline:null,download:Pt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ze,enableBackground:null,end:null,event:null,exponent:Ze,externalResourcesRequired:null,fill:null,fillOpacity:Ze,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:kl,g2:kl,glyphName:kl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ze,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ze,horizOriginX:Ze,horizOriginY:Ze,id:null,ideographic:Ze,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ze,k:Ze,k1:Ze,k2:Ze,k3:Ze,k4:Ze,kernelMatrix:Jr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ze,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ze,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ze,overlineThickness:Ze,paintOrder:null,panose1:null,path:null,pathLength:Ze,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Dn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ze,pointsAtY:Ze,pointsAtZ:Ze,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Jr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Jr,rev:Jr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Jr,requiredFeatures:Jr,requiredFonts:Jr,requiredFormats:Jr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ze,specularExponent:Ze,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ze,strikethroughThickness:Ze,string:null,stroke:null,strokeDashArray:Jr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ze,strokeOpacity:Ze,strokeWidth:null,style:null,surfaceScale:Ze,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Jr,tabIndex:Ze,tableValues:null,target:null,targetX:Ze,targetY:Ze,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Jr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ze,underlineThickness:Ze,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ze,values:null,vAlphabetic:Ze,vMathematical:Ze,vectorEffect:null,vHanging:Ze,vIdeographic:Ze,version:null,vertAdvY:Ze,vertOriginX:Ze,vertOriginY:Ze,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ze,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:BA}),FA=Vl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),UA=Vl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:zA}),qA=Vl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),_8={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},x8=/[A-Z]/g,SS=/-[a-z]/g,w8=/^data[-\w.:]+$/i;function S8(t,e){const n=ev(e);let r=e,i=qr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&w8.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(SS,C8);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!SS.test(a)){let o=a.replace(x8,E8);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=ny}return new i(r,e)}function E8(t){return"-"+t.toLowerCase()}function C8(t){return t.charAt(1).toUpperCase()}const A8=PA([IA,y8,FA,UA,qA],"html"),ry=PA([IA,b8,FA,UA,qA],"svg");function T8(t){return t.join(" ").trim()}var _l={},f0,ES;function D8(){if(ES)return f0;ES=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,u=/^\s+|\s+$/g,c=`
`,f="/",d="*",p="",g="comment",v="declaration";f0=function(w,A){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];A=A||{};var S=1,L=1;function P(re){var Y=re.match(e);Y&&(S+=Y.length);var M=re.lastIndexOf(c);L=~M?re.length-M:L+re.length}function F(){var re={line:S,column:L};return function(Y){return Y.position=new R(re),T(),Y}}function R(re){this.start=re,this.end={line:S,column:L},this.source=A.source}R.prototype.content=w;function O(re){var Y=new Error(A.source+":"+S+":"+L+": "+re);if(Y.reason=re,Y.filename=A.source,Y.line=S,Y.column=L,Y.source=w,!A.silent)throw Y}function z(re){var Y=re.exec(w);if(Y){var M=Y[0];return P(M),w=w.slice(M.length),Y}}function T(){z(n)}function N(re){var Y;for(re=re||[];Y=$();)Y!==!1&&re.push(Y);return re}function $(){var re=F();if(!(f!=w.charAt(0)||d!=w.charAt(1))){for(var Y=2;p!=w.charAt(Y)&&(d!=w.charAt(Y)||f!=w.charAt(Y+1));)++Y;if(Y+=2,p===w.charAt(Y-1))return O("End of comment missing");var M=w.slice(2,Y-2);return L+=2,P(M),w=w.slice(Y),L+=2,re({type:g,comment:M})}}function V(){var re=F(),Y=z(r);if(Y){if($(),!z(i))return O("property missing ':'");var M=z(a),D=re({type:v,property:_(Y[0].replace(t,p)),value:M?_(M[0].replace(t,p)):p});return z(o),D}}function G(){var re=[];N(re);for(var Y;Y=V();)Y!==!1&&(re.push(Y),N(re));return re}return T(),G()};function _(w){return w?w.replace(u,p):p}return f0}var CS;function O8(){if(CS)return _l;CS=1;var t=_l&&_l.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_l,"__esModule",{value:!0}),_l.default=n;var e=t(D8());function n(r,i){var a=null;if(!r||typeof r!="string")return a;var o=(0,e.default)(r),u=typeof i=="function";return o.forEach(function(c){if(c.type==="declaration"){var f=c.property,d=c.value;u?i(f,d,c):d&&(a=a||{},a[f]=d)}}),a}return _l}var nc={},AS;function k8(){if(AS)return nc;AS=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(f){return!f||n.test(f)||t.test(f)},o=function(f,d){return d.toUpperCase()},u=function(f,d){return"".concat(d,"-")},c=function(f,d){return d===void 0&&(d={}),a(f)?f:(f=f.toLowerCase(),d.reactCompat?f=f.replace(i,u):f=f.replace(r,u),f.replace(e,o))};return nc.camelCase=c,nc}var rc,TS;function N8(){if(TS)return rc;TS=1;var t=rc&&rc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(O8()),n=k8();function r(i,a){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(u,c){u&&c&&(o[(0,n.camelCase)(u,a)]=c)}),o}return r.default=r,rc=r,rc}var R8=N8();const M8=ws(R8),HA=$A("end"),iy=$A("start");function $A(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function j8(t){const e=iy(t),n=HA(t);if(e&&n)return{start:e,end:n}}function Sc(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?DS(t.position):"start"in t||"end"in t?DS(t):"line"in t||"column"in t?rv(t):""}function rv(t){return OS(t&&t.line)+":"+OS(t&&t.column)}function DS(t){return rv(t&&t.start)+"-"+rv(t&&t.end)}function OS(t){return t&&typeof t=="number"?t:1}class Cr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(o=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const u=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=Sc(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Cr.prototype.file="";Cr.prototype.name="";Cr.prototype.reason="";Cr.prototype.message="";Cr.prototype.stack="";Cr.prototype.column=void 0;Cr.prototype.line=void 0;Cr.prototype.ancestors=void 0;Cr.prototype.cause=void 0;Cr.prototype.fatal=void 0;Cr.prototype.place=void 0;Cr.prototype.ruleId=void 0;Cr.prototype.source=void 0;const ay={}.hasOwnProperty,L8=new Map,P8=/[A-Z]/g,I8=new Set(["table","tbody","thead","tfoot","tr"]),B8=new Set(["td","th"]),VA="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function z8(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=X8(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Y8(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?ry:A8,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=YA(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function YA(t,e,n){if(e.type==="element")return F8(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return U8(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return H8(t,e,n);if(e.type==="mdxjsEsm")return q8(t,e);if(e.type==="root")return $8(t,e,n);if(e.type==="text")return V8(t,e)}function F8(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=ry,t.schema=i),t.ancestors.push(e);const a=GA(t,e.tagName,!1),o=G8(t,e);let u=oy(t,e);return I8.has(e.tagName)&&(u=u.filter(function(c){return typeof c=="string"?!g8(c):!0})),XA(t,o,a,e),sy(o,u),t.ancestors.pop(),t.schema=r,t.create(e,a,o,n)}function U8(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}zc(t,e.position)}function q8(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);zc(t,e.position)}function H8(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=ry,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:GA(t,e.name,!0),o=W8(t,e),u=oy(t,e);return XA(t,o,a,e),sy(o,u),t.ancestors.pop(),t.schema=r,t.create(e,a,o,n)}function $8(t,e,n){const r={};return sy(r,oy(t,e)),t.create(e,t.Fragment,r,n)}function V8(t,e){return e.value}function XA(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function sy(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Y8(t,e,n){return r;function r(i,a,o,u){const f=Array.isArray(o.children)?n:e;return u?f(a,o,u):f(a,o)}}function X8(t,e){return n;function n(r,i,a,o){const u=Array.isArray(a.children),c=iy(r);return e(i,a,o,u,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function G8(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&ay.call(e.properties,i)){const a=Z8(t,i,e.properties[i]);if(a){const[o,u]=a;t.tableCellAlignToStyle&&o==="align"&&typeof u=="string"&&B8.has(e.tagName)?r=u:n[o]=u}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function W8(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const u=o.properties[0];u.type,Object.assign(n,t.evaluater.evaluateExpression(u.argument))}else zc(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const u=r.value.data.estree.body[0];u.type,a=t.evaluater.evaluateExpression(u.expression)}else zc(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function oy(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:L8;for(;++r<e.children.length;){const a=e.children[r];let o;if(t.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const f=i.get(c)||0;o=c+"-"+f,i.set(c,f+1)}}const u=YA(t,a,o);u!==void 0&&n.push(u)}return n}function Z8(t,e,n){const r=S8(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?f8(n):T8(n)),r.property==="style"){let i=typeof n=="object"?n:K8(t,String(n));return t.stylePropertyNameCase==="css"&&(i=Q8(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?_8[r.property]||r.property:r.attribute,n]}}function K8(t,e){try{return M8(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Cr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=VA+"#cannot-parse-style-attribute",i}}function GA(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,o;for(;++a<i.length;){const u=_S(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:u,computed:!!(a&&u.type==="Literal"),optional:!1}:u}r=o}else r=_S(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return ay.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);zc(t)}function zc(t,e){const n=new Cr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=VA+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Q8(t){const e={};let n;for(n in t)ay.call(t,n)&&(e[J8(n)]=t[n]);return e}function J8(t){let e=t.replace(P8,eI);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function eI(t){return"-"+t.toLowerCase()}const h0={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},tI={};function nI(t,e){const n=tI,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return WA(t,r,i)}function WA(t,e,n){if(rI(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return kS(t.children,e,n)}return Array.isArray(t)?kS(t,e,n):""}function kS(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=WA(t[i],e,n);return r.join("")}function rI(t){return!!(t&&typeof t=="object")}const NS=document.createElement("i");function ly(t){const e="&"+t+";";NS.innerHTML=e;const n=NS.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ra(t,e,n,r){const i=t.length;let a=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(e,0),t.splice(...o),a+=1e4,e+=1e4}function vi(t,e){return t.length>0?(ra(t,t.length,0,e),t):e}const RS={}.hasOwnProperty;function iI(t){const e={};let n=-1;for(;++n<t.length;)aI(e,t[n]);return e}function aI(t,e){let n;for(n in e){const i=(RS.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let o;if(a)for(o in a){RS.call(i,o)||(i[o]=[]);const u=a[o];sI(i[o],Array.isArray(u)?u:u?[u]:[])}}}function sI(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ra(t,0,0,r)}function ZA(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Nl(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ki=Es(/[A-Za-z]/),ti=Es(/[\dA-Za-z]/),oI=Es(/[#-'*+\--9=?A-Z^-~]/);function iv(t){return t!==null&&(t<32||t===127)}const av=Es(/\d/),lI=Es(/[\dA-Fa-f]/),uI=Es(/[!-/:-@[-`{-~]/);function kt(t){return t!==null&&t<-2}function Fr(t){return t!==null&&(t<0||t===32)}function un(t){return t===-2||t===-1||t===32}const cI=Es(new RegExp("\\p{P}|\\p{S}","u")),fI=Es(/\s/);function Es(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Yl(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let o="";if(a===37&&ti(t.charCodeAt(n+1))&&ti(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const u=t.charCodeAt(n+1);a<56320&&u>56319&&u<57344?(o=String.fromCharCode(a,u),i=1):o="�"}else o=String.fromCharCode(a);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function On(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(c){return un(c)?(t.enter(n),u(c)):e(c)}function u(c){return un(c)&&a++<i?(t.consume(c),u):(t.exit(n),e(c))}}const hI={tokenize:dI};function dI(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),On(t,e,"linePrefix")}function i(u){return t.enter("paragraph"),a(u)}function a(u){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,o(u)}function o(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return kt(u)?(t.consume(u),t.exit("chunkText"),a):(t.consume(u),o)}}const pI={tokenize:mI},MS={tokenize:gI};function mI(t){const e=this,n=[];let r=0,i,a,o;return u;function u(P){if(r<n.length){const F=n[r];return e.containerState=F[1],t.attempt(F[0].continuation,c,f)(P)}return f(P)}function c(P){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&L();const F=e.events.length;let R=F,O;for(;R--;)if(e.events[R][0]==="exit"&&e.events[R][1].type==="chunkFlow"){O=e.events[R][1].end;break}S(r);let z=F;for(;z<e.events.length;)e.events[z][1].end={...O},z++;return ra(e.events,R+1,0,e.events.slice(F)),e.events.length=z,f(P)}return u(P)}function f(P){if(r===n.length){if(!i)return g(P);if(i.currentConstruct&&i.currentConstruct.concrete)return _(P);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(MS,d,p)(P)}function d(P){return i&&L(),S(r),g(P)}function p(P){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,_(P)}function g(P){return e.containerState={},t.attempt(MS,v,_)(P)}function v(P){return r++,n.push([e.currentConstruct,e.containerState]),g(P)}function _(P){if(P===null){i&&L(),S(0),t.consume(P);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),w(P)}function w(P){if(P===null){A(t.exit("chunkFlow"),!0),S(0),t.consume(P);return}return kt(P)?(t.consume(P),A(t.exit("chunkFlow")),r=0,e.interrupt=void 0,u):(t.consume(P),w)}function A(P,F){const R=e.sliceStream(P);if(F&&R.push(null),P.previous=a,a&&(a.next=P),a=P,i.defineSkip(P.start),i.write(R),e.parser.lazy[P.start.line]){let O=i.events.length;for(;O--;)if(i.events[O][1].start.offset<o&&(!i.events[O][1].end||i.events[O][1].end.offset>o))return;const z=e.events.length;let T=z,N,$;for(;T--;)if(e.events[T][0]==="exit"&&e.events[T][1].type==="chunkFlow"){if(N){$=e.events[T][1].end;break}N=!0}for(S(r),O=z;O<e.events.length;)e.events[O][1].end={...$},O++;ra(e.events,T+1,0,e.events.slice(z)),e.events.length=O}}function S(P){let F=n.length;for(;F-- >P;){const R=n[F];e.containerState=R[1],R[0].exit.call(e,t)}n.length=P}function L(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function gI(t,e,n){return On(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function jS(t){if(t===null||Fr(t)||fI(t))return 1;if(cI(t))return 2}function uy(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const sv={name:"attention",resolveAll:vI,tokenize:yI};function vI(t,e){let n=-1,r,i,a,o,u,c,f,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p={...t[r][1].end},g={...t[n][1].start};LS(p,-c),LS(g,c),o={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...t[r][1].end}},u={type:c>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:g},a={type:c>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...o.start},end:{...u.end}},t[r][1].end={...o.start},t[n][1].start={...u.end},f=[],t[r][1].end.offset-t[r][1].start.offset&&(f=vi(f,[["enter",t[r][1],e],["exit",t[r][1],e]])),f=vi(f,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",a,e]]),f=vi(f,uy(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),f=vi(f,[["exit",a,e],["enter",u,e],["exit",u,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,f=vi(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,ra(t,r-1,n-r+3,f),n=r+f.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function yI(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=jS(r);let a;return o;function o(c){return a=c,t.enter("attentionSequence"),u(c)}function u(c){if(c===a)return t.consume(c),u;const f=t.exit("attentionSequence"),d=jS(c),p=!d||d===2&&i||n.includes(c),g=!i||i===2&&d||n.includes(r);return f._open=!!(a===42?p:p&&(i||!g)),f._close=!!(a===42?g:g&&(d||!p)),e(c)}}function LS(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const bI={name:"autolink",tokenize:_I};function _I(t,e,n){let r=0;return i;function i(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(v){return Ki(v)?(t.consume(v),o):v===64?n(v):f(v)}function o(v){return v===43||v===45||v===46||ti(v)?(r=1,u(v)):f(v)}function u(v){return v===58?(t.consume(v),r=0,c):(v===43||v===45||v===46||ti(v))&&r++<32?(t.consume(v),u):(r=0,f(v))}function c(v){return v===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):v===null||v===32||v===60||iv(v)?n(v):(t.consume(v),c)}function f(v){return v===64?(t.consume(v),d):oI(v)?(t.consume(v),f):n(v)}function d(v){return ti(v)?p(v):n(v)}function p(v){return v===46?(t.consume(v),r=0,d):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):g(v)}function g(v){if((v===45||ti(v))&&r++<63){const _=v===45?g:p;return t.consume(v),_}return n(v)}}const Md={partial:!0,tokenize:xI};function xI(t,e,n){return r;function r(a){return un(a)?On(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||kt(a)?e(a):n(a)}}const KA={continuation:{tokenize:SI},exit:EI,name:"blockQuote",tokenize:wI};function wI(t,e,n){const r=this;return i;function i(o){if(o===62){const u=r.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),a}return n(o)}function a(o){return un(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function SI(t,e,n){const r=this;return i;function i(o){return un(o)?On(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return t.attempt(KA,e,n)(o)}}function EI(t){t.exit("blockQuote")}const QA={name:"characterEscape",tokenize:CI};function CI(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return uI(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const JA={name:"characterReference",tokenize:AI};function AI(t,e,n){const r=this;let i=0,a,o;return u;function u(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),c}function c(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),a=31,o=ti,d(p))}function f(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,o=lI,d):(t.enter("characterReferenceValue"),a=7,o=av,d(p))}function d(p){if(p===59&&i){const g=t.exit("characterReferenceValue");return o===ti&&!ly(r.sliceSerialize(g))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(p)&&i++<a?(t.consume(p),d):n(p)}}const PS={partial:!0,tokenize:DI},IS={concrete:!0,name:"codeFenced",tokenize:TI};function TI(t,e,n){const r=this,i={partial:!0,tokenize:R};let a=0,o=0,u;return c;function c(O){return f(O)}function f(O){const z=r.events[r.events.length-1];return a=z&&z[1].type==="linePrefix"?z[2].sliceSerialize(z[1],!0).length:0,u=O,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(O)}function d(O){return O===u?(o++,t.consume(O),d):o<3?n(O):(t.exit("codeFencedFenceSequence"),un(O)?On(t,p,"whitespace")(O):p(O))}function p(O){return O===null||kt(O)?(t.exit("codeFencedFence"),r.interrupt?e(O):t.check(PS,w,F)(O)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g(O))}function g(O){return O===null||kt(O)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(O)):un(O)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),On(t,v,"whitespace")(O)):O===96&&O===u?n(O):(t.consume(O),g)}function v(O){return O===null||kt(O)?p(O):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),_(O))}function _(O){return O===null||kt(O)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(O)):O===96&&O===u?n(O):(t.consume(O),_)}function w(O){return t.attempt(i,F,A)(O)}function A(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),S}function S(O){return a>0&&un(O)?On(t,L,"linePrefix",a+1)(O):L(O)}function L(O){return O===null||kt(O)?t.check(PS,w,F)(O):(t.enter("codeFlowValue"),P(O))}function P(O){return O===null||kt(O)?(t.exit("codeFlowValue"),L(O)):(t.consume(O),P)}function F(O){return t.exit("codeFenced"),e(O)}function R(O,z,T){let N=0;return $;function $(M){return O.enter("lineEnding"),O.consume(M),O.exit("lineEnding"),V}function V(M){return O.enter("codeFencedFence"),un(M)?On(O,G,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):G(M)}function G(M){return M===u?(O.enter("codeFencedFenceSequence"),re(M)):T(M)}function re(M){return M===u?(N++,O.consume(M),re):N>=o?(O.exit("codeFencedFenceSequence"),un(M)?On(O,Y,"whitespace")(M):Y(M)):T(M)}function Y(M){return M===null||kt(M)?(O.exit("codeFencedFence"),z(M)):T(M)}}}function DI(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const d0={name:"codeIndented",tokenize:kI},OI={partial:!0,tokenize:NI};function kI(t,e,n){const r=this;return i;function i(f){return t.enter("codeIndented"),On(t,a,"linePrefix",5)(f)}function a(f){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(f):n(f)}function o(f){return f===null?c(f):kt(f)?t.attempt(OI,o,c)(f):(t.enter("codeFlowValue"),u(f))}function u(f){return f===null||kt(f)?(t.exit("codeFlowValue"),o(f)):(t.consume(f),u)}function c(f){return t.exit("codeIndented"),e(f)}}function NI(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):kt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):On(t,a,"linePrefix",5)(o)}function a(o){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(o):kt(o)?i(o):n(o)}}const RI={name:"codeText",previous:jI,resolve:MI,tokenize:LI};function MI(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function jI(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function LI(t,e,n){let r=0,i,a;return o;function o(p){return t.enter("codeText"),t.enter("codeTextSequence"),u(p)}function u(p){return p===96?(t.consume(p),r++,u):(t.exit("codeTextSequence"),c(p))}function c(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),c):p===96?(a=t.enter("codeTextSequence"),i=0,d(p)):kt(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),c):(t.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||kt(p)?(t.exit("codeTextData"),c(p)):(t.consume(p),f)}function d(p){return p===96?(t.consume(p),i++,d):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(a.type="codeTextData",f(p))}}class PI{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ic(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ic(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ic(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);ic(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ic(this.left,n.reverse())}}}function ic(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function eT(t){const e={};let n=-1,r,i,a,o,u,c,f;const d=new PI(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,II(d,n)),n=e[n],f=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=d.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},u=d.slice(i,n),u.unshift(r),d.splice(i,n-i+1,u))}}return ra(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!f}function II(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const u=o.events,c=[],f={};let d,p,g=-1,v=n,_=0,w=0;const A=[w];for(;v;){for(;t.get(++i)[1]!==v;);a.push(i),v._tokenizer||(d=r.sliceStream(v),v.next||d.push(null),p&&o.defineSkip(v.start),v._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),v._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=v,v=v.next}for(v=n;++g<u.length;)u[g][0]==="exit"&&u[g-1][0]==="enter"&&u[g][1].type===u[g-1][1].type&&u[g][1].start.line!==u[g][1].end.line&&(w=g+1,A.push(w),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(o.events=[],v?(v._tokenizer=void 0,v.previous=void 0):A.pop(),g=A.length;g--;){const S=u.slice(A[g],A[g+1]),L=a.pop();c.push([L,L+S.length-1]),t.splice(L,2,S)}for(c.reverse(),g=-1;++g<c.length;)f[_+c[g][0]]=_+c[g][1],_+=c[g][1]-c[g][0]-1;return f}const BI={resolve:FI,tokenize:UI},zI={partial:!0,tokenize:qI};function FI(t){return eT(t),t}function UI(t,e){let n;return r;function r(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?a(u):kt(u)?t.check(zI,o,a)(u):(t.consume(u),i)}function a(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function o(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function qI(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),On(t,a,"linePrefix")}function a(o){if(o===null||kt(o))return n(o);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function tT(t,e,n,r,i,a,o,u,c){const f=c||Number.POSITIVE_INFINITY;let d=0;return p;function p(S){return S===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(S),t.exit(a),g):S===null||S===32||S===41||iv(S)?n(S):(t.enter(r),t.enter(o),t.enter(u),t.enter("chunkString",{contentType:"string"}),w(S))}function g(S){return S===62?(t.enter(a),t.consume(S),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),v(S))}function v(S){return S===62?(t.exit("chunkString"),t.exit(u),g(S)):S===null||S===60||kt(S)?n(S):(t.consume(S),S===92?_:v)}function _(S){return S===60||S===62||S===92?(t.consume(S),v):v(S)}function w(S){return!d&&(S===null||S===41||Fr(S))?(t.exit("chunkString"),t.exit(u),t.exit(o),t.exit(r),e(S)):d<f&&S===40?(t.consume(S),d++,w):S===41?(t.consume(S),d--,w):S===null||S===32||S===40||iv(S)?n(S):(t.consume(S),S===92?A:w)}function A(S){return S===40||S===41||S===92?(t.consume(S),w):w(S)}}function nT(t,e,n,r,i,a){const o=this;let u=0,c;return f;function f(v){return t.enter(r),t.enter(i),t.consume(v),t.exit(i),t.enter(a),d}function d(v){return u>999||v===null||v===91||v===93&&!c||v===94&&!u&&"_hiddenFootnoteSupport"in o.parser.constructs?n(v):v===93?(t.exit(a),t.enter(i),t.consume(v),t.exit(i),t.exit(r),e):kt(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===null||v===91||v===93||kt(v)||u++>999?(t.exit("chunkString"),d(v)):(t.consume(v),c||(c=!un(v)),v===92?g:p)}function g(v){return v===91||v===92||v===93?(t.consume(v),u++,p):p(v)}}function rT(t,e,n,r,i,a){let o;return u;function u(g){return g===34||g===39||g===40?(t.enter(r),t.enter(i),t.consume(g),t.exit(i),o=g===40?41:g,c):n(g)}function c(g){return g===o?(t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):(t.enter(a),f(g))}function f(g){return g===o?(t.exit(a),c(o)):g===null?n(g):kt(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),On(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===o||g===null||kt(g)?(t.exit("chunkString"),f(g)):(t.consume(g),g===92?p:d)}function p(g){return g===o||g===92?(t.consume(g),d):d(g)}}function Ec(t,e){let n;return r;function r(i){return kt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):un(i)?On(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const HI={name:"definition",tokenize:VI},$I={partial:!0,tokenize:YI};function VI(t,e,n){const r=this;let i;return a;function a(v){return t.enter("definition"),o(v)}function o(v){return nT.call(r,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function u(v){return i=Nl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),c):n(v)}function c(v){return Fr(v)?Ec(t,f)(v):f(v)}function f(v){return tT(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function d(v){return t.attempt($I,p,p)(v)}function p(v){return un(v)?On(t,g,"whitespace")(v):g(v)}function g(v){return v===null||kt(v)?(t.exit("definition"),r.parser.defined.push(i),e(v)):n(v)}}function YI(t,e,n){return r;function r(u){return Fr(u)?Ec(t,i)(u):n(u)}function i(u){return rT(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function a(u){return un(u)?On(t,o,"whitespace")(u):o(u)}function o(u){return u===null||kt(u)?e(u):n(u)}}const XI={name:"hardBreakEscape",tokenize:GI};function GI(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return kt(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const WI={name:"headingAtx",resolve:ZI,tokenize:KI};function ZI(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ra(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function KI(t,e,n){let r=0;return i;function i(d){return t.enter("atxHeading"),a(d)}function a(d){return t.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(t.consume(d),o):d===null||Fr(d)?(t.exit("atxHeadingSequence"),u(d)):n(d)}function u(d){return d===35?(t.enter("atxHeadingSequence"),c(d)):d===null||kt(d)?(t.exit("atxHeading"),e(d)):un(d)?On(t,u,"whitespace")(d):(t.enter("atxHeadingText"),f(d))}function c(d){return d===35?(t.consume(d),c):(t.exit("atxHeadingSequence"),u(d))}function f(d){return d===null||d===35||Fr(d)?(t.exit("atxHeadingText"),u(d)):(t.consume(d),f)}}const QI=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],BS=["pre","script","style","textarea"],JI={concrete:!0,name:"htmlFlow",resolveTo:nB,tokenize:rB},eB={partial:!0,tokenize:aB},tB={partial:!0,tokenize:iB};function nB(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function rB(t,e,n){const r=this;let i,a,o,u,c;return f;function f(B){return d(B)}function d(B){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(B),p}function p(B){return B===33?(t.consume(B),g):B===47?(t.consume(B),a=!0,w):B===63?(t.consume(B),i=3,r.interrupt?e:k):Ki(B)?(t.consume(B),o=String.fromCharCode(B),A):n(B)}function g(B){return B===45?(t.consume(B),i=2,v):B===91?(t.consume(B),i=5,u=0,_):Ki(B)?(t.consume(B),i=4,r.interrupt?e:k):n(B)}function v(B){return B===45?(t.consume(B),r.interrupt?e:k):n(B)}function _(B){const U="CDATA[";return B===U.charCodeAt(u++)?(t.consume(B),u===U.length?r.interrupt?e:G:_):n(B)}function w(B){return Ki(B)?(t.consume(B),o=String.fromCharCode(B),A):n(B)}function A(B){if(B===null||B===47||B===62||Fr(B)){const U=B===47,I=o.toLowerCase();return!U&&!a&&BS.includes(I)?(i=1,r.interrupt?e(B):G(B)):QI.includes(o.toLowerCase())?(i=6,U?(t.consume(B),S):r.interrupt?e(B):G(B)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(B):a?L(B):P(B))}return B===45||ti(B)?(t.consume(B),o+=String.fromCharCode(B),A):n(B)}function S(B){return B===62?(t.consume(B),r.interrupt?e:G):n(B)}function L(B){return un(B)?(t.consume(B),L):$(B)}function P(B){return B===47?(t.consume(B),$):B===58||B===95||Ki(B)?(t.consume(B),F):un(B)?(t.consume(B),P):$(B)}function F(B){return B===45||B===46||B===58||B===95||ti(B)?(t.consume(B),F):R(B)}function R(B){return B===61?(t.consume(B),O):un(B)?(t.consume(B),R):P(B)}function O(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(t.consume(B),c=B,z):un(B)?(t.consume(B),O):T(B)}function z(B){return B===c?(t.consume(B),c=null,N):B===null||kt(B)?n(B):(t.consume(B),z)}function T(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||Fr(B)?R(B):(t.consume(B),T)}function N(B){return B===47||B===62||un(B)?P(B):n(B)}function $(B){return B===62?(t.consume(B),V):n(B)}function V(B){return B===null||kt(B)?G(B):un(B)?(t.consume(B),V):n(B)}function G(B){return B===45&&i===2?(t.consume(B),D):B===60&&i===1?(t.consume(B),j):B===62&&i===4?(t.consume(B),le):B===63&&i===3?(t.consume(B),k):B===93&&i===5?(t.consume(B),ne):kt(B)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(eB,se,re)(B)):B===null||kt(B)?(t.exit("htmlFlowData"),re(B)):(t.consume(B),G)}function re(B){return t.check(tB,Y,se)(B)}function Y(B){return t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),M}function M(B){return B===null||kt(B)?re(B):(t.enter("htmlFlowData"),G(B))}function D(B){return B===45?(t.consume(B),k):G(B)}function j(B){return B===47?(t.consume(B),o="",Z):G(B)}function Z(B){if(B===62){const U=o.toLowerCase();return BS.includes(U)?(t.consume(B),le):G(B)}return Ki(B)&&o.length<8?(t.consume(B),o+=String.fromCharCode(B),Z):G(B)}function ne(B){return B===93?(t.consume(B),k):G(B)}function k(B){return B===62?(t.consume(B),le):B===45&&i===2?(t.consume(B),k):G(B)}function le(B){return B===null||kt(B)?(t.exit("htmlFlowData"),se(B)):(t.consume(B),le)}function se(B){return t.exit("htmlFlow"),e(B)}}function iB(t,e,n){const r=this;return i;function i(o){return kt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function aB(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Md,e,n)}}const sB={name:"htmlText",tokenize:oB};function oB(t,e,n){const r=this;let i,a,o;return u;function u(k){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(k),c}function c(k){return k===33?(t.consume(k),f):k===47?(t.consume(k),R):k===63?(t.consume(k),P):Ki(k)?(t.consume(k),T):n(k)}function f(k){return k===45?(t.consume(k),d):k===91?(t.consume(k),a=0,_):Ki(k)?(t.consume(k),L):n(k)}function d(k){return k===45?(t.consume(k),v):n(k)}function p(k){return k===null?n(k):k===45?(t.consume(k),g):kt(k)?(o=p,j(k)):(t.consume(k),p)}function g(k){return k===45?(t.consume(k),v):p(k)}function v(k){return k===62?D(k):k===45?g(k):p(k)}function _(k){const le="CDATA[";return k===le.charCodeAt(a++)?(t.consume(k),a===le.length?w:_):n(k)}function w(k){return k===null?n(k):k===93?(t.consume(k),A):kt(k)?(o=w,j(k)):(t.consume(k),w)}function A(k){return k===93?(t.consume(k),S):w(k)}function S(k){return k===62?D(k):k===93?(t.consume(k),S):w(k)}function L(k){return k===null||k===62?D(k):kt(k)?(o=L,j(k)):(t.consume(k),L)}function P(k){return k===null?n(k):k===63?(t.consume(k),F):kt(k)?(o=P,j(k)):(t.consume(k),P)}function F(k){return k===62?D(k):P(k)}function R(k){return Ki(k)?(t.consume(k),O):n(k)}function O(k){return k===45||ti(k)?(t.consume(k),O):z(k)}function z(k){return kt(k)?(o=z,j(k)):un(k)?(t.consume(k),z):D(k)}function T(k){return k===45||ti(k)?(t.consume(k),T):k===47||k===62||Fr(k)?N(k):n(k)}function N(k){return k===47?(t.consume(k),D):k===58||k===95||Ki(k)?(t.consume(k),$):kt(k)?(o=N,j(k)):un(k)?(t.consume(k),N):D(k)}function $(k){return k===45||k===46||k===58||k===95||ti(k)?(t.consume(k),$):V(k)}function V(k){return k===61?(t.consume(k),G):kt(k)?(o=V,j(k)):un(k)?(t.consume(k),V):N(k)}function G(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),i=k,re):kt(k)?(o=G,j(k)):un(k)?(t.consume(k),G):(t.consume(k),Y)}function re(k){return k===i?(t.consume(k),i=void 0,M):k===null?n(k):kt(k)?(o=re,j(k)):(t.consume(k),re)}function Y(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Fr(k)?N(k):(t.consume(k),Y)}function M(k){return k===47||k===62||Fr(k)?N(k):n(k)}function D(k){return k===62?(t.consume(k),t.exit("htmlTextData"),t.exit("htmlText"),e):n(k)}function j(k){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),Z}function Z(k){return un(k)?On(t,ne,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):ne(k)}function ne(k){return t.enter("htmlTextData"),o(k)}}const cy={name:"labelEnd",resolveAll:fB,resolveTo:hB,tokenize:dB},lB={tokenize:pB},uB={tokenize:mB},cB={tokenize:gB};function fB(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&ra(t,0,t.length,n),t}function hB(t,e){let n=t.length,r=0,i,a,o,u;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const c={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},f={type:"label",start:{...t[a][1].start},end:{...t[o][1].end}},d={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[o-2][1].start}};return u=[["enter",c,e],["enter",f,e]],u=vi(u,t.slice(a+1,a+r+3)),u=vi(u,[["enter",d,e]]),u=vi(u,uy(e.parser.constructs.insideSpan.null,t.slice(a+r+4,o-3),e)),u=vi(u,[["exit",d,e],t[o-2],t[o-1],["exit",f,e]]),u=vi(u,t.slice(o+1)),u=vi(u,[["exit",c,e]]),ra(t,a,t.length,u),t}function dB(t,e,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return u;function u(g){return a?a._inactive?p(g):(o=r.parser.defined.includes(Nl(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),c):n(g)}function c(g){return g===40?t.attempt(lB,d,o?d:p)(g):g===91?t.attempt(uB,d,o?f:p)(g):o?d(g):p(g)}function f(g){return t.attempt(cB,d,p)(g)}function d(g){return e(g)}function p(g){return a._balanced=!0,n(g)}}function pB(t,e,n){return r;function r(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return Fr(p)?Ec(t,a)(p):a(p)}function a(p){return p===41?d(p):tT(t,o,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return Fr(p)?Ec(t,c)(p):d(p)}function u(p){return n(p)}function c(p){return p===34||p===39||p===40?rT(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):d(p)}function f(p){return Fr(p)?Ec(t,d)(p):d(p)}function d(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function mB(t,e,n){const r=this;return i;function i(u){return nT.call(r,t,a,o,"reference","referenceMarker","referenceString")(u)}function a(u){return r.parser.defined.includes(Nl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function o(u){return n(u)}}function gB(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const vB={name:"labelStartImage",resolveAll:cy.resolveAll,tokenize:yB};function yB(t,e,n){const r=this;return i;function i(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),a}function a(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),o):n(u)}function o(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const bB={name:"labelStartLink",resolveAll:cy.resolveAll,tokenize:_B};function _B(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const p0={name:"lineEnding",tokenize:xB};function xB(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),On(t,e,"linePrefix")}}const Gh={name:"thematicBreak",tokenize:wB};function wB(t,e,n){let r=0,i;return a;function a(f){return t.enter("thematicBreak"),o(f)}function o(f){return i=f,u(f)}function u(f){return f===i?(t.enter("thematicBreakSequence"),c(f)):r>=3&&(f===null||kt(f))?(t.exit("thematicBreak"),e(f)):n(f)}function c(f){return f===i?(t.consume(f),r++,c):(t.exit("thematicBreakSequence"),un(f)?On(t,u,"whitespace")(f):u(f))}}const Ir={continuation:{tokenize:AB},exit:DB,name:"list",tokenize:CB},SB={partial:!0,tokenize:OB},EB={partial:!0,tokenize:TB};function CB(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return u;function u(v){const _=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:av(v)){if(r.containerState.type||(r.containerState.type=_,t.enter(_,{_container:!0})),_==="listUnordered")return t.enter("listItemPrefix"),v===42||v===45?t.check(Gh,n,f)(v):f(v);if(!r.interrupt||v===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(v)}return n(v)}function c(v){return av(v)&&++o<10?(t.consume(v),c):(!r.interrupt||o<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(t.exit("listItemValue"),f(v)):n(v)}function f(v){return t.enter("listItemMarker"),t.consume(v),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,t.check(Md,r.interrupt?n:d,t.attempt(SB,g,p))}function d(v){return r.containerState.initialBlankLine=!0,a++,g(v)}function p(v){return un(v)?(t.enter("listItemPrefixWhitespace"),t.consume(v),t.exit("listItemPrefixWhitespace"),g):n(v)}function g(v){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(v)}}function AB(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Md,i,a);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,On(t,e,"listItemIndent",r.containerState.size+1)(u)}function a(u){return r.containerState.furtherBlankLines||!un(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(EB,e,o)(u))}function o(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,On(t,t.attempt(Ir,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function TB(t,e,n){const r=this;return On(t,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(a):n(a)}}function DB(t){t.exit(this.containerState.type)}function OB(t,e,n){const r=this;return On(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!un(a)&&o&&o[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const zS={name:"setextUnderline",resolveTo:kB,tokenize:NB};function kB(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",o,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function NB(t,e,n){const r=this;let i;return a;function a(f){let d=r.events.length,p;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){p=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(t.enter("setextHeadingLine"),i=f,o(f)):n(f)}function o(f){return t.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===i?(t.consume(f),u):(t.exit("setextHeadingLineSequence"),un(f)?On(t,c,"lineSuffix")(f):c(f))}function c(f){return f===null||kt(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const RB={tokenize:MB};function MB(t){const e=this,n=t.attempt(Md,r,t.attempt(this.parser.constructs.flowInitial,i,On(t,t.attempt(this.parser.constructs.flow,i,t.attempt(BI,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const jB={resolveAll:aT()},LB=iT("string"),PB=iT("text");function iT(t){return{resolveAll:aT(t==="text"?IB:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,o,u);return o;function o(d){return f(d)?a(d):u(d)}function u(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return f(d)?(n.exit("data"),a(d)):(n.consume(d),c)}function f(d){if(d===null)return!0;const p=i[d];let g=-1;if(p)for(;++g<p.length;){const v=p[g];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function aT(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function IB(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,o=-1,u=0,c;for(;a--;){const f=i[a];if(typeof f=="string"){for(o=f.length;f.charCodeAt(o-1)===32;)u++,o--;if(o)break;o=-1}else if(f===-2)c=!0,u++;else if(f!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(u=0),u){const f={type:n===t.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}const BB={42:Ir,43:Ir,45:Ir,48:Ir,49:Ir,50:Ir,51:Ir,52:Ir,53:Ir,54:Ir,55:Ir,56:Ir,57:Ir,62:KA},zB={91:HI},FB={[-2]:d0,[-1]:d0,32:d0},UB={35:WI,42:Gh,45:[zS,Gh],60:JI,61:zS,95:Gh,96:IS,126:IS},qB={38:JA,92:QA},HB={[-5]:p0,[-4]:p0,[-3]:p0,33:vB,38:JA,42:sv,60:[bI,sB],91:bB,92:[XI,QA],93:cy,95:sv,96:RI},$B={null:[sv,jB]},VB={null:[42,95]},YB={null:[]},XB=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:VB,contentInitial:zB,disable:YB,document:BB,flow:UB,flowInitial:FB,insideSpan:$B,string:qB,text:HB},Symbol.toStringTag,{value:"Module"}));function GB(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],u=[];const c={attempt:z(R),check:z(O),consume:L,enter:P,exit:F,interrupt:z(O,{interrupt:!0})},f={code:null,containerState:{},defineSkip:w,events:[],now:_,parser:t,previous:null,sliceSerialize:g,sliceStream:v,write:p};let d=e.tokenize.call(f,c);return e.resolveAll&&a.push(e),f;function p(V){return o=vi(o,V),A(),o[o.length-1]!==null?[]:(T(e,0),f.events=uy(a,f.events,f),f.events)}function g(V,G){return ZB(v(V),G)}function v(V){return WB(o,V)}function _(){const{_bufferIndex:V,_index:G,line:re,column:Y,offset:M}=r;return{_bufferIndex:V,_index:G,line:re,column:Y,offset:M}}function w(V){i[V.line]=V.column,$()}function A(){let V;for(;r._index<o.length;){const G=o[r._index];if(typeof G=="string")for(V=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===V&&r._bufferIndex<G.length;)S(G.charCodeAt(r._bufferIndex));else S(G)}}function S(V){d=d(V)}function L(V){kt(V)?(r.line++,r.column=1,r.offset+=V===-3?2:1,$()):V!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=V}function P(V,G){const re=G||{};return re.type=V,re.start=_(),f.events.push(["enter",re,f]),u.push(re),re}function F(V){const G=u.pop();return G.end=_(),f.events.push(["exit",G,f]),G}function R(V,G){T(V,G.from)}function O(V,G){G.restore()}function z(V,G){return re;function re(Y,M,D){let j,Z,ne,k;return Array.isArray(Y)?se(Y):"tokenize"in Y?se([Y]):le(Y);function le(W){return ae;function ae(oe){const pe=oe!==null&&W[oe],De=oe!==null&&W.null,de=[...Array.isArray(pe)?pe:pe?[pe]:[],...Array.isArray(De)?De:De?[De]:[]];return se(de)(oe)}}function se(W){return j=W,Z=0,W.length===0?D:B(W[Z])}function B(W){return ae;function ae(oe){return k=N(),ne=W,W.partial||(f.currentConstruct=W),W.name&&f.parser.constructs.disable.null.includes(W.name)?I():W.tokenize.call(G?Object.assign(Object.create(f),G):f,c,U,I)(oe)}}function U(W){return V(ne,k),M}function I(W){return k.restore(),++Z<j.length?B(j[Z]):D}}}function T(V,G){V.resolveAll&&!a.includes(V)&&a.push(V),V.resolve&&ra(f.events,G,f.events.length-G,V.resolve(f.events.slice(G),f)),V.resolveTo&&(f.events=V.resolveTo(f.events,f))}function N(){const V=_(),G=f.previous,re=f.currentConstruct,Y=f.events.length,M=Array.from(u);return{from:Y,restore:D};function D(){r=V,f.previous=G,f.currentConstruct=re,f.events.length=Y,u=M,$()}}function $(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function WB(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,a)];else{if(o=t.slice(n,i),r>-1){const u=o[0];typeof u=="string"?o[0]=u.slice(r):o.shift()}a>0&&o.push(t[i].slice(0,a))}return o}function ZB(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function KB(t){const r={constructs:iI([XB,...(t||{}).extensions||[]]),content:i(hI),defined:[],document:i(pI),flow:i(RB),lazy:{},string:i(LB),text:i(PB)};return r;function i(a){return o;function o(u){return GB(r,a,u)}}}function QB(t){for(;!eT(t););return t}const FS=/[\0\t\n\r]/g;function JB(){let t=1,e="",n=!0,r;return i;function i(a,o,u){const c=[];let f,d,p,g,v;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),p=0,e="",n&&(a.charCodeAt(0)===65279&&p++,n=void 0);p<a.length;){if(FS.lastIndex=p,f=FS.exec(a),g=f&&f.index!==void 0?f.index:a.length,v=a.charCodeAt(g),!f){e=a.slice(p);break}if(v===10&&p===g&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),p<g&&(c.push(a.slice(p,g)),t+=g-p),v){case 0:{c.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,c.push(-2);t++<d;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:r=!0,t=1}p=g+1}return u&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}const ez=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function tz(t){return t.replace(ez,nz)}function nz(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return ZA(n.slice(a?2:1),a?16:10)}return ly(n)||t}const sT={}.hasOwnProperty;function rz(t,e,n){return typeof e!="string"&&(n=e,e=void 0),iz(n)(QB(KB(n).document().write(JB()(t,e,!0))))}function iz(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(H),autolinkProtocol:N,autolinkEmail:N,atxHeading:a(ce),blockQuote:a(De),characterEscape:N,characterReference:N,codeFenced:a(de),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(de,o),codeText:a(he,o),codeTextData:N,data:N,codeFlowValue:N,definition:a(Te),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(fe),hardBreakEscape:a(ve),hardBreakTrailing:a(ve),htmlFlow:a(Se,o),htmlFlowData:N,htmlText:a(Se,o),htmlTextData:N,image:a(we),label:o,link:a(H),listItem:a(ee),listItemValue:g,listOrdered:a(X,p),listUnordered:a(X),paragraph:a(te),reference:B,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(ce),strong:a(ge),thematicBreak:a(xe)},exit:{atxHeading:c(),atxHeadingSequence:R,autolink:c(),autolinkEmail:pe,autolinkProtocol:oe,blockQuote:c(),characterEscapeValue:$,characterReferenceMarkerHexadecimal:I,characterReferenceMarkerNumeric:I,characterReferenceValue:W,characterReference:ae,codeFenced:c(A),codeFencedFence:w,codeFencedFenceInfo:v,codeFencedFenceMeta:_,codeFlowValue:$,codeIndented:c(S),codeText:c(M),codeTextData:$,data:$,definition:c(),definitionDestinationString:F,definitionLabelString:L,definitionTitleString:P,emphasis:c(),hardBreakEscape:c(G),hardBreakTrailing:c(G),htmlFlow:c(re),htmlFlowData:$,htmlText:c(Y),htmlTextData:$,image:c(j),label:ne,labelText:Z,lineEnding:V,link:c(D),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:U,resourceDestinationString:k,resourceTitleString:le,resource:se,setextHeading:c(T),setextHeadingLineSequence:z,setextHeadingText:O,strong:c(),thematicBreak:c()}};oT(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(me){let Ee={type:"root",children:[]};const je={stack:[Ee],tokenStack:[],config:e,enter:u,exit:f,buffer:o,resume:d,data:n},Pe=[];let qe=-1;for(;++qe<me.length;)if(me[qe][1].type==="listOrdered"||me[qe][1].type==="listUnordered")if(me[qe][0]==="enter")Pe.push(qe);else{const We=Pe.pop();qe=i(me,We,qe)}for(qe=-1;++qe<me.length;){const We=e[me[qe][0]];sT.call(We,me[qe][1].type)&&We[me[qe][1].type].call(Object.assign({sliceSerialize:me[qe][2].sliceSerialize},je),me[qe][1])}if(je.tokenStack.length>0){const We=je.tokenStack[je.tokenStack.length-1];(We[1]||US).call(je,void 0,We[0])}for(Ee.position={start:ls(me.length>0?me[0][1].start:{line:1,column:1,offset:0}),end:ls(me.length>0?me[me.length-2][1].end:{line:1,column:1,offset:0})},qe=-1;++qe<e.transforms.length;)Ee=e.transforms[qe](Ee)||Ee;return Ee}function i(me,Ee,je){let Pe=Ee-1,qe=-1,We=!1,Ke,Qe,at,xt;for(;++Pe<=je;){const bt=me[Pe];switch(bt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{bt[0]==="enter"?qe++:qe--,xt=void 0;break}case"lineEndingBlank":{bt[0]==="enter"&&(Ke&&!xt&&!qe&&!at&&(at=Pe),xt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:xt=void 0}if(!qe&&bt[0]==="enter"&&bt[1].type==="listItemPrefix"||qe===-1&&bt[0]==="exit"&&(bt[1].type==="listUnordered"||bt[1].type==="listOrdered")){if(Ke){let gt=Pe;for(Qe=void 0;gt--;){const Rt=me[gt];if(Rt[1].type==="lineEnding"||Rt[1].type==="lineEndingBlank"){if(Rt[0]==="exit")continue;Qe&&(me[Qe][1].type="lineEndingBlank",We=!0),Rt[1].type="lineEnding",Qe=gt}else if(!(Rt[1].type==="linePrefix"||Rt[1].type==="blockQuotePrefix"||Rt[1].type==="blockQuotePrefixWhitespace"||Rt[1].type==="blockQuoteMarker"||Rt[1].type==="listItemIndent"))break}at&&(!Qe||at<Qe)&&(Ke._spread=!0),Ke.end=Object.assign({},Qe?me[Qe][1].start:bt[1].end),me.splice(Qe||Pe,0,["exit",Ke,bt[2]]),Pe++,je++}if(bt[1].type==="listItemPrefix"){const gt={type:"listItem",_spread:!1,start:Object.assign({},bt[1].start),end:void 0};Ke=gt,me.splice(Pe,0,["enter",gt,bt[2]]),Pe++,je++,at=void 0,xt=!0}}}return me[Ee][1]._spread=We,je}function a(me,Ee){return je;function je(Pe){u.call(this,me(Pe),Pe),Ee&&Ee.call(this,Pe)}}function o(){this.stack.push({type:"fragment",children:[]})}function u(me,Ee,je){this.stack[this.stack.length-1].children.push(me),this.stack.push(me),this.tokenStack.push([Ee,je||void 0]),me.position={start:ls(Ee.start),end:void 0}}function c(me){return Ee;function Ee(je){me&&me.call(this,je),f.call(this,je)}}function f(me,Ee){const je=this.stack.pop(),Pe=this.tokenStack.pop();if(Pe)Pe[0].type!==me.type&&(Ee?Ee.call(this,me,Pe[0]):(Pe[1]||US).call(this,me,Pe[0]));else throw new Error("Cannot close `"+me.type+"` ("+Sc({start:me.start,end:me.end})+"): it’s not open");je.position.end=ls(me.end)}function d(){return nI(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(me){if(this.data.expectingFirstListItemValue){const Ee=this.stack[this.stack.length-2];Ee.start=Number.parseInt(this.sliceSerialize(me),10),this.data.expectingFirstListItemValue=void 0}}function v(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.lang=me}function _(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.meta=me}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function A(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=me.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=me.replace(/(\r?\n|\r)$/g,"")}function L(me){const Ee=this.resume(),je=this.stack[this.stack.length-1];je.label=Ee,je.identifier=Nl(this.sliceSerialize(me)).toLowerCase()}function P(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=me}function F(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=me}function R(me){const Ee=this.stack[this.stack.length-1];if(!Ee.depth){const je=this.sliceSerialize(me).length;Ee.depth=je}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function z(me){const Ee=this.stack[this.stack.length-1];Ee.depth=this.sliceSerialize(me).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function N(me){const je=this.stack[this.stack.length-1].children;let Pe=je[je.length-1];(!Pe||Pe.type!=="text")&&(Pe=Re(),Pe.position={start:ls(me.start),end:void 0},je.push(Pe)),this.stack.push(Pe)}function $(me){const Ee=this.stack.pop();Ee.value+=this.sliceSerialize(me),Ee.position.end=ls(me.end)}function V(me){const Ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){const je=Ee.children[Ee.children.length-1];je.position.end=ls(me.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ee.type)&&(N.call(this,me),$.call(this,me))}function G(){this.data.atHardBreak=!0}function re(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=me}function Y(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=me}function M(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=me}function D(){const me=this.stack[this.stack.length-1];if(this.data.inReference){const Ee=this.data.referenceType||"shortcut";me.type+="Reference",me.referenceType=Ee,delete me.url,delete me.title}else delete me.identifier,delete me.label;this.data.referenceType=void 0}function j(){const me=this.stack[this.stack.length-1];if(this.data.inReference){const Ee=this.data.referenceType||"shortcut";me.type+="Reference",me.referenceType=Ee,delete me.url,delete me.title}else delete me.identifier,delete me.label;this.data.referenceType=void 0}function Z(me){const Ee=this.sliceSerialize(me),je=this.stack[this.stack.length-2];je.label=tz(Ee),je.identifier=Nl(Ee).toLowerCase()}function ne(){const me=this.stack[this.stack.length-1],Ee=this.resume(),je=this.stack[this.stack.length-1];if(this.data.inReference=!0,je.type==="link"){const Pe=me.children;je.children=Pe}else je.alt=Ee}function k(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=me}function le(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=me}function se(){this.data.inReference=void 0}function B(){this.data.referenceType="collapsed"}function U(me){const Ee=this.resume(),je=this.stack[this.stack.length-1];je.label=Ee,je.identifier=Nl(this.sliceSerialize(me)).toLowerCase(),this.data.referenceType="full"}function I(me){this.data.characterReferenceType=me.type}function W(me){const Ee=this.sliceSerialize(me),je=this.data.characterReferenceType;let Pe;je?(Pe=ZA(Ee,je==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Pe=ly(Ee);const qe=this.stack[this.stack.length-1];qe.value+=Pe}function ae(me){const Ee=this.stack.pop();Ee.position.end=ls(me.end)}function oe(me){$.call(this,me);const Ee=this.stack[this.stack.length-1];Ee.url=this.sliceSerialize(me)}function pe(me){$.call(this,me);const Ee=this.stack[this.stack.length-1];Ee.url="mailto:"+this.sliceSerialize(me)}function De(){return{type:"blockquote",children:[]}}function de(){return{type:"code",lang:null,meta:null,value:""}}function he(){return{type:"inlineCode",value:""}}function Te(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function fe(){return{type:"emphasis",children:[]}}function ce(){return{type:"heading",depth:0,children:[]}}function ve(){return{type:"break"}}function Se(){return{type:"html",value:""}}function we(){return{type:"image",title:null,url:"",alt:null}}function H(){return{type:"link",title:null,url:"",children:[]}}function X(me){return{type:"list",ordered:me.type==="listOrdered",start:null,spread:me._spread,children:[]}}function ee(me){return{type:"listItem",spread:me._spread,checked:null,children:[]}}function te(){return{type:"paragraph",children:[]}}function ge(){return{type:"strong",children:[]}}function Re(){return{type:"text",value:""}}function xe(){return{type:"thematicBreak"}}}function ls(t){return{line:t.line,column:t.column,offset:t.offset}}function oT(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?oT(t,r):az(t,r)}}function az(t,e){let n;for(n in e)if(sT.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function US(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Sc({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Sc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Sc({start:e.start,end:e.end})+") is still open")}function sz(t){const e=this;e.parser=n;function n(r){return rz(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function oz(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function lz(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function uz(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function cz(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function fz(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function hz(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Yl(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let o,u=t.footnoteCounts.get(r);u===void 0?(u=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=a+1,u+=1,t.footnoteCounts.set(r,u);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,c);const f={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,f),t.applyData(e,f)}function dz(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function pz(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function lT(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function mz(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return lT(t,e);const i={src:Yl(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function gz(t,e){const n={src:Yl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function vz(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function yz(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return lT(t,e);const i={href:Yl(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function bz(t,e){const n={href:Yl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function _z(t,e,n){const r=t.all(e),i=n?xz(n):uT(e),a={},o=[];if(typeof e.checked=="boolean"){const d=r[0];let p;d&&d.type==="element"&&d.tagName==="p"?p=d:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const d=r[u];(i||u!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:a,children:o};return t.patch(e,f),t.applyData(e,f)}function xz(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=uT(n[r])}return e}function uT(t){const e=t.spread;return e??t.children.length>1}function wz(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function Sz(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Ez(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Cz(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Az(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},u=iy(e.children[1]),c=HA(e.children[e.children.length-1]);u&&c&&(o.position={start:u,end:c}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function Tz(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,u=o?o.length:e.children.length;let c=-1;const f=[];for(;++c<u;){const p=e.children[c],g={},v=o?o[c]:void 0;v&&(g.align=v);let _={type:"element",tagName:a,properties:g,children:[]};p&&(_.children=t.all(p),t.patch(p,_),_=t.applyData(p,_)),f.push(_)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(e,d),t.applyData(e,d)}function Dz(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const qS=9,HS=32;function Oz(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push($S(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push($S(e.slice(i),i>0,!1)),a.join("")}function $S(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===qS||a===HS;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===qS||a===HS;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function kz(t,e){const n={type:"text",value:Oz(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Nz(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Rz={blockquote:oz,break:lz,code:uz,delete:cz,emphasis:fz,footnoteReference:hz,heading:dz,html:pz,imageReference:mz,image:gz,inlineCode:vz,linkReference:yz,link:bz,listItem:_z,list:wz,paragraph:Sz,root:Ez,strong:Cz,table:Az,tableCell:Dz,tableRow:Tz,text:kz,thematicBreak:Nz,toml:Rh,yaml:Rh,definition:Rh,footnoteDefinition:Rh};function Rh(){}const cT=-1,jd=0,Cc=1,vd=2,fy=3,hy=4,dy=5,py=6,fT=7,hT=8,VS=typeof self=="object"?self:globalThis,Mz=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,o]=e[i];switch(a){case jd:case cT:return n(o,i);case Cc:{const u=n([],i);for(const c of o)u.push(r(c));return u}case vd:{const u=n({},i);for(const[c,f]of o)u[r(c)]=r(f);return u}case fy:return n(new Date(o),i);case hy:{const{source:u,flags:c}=o;return n(new RegExp(u,c),i)}case dy:{const u=n(new Map,i);for(const[c,f]of o)u.set(r(c),r(f));return u}case py:{const u=n(new Set,i);for(const c of o)u.add(r(c));return u}case fT:{const{name:u,message:c}=o;return n(new VS[u](c),i)}case hT:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:u}=new Uint8Array(o);return n(new DataView(u),o)}}return n(new VS[a](o),i)};return r},YS=t=>Mz(new Map,t)(0),xl="",{toString:jz}={},{keys:Lz}=Object,ac=t=>{const e=typeof t;if(e!=="object"||!t)return[jd,e];const n=jz.call(t).slice(8,-1);switch(n){case"Array":return[Cc,xl];case"Object":return[vd,xl];case"Date":return[fy,xl];case"RegExp":return[hy,xl];case"Map":return[dy,xl];case"Set":return[py,xl];case"DataView":return[Cc,n]}return n.includes("Array")?[Cc,n]:n.includes("Error")?[fT,n]:[vd,n]},Mh=([t,e])=>t===jd&&(e==="function"||e==="symbol"),Pz=(t,e,n,r)=>{const i=(o,u)=>{const c=r.push(o)-1;return n.set(u,c),c},a=o=>{if(n.has(o))return n.get(o);let[u,c]=ac(o);switch(u){case jd:{let d=o;switch(c){case"bigint":u=hT,d=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([cT],o)}return i([u,d],o)}case Cc:{if(c){let g=o;return c==="DataView"?g=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(g=new Uint8Array(o)),i([c,[...g]],o)}const d=[],p=i([u,d],o);for(const g of o)d.push(a(g));return p}case vd:{if(c)switch(c){case"BigInt":return i([c,o.toString()],o);case"Boolean":case"Number":case"String":return i([c,o.valueOf()],o)}if(e&&"toJSON"in o)return a(o.toJSON());const d=[],p=i([u,d],o);for(const g of Lz(o))(t||!Mh(ac(o[g])))&&d.push([a(g),a(o[g])]);return p}case fy:return i([u,o.toISOString()],o);case hy:{const{source:d,flags:p}=o;return i([u,{source:d,flags:p}],o)}case dy:{const d=[],p=i([u,d],o);for(const[g,v]of o)(t||!(Mh(ac(g))||Mh(ac(v))))&&d.push([a(g),a(v)]);return p}case py:{const d=[],p=i([u,d],o);for(const g of o)(t||!Mh(ac(g)))&&d.push(a(g));return p}}const{message:f}=o;return i([u,{name:c,message:f}],o)};return a},XS=(t,{json:e,lossy:n}={})=>{const r=[];return Pz(!(e||n),!!e,new Map,r)(t),r},yd=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?YS(XS(t,e)):structuredClone(t):(t,e)=>YS(XS(t,e));function Iz(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Bz(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function zz(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Iz,r=t.options.footnoteBackLabel||Bz,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let c=-1;for(;++c<t.footnoteOrder.length;){const f=t.footnoteById.get(t.footnoteOrder[c]);if(!f)continue;const d=t.all(f),p=String(f.identifier).toUpperCase(),g=Yl(p.toLowerCase());let v=0;const _=[],w=t.footnoteCounts.get(p);for(;w!==void 0&&++v<=w;){_.length>0&&_.push({type:"text",value:" "});let L=typeof n=="string"?n:n(c,v);typeof L=="string"&&(L={type:"text",value:L}),_.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,v),className:["data-footnote-backref"]},children:Array.isArray(L)?L:[L]})}const A=d[d.length-1];if(A&&A.type==="element"&&A.tagName==="p"){const L=A.children[A.children.length-1];L&&L.type==="text"?L.value+=" ":A.children.push({type:"text",value:" "}),A.children.push(..._)}else d.push(..._);const S={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:t.wrap(d,!0)};t.patch(f,S),u.push(S)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...yd(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(u,!0)},{type:"text",value:`
`}]}}const dT=function(t){if(t==null)return Hz;if(typeof t=="function")return Ld(t);if(typeof t=="object")return Array.isArray(t)?Fz(t):Uz(t);if(typeof t=="string")return qz(t);throw new Error("Expected function, string, or object as test")};function Fz(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=dT(t[n]);return Ld(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function Uz(t){const e=t;return Ld(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function qz(t){return Ld(e);function e(n){return n&&n.type===t}}function Ld(t){return e;function e(n,r,i){return!!($z(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Hz(){return!0}function $z(t){return t!==null&&typeof t=="object"&&"type"in t}const pT=[],Vz=!0,GS=!1,Yz="skip";function Xz(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=dT(i),o=r?-1:1;u(t,void 0,[])();function u(c,f,d){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const v=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(c.type+(v?"<"+v+">":""))+")"})}return g;function g(){let v=pT,_,w,A;if((!e||a(c,f,d[d.length-1]||void 0))&&(v=Gz(n(c,d)),v[0]===GS))return v;if("children"in c&&c.children){const S=c;if(S.children&&v[0]!==Yz)for(w=(r?S.children.length:-1)+o,A=d.concat(S);w>-1&&w<S.children.length;){const L=S.children[w];if(_=u(L,w,A)(),_[0]===GS)return _;w=typeof _[1]=="number"?_[1]:w+o}}return v}}}function Gz(t){return Array.isArray(t)?t:typeof t=="number"?[Vz,t]:t==null?pT:[t]}function mT(t,e,n,r){let i,a,o;typeof e=="function"?(a=void 0,o=e,i=n):(a=e,o=n,i=r),Xz(t,a,u,i);function u(c,f){const d=f[f.length-1],p=d?d.children.indexOf(c):void 0;return o(c,p,d)}}const ov={}.hasOwnProperty,Wz={};function Zz(t,e){const n=e||Wz,r=new Map,i=new Map,a=new Map,o={...Rz,...n.handlers},u={all:f,applyData:Qz,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:c,options:n,patch:Kz,wrap:e9};return mT(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const p=d.type==="definition"?r:i,g=String(d.identifier).toUpperCase();p.has(g)||p.set(g,d)}}),u;function c(d,p){const g=d.type,v=u.handlers[g];if(ov.call(u.handlers,g)&&v)return v(u,d,p);if(u.options.passThrough&&u.options.passThrough.includes(g)){if("children"in d){const{children:w,...A}=d,S=yd(A);return S.children=u.all(d),S}return yd(d)}return(u.options.unknownHandler||Jz)(u,d,p)}function f(d){const p=[];if("children"in d){const g=d.children;let v=-1;for(;++v<g.length;){const _=u.one(g[v],d);if(_){if(v&&g[v-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=WS(_.value)),!Array.isArray(_)&&_.type==="element")){const w=_.children[0];w&&w.type==="text"&&(w.value=WS(w.value))}Array.isArray(_)?p.push(..._):p.push(_)}}}return p}}function Kz(t,e){t.position&&(e.position=j8(t))}function Qz(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,yd(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Jz(t,e){const n=e.data||{},r="value"in e&&!(ov.call(n,"hProperties")||ov.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function e9(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function WS(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function ZS(t,e){const n=Zz(t,e),r=n.one(t,void 0),i=zz(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function t9(t,e){return t&&"run"in t?async function(n,r){const i=ZS(n,{file:r,...e});await t.run(i,r)}:function(n,r){return ZS(n,{file:r,...t||e})}}function KS(t){if(t)throw t}var m0,QS;function n9(){if(QS)return m0;QS=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},a=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var d=t.call(f,"constructor"),p=f.constructor&&f.constructor.prototype&&t.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!d&&!p)return!1;var g;for(g in f);return typeof g>"u"||t.call(f,g)},o=function(f,d){n&&d.name==="__proto__"?n(f,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):f[d.name]=d.newValue},u=function(f,d){if(d==="__proto__")if(t.call(f,d)){if(r)return r(f,d).value}else return;return f[d]};return m0=function c(){var f,d,p,g,v,_,w=arguments[0],A=1,S=arguments.length,L=!1;for(typeof w=="boolean"&&(L=w,w=arguments[1]||{},A=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});A<S;++A)if(f=arguments[A],f!=null)for(d in f)p=u(w,d),g=u(f,d),w!==g&&(L&&g&&(a(g)||(v=i(g)))?(v?(v=!1,_=p&&i(p)?p:[]):_=p&&a(p)?p:{},o(w,{name:d,newValue:c(L,_,g)})):typeof g<"u"&&o(w,{name:d,newValue:g}));return w},m0}var r9=n9();const g0=ws(r9);function lv(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function i9(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);u(null,...i);function u(c,...f){const d=t[++a];let p=-1;if(c){o(c);return}for(;++p<i.length;)(f[p]===null||f[p]===void 0)&&(f[p]=i[p]);i=f,d?a9(d,u)(...f):o(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function a9(t,e){let n;return r;function r(...o){const u=t.length>o.length;let c;u&&o.push(i);try{c=t.apply(this,o)}catch(f){const d=f;if(u&&n)throw d;return i(d)}u||(c&&c.then&&typeof c.then=="function"?c.then(a,i):c instanceof Error?i(c):a(c))}function i(o,...u){n||(n=!0,e(o,...u))}function a(o){i(null,o)}}const Xi={basename:s9,dirname:o9,extname:l9,join:u9,sep:"/"};function s9(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Xc(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,u=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),u>-1&&(t.codePointAt(i)===e.codePointAt(u--)?u<0&&(r=i):(u=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function o9(t){if(Xc(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function l9(t){Xc(t);let e=t.length,n=-1,r=0,i=-1,a=0,o;for(;e--;){const u=t.codePointAt(e);if(u===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),u===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function u9(...t){let e=-1,n;for(;++e<t.length;)Xc(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":c9(n)}function c9(t){Xc(t);const e=t.codePointAt(0)===47;let n=f9(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function f9(t,e){let n="",r=0,i=-1,a=0,o=-1,u,c;for(;++o<=t.length;){if(o<t.length)u=t.codePointAt(o);else{if(u===47)break;u=47}if(u===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,a=0}else u===46&&a>-1?a++:a=-1}return n}function Xc(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const h9={cwd:d9};function d9(){return"/"}function uv(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function p9(t){if(typeof t=="string")t=new URL(t);else if(!uv(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return m9(t)}function m9(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const v0=["history","path","basename","stem","extname","dirname"];class gT{constructor(e){let n;e?uv(e)?n={path:e}:typeof e=="string"||g9(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":h9.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<v0.length;){const a=v0[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)v0.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Xi.basename(this.path):void 0}set basename(e){b0(e,"basename"),y0(e,"basename"),this.path=Xi.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Xi.dirname(this.path):void 0}set dirname(e){JS(this.basename,"dirname"),this.path=Xi.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Xi.extname(this.path):void 0}set extname(e){if(y0(e,"extname"),JS(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Xi.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){uv(e)&&(e=p9(e)),b0(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Xi.basename(this.path,this.extname):void 0}set stem(e){b0(e,"stem"),y0(e,"stem"),this.path=Xi.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Cr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function y0(t,e){if(t&&t.includes(Xi.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Xi.sep+"`")}function b0(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function JS(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function g9(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const v9=function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},y9={}.hasOwnProperty;class my extends v9{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=i9()}copy(){const e=new my;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(g0(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(w0("data",this.frozen),this.namespace[e]=n,this):y9.call(this.namespace,e)&&this.namespace[e]||void 0:e?(w0("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=jh(e),r=this.parser||this.Parser;return _0("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),_0("process",this.parser||this.Parser),x0("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const u=jh(e),c=r.parse(u);r.run(c,u,function(d,p,g){if(d||!p||!g)return f(d);const v=p,_=r.stringify(v,g);x9(_)?g.value=_:g.result=_,f(d,g)});function f(d,p){d||!p?o(d):a?a(p):n(void 0,p)}}}processSync(e){let n=!1,r;return this.freeze(),_0("processSync",this.parser||this.Parser),x0("processSync",this.compiler||this.Compiler),this.process(e,i),tE("processSync","process",n),r;function i(a,o){n=!0,KS(a),r=o}}run(e,n,r){eE(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,u){const c=jh(n);i.run(e,c,f);function f(d,p,g){const v=p||e;d?u(d):o?o(v):r(void 0,v,g)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),tE("runSync","run",r),i;function a(o,u){KS(o),i=u,r=!0}}stringify(e,n){this.freeze();const r=jh(n),i=this.compiler||this.Compiler;return x0("stringify",i),eE(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(w0("use",this.frozen),e!=null)if(typeof e=="function")c(e,n);else if(typeof e=="object")Array.isArray(e)?u(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(f){if(typeof f=="function")c(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[d,...p]=f;c(d,p)}else o(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function o(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(i.settings=g0(!0,i.settings,f.settings))}function u(f){let d=-1;if(f!=null)if(Array.isArray(f))for(;++d<f.length;){const p=f[d];a(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function c(f,d){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===f){g=p;break}if(g===-1)r.push([f,...d]);else if(d.length>0){let[v,..._]=d;const w=r[g][1];lv(w)&&lv(v)&&(v=g0(!0,w,v)),r[g]=[f,v,..._]}}}}const b9=new my().freeze();function _0(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function x0(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function w0(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function eE(t){if(!lv(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function tE(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function jh(t){return _9(t)?t:new gT(t)}function _9(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function x9(t){return typeof t=="string"||w9(t)}function w9(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const S9="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",nE=[],rE={allowDangerousHtml:!0},E9=/^(https?|ircs?|mailto|xmpp)$/i,C9=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function A9(t){const e=T9(t),n=D9(t);return O9(e.runSync(e.parse(n),n),t)}function T9(t){const e=t.rehypePlugins||nE,n=t.remarkPlugins||nE,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...rE}:rE;return b9().use(sz).use(n).use(t9,r).use(e)}function D9(t){const e=t.children||"",n=new gT;return typeof e=="string"&&(n.value=e),n}function O9(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,o=e.skipHtml,u=e.unwrapDisallowed,c=e.urlTransform||k9;for(const d of C9)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+S9+d.id,void 0);return mT(t,f),z8(t,{Fragment:x.Fragment,components:i,ignoreInvalidStyle:!0,jsx:x.jsx,jsxs:x.jsxs,passKeys:!0,passNode:!0});function f(d,p,g){if(d.type==="raw"&&g&&typeof p=="number")return o?g.children.splice(p,1):g.children[p]={type:"text",value:d.value},p;if(d.type==="element"){let v;for(v in h0)if(Object.hasOwn(h0,v)&&Object.hasOwn(d.properties,v)){const _=d.properties[v],w=h0[v];(w===null||w.includes(d.tagName))&&(d.properties[v]=c(String(_||""),v,d))}}if(d.type==="element"){let v=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!v&&r&&typeof p=="number"&&(v=!r(d,p,g)),v&&g&&typeof p=="number")return u&&d.children?g.children.splice(p,1,...d.children):g.children.splice(p,1),p}}}function k9(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||E9.test(t.slice(0,e))?t:""}const N9=({supabase:t,stockData:e=[],onRefresh:n,activeTheme:r})=>{const[i,a]=ie.useState([]),[o,u]=ie.useState(""),[c,f]=ie.useState(!1),[d,p]=ie.useState(!1),[g,v]=ie.useState("deepseek/deepseek-chat-v3-0324:free"),[_,w]=ie.useState(null),A=[{id:"deepseek/deepseek-chat-v3-0324:free",name:"DeepSeek Chat (Free)"},{id:"deepseek-r1-0528:free",name:"DeepSeek R1 0528 (Free)"},{id:"deepseek/deepseek-r1:free",name:"DeepSeek R1 (Free)"},{id:"mistralai/mistral-7b-instruct:free",name:"Mistral 7B Instruct (Free)"},{id:"nousresearch/deephermes-3-llama-3-8b-preview:free",name:"DeepHermes 3 Llama 3 8B Preview (Free)"},{id:"openai/gpt-oss-20b:free",name:"OpenAI: gpt-oss-20b (Free)"}];ie.useEffect(()=>{(async()=>{const{data:N,error:$}=await t.from("secrets").select("api_key").eq("id",1).single();!$&&N?w(N.api_key):(console.error("Ошибка загрузки API ключа:",$),P("assistant","Ошибка: не удалось загрузить ключ API"))})()},[t]),ie.useEffect(()=>{e.length>0&&p(!0)},[e]);const S=()=>{u("")},L=T=>`Ты помощник для анализа данных о товарах магазина. Вот полные данные о товарах (${T.length} позиций):
${JSON.stringify(T,null,2)}

При ответах используй только предоставленные данные о товарах. Если вопрос не относится к товарам, вежливо сообщи, что можешь отвечать только на вопросы, связанные с товарами магазина. Будь кратким и точным. Анализируй все предоставленные данные, а не только часть.`,P=(T,N)=>{a($=>[...$,{id:_s(),role:T,content:N}])},F=async({question:T,context:N})=>{var G,re,Y;if(!_)throw new Error("API ключ не загружен");let $=null;const V=[g,...A.filter(M=>M.id.includes(":free")&&M.id!==g).map(M=>M.id)];for(const M of V)try{const D=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json","HTTP-Referer":window.location.href,"X-Title":"Shop AI Assistant"},body:JSON.stringify({model:M,messages:[{role:"system",content:N},{role:"user",content:T}],temperature:.7,max_tokens:800})}),j=await D.json();if(!D.ok)throw new Error(((G=j.error)==null?void 0:G.message)||`Ошибка модели ${M}`);return{response:((Y=(re=j.choices[0])==null?void 0:re.message)==null?void 0:Y.content)||"Не получилось сформировать ответ.",modelUsed:M}}catch(D){console.error(`Error with model ${M}:`,D),$=D;continue}throw new Error(($==null?void 0:$.message)||"Все модели недоступны. Попробуйте позже.")};ie.useCallback(async()=>{if(n){f(!0);try{await n()}finally{f(!1)}}},[n]);const R=async()=>{if(!o.trim()||c)return;const T=o;u(""),P("user",T),f(!0);try{const N=L(e),{response:$,modelUsed:V}=await F({question:T,context:N});P("assistant",$),console.log(`Успешно использована модель: ${V}`)}catch(N){P("assistant",`Ошибка: ${N.message}`),console.error("Ошибка запроса:",N)}finally{f(!1)}},O=["Какие товары имеют самые высокие остатки?","Есть ли товары с низким количеством на складе?","Какие категории товаров представлены?","Какие товары скоро закончатся?"],z=({content:T})=>x.jsx(A9,{children:T});return x.jsx("div",{className:"chat-wrapper",children:x.jsxs("div",{className:"ai-assistant-container",children:[x.jsx("div",{className:"settings-panel",children:x.jsxs("div",{className:"form__group form__group--vertical model-selector",children:[x.jsx("label",{htmlFor:"ai-choice-model",children:"Выбрать модель"}),x.jsx("select",{id:"ai-choice-model",className:"form__select",value:g,onChange:T=>v(T.target.value),disabled:c,children:A.map(T=>x.jsx("option",{value:T.id,className:"form__option",children:T.name},T.id))})]})}),x.jsxs("div",{className:"chat-container",children:[i.length===0?x.jsxs("div",{className:"welcome-message",children:[x.jsx("h3",{children:"Анализ товарных остатков с ИИ"}),x.jsxs("div",{className:"examples",children:[x.jsx("p",{children:"Выбрать один из вопросов или задать свой:"}),O.map((T,N)=>x.jsx("button",{onClick:()=>u(T),className:"button example-question",children:T},N))]})]}):i.map(T=>x.jsx("div",{className:`message ${T.role}`,children:T.role==="assistant"?x.jsxs("div",{className:"ai-response",children:[x.jsx("div",{className:"avatar",children:"AI"}),x.jsx("div",{className:"content",children:x.jsx(z,{content:T.content})})]}):x.jsx("div",{className:"user-message",children:x.jsx("div",{className:"content",children:T.content})})},T.id)),c&&x.jsx("div",{className:"message assistant",children:x.jsxs("div",{className:"ai-response",children:[x.jsx("div",{className:"avatar",children:"AI"}),x.jsxs("div",{className:"loading-dots",children:[x.jsx("span",{children:"."}),x.jsx("span",{children:"."}),x.jsx("span",{children:"."})]})]})})]}),x.jsxs("div",{className:"input-area",children:[x.jsxs("div",{className:"search-container",children:[x.jsx("input",{className:"form__input form__input--search",id:"ai-request",type:"text",value:o,onChange:T=>u(T.target.value),onKeyPress:T=>T.key==="Enter"&&R(),placeholder:"Задать вопрос о товарных остатках...",disabled:!d||c}),o&&x.jsx("button",{className:"clear-search-button",onClick:S,title:"Очистить",disabled:!d||c,children:"⨯"})]}),x.jsx("button",{className:"button button--main",onClick:R,disabled:!o.trim()||c||!d,title:o.trim()?"":"Напишите вопрос",children:"Отправить"})]})]})})},R9=er.memo(({item:t,onUpdateQuantity:e,onUpdatePrice:n,onUpdateDiscount:r,onRemove:i,onTogglePayment:a,paymentCard:o})=>{const u=Math.round(t.sale_price*t.quantity),c=`${t.object}-${t.category}-${t.serial_number||"no-serial"}`,f=`${c}-price`,d=`${c}-discount`,p=`${c}-quantity`;return x.jsxs("tr",{children:[x.jsx("td",{className:"table__td--service-name",children:t.displayLabel||t.object}),x.jsx("td",{children:t.category}),x.jsx("td",{className:"table-sale__td--serial-number",children:t.serial_number||"Б/Н"}),x.jsx("td",{className:"table-sale__td--price",children:x.jsx("input",{id:f,type:"text",inputMode:"numeric",pattern:"[0-9]*",value:t.sale_price,onChange:g=>{(t.type!=="service"||t.object==="Оплата по факту")&&n(t,g.target.value)},className:"form__input form__input--no-spinner",placeholder:"0",autoComplete:"off",disabled:t.type==="service"&&t.object!=="Оплата по факту",title:t.type==="service"&&t.object!=="Оплата по факту"?"Цена для этой услуги не редактируется":""})}),x.jsx("td",{className:"table-sale__td--discount",children:x.jsx("input",{id:d,type:"text",inputMode:"numeric",pattern:"[0-9]*",min:"0",value:t.discount,onChange:g=>r(t,g.target.value),className:"form__input form__input--no-spinner",placeholder:"0",autoComplete:"off"})}),x.jsx("td",{className:"table-sale__td--quantity",children:x.jsx("input",{id:p,type:"number",inputMode:"numeric",pattern:"[0-9]*",max:t.maxQuantity,value:t.quantity,onChange:g=>e(t,g.target.value),onBlur:g=>{const v=g.target.value;(v===""||parseInt(v)<1)&&e(t,"1")},className:"form__input",autoComplete:"off"})}),x.jsx("td",{className:"table-sale__td--payment",children:x.jsxs("div",{className:"payment-chip",children:[x.jsx("button",{className:`payment-chip__half payment-chip__half--left ${o===!1?"payment-chip__half--active":""}`,onClick:()=>a(t,!1),type:"button",disabled:t.category==="Печать"||t.category==="Подарочная карта",children:"Нал"}),x.jsx("button",{className:`payment-chip__half payment-chip__half--right ${o===!0?"payment-chip__half--active":""}`,onClick:()=>a(t,!0),type:"button",disabled:t.category==="Печать"||t.category==="Подарочная карта",children:"Безнал"})]})}),x.jsxs("td",{className:"table-sale__td--total-price",children:[Qi.format(u)," ₽"]}),x.jsx("td",{className:"table-sale__td--actions",children:x.jsx("button",{className:"button button--icon",onClick:()=>i(t),title:"Удалить",children:"×"})})]},t.object)},(t,e)=>t.item===e.item&&t.item.quantity===e.item.quantity&&t.item.sale_price===e.item.sale_price&&t.paymentCard===e.paymentCard),M9=({supabase:t,clients:e,stockItems:n,services:r,onSaleComplete:i,isLoading:a,setIsLoading:o,loadClients:u,isAdmin:c})=>{const[f,d]=ie.useState([]),[p,g]=ie.useState([]),[v,_]=ie.useState([]),[w,A]=ie.useState(null),[S,L]=ie.useState(null),[P,F]=ie.useState(null),[R,O]=ie.useState([]),[z,T]=ie.useState({}),[N,$]=ie.useState([]),[V,G]=ie.useState(null),[re,Y]=ie.useState("sale"),[M,D]=ie.useState({repair_acceptance:"",repair_delivery:"",repair:"",sale:"",sale_electronics:"",sale_gift_cards:"",service:"",service_stamp:"",service_gift_card:"",junior_salary:"",senior_salary:""}),[j,Z]=ie.useState(!1),[ne,k]=ie.useState(!1),[le,se]=ie.useState(""),[B,U]=ie.useState(""),I=ie.useCallback(()=>(w==null?void 0:w.originalCategory)!=="Сервисная услуга"?[]:e.filter(X=>!X.is_archive).map(X=>({value:X.receipt_number,label:`№${X.receipt_number} - ${X.object||`${X.last_name} ${X.first_name}`}`})).sort((X,ee)=>ee.value-X.value),[e,w]);ie.useEffect(()=>{const X=I();$(X),X.length===1?G(X[0]):G(null)},[w,I]);const W=(w==null?void 0:w.originalCategory)==="Сервисная услуга"&&S&&N.length>0;ie.useEffect(()=>{(async()=>{Z(!0);try{const{data:ee,error:te}=await t.from("allocations").select("*").limit(1).single();!te&&ee&&D({repair_acceptance:ee.repair_acceptance||0,repair_delivery:ee.repair_delivery||0,repair:ee.repair||0,sale:ee.sale||0,sale_electronics:ee.sale_electronics||0,sale_gift_cards:ee.sale_gift_cards||0,service:ee.service||0,service_stamp:ee.service_stamp||0,service_gift_card:ee.service_gift_card||0,junior_salary:ee.junior_salary||0,senior_salary:ee.senior_salary||0})}catch(ee){console.error("Error loading allocations:",ee)}finally{Z(!1)}})()},[t]);const ae=async()=>{k(!0);try{const X=Object.fromEntries(Object.entries(M).map(([te,ge])=>[te,ge===""?0:parseInt(ge,10)])),{data:ee}=await t.from("allocations").select("id").limit(1);ee&&ee.length>0?await t.from("allocations").update(X).eq("id",ee[0].id):await t.from("allocations").insert([X]),U("Настройки отчислений сохранены"),setTimeout(()=>U(""),3e3)}catch(X){console.error("Ошибка сохранения:",X),se(`Ошибка сохранения: ${X.message}`)}finally{k(!1)}},oe=(X,ee)=>{const te=ee.replace(/[^0-9]/g,"");if(te===""){D(me=>({...me,[X]:""}));return}const ge=parseInt(te,10),Re=["repair_acceptance","repair_delivery","junior_salary","senior_salary"],xe=["repair","sale","sale_electronics","sale_gift_cards","service","service_stamp","service_gift_card"];if(Re.includes(X))D(me=>({...me,[X]:Math.max(0,ge)}));else if(xe.includes(X)){const me=Math.min(100,Math.max(0,ge));D(Ee=>({...Ee,[X]:me}))}},pe=ie.useCallback(()=>{const X=Array.from(new Set(n.filter(te=>te.is_sale&&te.quantity>0).map(te=>te.category).filter(Boolean))).sort((te,ge)=>te.localeCompare(ge)).map(te=>({value:`product_${te}`,label:te,type:"product",originalCategory:te})),ee=Array.from(new Set(r.filter(te=>te.service_prices&&Object.keys(te.service_prices).length>0).map(te=>te.name))).sort((te,ge)=>te.localeCompare(ge)).map(te=>{const ge=r.find(Re=>Re.name===te);return{value:`service_${te}`,label:te,type:"service",originalCategory:te,prices:ge.service_prices}});return[{label:"Товары",options:X},{label:"Услуги",options:ee}]},[n,r]),De=ie.useCallback(()=>{if(!w)return[];const X=w.value.startsWith("product_"),ee=w.value.startsWith("service_");if(X){const te=w.originalCategory;return Array.from(new Set(n.filter(ge=>ge.category===te&&ge.is_sale&&ge.quantity>0).map(ge=>ge.object).filter(Boolean))).sort((ge,Re)=>ge.localeCompare(Re)).map(ge=>({value:ge,label:ge}))}if(ee){const te=r.find(ge=>ge.name===w.originalCategory);return!te||!te.service_prices?[]:Object.keys(te.service_prices).sort((ge,Re)=>{const xe=parseInt(ge)||0,me=parseInt(Re)||0;return xe-me}).map(ge=>({value:ge,label:ge,price:te.service_prices[ge]}))}return[]},[w,n,r]),de=ie.useCallback(()=>{if(!S||!w)return[];if(!w.value.startsWith("product_"))return[];const ee=w.originalCategory,te=S.value,ge=n.filter(xe=>xe.category===ee&&xe.object===te&&xe.is_sale&&xe.quantity>0);return Array.from(new Set(ge.map(xe=>xe.serial_number||"Б/Н"))).map(xe=>({value:xe,label:xe})).sort((xe,me)=>xe.value==="Б/Н"?1:me.value==="Б/Н"?-1:xe.value.localeCompare(me.value))},[w,S,n]);ie.useEffect(()=>{const X=pe();d(X)},[pe]),ie.useEffect(()=>{const X=De();g(X),X.length===1?L(X[0]):L(null),F(null),_([])},[w,De]),ie.useEffect(()=>{const X=de();_(X),X.length===1&&X[0].value!=="Б/Н"?F(X[0]):F(null)},[S,de]);const he=()=>{if(!S||!w)return;const X=w.value.startsWith("product_"),ee=w.value.startsWith("service_");if(X){const te=w.originalCategory,ge=(P==null?void 0:P.value)||null;let Re=n.filter(je=>je.object===S.value&&je.category===te&&je.is_sale&&je.quantity>0);if(ge&&(Re=Re.filter(je=>ge==="Б/Н"?!je.serial_number||je.serial_number==="Б/Н":je.serial_number===ge)),Re.length===0)return;const xe=Re.reduce((je,Pe)=>je.sale_price<Pe.sale_price?je:Pe),me=Re.reduce((je,Pe)=>je+Pe.quantity,0);`${S.value}${te}${ge||"no-serial"}`;const Ee=R.findIndex(je=>je.object===S.value&&je.category===te&&(je.serial_number||"no-serial")===(ge||"no-serial"));O(Ee!==-1?je=>je.map((Pe,qe)=>qe===Ee?{...Pe,quantity:Math.min(Pe.quantity+1,Pe.maxQuantity)}:Pe):je=>[...je,{id:xe.id,object:S.value,category:te,base_price:xe.sale_price,sale_price:xe.sale_price,maxQuantity:me,quantity:1,discount:0,type:"product",editablePrice:!0,serial_number:ge}])}if(ee){const te=r.find(me=>me.name===w.originalCategory),ge=(te==null?void 0:te.service_prices[S.value])||0,Re=`${w.originalCategory} — ${S.value}`,xe=R.find(me=>me.displayLabel===Re&&me.type==="service");O(xe?me=>me.map(Ee=>Ee.displayLabel===Re&&Ee.type==="service"?{...Ee,quantity:Ee.quantity+1}:Ee):me=>[...me,{object:S.value,category:w.originalCategory,displayLabel:Re,base_price:ge,sale_price:ge,quantity:1,discount:0,type:"service",editablePrice:!0,receipt_number:(V==null?void 0:V.value)||null}])}},Te=(X,ee)=>{if(ee===""){O(me=>me.map(Ee=>Ee===X?{...Ee,quantity:""}:Ee));return}const te=ee.replace(/[^0-9]/g,"");if(te===""){O(me=>me.map(Ee=>Ee===X?{...Ee,quantity:""}:Ee));return}const ge=parseInt(te,10),Re=X.maxQuantity||1/0,xe=Math.max(1,Math.min(ge,Re));O(me=>me.map(Ee=>Ee===X?{...Ee,quantity:xe}:Ee))},fe=(X,ee)=>{const te=Math.max(0,parseInt(ee)||0),ge=Math.min(100,Math.max(0,X.base_price>0?Math.round((X.base_price-te)/X.base_price*100):0));O(Re=>Re.map(xe=>xe===X?{...xe,sale_price:te,discount:ge}:xe))},ce=(X,ee)=>{const te=Math.max(0,Math.min(100,parseInt(ee)||0)),ge=Math.round(X.base_price*(1-te/100));O(Re=>Re.map(xe=>xe===X?{...xe,discount:te,sale_price:ge}:xe))},ve=X=>{O(ee=>ee.filter(te=>te!==X))},Se=(X,ee)=>{const te=`${X.object}-${X.category}-${X.type}-${X.serial_number||"no-serial"}`;T(ge=>({...ge,[te]:ge[te]===ee?null:ee}))},we=async()=>{var ee;if(R.length===0||a)return;if(R.some(te=>{if(["Печать","Подарочная карта"].includes(te.category))return!1;const ge=`${te.object}-${te.category}-${te.type}-${te.serial_number||"no-serial"}`,Re=z[ge];return Re!==!0&&Re!==!1})){alert("Выберите тип оплаты (Нал/Безнал) для всех позиций");return}o(!0);try{const te=R.filter(Pe=>Pe.type==="service"&&Pe.receipt_number),{data:ge}=await t.from("sales").select("sale_number").order("sale_number",{ascending:!1}).limit(1),Re=(((ee=ge==null?void 0:ge[0])==null?void 0:ee.sale_number)||0)+1,xe=R.map(Pe=>({object:Pe.object,category:Pe.category,base_price:Pe.base_price,sale_price:Pe.sale_price,discount:Pe.discount||0,quantity:Pe.quantity,total_price:Pe.sale_price*Pe.quantity,payment_type:z[`${Pe.object}-${Pe.category}-${Pe.type}-${Pe.serial_number||"no-serial"}`]?"card":"cash",type:Pe.type,serial_number:Pe.serial_number||null,receipt_number:Pe.receipt_number||null})),me=xe.reduce((Pe,qe)=>Pe+qe.total_price,0),{error:Ee}=await t.from("sales").insert([{items:xe,total_amount:me,sale_number:Re,created_at:new Date().toISOString()}]);if(Ee)throw Ee;for(const Pe of R)if(Pe.type==="product"){let qe=Pe.quantity;const We=n.filter(Ke=>Ke.object===Pe.object&&Ke.category===Pe.category&&Ke.quantity>0&&Ke.is_sale&&(Pe.serial_number?Ke.serial_number===Pe.serial_number:!Ke.serial_number||Ke.serial_number==="Б/Н")).sort((Ke,Qe)=>Ke.sale_price-Qe.sale_price);for(const Ke of We){if(qe<=0)break;const Qe=Math.min(qe,Ke.quantity);await t.from("purchases").update({quantity:Ke.quantity-Qe,is_sale:Ke.quantity-Qe>0,sold_at:Ke.quantity-Qe===0?new Date().toISOString():null}).eq("id",Ke.id),qe-=Qe}}let je=!0;for(const Pe of te){const qe=Pe.receipt_number;try{const{data:We,error:Ke}=await t.from("clients").update({is_archive:!0,closed_at:new Date().toISOString().split("T")[0]}).eq("receipt_number",qe).select().single();Ke?(console.error(`Ошибка архивации клиента с заявкой ${qe}:`,Ke),je=!1):We?console.log(`Клиент с заявкой ${qe} успешно отправлен в архив.`):console.warn(`Клиент с заявкой ${qe} не найден для архивации.`)}catch(We){console.error(`Неожиданная ошибка при архивации клиента с заявкой ${qe}:`,We),je=!1}}t&&u?await u(t):console.warn("Supabase client or loadClients function is not available for refreshing client list."),O([]),T({}),i==null||i(),je||alert("Продажа проведена, но возникли проблемы при архивации некоторых заявок. Проверьте таблицу клиентов.")}catch(te){console.error("Ошибка при проведении продажи:",te),alert("Ошибка: "+te.message)}finally{o(!1)}},H=(w==null?void 0:w.value.startsWith("product_"))&&S&&v.length>0&&!(v.length===1&&v[0].value==="Б/Н");return x.jsxs("div",{className:"new-sale",children:[x.jsxs("fieldset",{className:"form__fieldset",children:[x.jsx("legend",{children:"Провести продажу"}),x.jsxs("div",{className:"view-mode-buttons",style:{marginBottom:"1rem"},children:[x.jsx("button",{className:re==="sale"?"active":"",onClick:()=>Y("sale"),children:"Продажа"}),c&&x.jsx("button",{className:re==="deductions"?"active":"",onClick:()=>Y("deductions"),children:"Отчисления"})]}),re==="sale"?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"new-sale__options",children:[x.jsxs("div",{className:"form__group",children:[x.jsx(Da,{options:f,value:w,onChange:A,placeholder:"Выбрать категорию",className:"form__input form__input--30 react-select-container",classNamePrefix:"select",isSearchable:!0,isClearable:!0,noOptionsMessage:()=>"Нет доступных опций",formatGroupLabel:X=>x.jsx("span",{style:{fontWeight:"bold"},children:X.label})}),x.jsx(Da,{options:p,value:S,onChange:L,placeholder:(w==null?void 0:w.type)==="service"?"Выбрать услугу":"Выбрать изделие",className:"form__input form__input--30 react-select-container",classNamePrefix:"select",isSearchable:!0,isClearable:!0,isDisabled:!w,noOptionsMessage:()=>"Нет доступных опций"}),H&&x.jsx(Da,{options:v,value:P,onChange:F,placeholder:"Выбрать сер. номер",className:"form__input form__input--30 react-select-container",classNamePrefix:"select",isSearchable:!0,isClearable:!0,noOptionsMessage:()=>"Нет доступных серийных номеров"}),W&&x.jsx(Da,{options:N,value:V,onChange:G,placeholder:"Выбрать номер заявки",className:"form__input form__input--30 react-select-container",classNamePrefix:"select",isSearchable:!0,isClearable:!0,noOptionsMessage:()=>"Нет активных заявок"})]}),x.jsx("button",{className:"button button--secondary",onClick:he,disabled:!S||H&&!P||W&&!V||(w==null?void 0:w.originalCategory)=="Сервисная услуга"&&N.length===0,title:S?H&&!P?"Выберите серийный номер":W&&!V?"Выберите номер заявки":(w==null?void 0:w.originalCategory)=="Сервисная услуга"&&N.length===0?"Нет активных заявок":"":"Выберите товар или услугу",children:"Добавить позицию"})]}),R.length>0&&x.jsx("div",{className:"table-container sale-items-table",children:(()=>{const X=R.reduce((ee,te)=>ee+te.sale_price*te.quantity,0);return x.jsxs("table",{className:"table",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"table__row-sticky",children:[x.jsx("th",{children:"Наименование"}),x.jsx("th",{children:"Категория"}),x.jsx("th",{children:"Сер. номер"}),x.jsx("th",{children:"Цена, ₽"}),x.jsx("th",{children:"Скидка, %"}),x.jsx("th",{children:"Кол-во"}),x.jsx("th",{children:"Оплата"}),x.jsx("th",{children:"Итого, ₽"}),x.jsx("th",{})]})}),x.jsx("tbody",{children:R.map(ee=>{const te=`${ee.object}-${ee.category}-${ee.type}-${ee.serial_number||"no-serial"}`;return x.jsx(R9,{item:ee,onUpdateQuantity:Te,onUpdatePrice:fe,onUpdateDiscount:ce,onRemove:ve,onTogglePayment:(ge,Re)=>Se(ge,Re),paymentCard:z[te]},te)})}),x.jsx("tfoot",{children:x.jsxs("tr",{children:[x.jsx("td",{colSpan:"6"}),x.jsxs("td",{className:"table-sale__td--total-price-from-sale",children:[X===0&&x.jsx("span",{className:"form__info form__info--alert",title:"Сумма продажи равна нулю",children:"ℹ"}),"Итого:"]}),x.jsxs("td",{className:"table-sale__td--total-price table-sale__td--total-price-from-sale",children:[Qi.format(X)," ₽"]}),x.jsx("td",{})]})})]})})()}),x.jsx("div",{className:"new-sale__footer",children:x.jsx("button",{className:"button button--main",onClick:we,disabled:R.length===0||a,title:R.length===0?"Добавьте товар или услугу":"",children:a?"Провожу...":"Провести"})})]}):x.jsxs("div",{className:"deductions-form",children:[x.jsxs("div",{className:"form__group form__group--deductions",children:[x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("label",{htmlFor:"repair_acceptance",children:"Сервисная услуга (приёмка), ₽"}),x.jsx("input",{id:"repair_acceptance",type:"text",pattern:"[0-9]*",value:M.repair_acceptance,placeholder:"Сервисная услуга (приёмка), ₽",onChange:X=>oe("repair_acceptance",X.target.value),className:"form__input"})]}),x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("label",{htmlFor:"repair_delivery",children:"Сервисная услуга (выдача), ₽"}),x.jsx("input",{id:"repair_delivery",type:"text",pattern:"[0-9]*",value:M.repair_delivery,placeholder:"Сервисная услуга (выдача), ₽",onChange:X=>oe("repair_delivery",X.target.value),className:"form__input"})]}),x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("label",{htmlFor:"repair",children:"Сервисная услуга (ремонт), %"}),x.jsx("input",{id:"repair",type:"text",pattern:"[0-9]*",value:M.repair,placeholder:"Сервисная услуга (ремонт), %",onChange:X=>oe("repair",X.target.value),className:"form__input"})]})]}),x.jsxs("div",{className:"form__group form__group--deductions",children:[x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("label",{htmlFor:"sale",children:"Продажа (товар), %"}),x.jsx("input",{id:"sale",type:"text",pattern:"[0-9]*",value:M.sale,onChange:X=>oe("sale",X.target.value),className:"form__input"})]}),x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("label",{htmlFor:"sale_electronics",children:"Продажа (электроника), %"}),x.jsx("input",{id:"sale_electronics",type:"text",pattern:"[0-9]*",value:M.sale_electronics,onChange:X=>oe("sale_electronics",X.target.value),className:"form__input"})]}),x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("label",{htmlFor:"sale_gift_cards",children:"Продажа (подарочная карта), %"}),x.jsx("input",{id:"sale_gift_cards",type:"text",pattern:"[0-9]*",value:M.sale_gift_cards,onChange:X=>oe("sale_gift_cards",X.target.value),className:"form__input"})]})]}),x.jsxs("div",{className:"form__group form__group--deductions",children:[x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("label",{htmlFor:"service",children:"Услуга, %"}),x.jsx("input",{id:"service",type:"text",pattern:"[0-9]*",value:M.service,onChange:X=>oe("service",X.target.value),className:"form__input"})]}),x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("label",{htmlFor:"service_stamp",children:"Услуга (печать), %"}),x.jsx("input",{id:"service_stamp",type:"text",pattern:"[0-9]*",value:M.service_stamp,onChange:X=>oe("service_stamp",X.target.value),className:"form__input"})]}),x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("label",{htmlFor:"service_gift_card",children:"Услуга (Подарочная карта), %"}),x.jsx("input",{id:"service_gift_card",type:"text",pattern:"[0-9]*",value:M.service_gift_card,onChange:X=>oe("service_gift_card",X.target.value),className:"form__input"})]})]}),x.jsxs("div",{className:"form__group form__group--deductions",children:[x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("label",{htmlFor:"junior_salary",children:"Оклад (младшая смена), ₽"}),x.jsx("input",{id:"junior_salary",type:"text",pattern:"[0-9]*",value:M.junior_salary,onChange:X=>oe("junior_salary",X.target.value),className:"form__input",placeholder:"Оклад младшей смены"})]}),x.jsxs("div",{className:"form__group form__group--vertical",children:[x.jsx("label",{htmlFor:"senior_salary",children:"Оклад (старшая смена), ₽"}),x.jsx("input",{id:"senior_salary",type:"text",pattern:"[0-9]*",value:M.senior_salary,onChange:X=>oe("senior_salary",X.target.value),className:"form__input",placeholder:"Оклад старшей смены"})]})]}),x.jsx("div",{className:"new-sale__footer",children:x.jsx("button",{className:"button button--main",onClick:ae,disabled:ne||j,children:ne?"Сохраняю...":"Сохранить"})})]})]}),B&&x.jsx("div",{className:"form__message",children:B})]})};er.memo(({value:t,onChange:e})=>{const n=a=>{if(!a.target.value.startsWith("+7-")){const c="+7-"+a.target.value.replace(/\D/g,"");e(c);return}const o=a.target.value.slice(3).replace(/\D/g,"");let u="+7-";u+=(o.length>0?o.slice(0,3):"")+(o.length>3?"-"+o.slice(3,6):"")+(o.length>6?"-"+o.slice(6,8):"")+(o.length>8?"-"+o.slice(8,10):""),e(u)},r=a=>{a.key==="Backspace"&&a.target.selectionStart<=3&&a.preventDefault(),a.key==="ArrowLeft"&&a.target.selectionStart<=3&&a.target.setSelectionRange(3,3)},i=a=>{a.target.selectionStart<3&&a.target.setSelectionRange(3,3)};return x.jsx("input",{className:"form__input",type:"tel",value:t,onChange:n,onKeyDown:r,onClick:i,placeholder:"+7-___-___-__-__",pattern:"\\+7-\\d{3}-\\d{3}-\\d{2}-\\d{2}",required:!0,maxLength:"16"})});function j9(){const t="https://ljcazclnmhjdcmgefcvp.supabase.co",e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqY2F6Y2xubWhqZGNtZ2VmY3ZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDczMTIwMzgsImV4cCI6MjA2Mjg4ODAzOH0.9NvbehpZ9SpewAC86T6LAkcRl5ZBKFLK_czeWg0O3JY",[n,r]=ie.useState(null),i=ie.useRef(null),[a,o]=ie.useState(!1),[u,c]=ie.useState(!0),[f,d]=ie.useState("form"),[p,g]=ie.useState([]),[v,_]=ie.useState([]),[w,A]=ie.useState([]),[S,L]=ie.useState(!1),[P,F]=ie.useState(""),[R,O]=ie.useState(!1),[z,T]=ie.useState(""),[N,$]=ie.useState(!1),[V,G]=ie.useState(!1),[re,Y]=ie.useState(!1),[M,D]=ie.useState(!1),j=ie.useRef(null),[Z,ne]=ie.useState(!1),[k,le]=ie.useState(!1),[se,B]=ie.useState(!1),[U,I]=ie.useState(""),W=ie.useCallback(()=>{const xe=j.current;if(!xe)return;const{scrollLeft:me,scrollWidth:Ee,clientWidth:je}=xe,Pe=Ee>je;ne(me>0),le(Pe&&me<Ee-je-1)},[]);ie.useEffect(()=>{const xe=j.current;if(!xe)return;const me=()=>{requestAnimationFrame(()=>{const{scrollLeft:je,scrollWidth:Pe,clientWidth:qe}=xe,We=Pe>qe;ne(je>0),le(We&&je<Pe-qe-1)})};me(),xe.addEventListener("scroll",me,{passive:!0});const Ee=new ResizeObserver(me);return Ee.observe(xe),()=>{xe.removeEventListener("scroll",me),Ee.unobserve(xe)}},[]),ie.useEffect(()=>{const xe=setTimeout(()=>{j.current&&W()},100);return()=>clearTimeout(xe)},[f]);const[ae,oe]=ie.useState(()=>localStorage.getItem("themePreference")||"system"),pe=xe=>xe==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":xe,[De,de]=ie.useState(pe(ae)),he=xe=>{const me=r3(t,e,{global:{headers:{Authorization:`Bearer ${xe}`,apikey:e}},auth:{persistSession:!1}});return i.current=me,r(me),me},Te=async xe=>{const me=he(xe);r(me),o(!0);try{const{data:{user:Ee},error:je}=await me.auth.getUser();if(je){console.error("Ошибка получения данных пользователя:",je);return}const Pe=(Ee==null?void 0:Ee.email)||"";B(Pe==="admin@driv3r.ru"),I(Pe),await we(me),await H(),await X(),setTimeout(W,50)}catch(Ee){console.error("Ошибка при входе:",Ee)}},fe=async()=>{n&&await n.auth.signOut(),localStorage.removeItem("supabaseAuthData"),localStorage.removeItem("userEmail"),r(null),o(!1),B(!1),I(""),d("form")},ce=()=>{oe(xe=>{switch(xe){case"light":return"dark";case"dark":return"system";default:return"light"}})},ve=()=>ae==="system"?"🌓":ae==="dark"?"🌙":"☀️",Se=()=>{switch(ae){case"light":return"Тема: светлая";case"dark":return"Тема: тёмная";default:return`Тема: системная (${De==="dark"?"тёмная":"светлая"})`}};ie.useEffect(()=>{const xe=pe(ae);de(xe),document.documentElement.className=`${xe}-theme`,localStorage.setItem("themePreference",ae);const me=window.matchMedia("(prefers-color-scheme: dark)"),Ee=je=>{if(ae==="system"){const Pe=je.matches?"dark":"light";de(Pe),document.documentElement.className=`${Pe}-theme`}};return me.addListener(Ee),()=>{me.removeListener(Ee)}},[ae]),ie.useEffect(()=>{const xe=()=>De==="dark"?"#121212":"#f9f9f9",me=document.querySelector('meta[name="theme-color"]');me&&me.setAttribute("content",xe());const Ee=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');Ee&&Ee.setAttribute("content",De==="dark"?"black":"default")},[De]),ie.useEffect(()=>{(async()=>{const me=localStorage.getItem("supabaseAuthData");if(me)try{const{token:Ee,expiresAt:je}=JSON.parse(me);if(new Date().getTime()>=je){localStorage.removeItem("supabaseAuthData"),o(!1),B(!1),I(""),c(!1);return}const qe=he(Ee);r(qe),o(!0);const{data:{user:We},error:Ke}=await qe.auth.getUser();if(Ke)throw Ke;const Qe=(We==null?void 0:We.email)||"";B(Qe==="admin@driv3r.ru"),I(Qe),await we(qe),await H(),await X()}catch(Ee){console.error("Auth check error:",Ee),localStorage.removeItem("supabaseAuthData"),o(!1),B(!1),I("")}c(!1)})()},[]);const we=async xe=>{L(!0);try{const{data:me,error:Ee}=await xe.from("clients").select("*").order("receipt_number",{ascending:!1});if(Ee){if(Ee.message.includes("JWT expired")||Ee.message.includes("Invalid JWT")){fe();return}throw Ee}const je=me.sort((Pe,qe)=>Pe.is_archive===qe.is_archive?qe.receipt_number-Pe.receipt_number:Pe.is_archive?1:-1);g(je),$(!0)}catch(me){console.error("Ошибка загрузки клиентов:",me)}finally{L(!1)}},H=ie.useCallback(async()=>{if(n){D(!0);try{const{data:xe,error:me}=await n.from("purchases").select("*").order("is_sale",{ascending:!1}).order("receipt_number",{ascending:!1});if(me)throw me;_(xe)}catch(xe){console.error("Ошибка загрузки остатков:",xe)}finally{D(!1)}}},[n]),X=ie.useCallback(async()=>{if(n)try{const{data:xe,error:me}=await n.from("services").select("*");if(me){console.error("Supabase error:",me);return}(!xe||xe.length===0)&&console.warn("Таблица services пуста или не существует"),A(xe||[])}catch(xe){console.error("Ошибка загрузки услуг:",xe)}},[n]),ee=async(xe,me)=>{const Ee=[];for(const je of me){const Pe=je.name.split(".").pop(),qe=`${_s()}.${Pe}`,We=`client-photos/${xe}/${qe}`,{error:Ke}=await n.storage.from("client-photos").upload(We,je,{cacheControl:"3600",upsert:!1});if(Ke)throw Ke;Ee.push(We)}return Ee},te=ie.useCallback(async(xe,me)=>{var Ee;try{const{data:je,error:Pe}=await n.from("clients").insert([xe]).select();if(Pe)throw Pe;const We=je[0].receipt_number;let Ke=[];if(((Ee=xe.photo_paths)==null?void 0:Ee.length)>0){Ke=await ee(We,xe.photo_paths);const{error:Qe}=await n.from("clients").update({photo_paths:Ke}).eq("receipt_number",We);if(Qe)throw Qe}T("Запись успешно создана!"),setTimeout(()=>T(""),3e3),we(n)}catch(je){F(je.message||"Ошибка при отправке формы")}finally{}},[n]),ge=async xe=>{var me,Ee,je;try{let Pe="template.docx";(me=xe.social)!=null&&me.is_avito?Pe="template_avito.docx":(Ee=xe.social)!=null&&Ee.is_yandex?Pe="template_yandex.docx":(je=xe.social)!=null&&je.is_2gis&&(Pe="template_2gis.docx");const qe=await fetch(`/documents/${Pe}`);if(!qe.ok)throw new Error(`Ошибка HTTP: ${qe.status}`);const We=await qe.arrayBuffer(),Ke=new H3(We),Qe=new O3(Ke,{paragraphLoop:!0,linebreaks:!0}),at=xe.org_name?xe.org_name:`${xe.last_name||""} ${xe.first_name||""} ${xe.middle_name||""}`.trim(),xt={receipt_number:xe.receipt_number.toString(),last_name:xe.last_name||"",first_name:xe.first_name||"",middle_name:xe.middle_name||"",org_name:xe.org_name||"",customer_name:at,phone:xe.phone||"",object:xe.object||"не указано",serial_number:xe.serial_number||"не указан",state:xe.state||"не указано",repair_type:xe.repair_type||"",current_date:new Date(xe.created_at).toLocaleDateString("ru-RU")};Qe.render(xt);const bt=Qe.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),gt=new Date(xe.created_at).toLocaleDateString("ru-RU"),Rt=xe.org_name?`Квитанция_${xe.receipt_number}_${xe.org_name}_${gt}`:`Квитанция_${xe.receipt_number}_${xe.last_name}_${gt}`;Y3.saveAs(bt,`${Rt}.docx`)}catch(Pe){alert(`Не удалось создать документ: ${Pe.message}`)}},Re=()=>{G(xe=>!xe)};return u?x.jsx("div",{className:"loader-container",children:x.jsx("div",{className:"loader"})}):a?x.jsxs("div",{className:"app",children:[x.jsxs("div",{className:"app__header",children:[x.jsxs("div",{className:"app__header-logo",children:[x.jsxs("span",{className:"app__subtitle",children:["DriV3R",x.jsx("span",{className:"app__subtitle--crm",children:" CRM"})]}),x.jsx("span",{className:"app__beta",title:"Бета-версия",children:"β"})]}),x.jsxs("div",{className:"header__buttons",children:[x.jsx("button",{className:`theme-switch ${ae}`,onClick:ce,title:Se(),"aria-label":"Переключить тему",children:x.jsx("span",{className:"theme-icon",children:ve()})}),x.jsxs("button",{className:"button button--main button--logout",onClick:fe,title:"Выйти из системы",children:[x.jsxs("span",{className:"user-email",children:[U.split("@")[0]," "]}),x.jsx("img",{src:"/documents/icons/icon--exit.svg",alt:"Выйти из системы",width:"20"})]})]}),x.jsxs("div",{className:`tabs-container ${Z&&k?"tabs-container--mask-both":Z?"tabs-container--mask-left":k?"tabs-container--mask-right":"tabs-container--mask-none"}`,ref:j,onScroll:W,children:[x.jsx("div",{className:`tab ${f==="form"?"tab--active":""}`,onClick:()=>d("form"),children:"+ Запись"}),x.jsx("div",{className:`tab ${f==="purchase"?"tab--active":""}`,onClick:()=>d("purchase"),children:"+ Закуп"}),x.jsx("div",{className:`tab ${f==="new-sale"?"tab--active":""}`,onClick:()=>d("new-sale"),children:"+ Продажа"}),x.jsx("div",{className:`tab ${f==="clients"?"tab--active":""}`,onClick:()=>d("clients"),children:"Клиенты"}),x.jsx("div",{className:`tab ${f==="stock"?"tab--active":""}`,onClick:()=>d("stock"),children:"Остатки"}),x.jsx("div",{className:`tab ${f==="services"?"tab--active":""}`,onClick:()=>d("services"),children:"Услуги"}),x.jsx("div",{className:`tab ${f==="sales"?"tab--active":""}`,onClick:()=>d("sales"),children:"Продажи"}),x.jsx("div",{className:`tab ${f==="stats"?"tab--active":""}`,onClick:()=>d("stats"),children:"Стата"}),x.jsx("div",{className:`tab ${f==="ai"?"tab--active":""}`,onClick:()=>d("ai"),children:"ИИ"})]})]}),x.jsx("div",{className:`tab-content ${f==="form"?"active":""}`,children:x.jsx(rN,{supabase:n,onSubmit:te,isSaving:R,formError:P,setFormError:F,tempMessage:z})}),x.jsx("div",{className:`tab-content ${f==="purchase"?"active":""}`,children:x.jsx(bj,{supabase:n,onSuccess:H})}),x.jsx("div",{className:`tab-content ${f==="new-sale"?"active":""}`,children:x.jsx(M9,{supabase:n,clients:p.filter(xe=>!xe.is_archive),stockItems:v,services:w,onSaleComplete:()=>{H(),Re()},isLoading:R,setIsLoading:O,loadClients:we,isAdmin:se})}),x.jsx("div",{className:`tab-content ${f==="clients"?"active":""}`,children:x.jsx(Lj,{clients:p,loading:S,initialLoadComplete:N,supabase:n,loadClients:we,generateDocx:ge,onStatusChange:()=>Y(xe=>!xe),activeTheme:De,isAdmin:se})}),x.jsx("div",{className:`tab-content ${f==="stock"?"active":""}`,children:x.jsx(Rj,{supabase:n,items:v,loadItems:H,activeTheme:De,isLoading:M,isAdmin:se})}),x.jsx("div",{className:`tab-content ${f==="services"?"active":""}`,children:x.jsx(Bj,{supabase:n,activeTheme:De,onServicesLoaded:A})}),x.jsx("div",{className:`tab-content ${f==="sales"?"active":""}`,children:x.jsx(zj,{supabase:n,activeTheme:De,salesUpdated:V})}),x.jsx("div",{className:`tab-content ${f==="stats"?"active":""}`,children:x.jsx(c8,{supabase:n,salesDataUpdated:V,clientsDataUpdated:re})}),x.jsx("div",{className:`tab-content ${f==="ai"?"active":""}`,children:x.jsx(N9,{supabase:n,stockData:v,onRefresh:H,activeTheme:De})})]}):x.jsx(X3,{onLogin:Te,onAuthCheck:xe=>c(xe)})}eO.createRoot(document.getElementById("root")).render(x.jsx(er.StrictMode,{children:x.jsx(j9,{})}));export{ws as g};
