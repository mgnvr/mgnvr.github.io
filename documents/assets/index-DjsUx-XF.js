var XA=Object.defineProperty;var GA=(t,e,n)=>e in t?XA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ot=(t,e,n)=>GA(t,typeof e!="symbol"?e+"":e,n);function WA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ZA(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Fp={exports:{}},vu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function KA(){if(Wb)return vu;Wb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return vu.Fragment=e,vu.jsx=n,vu.jsxs=n,vu}var Zb;function QA(){return Zb||(Zb=1,Fp.exports=KA()),Fp.exports}var E=QA(),qp={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function JA(){if(Kb)return Rt;Kb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function g(F){return F===null||typeof F!="object"?null:(F=m&&F[m]||F["@@iterator"],typeof F=="function"?F:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,C={};function T(F,de,ae){this.props=F,this.context=de,this.refs=C,this.updater=ae||v}T.prototype.isReactComponent={},T.prototype.setState=function(F,de){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,de,"setState")},T.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function S(){}S.prototype=T.prototype;function P(F,de,ae){this.props=F,this.context=de,this.refs=C,this.updater=ae||v}var L=P.prototype=new S;L.constructor=P,_(L,T.prototype),L.isPureReactComponent=!0;var I=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function B(F,de,ae,K,U,M){return ae=M.ref,{$$typeof:t,type:F,key:de,ref:ae!==void 0?ae:null,props:M}}function D(F,de){return B(F.type,de,void 0,void 0,void 0,F.props)}function O(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function V(F){var de={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ae){return de[ae]})}var $=/\/+/g;function J(F,de){return typeof F=="object"&&F!==null&&F.key!=null?V(""+F.key):de.toString(36)}function ce(){}function Y(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(ce,ce):(F.status="pending",F.then(function(de){F.status==="pending"&&(F.status="fulfilled",F.value=de)},function(de){F.status==="pending"&&(F.status="rejected",F.reason=de)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function k(F,de,ae,K,U){var M=typeof F;(M==="undefined"||M==="boolean")&&(F=null);var H=!1;if(F===null)H=!0;else switch(M){case"bigint":case"string":case"number":H=!0;break;case"object":switch(F.$$typeof){case t:case e:H=!0;break;case h:return H=F._init,k(H(F._payload),de,ae,K,U)}}if(H)return U=U(F),H=K===""?"."+J(F,0):K,I(U)?(ae="",H!=null&&(ae=H.replace($,"$&/")+"/"),k(U,de,ae,"",function(be){return be})):U!=null&&(O(U)&&(U=D(U,ae+(U.key==null||F&&F.key===U.key?"":(""+U.key).replace($,"$&/")+"/")+H)),de.push(U)),1;H=0;var oe=K===""?".":K+":";if(I(F))for(var pe=0;pe<F.length;pe++)K=F[pe],M=oe+J(K,pe),H+=k(K,de,ae,M,U);else if(pe=g(F),typeof pe=="function")for(F=pe.call(F),pe=0;!(K=F.next()).done;)K=K.value,M=oe+J(K,pe++),H+=k(K,de,ae,M,U);else if(M==="object"){if(typeof F.then=="function")return k(Y(F),de,ae,K,U);throw de=String(F),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.")}return H}function A(F,de,ae){if(F==null)return F;var K=[],U=0;return k(F,K,"","",function(M){return de.call(ae,M,U++)}),K}function R(F){if(F._status===-1){var de=F._result;de=de(),de.then(function(ae){(F._status===0||F._status===-1)&&(F._status=1,F._result=ae)},function(ae){(F._status===0||F._status===-1)&&(F._status=2,F._result=ae)}),F._status===-1&&(F._status=0,F._result=de)}if(F._status===1)return F._result.default;throw F._result}var Q=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var de=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(de))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function re(){}return Rt.Children={map:A,forEach:function(F,de,ae){A(F,function(){de.apply(this,arguments)},ae)},count:function(F){var de=0;return A(F,function(){de++}),de},toArray:function(F){return A(F,function(de){return de})||[]},only:function(F){if(!O(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Rt.Component=T,Rt.Fragment=n,Rt.Profiler=i,Rt.PureComponent=P,Rt.StrictMode=r,Rt.Suspense=f,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return j.H.useMemoCache(F)}},Rt.cache=function(F){return function(){return F.apply(null,arguments)}},Rt.cloneElement=function(F,de,ae){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var K=_({},F.props),U=F.key,M=void 0;if(de!=null)for(H in de.ref!==void 0&&(M=void 0),de.key!==void 0&&(U=""+de.key),de)!N.call(de,H)||H==="key"||H==="__self"||H==="__source"||H==="ref"&&de.ref===void 0||(K[H]=de[H]);var H=arguments.length-2;if(H===1)K.children=ae;else if(1<H){for(var oe=Array(H),pe=0;pe<H;pe++)oe[pe]=arguments[pe+2];K.children=oe}return B(F.type,U,void 0,void 0,M,K)},Rt.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},Rt.createElement=function(F,de,ae){var K,U={},M=null;if(de!=null)for(K in de.key!==void 0&&(M=""+de.key),de)N.call(de,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(U[K]=de[K]);var H=arguments.length-2;if(H===1)U.children=ae;else if(1<H){for(var oe=Array(H),pe=0;pe<H;pe++)oe[pe]=arguments[pe+2];U.children=oe}if(F&&F.defaultProps)for(K in H=F.defaultProps,H)U[K]===void 0&&(U[K]=H[K]);return B(F,M,void 0,void 0,null,U)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(F){return{$$typeof:c,render:F}},Rt.isValidElement=O,Rt.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:R}},Rt.memo=function(F,de){return{$$typeof:d,type:F,compare:de===void 0?null:de}},Rt.startTransition=function(F){var de=j.T,ae={};j.T=ae;try{var K=F(),U=j.S;U!==null&&U(ae,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(re,Q)}catch(M){Q(M)}finally{j.T=de}},Rt.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Rt.use=function(F){return j.H.use(F)},Rt.useActionState=function(F,de,ae){return j.H.useActionState(F,de,ae)},Rt.useCallback=function(F,de){return j.H.useCallback(F,de)},Rt.useContext=function(F){return j.H.useContext(F)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(F,de){return j.H.useDeferredValue(F,de)},Rt.useEffect=function(F,de,ae){var K=j.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(F,de)},Rt.useId=function(){return j.H.useId()},Rt.useImperativeHandle=function(F,de,ae){return j.H.useImperativeHandle(F,de,ae)},Rt.useInsertionEffect=function(F,de){return j.H.useInsertionEffect(F,de)},Rt.useLayoutEffect=function(F,de){return j.H.useLayoutEffect(F,de)},Rt.useMemo=function(F,de){return j.H.useMemo(F,de)},Rt.useOptimistic=function(F,de){return j.H.useOptimistic(F,de)},Rt.useReducer=function(F,de,ae){return j.H.useReducer(F,de,ae)},Rt.useRef=function(F){return j.H.useRef(F)},Rt.useState=function(F){return j.H.useState(F)},Rt.useSyncExternalStore=function(F,de,ae){return j.H.useSyncExternalStore(F,de,ae)},Rt.useTransition=function(){return j.H.useTransition()},Rt.version="19.1.0",Rt}var Qb;function Wg(){return Qb||(Qb=1,qp.exports=JA()),qp.exports}var se=Wg();const or=hl(se),Jb=WA({__proto__:null,default:or},[se]);var Hp={exports:{}},yu={},$p={exports:{}},Vp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function eC(){return e_||(e_=1,function(t){function e(A,R){var Q=A.length;A.push(R);e:for(;0<Q;){var re=Q-1>>>1,F=A[re];if(0<i(F,R))A[re]=R,A[Q]=F,Q=re;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var R=A[0],Q=A.pop();if(Q!==R){A[0]=Q;e:for(var re=0,F=A.length,de=F>>>1;re<de;){var ae=2*(re+1)-1,K=A[ae],U=ae+1,M=A[U];if(0>i(K,Q))U<F&&0>i(M,K)?(A[re]=M,A[U]=Q,re=U):(A[re]=K,A[ae]=Q,re=ae);else if(U<F&&0>i(M,Q))A[re]=M,A[U]=Q,re=U;else break e}}return R}function i(A,R){var Q=A.sortIndex-R.sortIndex;return Q!==0?Q:A.id-R.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],d=[],h=1,m=null,g=3,v=!1,_=!1,C=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function I(A){for(var R=n(d);R!==null;){if(R.callback===null)r(d);else if(R.startTime<=A)r(d),R.sortIndex=R.expirationTime,e(f,R);else break;R=n(d)}}function j(A){if(C=!1,I(A),!_)if(n(f)!==null)_=!0,N||(N=!0,J());else{var R=n(d);R!==null&&k(j,R.startTime-A)}}var N=!1,B=-1,D=5,O=-1;function V(){return T?!0:!(t.unstable_now()-O<D)}function $(){if(T=!1,N){var A=t.unstable_now();O=A;var R=!0;try{e:{_=!1,C&&(C=!1,P(B),B=-1),v=!0;var Q=g;try{t:{for(I(A),m=n(f);m!==null&&!(m.expirationTime>A&&V());){var re=m.callback;if(typeof re=="function"){m.callback=null,g=m.priorityLevel;var F=re(m.expirationTime<=A);if(A=t.unstable_now(),typeof F=="function"){m.callback=F,I(A),R=!0;break t}m===n(f)&&r(f),I(A)}else r(f);m=n(f)}if(m!==null)R=!0;else{var de=n(d);de!==null&&k(j,de.startTime-A),R=!1}}break e}finally{m=null,g=Q,v=!1}R=void 0}}finally{R?J():N=!1}}}var J;if(typeof L=="function")J=function(){L($)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,Y=ce.port2;ce.port1.onmessage=$,J=function(){Y.postMessage(null)}}else J=function(){S($,0)};function k(A,R){B=S(function(){A(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(A){switch(g){case 1:case 2:case 3:var R=3;break;default:R=g}var Q=g;g=R;try{return A()}finally{g=Q}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(A,R){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var Q=g;g=A;try{return R()}finally{g=Q}},t.unstable_scheduleCallback=function(A,R,Q){var re=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?re+Q:re):Q=re,A){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Q+F,A={id:h++,callback:R,priorityLevel:A,startTime:Q,expirationTime:F,sortIndex:-1},Q>re?(A.sortIndex=Q,e(d,A),n(f)===null&&A===n(d)&&(C?(P(B),B=-1):C=!0,k(j,Q-re))):(A.sortIndex=F,e(f,A),_||v||(_=!0,N||(N=!0,J()))),A},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(A){var R=g;return function(){var Q=g;g=R;try{return A.apply(this,arguments)}finally{g=Q}}}}(Vp)),Vp}var t_;function tC(){return t_||(t_=1,$p.exports=eC()),$p.exports}var Yp={exports:{}},hr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function nC(){if(n_)return hr;n_=1;var t=Wg();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:d,implementation:h}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return hr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,hr.createPortal=function(f,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(f,d,null,h)},hr.flushSync=function(f){var d=l.T,h=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=h,r.d.f()}},hr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},hr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},hr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var h=d.as,m=c(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:v}):h==="script"&&r.d.X(f,{crossOrigin:m,integrity:g,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},hr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},hr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=c(h,d.crossOrigin);r.d.L(f,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},hr.preloadModule=function(f,d){if(typeof f=="string")if(d){var h=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},hr.requestFormReset=function(f){r.d.r(f)},hr.unstable_batchedUpdates=function(f,d){return f(d)},hr.useFormState=function(f,d,h){return l.H.useFormState(f,d,h)},hr.useFormStatus=function(){return l.H.useHostTransitionStatus()},hr.version="19.1.0",hr}var r_;function Vx(){if(r_)return Yp.exports;r_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yp.exports=nC(),Yp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function rC(){if(i_)return yu;i_=1;var t=tC(),e=Wg(),n=Vx();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(s(a)!==a)throw Error(r(188))}function f(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,p=o;;){var y=u.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){u=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===u)return c(y),a;if(w===p)return c(y),o;w=w.sibling}throw Error(r(188))}if(u.return!==p.return)u=y,p=w;else{for(var X=!1,ue=y.child;ue;){if(ue===u){X=!0,u=y,p=w;break}if(ue===p){X=!0,p=y,u=w;break}ue=ue.sibling}if(!X){for(ue=w.child;ue;){if(ue===u){X=!0,u=w,p=y;break}if(ue===p){X=!0,p=w,u=y;break}ue=ue.sibling}if(!X)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function d(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=d(a),o!==null)return o;a=a.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),L=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function J(a){return a===null||typeof a!="object"?null:(a=$&&a[$]||a["@@iterator"],typeof a=="function"?a:null)}var ce=Symbol.for("react.client.reference");function Y(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ce?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case T:return"Profiler";case C:return"StrictMode";case j:return"Suspense";case N:return"SuspenseList";case O:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case v:return"Portal";case L:return(a.displayName||"Context")+".Provider";case P:return(a._context.displayName||"Context")+".Consumer";case I:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case B:return o=a.displayName||null,o!==null?o:Y(a.type)||"Memo";case D:o=a._payload,a=a._init;try{return Y(a(o))}catch{}}return null}var k=Array.isArray,A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},re=[],F=-1;function de(a){return{current:a}}function ae(a){0>F||(a.current=re[F],re[F]=null,F--)}function K(a,o){F++,re[F]=a.current,a.current=o}var U=de(null),M=de(null),H=de(null),oe=de(null);function pe(a,o){switch(K(H,o),K(M,a),K(U,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?Sb(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=Sb(o),a=Eb(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ae(U),K(U,a)}function be(){ae(U),ae(M),ae(H)}function ve(a){a.memoizedState!==null&&K(oe,a);var o=U.current,u=Eb(o,a.type);o!==u&&(K(M,a),K(U,u))}function fe(a){M.current===a&&(ae(U),ae(M)),oe.current===a&&(ae(oe),du._currentValue=Q)}var me=Object.prototype.hasOwnProperty,Ae=t.unstable_scheduleCallback,Z=t.unstable_cancelCallback,ie=t.unstable_shouldYield,he=t.unstable_requestPaint,ge=t.unstable_now,ee=t.unstable_getCurrentPriorityLevel,q=t.unstable_ImmediatePriority,ne=t.unstable_UserBlockingPriority,te=t.unstable_NormalPriority,le=t.unstable_LowPriority,we=t.unstable_IdlePriority,je=t.log,Be=t.unstable_setDisableYieldValue,$e=null,Ve=null;function Ke(a){if(typeof je=="function"&&Be(a),Ve&&typeof Ve.setStrictMode=="function")try{Ve.setStrictMode($e,a)}catch{}}var ut=Math.clz32?Math.clz32:vt,Xe=Math.log,lt=Math.LN2;function vt(a){return a>>>=0,a===0?32:31-(Xe(a)/lt|0)|0}var st=256,rt=4194304;function Dt(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function It(a,o,u){var p=a.pendingLanes;if(p===0)return 0;var y=0,w=a.suspendedLanes,X=a.pingedLanes;a=a.warmLanes;var ue=p&134217727;return ue!==0?(p=ue&~w,p!==0?y=Dt(p):(X&=ue,X!==0?y=Dt(X):u||(u=ue&~a,u!==0&&(y=Dt(u))))):(ue=p&~w,ue!==0?y=Dt(ue):X!==0?y=Dt(X):u||(u=p&~a,u!==0&&(y=Dt(u)))),y===0?0:o!==0&&o!==y&&(o&w)===0&&(w=y&-y,u=o&-o,w>=u||w===32&&(u&4194048)!==0)?o:y}function Ct(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Qt(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yn(){var a=st;return st<<=1,(st&4194048)===0&&(st=256),a}function Vt(){var a=rt;return rt<<=1,(rt&62914560)===0&&(rt=4194304),a}function xn(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Mt(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Wt(a,o,u,p,y,w){var X=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var ue=a.entanglements,Ee=a.expirationTimes,Me=a.hiddenUpdates;for(u=X&~u;0<u;){var Ue=31-ut(u),qe=1<<Ue;ue[Ue]=0,Ee[Ue]=-1;var Le=Me[Ue];if(Le!==null)for(Me[Ue]=null,Ue=0;Ue<Le.length;Ue++){var Pe=Le[Ue];Pe!==null&&(Pe.lane&=-536870913)}u&=~qe}p!==0&&it(a,p,0),w!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=w&~(X&~o))}function it(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var p=31-ut(o);a.entangledLanes|=o,a.entanglements[p]=a.entanglements[p]|1073741824|u&4194090}function nt(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var p=31-ut(u),y=1<<p;y&o|a[p]&o&&(a[p]|=o),u&=~y}}function et(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ct(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function sn(){var a=R.p;return a!==0?a:(a=window.event,a===void 0?32:Hb(a.type))}function Un(a,o){var u=R.p;try{return R.p=a,o()}finally{R.p=u}}var Ge=Math.random().toString(36).slice(2),z="__reactFiber$"+Ge,G="__reactProps$"+Ge,ye="__reactContainer$"+Ge,De="__reactEvents$"+Ge,He="__reactListeners$"+Ge,Ze="__reactHandles$"+Ge,pt="__reactResources$"+Ge,jt="__reactMarker$"+Ge;function wt(a){delete a[z],delete a[G],delete a[De],delete a[He],delete a[Ze]}function Jt(a){var o=a[z];if(o)return o;for(var u=a.parentNode;u;){if(o=u[ye]||u[z]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=Db(a);a!==null;){if(u=a[z])return u;a=Db(a)}return o}a=u,u=a.parentNode}return null}function pn(a){if(a=a[z]||a[ye]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function er(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Dn(a){var o=a[pt];return o||(o=a[pt]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ft(a){a[jt]=!0}var ur=new Set,On={};function bn(a,o){Tt(a,o),Tt(a+"Capture",o)}function Tt(a,o){for(On[a]=o,a=0;a<o.length;a++)ur.add(o[a])}var tr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),En={},_r={};function kr(a){return me.call(_r,a)?!0:me.call(En,a)?!1:tr.test(a)?_r[a]=!0:(En[a]=!0,!1)}function bi(a,o,u){if(kr(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function eo(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function oi(a,o,u,p){if(p===null)a.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+p)}}var _l,rs;function ha(a){if(_l===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);_l=o&&o[1]||"",rs=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_l+a+rs}var xl=!1;function wl(a,o){if(!a||xl)return"";xl=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var qe=function(){throw Error()};if(Object.defineProperty(qe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(qe,[])}catch(Pe){var Le=Pe}Reflect.construct(a,[],qe)}else{try{qe.call()}catch(Pe){Le=Pe}a.call(qe.prototype)}}else{try{throw Error()}catch(Pe){Le=Pe}(qe=a())&&typeof qe.catch=="function"&&qe.catch(function(){})}}catch(Pe){if(Pe&&Le&&typeof Pe.stack=="string")return[Pe.stack,Le.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),X=w[0],ue=w[1];if(X&&ue){var Ee=X.split(`
`),Me=ue.split(`
`);for(y=p=0;p<Ee.length&&!Ee[p].includes("DetermineComponentFrameRoot");)p++;for(;y<Me.length&&!Me[y].includes("DetermineComponentFrameRoot");)y++;if(p===Ee.length||y===Me.length)for(p=Ee.length-1,y=Me.length-1;1<=p&&0<=y&&Ee[p]!==Me[y];)y--;for(;1<=p&&0<=y;p--,y--)if(Ee[p]!==Me[y]){if(p!==1||y!==1)do if(p--,y--,0>y||Ee[p]!==Me[y]){var Ue=`
`+Ee[p].replace(" at new "," at ");return a.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",a.displayName)),Ue}while(1<=p&&0<=y);break}}}finally{xl=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?ha(u):""}function $d(a){switch(a.tag){case 26:case 27:case 5:return ha(a.type);case 16:return ha("Lazy");case 13:return ha("Suspense");case 19:return ha("SuspenseList");case 0:case 15:return wl(a.type,!1);case 11:return wl(a.type.render,!1);case 1:return wl(a.type,!0);case 31:return ha("Activity");default:return""}}function pa(a){try{var o="";do o+=$d(a),a=a.return;while(a);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function cr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function is(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function to(a){var o=is(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),p=""+a[o];if(!a.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,w=u.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(X){p=""+X,w.call(this,X)}}),Object.defineProperty(a,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(X){p=""+X},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function no(a){a._valueTracker||(a._valueTracker=to(a))}function as(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return a&&(p=is(a)?a.checked?"true":"false":a.value),a=p,a!==u?(o.setValue(a),!0):!1}function ro(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Vd=/[\n"\\]/g;function xr(a){return a.replace(Vd,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Sl(a,o,u,p,y,w,X,ue){a.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?a.type=X:a.removeAttribute("type"),o!=null?X==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+cr(o)):a.value!==""+cr(o)&&(a.value=""+cr(o)):X!=="submit"&&X!=="reset"||a.removeAttribute("value"),o!=null?io(a,X,cr(o)):u!=null?io(a,X,cr(u)):p!=null&&a.removeAttribute("value"),y==null&&w!=null&&(a.defaultChecked=!!w),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"?a.name=""+cr(ue):a.removeAttribute("name")}function ma(a,o,u,p,y,w,X,ue){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),o!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||o!=null))return;u=u!=null?""+cr(u):"",o=o!=null?""+cr(o):u,ue||o===a.value||(a.value=o),a.defaultValue=o}p=p??y,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=ue?a.checked:!!p,a.defaultChecked=!!p,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(a.name=X)}function io(a,o,u){o==="number"&&ro(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function ga(a,o,u,p){if(a=a.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=o.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&p&&(a[u].defaultSelected=!0)}else{for(u=""+cr(u),o=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,p&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function ss(a,o,u){if(o!=null&&(o=""+cr(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+cr(u):""}function _i(a,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(r(92));if(k(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=cr(o),a.defaultValue=u,p=a.textContent,p===u&&p!==""&&p!==null&&(a.value=p)}function va(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var Yd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wr(a,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":p?a.setProperty(o,u):typeof u!="number"||u===0||Yd.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function El(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var y in o)p=o[y],o.hasOwnProperty(y)&&u[y]!==p&&wr(a,y,p)}else for(var w in o)o.hasOwnProperty(w)&&wr(a,w,o[w])}function ao(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qi(a){return fc.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var ya=null;function Mr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var xi=null,wi=null;function os(a){var o=pn(a);if(o&&(a=o.stateNode)){var u=a[G]||null;e:switch(a=o.stateNode,o.type){case"input":if(Sl(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+xr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==a&&p.form===a.form){var y=p[G]||null;if(!y)throw Error(r(90));Sl(p,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===a.form&&as(p)}break e;case"textarea":ss(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&ga(a,!!u.multiple,o,!1)}}}var ba=!1;function so(a,o,u){if(ba)return a(o,u);ba=!0;try{var p=a(o);return p}finally{if(ba=!1,(xi!==null||wi!==null)&&(Jc(),xi&&(o=xi,a=wi,wi=xi=null,os(o),a)))for(o=0;o<a.length;o++)os(a[o])}}function on(a,o){var u=a.stateNode;if(u===null)return null;var p=u[G]||null;if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Al=!1;if(Vr)try{var Hi={};Object.defineProperty(Hi,"passive",{get:function(){Al=!0}}),window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch{Al=!1}var Yr=null,li=null,ls=null;function Cl(){if(ls)return ls;var a,o=li,u=o.length,p,y="value"in Yr?Yr.value:Yr.textContent,w=y.length;for(a=0;a<u&&o[a]===y[a];a++);var X=u-a;for(p=1;p<=X&&o[u-p]===y[w-p];p++);return ls=y.slice(a,1<p?1-p:void 0)}function us(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function cs(){return!0}function Tl(){return!1}function fr(a){function o(u,p,y,w,X){this._reactName=u,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=X,this.currentTarget=null;for(var ue in a)a.hasOwnProperty(ue)&&(u=a[ue],this[ue]=u?u(w):w[ue]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?cs:Tl,this.isPropagationStopped=Tl,this}return h(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),o}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sr=fr(Si),fs=h({},Si,{view:0,detail:0}),dc=fr(fs),Dl,Ol,ui,_a=h({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ui&&(ui&&a.type==="mousemove"?(Dl=a.screenX-ui.screenX,Ol=a.screenY-ui.screenY):Ol=Dl=0,ui=a),Dl)},movementY:function(a){return"movementY"in a?a.movementY:Ol}}),oo=fr(_a),Gd=h({},_a,{dataTransfer:0}),hc=fr(Gd),Wd=h({},fs,{relatedTarget:0}),$i=fr(Wd),Rl=h({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),lo=fr(Rl),pc=h({},Si,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),mc=fr(pc),gc=h({},Si,{data:0}),Nl=fr(gc),vc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _c(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=bc[a])?!!o[a]:!1}function uo(){return _c}var Zd=h({},fs,{key:function(a){if(a.key){var o=vc[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=us(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?yc[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uo,charCode:function(a){return a.type==="keypress"?us(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?us(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),b=fr(Zd),W=h({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x=fr(W),_e=h({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uo}),xe=fr(_e),Se=h({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ie=fr(Se),Te=h({},_a,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ye=fr(Te),Oe=h({},Si,{newState:0,oldState:0}),ke=fr(Oe),Lt=[9,13,27,32],tt=Vr&&"CompositionEvent"in window,Fe=null;Vr&&"documentMode"in document&&(Fe=document.documentMode);var Je=Vr&&"TextEvent"in window&&!Fe,Ot=Vr&&(!tt||Fe&&8<Fe&&11>=Fe),At=" ",Pt=!1;function Qe(a,o){switch(a){case"keyup":return Lt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function We(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var dt=!1;function cn(a,o){switch(a){case"compositionend":return We(o);case"keypress":return o.which!==32?null:(Pt=!0,At);case"textInput":return a=o.data,a===At&&Pt?null:a;default:return null}}function ft(a,o){if(dt)return a==="compositionend"||!tt&&Qe(a,o)?(a=Cl(),ls=li=Yr=null,dt=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ot&&o.locale!=="ko"?null:o.data;default:return null}}var Yt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ut(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Yt[a.type]:o==="textarea"}function yt(a,o,u,p){xi?wi?wi.push(p):wi=[p]:xi=p,o=sf(o,"onChange"),0<o.length&&(u=new Sr("onChange","change",null,u,p),a.push({event:u,listeners:o}))}var St=null,Zt=null;function Vi(a){yb(a,0)}function jr(a){var o=er(a);if(as(o))return a}function ds(a,o){if(a==="change")return o}var hs=!1;if(Vr){var Kd;if(Vr){var Qd="oninput"in document;if(!Qd){var F0=document.createElement("div");F0.setAttribute("oninput","return;"),Qd=typeof F0.oninput=="function"}Kd=Qd}else Kd=!1;hs=Kd&&(!document.documentMode||9<document.documentMode)}function q0(){St&&(St.detachEvent("onpropertychange",H0),Zt=St=null)}function H0(a){if(a.propertyName==="value"&&jr(Zt)){var o=[];yt(o,Zt,a,Mr(a)),so(Vi,o)}}function SE(a,o,u){a==="focusin"?(q0(),St=o,Zt=u,St.attachEvent("onpropertychange",H0)):a==="focusout"&&q0()}function EE(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return jr(Zt)}function AE(a,o){if(a==="click")return jr(o)}function CE(a,o){if(a==="input"||a==="change")return jr(o)}function TE(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Lr=typeof Object.is=="function"?Object.is:TE;function kl(a,o){if(Lr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var y=u[p];if(!me.call(o,y)||!Lr(a[y],o[y]))return!1}return!0}function $0(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function V0(a,o){var u=$0(a);a=0;for(var p;u;){if(u.nodeType===3){if(p=a+u.textContent.length,a<=o&&p>=o)return{node:u,offset:o-a};a=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=$0(u)}}function Y0(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Y0(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function X0(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=ro(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=ro(a.document)}return o}function Jd(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var DE=Vr&&"documentMode"in document&&11>=document.documentMode,co=null,eh=null,Ml=null,th=!1;function G0(a,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;th||co==null||co!==ro(p)||(p=co,"selectionStart"in p&&Jd(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ml&&kl(Ml,p)||(Ml=p,p=sf(eh,"onSelect"),0<p.length&&(o=new Sr("onSelect","select",null,o,u),a.push({event:o,listeners:p}),o.target=co)))}function ps(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var fo={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},nh={},W0={};Vr&&(W0=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function ms(a){if(nh[a])return nh[a];if(!fo[a])return a;var o=fo[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in W0)return nh[a]=o[u];return a}var Z0=ms("animationend"),K0=ms("animationiteration"),Q0=ms("animationstart"),OE=ms("transitionrun"),RE=ms("transitionstart"),NE=ms("transitioncancel"),J0=ms("transitionend"),ev=new Map,rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rh.push("scrollEnd");function ci(a,o){ev.set(a,o),bn(o,[a])}var tv=new WeakMap;function Xr(a,o){if(typeof a=="object"&&a!==null){var u=tv.get(a);return u!==void 0?u:(o={value:a,source:o,stack:pa(o)},tv.set(a,o),o)}return{value:a,source:o,stack:pa(o)}}var Gr=[],ho=0,ih=0;function xc(){for(var a=ho,o=ih=ho=0;o<a;){var u=Gr[o];Gr[o++]=null;var p=Gr[o];Gr[o++]=null;var y=Gr[o];Gr[o++]=null;var w=Gr[o];if(Gr[o++]=null,p!==null&&y!==null){var X=p.pending;X===null?y.next=y:(y.next=X.next,X.next=y),p.pending=y}w!==0&&nv(u,y,w)}}function wc(a,o,u,p){Gr[ho++]=a,Gr[ho++]=o,Gr[ho++]=u,Gr[ho++]=p,ih|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function ah(a,o,u,p){return wc(a,o,u,p),Sc(a)}function po(a,o){return wc(a,null,null,o),Sc(a)}function nv(a,o,u){a.lanes|=u;var p=a.alternate;p!==null&&(p.lanes|=u);for(var y=!1,w=a.return;w!==null;)w.childLanes|=u,p=w.alternate,p!==null&&(p.childLanes|=u),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(y=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,y&&o!==null&&(y=31-ut(u),a=w.hiddenUpdates,p=a[y],p===null?a[y]=[o]:p.push(o),o.lane=u|536870912),w):null}function Sc(a){if(50<iu)throw iu=0,fp=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var mo={};function kE(a,o,u,p){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(a,o,u,p){return new kE(a,o,u,p)}function sh(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Yi(a,o){var u=a.alternate;return u===null?(u=Pr(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function rv(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Ec(a,o,u,p,y,w){var X=0;if(p=a,typeof a=="function")sh(a)&&(X=1);else if(typeof a=="string")X=jA(a,u,U.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case O:return a=Pr(31,u,o,y),a.elementType=O,a.lanes=w,a;case _:return gs(u.children,y,w,o);case C:X=8,y|=24;break;case T:return a=Pr(12,u,o,y|2),a.elementType=T,a.lanes=w,a;case j:return a=Pr(13,u,o,y),a.elementType=j,a.lanes=w,a;case N:return a=Pr(19,u,o,y),a.elementType=N,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case S:case L:X=10;break e;case P:X=9;break e;case I:X=11;break e;case B:X=14;break e;case D:X=16,p=null;break e}X=29,u=Error(r(130,a===null?"null":typeof a,"")),p=null}return o=Pr(X,u,o,y),o.elementType=a,o.type=p,o.lanes=w,o}function gs(a,o,u,p){return a=Pr(7,a,p,o),a.lanes=u,a}function oh(a,o,u){return a=Pr(6,a,null,o),a.lanes=u,a}function lh(a,o,u){return o=Pr(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var go=[],vo=0,Ac=null,Cc=0,Wr=[],Zr=0,vs=null,Xi=1,Gi="";function ys(a,o){go[vo++]=Cc,go[vo++]=Ac,Ac=a,Cc=o}function iv(a,o,u){Wr[Zr++]=Xi,Wr[Zr++]=Gi,Wr[Zr++]=vs,vs=a;var p=Xi;a=Gi;var y=32-ut(p)-1;p&=~(1<<y),u+=1;var w=32-ut(o)+y;if(30<w){var X=y-y%5;w=(p&(1<<X)-1).toString(32),p>>=X,y-=X,Xi=1<<32-ut(o)+y|u<<y|p,Gi=w+a}else Xi=1<<w|u<<y|p,Gi=a}function uh(a){a.return!==null&&(ys(a,1),iv(a,1,0))}function ch(a){for(;a===Ac;)Ac=go[--vo],go[vo]=null,Cc=go[--vo],go[vo]=null;for(;a===vs;)vs=Wr[--Zr],Wr[Zr]=null,Gi=Wr[--Zr],Wr[Zr]=null,Xi=Wr[--Zr],Wr[Zr]=null}var yr=null,Rn=null,nn=!1,bs=null,Ei=!1,fh=Error(r(519));function _s(a){var o=Error(r(418,""));throw Pl(Xr(o,a)),fh}function av(a){var o=a.stateNode,u=a.type,p=a.memoizedProps;switch(o[z]=a,o[G]=p,u){case"dialog":Ht("cancel",o),Ht("close",o);break;case"iframe":case"object":case"embed":Ht("load",o);break;case"video":case"audio":for(u=0;u<su.length;u++)Ht(su[u],o);break;case"source":Ht("error",o);break;case"img":case"image":case"link":Ht("error",o),Ht("load",o);break;case"details":Ht("toggle",o);break;case"input":Ht("invalid",o),ma(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),no(o);break;case"select":Ht("invalid",o);break;case"textarea":Ht("invalid",o),_i(o,p.value,p.defaultValue,p.children),no(o)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||wb(o.textContent,u)?(p.popover!=null&&(Ht("beforetoggle",o),Ht("toggle",o)),p.onScroll!=null&&Ht("scroll",o),p.onScrollEnd!=null&&Ht("scrollend",o),p.onClick!=null&&(o.onclick=of),o=!0):o=!1,o||_s(a)}function sv(a){for(yr=a.return;yr;)switch(yr.tag){case 5:case 13:Ei=!1;return;case 27:case 3:Ei=!0;return;default:yr=yr.return}}function jl(a){if(a!==yr)return!1;if(!nn)return sv(a),nn=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Tp(a.type,a.memoizedProps)),u=!u),u&&Rn&&_s(a),sv(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(o===0){Rn=di(a.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;a=a.nextSibling}Rn=null}}else o===27?(o=Rn,Pa(a.type)?(a=Np,Np=null,Rn=a):Rn=o):Rn=yr?di(a.stateNode.nextSibling):null;return!0}function Ll(){Rn=yr=null,nn=!1}function ov(){var a=bs;return a!==null&&(Cr===null?Cr=a:Cr.push.apply(Cr,a),bs=null),a}function Pl(a){bs===null?bs=[a]:bs.push(a)}var dh=de(null),xs=null,Wi=null;function xa(a,o,u){K(dh,o._currentValue),o._currentValue=u}function Zi(a){a._currentValue=dh.current,ae(dh)}function hh(a,o,u){for(;a!==null;){var p=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),a===u)break;a=a.return}}function ph(a,o,u,p){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var w=y.dependencies;if(w!==null){var X=y.child;w=w.firstContext;e:for(;w!==null;){var ue=w;w=y;for(var Ee=0;Ee<o.length;Ee++)if(ue.context===o[Ee]){w.lanes|=u,ue=w.alternate,ue!==null&&(ue.lanes|=u),hh(w.return,u,a),p||(X=null);break e}w=ue.next}}else if(y.tag===18){if(X=y.return,X===null)throw Error(r(341));X.lanes|=u,w=X.alternate,w!==null&&(w.lanes|=u),hh(X,u,a),X=null}else X=y.child;if(X!==null)X.return=y;else for(X=y;X!==null;){if(X===a){X=null;break}if(y=X.sibling,y!==null){y.return=X.return,X=y;break}X=X.return}y=X}}function Bl(a,o,u,p){a=null;for(var y=o,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var X=y.alternate;if(X===null)throw Error(r(387));if(X=X.memoizedProps,X!==null){var ue=y.type;Lr(y.pendingProps.value,X.value)||(a!==null?a.push(ue):a=[ue])}}else if(y===oe.current){if(X=y.alternate,X===null)throw Error(r(387));X.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(du):a=[du])}y=y.return}a!==null&&ph(o,a,u,p),o.flags|=262144}function Tc(a){for(a=a.firstContext;a!==null;){if(!Lr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ws(a){xs=a,Wi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function dr(a){return lv(xs,a)}function Dc(a,o){return xs===null&&ws(a),lv(a,o)}function lv(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Wi===null){if(a===null)throw Error(r(308));Wi=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Wi=Wi.next=o;return u}var ME=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,p){a.push(p)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},jE=t.unstable_scheduleCallback,LE=t.unstable_NormalPriority,Hn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mh(){return{controller:new ME,data:new Map,refCount:0}}function Il(a){a.refCount--,a.refCount===0&&jE(LE,function(){a.controller.abort()})}var Ul=null,gh=0,yo=0,bo=null;function PE(a,o){if(Ul===null){var u=Ul=[];gh=0,yo=yp(),bo={status:"pending",value:void 0,then:function(p){u.push(p)}}}return gh++,o.then(uv,uv),o}function uv(){if(--gh===0&&Ul!==null){bo!==null&&(bo.status="fulfilled");var a=Ul;Ul=null,yo=0,bo=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function BE(a,o){var u=[],p={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){p.status="fulfilled",p.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(p.status="rejected",p.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),p}var cv=A.S;A.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&PE(a,o),cv!==null&&cv(a,o)};var Ss=de(null);function vh(){var a=Ss.current;return a!==null?a:wn.pooledCache}function Oc(a,o){o===null?K(Ss,Ss.current):K(Ss,o.pool)}function fv(){var a=vh();return a===null?null:{parent:Hn._currentValue,pool:a}}var zl=Error(r(460)),dv=Error(r(474)),Rc=Error(r(542)),yh={then:function(){}};function hv(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Nc(){}function pv(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Nc,Nc),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,gv(a),a;default:if(typeof o.status=="string")o.then(Nc,Nc);else{if(a=wn,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(p){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=p}},function(p){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,gv(a),a}throw Fl=o,zl}}var Fl=null;function mv(){if(Fl===null)throw Error(r(459));var a=Fl;return Fl=null,a}function gv(a){if(a===zl||a===Rc)throw Error(r(483))}var wa=!1;function bh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _h(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Sa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ea(a,o,u){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(fn&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,o=Sc(a),nv(a,null,u),o}return wc(a,p,o,u),Sc(a)}function ql(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var p=o.lanes;p&=a.pendingLanes,u|=p,o.lanes=u,nt(a,u)}}function xh(a,o){var u=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var y=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var X={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?y=w=X:w=w.next=X,u=u.next}while(u!==null);w===null?y=w=o:w=w.next=o}else y=w=o;u={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var wh=!1;function Hl(){if(wh){var a=bo;if(a!==null)throw a}}function $l(a,o,u,p){wh=!1;var y=a.updateQueue;wa=!1;var w=y.firstBaseUpdate,X=y.lastBaseUpdate,ue=y.shared.pending;if(ue!==null){y.shared.pending=null;var Ee=ue,Me=Ee.next;Ee.next=null,X===null?w=Me:X.next=Me,X=Ee;var Ue=a.alternate;Ue!==null&&(Ue=Ue.updateQueue,ue=Ue.lastBaseUpdate,ue!==X&&(ue===null?Ue.firstBaseUpdate=Me:ue.next=Me,Ue.lastBaseUpdate=Ee))}if(w!==null){var qe=y.baseState;X=0,Ue=Me=Ee=null,ue=w;do{var Le=ue.lane&-536870913,Pe=Le!==ue.lane;if(Pe?(Kt&Le)===Le:(p&Le)===Le){Le!==0&&Le===yo&&(wh=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:ue.tag,payload:ue.payload,callback:null,next:null});e:{var Et=a,bt=ue;Le=o;var vn=u;switch(bt.tag){case 1:if(Et=bt.payload,typeof Et=="function"){qe=Et.call(vn,qe,Le);break e}qe=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=bt.payload,Le=typeof Et=="function"?Et.call(vn,qe,Le):Et,Le==null)break e;qe=h({},qe,Le);break e;case 2:wa=!0}}Le=ue.callback,Le!==null&&(a.flags|=64,Pe&&(a.flags|=8192),Pe=y.callbacks,Pe===null?y.callbacks=[Le]:Pe.push(Le))}else Pe={lane:Le,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},Ue===null?(Me=Ue=Pe,Ee=qe):Ue=Ue.next=Pe,X|=Le;if(ue=ue.next,ue===null){if(ue=y.shared.pending,ue===null)break;Pe=ue,ue=Pe.next,Pe.next=null,y.lastBaseUpdate=Pe,y.shared.pending=null}}while(!0);Ue===null&&(Ee=qe),y.baseState=Ee,y.firstBaseUpdate=Me,y.lastBaseUpdate=Ue,w===null&&(y.shared.lanes=0),ka|=X,a.lanes=X,a.memoizedState=qe}}function vv(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function yv(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)vv(u[a],o)}var _o=de(null),kc=de(0);function bv(a,o){a=ra,K(kc,a),K(_o,o),ra=a|o.baseLanes}function Sh(){K(kc,ra),K(_o,_o.current)}function Eh(){ra=kc.current,ae(_o),ae(kc)}var Aa=0,Bt=null,mn=null,zn=null,Mc=!1,xo=!1,Es=!1,jc=0,Vl=0,wo=null,IE=0;function Pn(){throw Error(r(321))}function Ah(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Lr(a[u],o[u]))return!1;return!0}function Ch(a,o,u,p,y,w){return Aa=w,Bt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,A.H=a===null||a.memoizedState===null?ny:ry,Es=!1,w=u(p,y),Es=!1,xo&&(w=xv(o,u,p,y)),_v(a),w}function _v(a){A.H=zc;var o=mn!==null&&mn.next!==null;if(Aa=0,zn=mn=Bt=null,Mc=!1,Vl=0,wo=null,o)throw Error(r(300));a===null||Gn||(a=a.dependencies,a!==null&&Tc(a)&&(Gn=!0))}function xv(a,o,u,p){Bt=a;var y=0;do{if(xo&&(wo=null),Vl=0,xo=!1,25<=y)throw Error(r(301));if(y+=1,zn=mn=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}A.H=VE,w=o(u,p)}while(xo);return w}function UE(){var a=A.H,o=a.useState()[0];return o=typeof o.then=="function"?Yl(o):o,a=a.useState()[0],(mn!==null?mn.memoizedState:null)!==a&&(Bt.flags|=1024),o}function Th(){var a=jc!==0;return jc=0,a}function Dh(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function Oh(a){if(Mc){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Mc=!1}Aa=0,zn=mn=Bt=null,xo=!1,Vl=jc=0,wo=null}function Er(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?Bt.memoizedState=zn=a:zn=zn.next=a,zn}function Fn(){if(mn===null){var a=Bt.alternate;a=a!==null?a.memoizedState:null}else a=mn.next;var o=zn===null?Bt.memoizedState:zn.next;if(o!==null)zn=o,mn=a;else{if(a===null)throw Bt.alternate===null?Error(r(467)):Error(r(310));mn=a,a={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},zn===null?Bt.memoizedState=zn=a:zn=zn.next=a}return zn}function Rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(a){var o=Vl;return Vl+=1,wo===null&&(wo=[]),a=pv(wo,a,o),o=Bt,(zn===null?o.memoizedState:zn.next)===null&&(o=o.alternate,A.H=o===null||o.memoizedState===null?ny:ry),a}function Lc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Yl(a);if(a.$$typeof===L)return dr(a)}throw Error(r(438,String(a)))}function Nh(a){var o=null,u=Bt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=Bt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Rh(),Bt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),p=0;p<a;p++)u[p]=V;return o.index++,u}function Ki(a,o){return typeof o=="function"?o(a):o}function Pc(a){var o=Fn();return kh(o,mn,a)}function kh(a,o,u){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var y=a.baseQueue,w=p.pending;if(w!==null){if(y!==null){var X=y.next;y.next=w.next,w.next=X}o.baseQueue=y=w,p.pending=null}if(w=a.baseState,y===null)a.memoizedState=w;else{o=y.next;var ue=X=null,Ee=null,Me=o,Ue=!1;do{var qe=Me.lane&-536870913;if(qe!==Me.lane?(Kt&qe)===qe:(Aa&qe)===qe){var Le=Me.revertLane;if(Le===0)Ee!==null&&(Ee=Ee.next={lane:0,revertLane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),qe===yo&&(Ue=!0);else if((Aa&Le)===Le){Me=Me.next,Le===yo&&(Ue=!0);continue}else qe={lane:0,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},Ee===null?(ue=Ee=qe,X=w):Ee=Ee.next=qe,Bt.lanes|=Le,ka|=Le;qe=Me.action,Es&&u(w,qe),w=Me.hasEagerState?Me.eagerState:u(w,qe)}else Le={lane:qe,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},Ee===null?(ue=Ee=Le,X=w):Ee=Ee.next=Le,Bt.lanes|=qe,ka|=qe;Me=Me.next}while(Me!==null&&Me!==o);if(Ee===null?X=w:Ee.next=ue,!Lr(w,a.memoizedState)&&(Gn=!0,Ue&&(u=bo,u!==null)))throw u;a.memoizedState=w,a.baseState=X,a.baseQueue=Ee,p.lastRenderedState=w}return y===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function Mh(a){var o=Fn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var p=u.dispatch,y=u.pending,w=o.memoizedState;if(y!==null){u.pending=null;var X=y=y.next;do w=a(w,X.action),X=X.next;while(X!==y);Lr(w,o.memoizedState)||(Gn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,p]}function wv(a,o,u){var p=Bt,y=Fn(),w=nn;if(w){if(u===void 0)throw Error(r(407));u=u()}else u=o();var X=!Lr((mn||y).memoizedState,u);X&&(y.memoizedState=u,Gn=!0),y=y.queue;var ue=Av.bind(null,p,y,a);if(Xl(2048,8,ue,[a]),y.getSnapshot!==o||X||zn!==null&&zn.memoizedState.tag&1){if(p.flags|=2048,So(9,Bc(),Ev.bind(null,p,y,u,o),null),wn===null)throw Error(r(349));w||(Aa&124)!==0||Sv(p,o,u)}return u}function Sv(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=Bt.updateQueue,o===null?(o=Rh(),Bt.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function Ev(a,o,u,p){o.value=u,o.getSnapshot=p,Cv(o)&&Tv(a)}function Av(a,o,u){return u(function(){Cv(o)&&Tv(a)})}function Cv(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Lr(a,u)}catch{return!0}}function Tv(a){var o=po(a,2);o!==null&&Fr(o,a,2)}function jh(a){var o=Er();if(typeof a=="function"){var u=a;if(a=u(),Es){Ke(!0);try{u()}finally{Ke(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},o}function Dv(a,o,u,p){return a.baseState=u,kh(a,mn,typeof p=="function"?p:Ki)}function zE(a,o,u,p,y){if(Uc(a))throw Error(r(485));if(a=o.action,a!==null){var w={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){w.listeners.push(X)}};A.T!==null?u(!0):w.isTransition=!1,p(w),u=o.pending,u===null?(w.next=o.pending=w,Ov(o,w)):(w.next=u.next,o.pending=u.next=w)}}function Ov(a,o){var u=o.action,p=o.payload,y=a.state;if(o.isTransition){var w=A.T,X={};A.T=X;try{var ue=u(y,p),Ee=A.S;Ee!==null&&Ee(X,ue),Rv(a,o,ue)}catch(Me){Lh(a,o,Me)}finally{A.T=w}}else try{w=u(y,p),Rv(a,o,w)}catch(Me){Lh(a,o,Me)}}function Rv(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){Nv(a,o,p)},function(p){return Lh(a,o,p)}):Nv(a,o,u)}function Nv(a,o,u){o.status="fulfilled",o.value=u,kv(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,Ov(a,u)))}function Lh(a,o,u){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,kv(o),o=o.next;while(o!==p)}a.action=null}function kv(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Mv(a,o){return o}function jv(a,o){if(nn){var u=wn.formState;if(u!==null){e:{var p=Bt;if(nn){if(Rn){t:{for(var y=Rn,w=Ei;y.nodeType!==8;){if(!w){y=null;break t}if(y=di(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){Rn=di(y.nextSibling),p=y.data==="F!";break e}}_s(p)}p=!1}p&&(o=u[0])}}return u=Er(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mv,lastRenderedState:o},u.queue=p,u=Jv.bind(null,Bt,p),p.dispatch=u,p=jh(!1),w=zh.bind(null,Bt,!1,p.queue),p=Er(),y={state:o,dispatch:null,action:a,pending:null},p.queue=y,u=zE.bind(null,Bt,y,w,u),y.dispatch=u,p.memoizedState=a,[o,u,!1]}function Lv(a){var o=Fn();return Pv(o,mn,a)}function Pv(a,o,u){if(o=kh(a,o,Mv)[0],a=Pc(Ki)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=Yl(o)}catch(X){throw X===zl?Rc:X}else p=o;o=Fn();var y=o.queue,w=y.dispatch;return u!==o.memoizedState&&(Bt.flags|=2048,So(9,Bc(),FE.bind(null,y,u),null)),[p,w,a]}function FE(a,o){a.action=o}function Bv(a){var o=Fn(),u=mn;if(u!==null)return Pv(o,u,a);Fn(),o=o.memoizedState,u=Fn();var p=u.queue.dispatch;return u.memoizedState=a,[o,p,!1]}function So(a,o,u,p){return a={tag:a,create:u,deps:p,inst:o,next:null},o=Bt.updateQueue,o===null&&(o=Rh(),Bt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(p=u.next,u.next=a,a.next=p,o.lastEffect=a),a}function Bc(){return{destroy:void 0,resource:void 0}}function Iv(){return Fn().memoizedState}function Ic(a,o,u,p){var y=Er();p=p===void 0?null:p,Bt.flags|=a,y.memoizedState=So(1|o,Bc(),u,p)}function Xl(a,o,u,p){var y=Fn();p=p===void 0?null:p;var w=y.memoizedState.inst;mn!==null&&p!==null&&Ah(p,mn.memoizedState.deps)?y.memoizedState=So(o,w,u,p):(Bt.flags|=a,y.memoizedState=So(1|o,w,u,p))}function Uv(a,o){Ic(8390656,8,a,o)}function zv(a,o){Xl(2048,8,a,o)}function Fv(a,o){return Xl(4,2,a,o)}function qv(a,o){return Xl(4,4,a,o)}function Hv(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function $v(a,o,u){u=u!=null?u.concat([a]):null,Xl(4,4,Hv.bind(null,o,a),u)}function Ph(){}function Vv(a,o){var u=Fn();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&Ah(o,p[1])?p[0]:(u.memoizedState=[a,o],a)}function Yv(a,o){var u=Fn();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&Ah(o,p[1]))return p[0];if(p=a(),Es){Ke(!0);try{a()}finally{Ke(!1)}}return u.memoizedState=[p,o],p}function Bh(a,o,u){return u===void 0||(Aa&1073741824)!==0?a.memoizedState=o:(a.memoizedState=u,a=Wy(),Bt.lanes|=a,ka|=a,u)}function Xv(a,o,u,p){return Lr(u,o)?u:_o.current!==null?(a=Bh(a,u,p),Lr(a,o)||(Gn=!0),a):(Aa&42)===0?(Gn=!0,a.memoizedState=u):(a=Wy(),Bt.lanes|=a,ka|=a,o)}function Gv(a,o,u,p,y){var w=R.p;R.p=w!==0&&8>w?w:8;var X=A.T,ue={};A.T=ue,zh(a,!1,o,u);try{var Ee=y(),Me=A.S;if(Me!==null&&Me(ue,Ee),Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var Ue=BE(Ee,p);Gl(a,o,Ue,zr(a))}else Gl(a,o,p,zr(a))}catch(qe){Gl(a,o,{then:function(){},status:"rejected",reason:qe},zr())}finally{R.p=w,A.T=X}}function qE(){}function Ih(a,o,u,p){if(a.tag!==5)throw Error(r(476));var y=Wv(a).queue;Gv(a,y,o,Q,u===null?qE:function(){return Zv(a),u(p)})}function Wv(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:Q},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function Zv(a){var o=Wv(a).next.queue;Gl(a,o,{},zr())}function Uh(){return dr(du)}function Kv(){return Fn().memoizedState}function Qv(){return Fn().memoizedState}function HE(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=zr();a=Sa(u);var p=Ea(o,a,u);p!==null&&(Fr(p,o,u),ql(p,o,u)),o={cache:mh()},a.payload=o;return}o=o.return}}function $E(a,o,u){var p=zr();u={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Uc(a)?ey(o,u):(u=ah(a,o,u,p),u!==null&&(Fr(u,a,p),ty(u,o,p)))}function Jv(a,o,u){var p=zr();Gl(a,o,u,p)}function Gl(a,o,u,p){var y={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Uc(a))ey(o,y);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var X=o.lastRenderedState,ue=w(X,u);if(y.hasEagerState=!0,y.eagerState=ue,Lr(ue,X))return wc(a,o,y,0),wn===null&&xc(),!1}catch{}finally{}if(u=ah(a,o,y,p),u!==null)return Fr(u,a,p),ty(u,o,p),!0}return!1}function zh(a,o,u,p){if(p={lane:2,revertLane:yp(),action:p,hasEagerState:!1,eagerState:null,next:null},Uc(a)){if(o)throw Error(r(479))}else o=ah(a,u,p,2),o!==null&&Fr(o,a,2)}function Uc(a){var o=a.alternate;return a===Bt||o!==null&&o===Bt}function ey(a,o){xo=Mc=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function ty(a,o,u){if((u&4194048)!==0){var p=o.lanes;p&=a.pendingLanes,u|=p,o.lanes=u,nt(a,u)}}var zc={readContext:dr,use:Lc,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn},ny={readContext:dr,use:Lc,useCallback:function(a,o){return Er().memoizedState=[a,o===void 0?null:o],a},useContext:dr,useEffect:Uv,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Ic(4194308,4,Hv.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Ic(4194308,4,a,o)},useInsertionEffect:function(a,o){Ic(4,2,a,o)},useMemo:function(a,o){var u=Er();o=o===void 0?null:o;var p=a();if(Es){Ke(!0);try{a()}finally{Ke(!1)}}return u.memoizedState=[p,o],p},useReducer:function(a,o,u){var p=Er();if(u!==void 0){var y=u(o);if(Es){Ke(!0);try{u(o)}finally{Ke(!1)}}}else y=o;return p.memoizedState=p.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},p.queue=a,a=a.dispatch=$E.bind(null,Bt,a),[p.memoizedState,a]},useRef:function(a){var o=Er();return a={current:a},o.memoizedState=a},useState:function(a){a=jh(a);var o=a.queue,u=Jv.bind(null,Bt,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Ph,useDeferredValue:function(a,o){var u=Er();return Bh(u,a,o)},useTransition:function(){var a=jh(!1);return a=Gv.bind(null,Bt,a.queue,!0,!1),Er().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var p=Bt,y=Er();if(nn){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),wn===null)throw Error(r(349));(Kt&124)!==0||Sv(p,o,u)}y.memoizedState=u;var w={value:u,getSnapshot:o};return y.queue=w,Uv(Av.bind(null,p,w,a),[a]),p.flags|=2048,So(9,Bc(),Ev.bind(null,p,w,u,o),null),u},useId:function(){var a=Er(),o=wn.identifierPrefix;if(nn){var u=Gi,p=Xi;u=(p&~(1<<32-ut(p)-1)).toString(32)+u,o="«"+o+"R"+u,u=jc++,0<u&&(o+="H"+u.toString(32)),o+="»"}else u=IE++,o="«"+o+"r"+u.toString(32)+"»";return a.memoizedState=o},useHostTransitionStatus:Uh,useFormState:jv,useActionState:jv,useOptimistic:function(a){var o=Er();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=zh.bind(null,Bt,!0,u),u.dispatch=o,[a,o]},useMemoCache:Nh,useCacheRefresh:function(){return Er().memoizedState=HE.bind(null,Bt)}},ry={readContext:dr,use:Lc,useCallback:Vv,useContext:dr,useEffect:zv,useImperativeHandle:$v,useInsertionEffect:Fv,useLayoutEffect:qv,useMemo:Yv,useReducer:Pc,useRef:Iv,useState:function(){return Pc(Ki)},useDebugValue:Ph,useDeferredValue:function(a,o){var u=Fn();return Xv(u,mn.memoizedState,a,o)},useTransition:function(){var a=Pc(Ki)[0],o=Fn().memoizedState;return[typeof a=="boolean"?a:Yl(a),o]},useSyncExternalStore:wv,useId:Kv,useHostTransitionStatus:Uh,useFormState:Lv,useActionState:Lv,useOptimistic:function(a,o){var u=Fn();return Dv(u,mn,a,o)},useMemoCache:Nh,useCacheRefresh:Qv},VE={readContext:dr,use:Lc,useCallback:Vv,useContext:dr,useEffect:zv,useImperativeHandle:$v,useInsertionEffect:Fv,useLayoutEffect:qv,useMemo:Yv,useReducer:Mh,useRef:Iv,useState:function(){return Mh(Ki)},useDebugValue:Ph,useDeferredValue:function(a,o){var u=Fn();return mn===null?Bh(u,a,o):Xv(u,mn.memoizedState,a,o)},useTransition:function(){var a=Mh(Ki)[0],o=Fn().memoizedState;return[typeof a=="boolean"?a:Yl(a),o]},useSyncExternalStore:wv,useId:Kv,useHostTransitionStatus:Uh,useFormState:Bv,useActionState:Bv,useOptimistic:function(a,o){var u=Fn();return mn!==null?Dv(u,mn,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Nh,useCacheRefresh:Qv},Eo=null,Wl=0;function Fc(a){var o=Wl;return Wl+=1,Eo===null&&(Eo=[]),pv(Eo,a,o)}function Zl(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function qc(a,o){throw o.$$typeof===m?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function iy(a){var o=a._init;return o(a._payload)}function ay(a){function o(Re,Ce){if(a){var Ne=Re.deletions;Ne===null?(Re.deletions=[Ce],Re.flags|=16):Ne.push(Ce)}}function u(Re,Ce){if(!a)return null;for(;Ce!==null;)o(Re,Ce),Ce=Ce.sibling;return null}function p(Re){for(var Ce=new Map;Re!==null;)Re.key!==null?Ce.set(Re.key,Re):Ce.set(Re.index,Re),Re=Re.sibling;return Ce}function y(Re,Ce){return Re=Yi(Re,Ce),Re.index=0,Re.sibling=null,Re}function w(Re,Ce,Ne){return Re.index=Ne,a?(Ne=Re.alternate,Ne!==null?(Ne=Ne.index,Ne<Ce?(Re.flags|=67108866,Ce):Ne):(Re.flags|=67108866,Ce)):(Re.flags|=1048576,Ce)}function X(Re){return a&&Re.alternate===null&&(Re.flags|=67108866),Re}function ue(Re,Ce,Ne,ze){return Ce===null||Ce.tag!==6?(Ce=oh(Ne,Re.mode,ze),Ce.return=Re,Ce):(Ce=y(Ce,Ne),Ce.return=Re,Ce)}function Ee(Re,Ce,Ne,ze){var at=Ne.type;return at===_?Ue(Re,Ce,Ne.props.children,ze,Ne.key):Ce!==null&&(Ce.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===D&&iy(at)===Ce.type)?(Ce=y(Ce,Ne.props),Zl(Ce,Ne),Ce.return=Re,Ce):(Ce=Ec(Ne.type,Ne.key,Ne.props,null,Re.mode,ze),Zl(Ce,Ne),Ce.return=Re,Ce)}function Me(Re,Ce,Ne,ze){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Ne.containerInfo||Ce.stateNode.implementation!==Ne.implementation?(Ce=lh(Ne,Re.mode,ze),Ce.return=Re,Ce):(Ce=y(Ce,Ne.children||[]),Ce.return=Re,Ce)}function Ue(Re,Ce,Ne,ze,at){return Ce===null||Ce.tag!==7?(Ce=gs(Ne,Re.mode,ze,at),Ce.return=Re,Ce):(Ce=y(Ce,Ne),Ce.return=Re,Ce)}function qe(Re,Ce,Ne){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return Ce=oh(""+Ce,Re.mode,Ne),Ce.return=Re,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case g:return Ne=Ec(Ce.type,Ce.key,Ce.props,null,Re.mode,Ne),Zl(Ne,Ce),Ne.return=Re,Ne;case v:return Ce=lh(Ce,Re.mode,Ne),Ce.return=Re,Ce;case D:var ze=Ce._init;return Ce=ze(Ce._payload),qe(Re,Ce,Ne)}if(k(Ce)||J(Ce))return Ce=gs(Ce,Re.mode,Ne,null),Ce.return=Re,Ce;if(typeof Ce.then=="function")return qe(Re,Fc(Ce),Ne);if(Ce.$$typeof===L)return qe(Re,Dc(Re,Ce),Ne);qc(Re,Ce)}return null}function Le(Re,Ce,Ne,ze){var at=Ce!==null?Ce.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return at!==null?null:ue(Re,Ce,""+Ne,ze);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case g:return Ne.key===at?Ee(Re,Ce,Ne,ze):null;case v:return Ne.key===at?Me(Re,Ce,Ne,ze):null;case D:return at=Ne._init,Ne=at(Ne._payload),Le(Re,Ce,Ne,ze)}if(k(Ne)||J(Ne))return at!==null?null:Ue(Re,Ce,Ne,ze,null);if(typeof Ne.then=="function")return Le(Re,Ce,Fc(Ne),ze);if(Ne.$$typeof===L)return Le(Re,Ce,Dc(Re,Ne),ze);qc(Re,Ne)}return null}function Pe(Re,Ce,Ne,ze,at){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return Re=Re.get(Ne)||null,ue(Ce,Re,""+ze,at);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case g:return Re=Re.get(ze.key===null?Ne:ze.key)||null,Ee(Ce,Re,ze,at);case v:return Re=Re.get(ze.key===null?Ne:ze.key)||null,Me(Ce,Re,ze,at);case D:var zt=ze._init;return ze=zt(ze._payload),Pe(Re,Ce,Ne,ze,at)}if(k(ze)||J(ze))return Re=Re.get(Ne)||null,Ue(Ce,Re,ze,at,null);if(typeof ze.then=="function")return Pe(Re,Ce,Ne,Fc(ze),at);if(ze.$$typeof===L)return Pe(Re,Ce,Ne,Dc(Ce,ze),at);qc(Ce,ze)}return null}function Et(Re,Ce,Ne,ze){for(var at=null,zt=null,ht=Ce,_t=Ce=0,Zn=null;ht!==null&&_t<Ne.length;_t++){ht.index>_t?(Zn=ht,ht=null):Zn=ht.sibling;var tn=Le(Re,ht,Ne[_t],ze);if(tn===null){ht===null&&(ht=Zn);break}a&&ht&&tn.alternate===null&&o(Re,ht),Ce=w(tn,Ce,_t),zt===null?at=tn:zt.sibling=tn,zt=tn,ht=Zn}if(_t===Ne.length)return u(Re,ht),nn&&ys(Re,_t),at;if(ht===null){for(;_t<Ne.length;_t++)ht=qe(Re,Ne[_t],ze),ht!==null&&(Ce=w(ht,Ce,_t),zt===null?at=ht:zt.sibling=ht,zt=ht);return nn&&ys(Re,_t),at}for(ht=p(ht);_t<Ne.length;_t++)Zn=Pe(ht,Re,_t,Ne[_t],ze),Zn!==null&&(a&&Zn.alternate!==null&&ht.delete(Zn.key===null?_t:Zn.key),Ce=w(Zn,Ce,_t),zt===null?at=Zn:zt.sibling=Zn,zt=Zn);return a&&ht.forEach(function(Fa){return o(Re,Fa)}),nn&&ys(Re,_t),at}function bt(Re,Ce,Ne,ze){if(Ne==null)throw Error(r(151));for(var at=null,zt=null,ht=Ce,_t=Ce=0,Zn=null,tn=Ne.next();ht!==null&&!tn.done;_t++,tn=Ne.next()){ht.index>_t?(Zn=ht,ht=null):Zn=ht.sibling;var Fa=Le(Re,ht,tn.value,ze);if(Fa===null){ht===null&&(ht=Zn);break}a&&ht&&Fa.alternate===null&&o(Re,ht),Ce=w(Fa,Ce,_t),zt===null?at=Fa:zt.sibling=Fa,zt=Fa,ht=Zn}if(tn.done)return u(Re,ht),nn&&ys(Re,_t),at;if(ht===null){for(;!tn.done;_t++,tn=Ne.next())tn=qe(Re,tn.value,ze),tn!==null&&(Ce=w(tn,Ce,_t),zt===null?at=tn:zt.sibling=tn,zt=tn);return nn&&ys(Re,_t),at}for(ht=p(ht);!tn.done;_t++,tn=Ne.next())tn=Pe(ht,Re,_t,tn.value,ze),tn!==null&&(a&&tn.alternate!==null&&ht.delete(tn.key===null?_t:tn.key),Ce=w(tn,Ce,_t),zt===null?at=tn:zt.sibling=tn,zt=tn);return a&&ht.forEach(function(YA){return o(Re,YA)}),nn&&ys(Re,_t),at}function vn(Re,Ce,Ne,ze){if(typeof Ne=="object"&&Ne!==null&&Ne.type===_&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case g:e:{for(var at=Ne.key;Ce!==null;){if(Ce.key===at){if(at=Ne.type,at===_){if(Ce.tag===7){u(Re,Ce.sibling),ze=y(Ce,Ne.props.children),ze.return=Re,Re=ze;break e}}else if(Ce.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===D&&iy(at)===Ce.type){u(Re,Ce.sibling),ze=y(Ce,Ne.props),Zl(ze,Ne),ze.return=Re,Re=ze;break e}u(Re,Ce);break}else o(Re,Ce);Ce=Ce.sibling}Ne.type===_?(ze=gs(Ne.props.children,Re.mode,ze,Ne.key),ze.return=Re,Re=ze):(ze=Ec(Ne.type,Ne.key,Ne.props,null,Re.mode,ze),Zl(ze,Ne),ze.return=Re,Re=ze)}return X(Re);case v:e:{for(at=Ne.key;Ce!==null;){if(Ce.key===at)if(Ce.tag===4&&Ce.stateNode.containerInfo===Ne.containerInfo&&Ce.stateNode.implementation===Ne.implementation){u(Re,Ce.sibling),ze=y(Ce,Ne.children||[]),ze.return=Re,Re=ze;break e}else{u(Re,Ce);break}else o(Re,Ce);Ce=Ce.sibling}ze=lh(Ne,Re.mode,ze),ze.return=Re,Re=ze}return X(Re);case D:return at=Ne._init,Ne=at(Ne._payload),vn(Re,Ce,Ne,ze)}if(k(Ne))return Et(Re,Ce,Ne,ze);if(J(Ne)){if(at=J(Ne),typeof at!="function")throw Error(r(150));return Ne=at.call(Ne),bt(Re,Ce,Ne,ze)}if(typeof Ne.then=="function")return vn(Re,Ce,Fc(Ne),ze);if(Ne.$$typeof===L)return vn(Re,Ce,Dc(Re,Ne),ze);qc(Re,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,Ce!==null&&Ce.tag===6?(u(Re,Ce.sibling),ze=y(Ce,Ne),ze.return=Re,Re=ze):(u(Re,Ce),ze=oh(Ne,Re.mode,ze),ze.return=Re,Re=ze),X(Re)):u(Re,Ce)}return function(Re,Ce,Ne,ze){try{Wl=0;var at=vn(Re,Ce,Ne,ze);return Eo=null,at}catch(ht){if(ht===zl||ht===Rc)throw ht;var zt=Pr(29,ht,null,Re.mode);return zt.lanes=ze,zt.return=Re,zt}finally{}}}var Ao=ay(!0),sy=ay(!1),Kr=de(null),Ai=null;function Ca(a){var o=a.alternate;K($n,$n.current&1),K(Kr,a),Ai===null&&(o===null||_o.current!==null||o.memoizedState!==null)&&(Ai=a)}function oy(a){if(a.tag===22){if(K($n,$n.current),K(Kr,a),Ai===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(Ai=a)}}else Ta()}function Ta(){K($n,$n.current),K(Kr,Kr.current)}function Qi(a){ae(Kr),Ai===a&&(Ai=null),ae($n)}var $n=de(0);function Hc(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Rp(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Fh(a,o,u,p){o=a.memoizedState,u=u(p,o),u=u==null?o:h({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var qh={enqueueSetState:function(a,o,u){a=a._reactInternals;var p=zr(),y=Sa(p);y.payload=o,u!=null&&(y.callback=u),o=Ea(a,y,p),o!==null&&(Fr(o,a,p),ql(o,a,p))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var p=zr(),y=Sa(p);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Ea(a,y,p),o!==null&&(Fr(o,a,p),ql(o,a,p))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=zr(),p=Sa(u);p.tag=2,o!=null&&(p.callback=o),o=Ea(a,p,u),o!==null&&(Fr(o,a,u),ql(o,a,u))}};function ly(a,o,u,p,y,w,X){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,w,X):o.prototype&&o.prototype.isPureReactComponent?!kl(u,p)||!kl(y,w):!0}function uy(a,o,u,p){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==a&&qh.enqueueReplaceState(o,o.state,null)}function As(a,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(a=a.defaultProps){u===o&&(u=h({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}var $c=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function cy(a){$c(a)}function fy(a){console.error(a)}function dy(a){$c(a)}function Vc(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function hy(a,o,u){try{var p=a.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Hh(a,o,u){return u=Sa(u),u.tag=3,u.payload={element:null},u.callback=function(){Vc(a,o)},u}function py(a){return a=Sa(a),a.tag=3,a}function my(a,o,u,p){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var w=p.value;a.payload=function(){return y(w)},a.callback=function(){hy(o,u,p)}}var X=u.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(a.callback=function(){hy(o,u,p),typeof y!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var ue=p.stack;this.componentDidCatch(p.value,{componentStack:ue!==null?ue:""})})}function YE(a,o,u,p,y){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&Bl(o,u,y,!0),u=Kr.current,u!==null){switch(u.tag){case 13:return Ai===null?hp():u.alternate===null&&Nn===0&&(Nn=3),u.flags&=-257,u.flags|=65536,u.lanes=y,p===yh?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),mp(a,p,y)),!1;case 22:return u.flags|=65536,p===yh?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),mp(a,p,y)),!1}throw Error(r(435,u.tag))}return mp(a,p,y),hp(),!1}if(nn)return o=Kr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,p!==fh&&(a=Error(r(422),{cause:p}),Pl(Xr(a,u)))):(p!==fh&&(o=Error(r(423),{cause:p}),Pl(Xr(o,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,p=Xr(p,u),y=Hh(a.stateNode,p,y),xh(a,y),Nn!==4&&(Nn=2)),!1;var w=Error(r(520),{cause:p});if(w=Xr(w,u),ru===null?ru=[w]:ru.push(w),Nn!==4&&(Nn=2),o===null)return!0;p=Xr(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=Hh(u.stateNode,p,a),xh(u,a),!1;case 1:if(o=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ma===null||!Ma.has(w))))return u.flags|=65536,y&=-y,u.lanes|=y,y=py(y),my(y,a,u,p),xh(u,y),!1}u=u.return}while(u!==null);return!1}var gy=Error(r(461)),Gn=!1;function nr(a,o,u,p){o.child=a===null?sy(o,null,u,p):Ao(o,a.child,u,p)}function vy(a,o,u,p,y){u=u.render;var w=o.ref;if("ref"in p){var X={};for(var ue in p)ue!=="ref"&&(X[ue]=p[ue])}else X=p;return ws(o),p=Ch(a,o,u,X,w,y),ue=Th(),a!==null&&!Gn?(Dh(a,o,y),Ji(a,o,y)):(nn&&ue&&uh(o),o.flags|=1,nr(a,o,p,y),o.child)}function yy(a,o,u,p,y){if(a===null){var w=u.type;return typeof w=="function"&&!sh(w)&&w.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=w,by(a,o,w,p,y)):(a=Ec(u.type,null,p,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(w=a.child,!Kh(a,y)){var X=w.memoizedProps;if(u=u.compare,u=u!==null?u:kl,u(X,p)&&a.ref===o.ref)return Ji(a,o,y)}return o.flags|=1,a=Yi(w,p),a.ref=o.ref,a.return=o,o.child=a}function by(a,o,u,p,y){if(a!==null){var w=a.memoizedProps;if(kl(w,p)&&a.ref===o.ref)if(Gn=!1,o.pendingProps=p=w,Kh(a,y))(a.flags&131072)!==0&&(Gn=!0);else return o.lanes=a.lanes,Ji(a,o,y)}return $h(a,o,u,p,y)}function _y(a,o,u){var p=o.pendingProps,y=p.children,w=a!==null?a.memoizedState:null;if(p.mode==="hidden"){if((o.flags&128)!==0){if(p=w!==null?w.baseLanes|u:u,a!==null){for(y=o.child=a.child,w=0;y!==null;)w=w|y.lanes|y.childLanes,y=y.sibling;o.childLanes=w&~p}else o.childLanes=0,o.child=null;return xy(a,o,p,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Oc(o,w!==null?w.cachePool:null),w!==null?bv(o,w):Sh(),oy(o);else return o.lanes=o.childLanes=536870912,xy(a,o,w!==null?w.baseLanes|u:u,u)}else w!==null?(Oc(o,w.cachePool),bv(o,w),Ta(),o.memoizedState=null):(a!==null&&Oc(o,null),Sh(),Ta());return nr(a,o,y,u),o.child}function xy(a,o,u,p){var y=vh();return y=y===null?null:{parent:Hn._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},a!==null&&Oc(o,null),Sh(),oy(o),a!==null&&Bl(a,o,p,!0),null}function Yc(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function $h(a,o,u,p,y){return ws(o),u=Ch(a,o,u,p,void 0,y),p=Th(),a!==null&&!Gn?(Dh(a,o,y),Ji(a,o,y)):(nn&&p&&uh(o),o.flags|=1,nr(a,o,u,y),o.child)}function wy(a,o,u,p,y,w){return ws(o),o.updateQueue=null,u=xv(o,p,u,y),_v(a),p=Th(),a!==null&&!Gn?(Dh(a,o,w),Ji(a,o,w)):(nn&&p&&uh(o),o.flags|=1,nr(a,o,u,w),o.child)}function Sy(a,o,u,p,y){if(ws(o),o.stateNode===null){var w=mo,X=u.contextType;typeof X=="object"&&X!==null&&(w=dr(X)),w=new u(p,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=qh,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=p,w.state=o.memoizedState,w.refs={},bh(o),X=u.contextType,w.context=typeof X=="object"&&X!==null?dr(X):mo,w.state=o.memoizedState,X=u.getDerivedStateFromProps,typeof X=="function"&&(Fh(o,u,X,p),w.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(X=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),X!==w.state&&qh.enqueueReplaceState(w,w.state,null),$l(o,p,w,y),Hl(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(a===null){w=o.stateNode;var ue=o.memoizedProps,Ee=As(u,ue);w.props=Ee;var Me=w.context,Ue=u.contextType;X=mo,typeof Ue=="object"&&Ue!==null&&(X=dr(Ue));var qe=u.getDerivedStateFromProps;Ue=typeof qe=="function"||typeof w.getSnapshotBeforeUpdate=="function",ue=o.pendingProps!==ue,Ue||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(ue||Me!==X)&&uy(o,w,p,X),wa=!1;var Le=o.memoizedState;w.state=Le,$l(o,p,w,y),Hl(),Me=o.memoizedState,ue||Le!==Me||wa?(typeof qe=="function"&&(Fh(o,u,qe,p),Me=o.memoizedState),(Ee=wa||ly(o,u,Ee,p,Le,Me,X))?(Ue||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=Me),w.props=p,w.state=Me,w.context=X,p=Ee):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{w=o.stateNode,_h(a,o),X=o.memoizedProps,Ue=As(u,X),w.props=Ue,qe=o.pendingProps,Le=w.context,Me=u.contextType,Ee=mo,typeof Me=="object"&&Me!==null&&(Ee=dr(Me)),ue=u.getDerivedStateFromProps,(Me=typeof ue=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(X!==qe||Le!==Ee)&&uy(o,w,p,Ee),wa=!1,Le=o.memoizedState,w.state=Le,$l(o,p,w,y),Hl();var Pe=o.memoizedState;X!==qe||Le!==Pe||wa||a!==null&&a.dependencies!==null&&Tc(a.dependencies)?(typeof ue=="function"&&(Fh(o,u,ue,p),Pe=o.memoizedState),(Ue=wa||ly(o,u,Ue,p,Le,Pe,Ee)||a!==null&&a.dependencies!==null&&Tc(a.dependencies))?(Me||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,Pe,Ee),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,Pe,Ee)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||X===a.memoizedProps&&Le===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||X===a.memoizedProps&&Le===a.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Pe),w.props=p,w.state=Pe,w.context=Ee,p=Ue):(typeof w.componentDidUpdate!="function"||X===a.memoizedProps&&Le===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||X===a.memoizedProps&&Le===a.memoizedState||(o.flags|=1024),p=!1)}return w=p,Yc(a,o),p=(o.flags&128)!==0,w||p?(w=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,a!==null&&p?(o.child=Ao(o,a.child,null,y),o.child=Ao(o,null,u,y)):nr(a,o,u,y),o.memoizedState=w.state,a=o.child):a=Ji(a,o,y),a}function Ey(a,o,u,p){return Ll(),o.flags|=256,nr(a,o,u,p),o.child}var Vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yh(a){return{baseLanes:a,cachePool:fv()}}function Xh(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=Qr),a}function Ay(a,o,u){var p=o.pendingProps,y=!1,w=(o.flags&128)!==0,X;if((X=w)||(X=a!==null&&a.memoizedState===null?!1:($n.current&2)!==0),X&&(y=!0,o.flags&=-129),X=(o.flags&32)!==0,o.flags&=-33,a===null){if(nn){if(y?Ca(o):Ta(),nn){var ue=Rn,Ee;if(Ee=ue){e:{for(Ee=ue,ue=Ei;Ee.nodeType!==8;){if(!ue){ue=null;break e}if(Ee=di(Ee.nextSibling),Ee===null){ue=null;break e}}ue=Ee}ue!==null?(o.memoizedState={dehydrated:ue,treeContext:vs!==null?{id:Xi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},Ee=Pr(18,null,null,0),Ee.stateNode=ue,Ee.return=o,o.child=Ee,yr=o,Rn=null,Ee=!0):Ee=!1}Ee||_s(o)}if(ue=o.memoizedState,ue!==null&&(ue=ue.dehydrated,ue!==null))return Rp(ue)?o.lanes=32:o.lanes=536870912,null;Qi(o)}return ue=p.children,p=p.fallback,y?(Ta(),y=o.mode,ue=Xc({mode:"hidden",children:ue},y),p=gs(p,y,u,null),ue.return=o,p.return=o,ue.sibling=p,o.child=ue,y=o.child,y.memoizedState=Yh(u),y.childLanes=Xh(a,X,u),o.memoizedState=Vh,p):(Ca(o),Gh(o,ue))}if(Ee=a.memoizedState,Ee!==null&&(ue=Ee.dehydrated,ue!==null)){if(w)o.flags&256?(Ca(o),o.flags&=-257,o=Wh(a,o,u)):o.memoizedState!==null?(Ta(),o.child=a.child,o.flags|=128,o=null):(Ta(),y=p.fallback,ue=o.mode,p=Xc({mode:"visible",children:p.children},ue),y=gs(y,ue,u,null),y.flags|=2,p.return=o,y.return=o,p.sibling=y,o.child=p,Ao(o,a.child,null,u),p=o.child,p.memoizedState=Yh(u),p.childLanes=Xh(a,X,u),o.memoizedState=Vh,o=y);else if(Ca(o),Rp(ue)){if(X=ue.nextSibling&&ue.nextSibling.dataset,X)var Me=X.dgst;X=Me,p=Error(r(419)),p.stack="",p.digest=X,Pl({value:p,source:null,stack:null}),o=Wh(a,o,u)}else if(Gn||Bl(a,o,u,!1),X=(u&a.childLanes)!==0,Gn||X){if(X=wn,X!==null&&(p=u&-u,p=(p&42)!==0?1:et(p),p=(p&(X.suspendedLanes|u))!==0?0:p,p!==0&&p!==Ee.retryLane))throw Ee.retryLane=p,po(a,p),Fr(X,a,p),gy;ue.data==="$?"||hp(),o=Wh(a,o,u)}else ue.data==="$?"?(o.flags|=192,o.child=a.child,o=null):(a=Ee.treeContext,Rn=di(ue.nextSibling),yr=o,nn=!0,bs=null,Ei=!1,a!==null&&(Wr[Zr++]=Xi,Wr[Zr++]=Gi,Wr[Zr++]=vs,Xi=a.id,Gi=a.overflow,vs=o),o=Gh(o,p.children),o.flags|=4096);return o}return y?(Ta(),y=p.fallback,ue=o.mode,Ee=a.child,Me=Ee.sibling,p=Yi(Ee,{mode:"hidden",children:p.children}),p.subtreeFlags=Ee.subtreeFlags&65011712,Me!==null?y=Yi(Me,y):(y=gs(y,ue,u,null),y.flags|=2),y.return=o,p.return=o,p.sibling=y,o.child=p,p=y,y=o.child,ue=a.child.memoizedState,ue===null?ue=Yh(u):(Ee=ue.cachePool,Ee!==null?(Me=Hn._currentValue,Ee=Ee.parent!==Me?{parent:Me,pool:Me}:Ee):Ee=fv(),ue={baseLanes:ue.baseLanes|u,cachePool:Ee}),y.memoizedState=ue,y.childLanes=Xh(a,X,u),o.memoizedState=Vh,p):(Ca(o),u=a.child,a=u.sibling,u=Yi(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,a!==null&&(X=o.deletions,X===null?(o.deletions=[a],o.flags|=16):X.push(a)),o.child=u,o.memoizedState=null,u)}function Gh(a,o){return o=Xc({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Xc(a,o){return a=Pr(22,a,null,o),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Wh(a,o,u){return Ao(o,a.child,null,u),a=Gh(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function Cy(a,o,u){a.lanes|=o;var p=a.alternate;p!==null&&(p.lanes|=o),hh(a.return,o,u)}function Zh(a,o,u,p,y){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:y}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=u,w.tailMode=y)}function Ty(a,o,u){var p=o.pendingProps,y=p.revealOrder,w=p.tail;if(nr(a,o,p.children,u),p=$n.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Cy(a,u,o);else if(a.tag===19)Cy(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}switch(K($n,p),y){case"forwards":for(u=o.child,y=null;u!==null;)a=u.alternate,a!==null&&Hc(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),Zh(o,!1,y,u,w);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&Hc(a)===null){o.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}Zh(o,!0,u,null,w);break;case"together":Zh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ji(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),ka|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(Bl(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=Yi(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=Yi(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function Kh(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Tc(a)))}function XE(a,o,u){switch(o.tag){case 3:pe(o,o.stateNode.containerInfo),xa(o,Hn,a.memoizedState.cache),Ll();break;case 27:case 5:ve(o);break;case 4:pe(o,o.stateNode.containerInfo);break;case 10:xa(o,o.type,o.memoizedProps.value);break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(Ca(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Ay(a,o,u):(Ca(o),a=Ji(a,o,u),a!==null?a.sibling:null);Ca(o);break;case 19:var y=(a.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||(Bl(a,o,u,!1),p=(u&o.childLanes)!==0),y){if(p)return Ty(a,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),K($n,$n.current),p)break;return null;case 22:case 23:return o.lanes=0,_y(a,o,u);case 24:xa(o,Hn,a.memoizedState.cache)}return Ji(a,o,u)}function Dy(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)Gn=!0;else{if(!Kh(a,u)&&(o.flags&128)===0)return Gn=!1,XE(a,o,u);Gn=(a.flags&131072)!==0}else Gn=!1,nn&&(o.flags&1048576)!==0&&iv(o,Cc,o.index);switch(o.lanes=0,o.tag){case 16:e:{a=o.pendingProps;var p=o.elementType,y=p._init;if(p=y(p._payload),o.type=p,typeof p=="function")sh(p)?(a=As(p,a),o.tag=1,o=Sy(null,o,p,a,u)):(o.tag=0,o=$h(null,o,p,a,u));else{if(p!=null){if(y=p.$$typeof,y===I){o.tag=11,o=vy(null,o,p,a,u);break e}else if(y===B){o.tag=14,o=yy(null,o,p,a,u);break e}}throw o=Y(p)||p,Error(r(306,o,""))}}return o;case 0:return $h(a,o,o.type,o.pendingProps,u);case 1:return p=o.type,y=As(p,o.pendingProps),Sy(a,o,p,y,u);case 3:e:{if(pe(o,o.stateNode.containerInfo),a===null)throw Error(r(387));p=o.pendingProps;var w=o.memoizedState;y=w.element,_h(a,o),$l(o,p,null,u);var X=o.memoizedState;if(p=X.cache,xa(o,Hn,p),p!==w.cache&&ph(o,[Hn],u,!0),Hl(),p=X.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:X.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=Ey(a,o,p,u);break e}else if(p!==y){y=Xr(Error(r(424)),o),Pl(y),o=Ey(a,o,p,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Rn=di(a.firstChild),yr=o,nn=!0,bs=null,Ei=!0,u=sy(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ll(),p===y){o=Ji(a,o,u);break e}nr(a,o,p,u)}o=o.child}return o;case 26:return Yc(a,o),a===null?(u=kb(o.type,null,o.pendingProps,null))?o.memoizedState=u:nn||(u=o.type,a=o.pendingProps,p=lf(H.current).createElement(u),p[z]=o,p[G]=a,ir(p,u,a),Ft(p),o.stateNode=p):o.memoizedState=kb(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return ve(o),a===null&&nn&&(p=o.stateNode=Ob(o.type,o.pendingProps,H.current),yr=o,Ei=!0,y=Rn,Pa(o.type)?(Np=y,Rn=di(p.firstChild)):Rn=y),nr(a,o,o.pendingProps.children,u),Yc(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&nn&&((y=p=Rn)&&(p=xA(p,o.type,o.pendingProps,Ei),p!==null?(o.stateNode=p,yr=o,Rn=di(p.firstChild),Ei=!1,y=!0):y=!1),y||_s(o)),ve(o),y=o.type,w=o.pendingProps,X=a!==null?a.memoizedProps:null,p=w.children,Tp(y,w)?p=null:X!==null&&Tp(y,X)&&(o.flags|=32),o.memoizedState!==null&&(y=Ch(a,o,UE,null,null,u),du._currentValue=y),Yc(a,o),nr(a,o,p,u),o.child;case 6:return a===null&&nn&&((a=u=Rn)&&(u=wA(u,o.pendingProps,Ei),u!==null?(o.stateNode=u,yr=o,Rn=null,a=!0):a=!1),a||_s(o)),null;case 13:return Ay(a,o,u);case 4:return pe(o,o.stateNode.containerInfo),p=o.pendingProps,a===null?o.child=Ao(o,null,p,u):nr(a,o,p,u),o.child;case 11:return vy(a,o,o.type,o.pendingProps,u);case 7:return nr(a,o,o.pendingProps,u),o.child;case 8:return nr(a,o,o.pendingProps.children,u),o.child;case 12:return nr(a,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,xa(o,o.type,p.value),nr(a,o,p.children,u),o.child;case 9:return y=o.type._context,p=o.pendingProps.children,ws(o),y=dr(y),p=p(y),o.flags|=1,nr(a,o,p,u),o.child;case 14:return yy(a,o,o.type,o.pendingProps,u);case 15:return by(a,o,o.type,o.pendingProps,u);case 19:return Ty(a,o,u);case 31:return p=o.pendingProps,u=o.mode,p={mode:p.mode,children:p.children},a===null?(u=Xc(p,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=Yi(a.child,p),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return _y(a,o,u);case 24:return ws(o),p=dr(Hn),a===null?(y=vh(),y===null&&(y=wn,w=mh(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=u),y=w),o.memoizedState={parent:p,cache:y},bh(o),xa(o,Hn,y)):((a.lanes&u)!==0&&(_h(a,o),$l(o,null,null,u),Hl()),y=a.memoizedState,w=o.memoizedState,y.parent!==p?(y={parent:p,cache:p},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),xa(o,Hn,p)):(p=w.cache,xa(o,Hn,p),p!==y.cache&&ph(o,[Hn],u,!0))),nr(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ea(a){a.flags|=4}function Oy(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Bb(o)){if(o=Kr.current,o!==null&&((Kt&4194048)===Kt?Ai!==null:(Kt&62914560)!==Kt&&(Kt&536870912)===0||o!==Ai))throw Fl=yh,dv;a.flags|=8192}}function Gc(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Vt():536870912,a.lanes|=o,Oo|=o)}function Kl(a,o){if(!nn)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function Tn(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,p=0;if(o)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags&65011712,p|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=p,a.childLanes=u,o}function GE(a,o,u){var p=o.pendingProps;switch(ch(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(o),null;case 1:return Tn(o),null;case 3:return u=o.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),Zi(Hn),be(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(jl(o)?ea(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ov())),Tn(o),null;case 26:return u=o.memoizedState,a===null?(ea(o),u!==null?(Tn(o),Oy(o,u)):(Tn(o),o.flags&=-16777217)):u?u!==a.memoizedState?(ea(o),Tn(o),Oy(o,u)):(Tn(o),o.flags&=-16777217):(a.memoizedProps!==p&&ea(o),Tn(o),o.flags&=-16777217),null;case 27:fe(o),u=H.current;var y=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==p&&ea(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return Tn(o),null}a=U.current,jl(o)?av(o):(a=Ob(y,p,u),o.stateNode=a,ea(o))}return Tn(o),null;case 5:if(fe(o),u=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==p&&ea(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return Tn(o),null}if(a=U.current,jl(o))av(o);else{switch(y=lf(H.current),a){case 1:a=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=y.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof p.is=="string"?y.createElement("select",{is:p.is}):y.createElement("select"),p.multiple?a.multiple=!0:p.size&&(a.size=p.size);break;default:a=typeof p.is=="string"?y.createElement(u,{is:p.is}):y.createElement(u)}}a[z]=o,a[G]=p;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)a.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=a;e:switch(ir(a,u,p),u){case"button":case"input":case"select":case"textarea":a=!!p.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ea(o)}}return Tn(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==p&&ea(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(a=H.current,jl(o)){if(a=o.stateNode,u=o.memoizedProps,p=null,y=yr,y!==null)switch(y.tag){case 27:case 5:p=y.memoizedProps}a[z]=o,a=!!(a.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||wb(a.nodeValue,u)),a||_s(o)}else a=lf(a).createTextNode(p),a[z]=o,o.stateNode=a}return Tn(o),null;case 13:if(p=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=jl(o),p!==null&&p.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[z]=o}else Ll(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Tn(o),y=!1}else y=ov(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Qi(o),o):(Qi(o),null)}if(Qi(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=p!==null,a=a!==null&&a.memoizedState!==null,u){p=o.child,y=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(y=p.alternate.memoizedState.cachePool.pool);var w=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==y&&(p.flags|=2048)}return u!==a&&u&&(o.child.flags|=8192),Gc(o,o.updateQueue),Tn(o),null;case 4:return be(),a===null&&wp(o.stateNode.containerInfo),Tn(o),null;case 10:return Zi(o.type),Tn(o),null;case 19:if(ae($n),y=o.memoizedState,y===null)return Tn(o),null;if(p=(o.flags&128)!==0,w=y.rendering,w===null)if(p)Kl(y,!1);else{if(Nn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(w=Hc(a),w!==null){for(o.flags|=128,Kl(y,!1),a=w.updateQueue,o.updateQueue=a,Gc(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)rv(u,a),u=u.sibling;return K($n,$n.current&1|2),o.child}a=a.sibling}y.tail!==null&&ge()>Kc&&(o.flags|=128,p=!0,Kl(y,!1),o.lanes=4194304)}else{if(!p)if(a=Hc(w),a!==null){if(o.flags|=128,p=!0,a=a.updateQueue,o.updateQueue=a,Gc(o,a),Kl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!nn)return Tn(o),null}else 2*ge()-y.renderingStartTime>Kc&&u!==536870912&&(o.flags|=128,p=!0,Kl(y,!1),o.lanes=4194304);y.isBackwards?(w.sibling=o.child,o.child=w):(a=y.last,a!==null?a.sibling=w:o.child=w,y.last=w)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=ge(),o.sibling=null,a=$n.current,K($n,p?a&1|2:a&1),o):(Tn(o),null);case 22:case 23:return Qi(o),Eh(),p=o.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(Tn(o),o.subtreeFlags&6&&(o.flags|=8192)):Tn(o),u=o.updateQueue,u!==null&&Gc(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),a!==null&&ae(Ss),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Zi(Hn),Tn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function WE(a,o){switch(ch(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Zi(Hn),be(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return fe(o),null;case 13:if(Qi(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Ll()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ae($n),null;case 4:return be(),null;case 10:return Zi(o.type),null;case 22:case 23:return Qi(o),Eh(),a!==null&&ae(Ss),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Zi(Hn),null;case 25:return null;default:return null}}function Ry(a,o){switch(ch(o),o.tag){case 3:Zi(Hn),be();break;case 26:case 27:case 5:fe(o);break;case 4:be();break;case 13:Qi(o);break;case 19:ae($n);break;case 10:Zi(o.type);break;case 22:case 23:Qi(o),Eh(),a!==null&&ae(Ss);break;case 24:Zi(Hn)}}function Ql(a,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&a)===a){p=void 0;var w=u.create,X=u.inst;p=w(),X.destroy=p}u=u.next}while(u!==y)}}catch(ue){_n(o,o.return,ue)}}function Da(a,o,u){try{var p=o.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var w=y.next;p=w;do{if((p.tag&a)===a){var X=p.inst,ue=X.destroy;if(ue!==void 0){X.destroy=void 0,y=o;var Ee=u,Me=ue;try{Me()}catch(Ue){_n(y,Ee,Ue)}}}p=p.next}while(p!==w)}}catch(Ue){_n(o,o.return,Ue)}}function Ny(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{yv(o,u)}catch(p){_n(a,a.return,p)}}}function ky(a,o,u){u.props=As(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(p){_n(a,o,p)}}function Jl(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof u=="function"?a.refCleanup=u(p):u.current=p}}catch(y){_n(a,o,y)}}function Ci(a,o){var u=a.ref,p=a.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(y){_n(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){_n(a,o,y)}else u.current=null}function My(a){var o=a.type,u=a.memoizedProps,p=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(y){_n(a,a.return,y)}}function Qh(a,o,u){try{var p=a.stateNode;gA(p,a.type,u,o),p[G]=o}catch(y){_n(a,a.return,y)}}function jy(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Pa(a.type)||a.tag===4}function Jh(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||jy(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Pa(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ep(a,o,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=of));else if(p!==4&&(p===27&&Pa(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(ep(a,o,u),a=a.sibling;a!==null;)ep(a,o,u),a=a.sibling}function Wc(a,o,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(p!==4&&(p===27&&Pa(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Wc(a,o,u),a=a.sibling;a!==null;)Wc(a,o,u),a=a.sibling}function Ly(a){var o=a.stateNode,u=a.memoizedProps;try{for(var p=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);ir(o,p,u),o[z]=a,o[G]=u}catch(w){_n(a,a.return,w)}}var ta=!1,Bn=!1,tp=!1,Py=typeof WeakSet=="function"?WeakSet:Set,Wn=null;function ZE(a,o){if(a=a.containerInfo,Ap=pf,a=X0(a),Jd(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var X=0,ue=-1,Ee=-1,Me=0,Ue=0,qe=a,Le=null;t:for(;;){for(var Pe;qe!==u||y!==0&&qe.nodeType!==3||(ue=X+y),qe!==w||p!==0&&qe.nodeType!==3||(Ee=X+p),qe.nodeType===3&&(X+=qe.nodeValue.length),(Pe=qe.firstChild)!==null;)Le=qe,qe=Pe;for(;;){if(qe===a)break t;if(Le===u&&++Me===y&&(ue=X),Le===w&&++Ue===p&&(Ee=X),(Pe=qe.nextSibling)!==null)break;qe=Le,Le=qe.parentNode}qe=Pe}u=ue===-1||Ee===-1?null:{start:ue,end:Ee}}else u=null}u=u||{start:0,end:0}}else u=null;for(Cp={focusedElem:a,selectionRange:u},pf=!1,Wn=o;Wn!==null;)if(o=Wn,a=o.child,(o.subtreeFlags&1024)!==0&&a!==null)a.return=o,Wn=a;else for(;Wn!==null;){switch(o=Wn,w=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,u=o,y=w.memoizedProps,w=w.memoizedState,p=u.stateNode;try{var Et=As(u.type,y,u.elementType===u.type);a=p.getSnapshotBeforeUpdate(Et,w),p.__reactInternalSnapshotBeforeUpdate=a}catch(bt){_n(u,u.return,bt)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)Op(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Op(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Wn=a;break}Wn=o.return}}function By(a,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:Oa(a,u),p&4&&Ql(5,u);break;case 1:if(Oa(a,u),p&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(X){_n(u,u.return,X)}else{var y=As(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(X){_n(u,u.return,X)}}p&64&&Ny(u),p&512&&Jl(u,u.return);break;case 3:if(Oa(a,u),p&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{yv(a,o)}catch(X){_n(u,u.return,X)}}break;case 27:o===null&&p&4&&Ly(u);case 26:case 5:Oa(a,u),o===null&&p&4&&My(u),p&512&&Jl(u,u.return);break;case 12:Oa(a,u);break;case 13:Oa(a,u),p&4&&zy(a,u),p&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=aA.bind(null,u),SA(a,u))));break;case 22:if(p=u.memoizedState!==null||ta,!p){o=o!==null&&o.memoizedState!==null||Bn,y=ta;var w=Bn;ta=p,(Bn=o)&&!w?Ra(a,u,(u.subtreeFlags&8772)!==0):Oa(a,u),ta=y,Bn=w}break;case 30:break;default:Oa(a,u)}}function Iy(a){var o=a.alternate;o!==null&&(a.alternate=null,Iy(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&wt(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Cn=null,Ar=!1;function na(a,o,u){for(u=u.child;u!==null;)Uy(a,o,u),u=u.sibling}function Uy(a,o,u){if(Ve&&typeof Ve.onCommitFiberUnmount=="function")try{Ve.onCommitFiberUnmount($e,u)}catch{}switch(u.tag){case 26:Bn||Ci(u,o),na(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Bn||Ci(u,o);var p=Cn,y=Ar;Pa(u.type)&&(Cn=u.stateNode,Ar=!1),na(a,o,u),lu(u.stateNode),Cn=p,Ar=y;break;case 5:Bn||Ci(u,o);case 6:if(p=Cn,y=Ar,Cn=null,na(a,o,u),Cn=p,Ar=y,Cn!==null)if(Ar)try{(Cn.nodeType===9?Cn.body:Cn.nodeName==="HTML"?Cn.ownerDocument.body:Cn).removeChild(u.stateNode)}catch(w){_n(u,o,w)}else try{Cn.removeChild(u.stateNode)}catch(w){_n(u,o,w)}break;case 18:Cn!==null&&(Ar?(a=Cn,Tb(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),gu(a)):Tb(Cn,u.stateNode));break;case 4:p=Cn,y=Ar,Cn=u.stateNode.containerInfo,Ar=!0,na(a,o,u),Cn=p,Ar=y;break;case 0:case 11:case 14:case 15:Bn||Da(2,u,o),Bn||Da(4,u,o),na(a,o,u);break;case 1:Bn||(Ci(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&ky(u,o,p)),na(a,o,u);break;case 21:na(a,o,u);break;case 22:Bn=(p=Bn)||u.memoizedState!==null,na(a,o,u),Bn=p;break;default:na(a,o,u)}}function zy(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{gu(a)}catch(u){_n(o,o.return,u)}}function KE(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new Py),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new Py),o;default:throw Error(r(435,a.tag))}}function np(a,o){var u=KE(a);o.forEach(function(p){var y=sA.bind(null,a,p);u.has(p)||(u.add(p),p.then(y,y))})}function Br(a,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var y=u[p],w=a,X=o,ue=X;e:for(;ue!==null;){switch(ue.tag){case 27:if(Pa(ue.type)){Cn=ue.stateNode,Ar=!1;break e}break;case 5:Cn=ue.stateNode,Ar=!1;break e;case 3:case 4:Cn=ue.stateNode.containerInfo,Ar=!0;break e}ue=ue.return}if(Cn===null)throw Error(r(160));Uy(w,X,y),Cn=null,Ar=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Fy(o,a),o=o.sibling}var fi=null;function Fy(a,o){var u=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Br(o,a),Ir(a),p&4&&(Da(3,a,a.return),Ql(3,a),Da(5,a,a.return));break;case 1:Br(o,a),Ir(a),p&512&&(Bn||u===null||Ci(u,u.return)),p&64&&ta&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var y=fi;if(Br(o,a),Ir(a),p&512&&(Bn||u===null||Ci(u,u.return)),p&4){var w=u!==null?u.memoizedState:null;if(p=a.memoizedState,u===null)if(p===null)if(a.stateNode===null){e:{p=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(p){case"title":w=y.getElementsByTagName("title")[0],(!w||w[jt]||w[z]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(p),y.head.insertBefore(w,y.querySelector("head > title"))),ir(w,p,u),w[z]=a,Ft(w),p=w;break e;case"link":var X=Lb("link","href",y).get(p+(u.href||""));if(X){for(var ue=0;ue<X.length;ue++)if(w=X[ue],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){X.splice(ue,1);break t}}w=y.createElement(p),ir(w,p,u),y.head.appendChild(w);break;case"meta":if(X=Lb("meta","content",y).get(p+(u.content||""))){for(ue=0;ue<X.length;ue++)if(w=X[ue],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){X.splice(ue,1);break t}}w=y.createElement(p),ir(w,p,u),y.head.appendChild(w);break;default:throw Error(r(468,p))}w[z]=a,Ft(w),p=w}a.stateNode=p}else Pb(y,a.type,a.stateNode);else a.stateNode=jb(y,p,a.memoizedProps);else w!==p?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,p===null?Pb(y,a.type,a.stateNode):jb(y,p,a.memoizedProps)):p===null&&a.stateNode!==null&&Qh(a,a.memoizedProps,u.memoizedProps)}break;case 27:Br(o,a),Ir(a),p&512&&(Bn||u===null||Ci(u,u.return)),u!==null&&p&4&&Qh(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Br(o,a),Ir(a),p&512&&(Bn||u===null||Ci(u,u.return)),a.flags&32){y=a.stateNode;try{va(y,"")}catch(Pe){_n(a,a.return,Pe)}}p&4&&a.stateNode!=null&&(y=a.memoizedProps,Qh(a,y,u!==null?u.memoizedProps:y)),p&1024&&(tp=!0);break;case 6:if(Br(o,a),Ir(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,u=a.stateNode;try{u.nodeValue=p}catch(Pe){_n(a,a.return,Pe)}}break;case 3:if(ff=null,y=fi,fi=uf(o.containerInfo),Br(o,a),fi=y,Ir(a),p&4&&u!==null&&u.memoizedState.isDehydrated)try{gu(o.containerInfo)}catch(Pe){_n(a,a.return,Pe)}tp&&(tp=!1,qy(a));break;case 4:p=fi,fi=uf(a.stateNode.containerInfo),Br(o,a),Ir(a),fi=p;break;case 12:Br(o,a),Ir(a);break;case 13:Br(o,a),Ir(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(lp=ge()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,np(a,p)));break;case 22:y=a.memoizedState!==null;var Ee=u!==null&&u.memoizedState!==null,Me=ta,Ue=Bn;if(ta=Me||y,Bn=Ue||Ee,Br(o,a),Bn=Ue,ta=Me,Ir(a),p&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||Ee||ta||Bn||Cs(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){Ee=u=o;try{if(w=Ee.stateNode,y)X=w.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{ue=Ee.stateNode;var qe=Ee.memoizedProps.style,Le=qe!=null&&qe.hasOwnProperty("display")?qe.display:null;ue.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(Pe){_n(Ee,Ee.return,Pe)}}}else if(o.tag===6){if(u===null){Ee=o;try{Ee.stateNode.nodeValue=y?"":Ee.memoizedProps}catch(Pe){_n(Ee,Ee.return,Pe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=a.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,np(a,u))));break;case 19:Br(o,a),Ir(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,np(a,p)));break;case 30:break;case 21:break;default:Br(o,a),Ir(a)}}function Ir(a){var o=a.flags;if(o&2){try{for(var u,p=a.return;p!==null;){if(jy(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,w=Jh(a);Wc(a,w,y);break;case 5:var X=u.stateNode;u.flags&32&&(va(X,""),u.flags&=-33);var ue=Jh(a);Wc(a,ue,X);break;case 3:case 4:var Ee=u.stateNode.containerInfo,Me=Jh(a);ep(a,Me,Ee);break;default:throw Error(r(161))}}catch(Ue){_n(a,a.return,Ue)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function qy(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;qy(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Oa(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)By(a,o.alternate,o),o=o.sibling}function Cs(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Da(4,o,o.return),Cs(o);break;case 1:Ci(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&ky(o,o.return,u),Cs(o);break;case 27:lu(o.stateNode);case 26:case 5:Ci(o,o.return),Cs(o);break;case 22:o.memoizedState===null&&Cs(o);break;case 30:Cs(o);break;default:Cs(o)}a=a.sibling}}function Ra(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,y=a,w=o,X=w.flags;switch(w.tag){case 0:case 11:case 15:Ra(y,w,u),Ql(4,w);break;case 1:if(Ra(y,w,u),p=w,y=p.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Me){_n(p,p.return,Me)}if(p=w,y=p.updateQueue,y!==null){var ue=p.stateNode;try{var Ee=y.shared.hiddenCallbacks;if(Ee!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Ee.length;y++)vv(Ee[y],ue)}catch(Me){_n(p,p.return,Me)}}u&&X&64&&Ny(w),Jl(w,w.return);break;case 27:Ly(w);case 26:case 5:Ra(y,w,u),u&&p===null&&X&4&&My(w),Jl(w,w.return);break;case 12:Ra(y,w,u);break;case 13:Ra(y,w,u),u&&X&4&&zy(y,w);break;case 22:w.memoizedState===null&&Ra(y,w,u),Jl(w,w.return);break;case 30:break;default:Ra(y,w,u)}o=o.sibling}}function rp(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Il(u))}function ip(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Il(a))}function Ti(a,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Hy(a,o,u,p),o=o.sibling}function Hy(a,o,u,p){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Ti(a,o,u,p),y&2048&&Ql(9,o);break;case 1:Ti(a,o,u,p);break;case 3:Ti(a,o,u,p),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Il(a)));break;case 12:if(y&2048){Ti(a,o,u,p),a=o.stateNode;try{var w=o.memoizedProps,X=w.id,ue=w.onPostCommit;typeof ue=="function"&&ue(X,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Ee){_n(o,o.return,Ee)}}else Ti(a,o,u,p);break;case 13:Ti(a,o,u,p);break;case 23:break;case 22:w=o.stateNode,X=o.alternate,o.memoizedState!==null?w._visibility&2?Ti(a,o,u,p):eu(a,o):w._visibility&2?Ti(a,o,u,p):(w._visibility|=2,Co(a,o,u,p,(o.subtreeFlags&10256)!==0)),y&2048&&rp(X,o);break;case 24:Ti(a,o,u,p),y&2048&&ip(o.alternate,o);break;default:Ti(a,o,u,p)}}function Co(a,o,u,p,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var w=a,X=o,ue=u,Ee=p,Me=X.flags;switch(X.tag){case 0:case 11:case 15:Co(w,X,ue,Ee,y),Ql(8,X);break;case 23:break;case 22:var Ue=X.stateNode;X.memoizedState!==null?Ue._visibility&2?Co(w,X,ue,Ee,y):eu(w,X):(Ue._visibility|=2,Co(w,X,ue,Ee,y)),y&&Me&2048&&rp(X.alternate,X);break;case 24:Co(w,X,ue,Ee,y),y&&Me&2048&&ip(X.alternate,X);break;default:Co(w,X,ue,Ee,y)}o=o.sibling}}function eu(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,p=o,y=p.flags;switch(p.tag){case 22:eu(u,p),y&2048&&rp(p.alternate,p);break;case 24:eu(u,p),y&2048&&ip(p.alternate,p);break;default:eu(u,p)}o=o.sibling}}var tu=8192;function To(a){if(a.subtreeFlags&tu)for(a=a.child;a!==null;)$y(a),a=a.sibling}function $y(a){switch(a.tag){case 26:To(a),a.flags&tu&&a.memoizedState!==null&&PA(fi,a.memoizedState,a.memoizedProps);break;case 5:To(a);break;case 3:case 4:var o=fi;fi=uf(a.stateNode.containerInfo),To(a),fi=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=tu,tu=16777216,To(a),tu=o):To(a));break;default:To(a)}}function Vy(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function nu(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Wn=p,Xy(p,a)}Vy(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Yy(a),a=a.sibling}function Yy(a){switch(a.tag){case 0:case 11:case 15:nu(a),a.flags&2048&&Da(9,a,a.return);break;case 3:nu(a);break;case 12:nu(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Zc(a)):nu(a);break;default:nu(a)}}function Zc(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Wn=p,Xy(p,a)}Vy(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Da(8,o,o.return),Zc(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Zc(o));break;default:Zc(o)}a=a.sibling}}function Xy(a,o){for(;Wn!==null;){var u=Wn;switch(u.tag){case 0:case 11:case 15:Da(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Il(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,Wn=p;else e:for(u=a;Wn!==null;){p=Wn;var y=p.sibling,w=p.return;if(Iy(p),p===u){Wn=null;break e}if(y!==null){y.return=w,Wn=y;break e}Wn=w}}}var QE={getCacheForType:function(a){var o=dr(Hn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u}},JE=typeof WeakMap=="function"?WeakMap:Map,fn=0,wn=null,qt=null,Kt=0,dn=0,Ur=null,Na=!1,Do=!1,ap=!1,ra=0,Nn=0,ka=0,Ts=0,sp=0,Qr=0,Oo=0,ru=null,Cr=null,op=!1,lp=0,Kc=1/0,Qc=null,Ma=null,rr=0,ja=null,Ro=null,No=0,up=0,cp=null,Gy=null,iu=0,fp=null;function zr(){if((fn&2)!==0&&Kt!==0)return Kt&-Kt;if(A.T!==null){var a=yo;return a!==0?a:yp()}return sn()}function Wy(){Qr===0&&(Qr=(Kt&536870912)===0||nn?yn():536870912);var a=Kr.current;return a!==null&&(a.flags|=32),Qr}function Fr(a,o,u){(a===wn&&(dn===2||dn===9)||a.cancelPendingCommit!==null)&&(ko(a,0),La(a,Kt,Qr,!1)),Mt(a,u),((fn&2)===0||a!==wn)&&(a===wn&&((fn&2)===0&&(Ts|=u),Nn===4&&La(a,Kt,Qr,!1)),Di(a))}function Zy(a,o,u){if((fn&6)!==0)throw Error(r(327));var p=!u&&(o&124)===0&&(o&a.expiredLanes)===0||Ct(a,o),y=p?nA(a,o):pp(a,o,!0),w=p;do{if(y===0){Do&&!p&&La(a,o,0,!1);break}else{if(u=a.current.alternate,w&&!eA(u)){y=pp(a,o,!1),w=!1;continue}if(y===2){if(w=o,a.errorRecoveryDisabledLanes&w)var X=0;else X=a.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){o=X;e:{var ue=a;y=ru;var Ee=ue.current.memoizedState.isDehydrated;if(Ee&&(ko(ue,X).flags|=256),X=pp(ue,X,!1),X!==2){if(ap&&!Ee){ue.errorRecoveryDisabledLanes|=w,Ts|=w,y=4;break e}w=Cr,Cr=y,w!==null&&(Cr===null?Cr=w:Cr.push.apply(Cr,w))}y=X}if(w=!1,y!==2)continue}}if(y===1){ko(a,0),La(a,o,0,!0);break}e:{switch(p=a,w=y,w){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:La(p,o,Qr,!Na);break e;case 2:Cr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=lp+300-ge(),10<y)){if(La(p,o,Qr,!Na),It(p,0,!0)!==0)break e;p.timeoutHandle=Ab(Ky.bind(null,p,u,Cr,Qc,op,o,Qr,Ts,Oo,Na,w,2,-0,0),y);break e}Ky(p,u,Cr,Qc,op,o,Qr,Ts,Oo,Na,w,0,-0,0)}}break}while(!0);Di(a)}function Ky(a,o,u,p,y,w,X,ue,Ee,Me,Ue,qe,Le,Pe){if(a.timeoutHandle=-1,qe=o.subtreeFlags,(qe&8192||(qe&16785408)===16785408)&&(fu={stylesheets:null,count:0,unsuspend:LA},$y(o),qe=BA(),qe!==null)){a.cancelPendingCommit=qe(ib.bind(null,a,o,w,u,p,y,X,ue,Ee,Ue,1,Le,Pe)),La(a,w,X,!Me);return}ib(a,o,w,u,p,y,X,ue,Ee)}function eA(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var y=u[p],w=y.getSnapshot;y=y.value;try{if(!Lr(w(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function La(a,o,u,p){o&=~sp,o&=~Ts,a.suspendedLanes|=o,a.pingedLanes&=~o,p&&(a.warmLanes|=o),p=a.expirationTimes;for(var y=o;0<y;){var w=31-ut(y),X=1<<w;p[w]=-1,y&=~X}u!==0&&it(a,u,o)}function Jc(){return(fn&6)===0?(au(0),!1):!0}function dp(){if(qt!==null){if(dn===0)var a=qt.return;else a=qt,Wi=xs=null,Oh(a),Eo=null,Wl=0,a=qt;for(;a!==null;)Ry(a.alternate,a),a=a.return;qt=null}}function ko(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,yA(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),dp(),wn=a,qt=u=Yi(a.current,null),Kt=o,dn=0,Ur=null,Na=!1,Do=Ct(a,o),ap=!1,Oo=Qr=sp=Ts=ka=Nn=0,Cr=ru=null,op=!1,(o&8)!==0&&(o|=o&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=o;0<p;){var y=31-ut(p),w=1<<y;o|=a[y],p&=~w}return ra=o,xc(),u}function Qy(a,o){Bt=null,A.H=zc,o===zl||o===Rc?(o=mv(),dn=3):o===dv?(o=mv(),dn=4):dn=o===gy?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ur=o,qt===null&&(Nn=1,Vc(a,Xr(o,a.current)))}function Jy(){var a=A.H;return A.H=zc,a===null?zc:a}function eb(){var a=A.A;return A.A=QE,a}function hp(){Nn=4,Na||(Kt&4194048)!==Kt&&Kr.current!==null||(Do=!0),(ka&134217727)===0&&(Ts&134217727)===0||wn===null||La(wn,Kt,Qr,!1)}function pp(a,o,u){var p=fn;fn|=2;var y=Jy(),w=eb();(wn!==a||Kt!==o)&&(Qc=null,ko(a,o)),o=!1;var X=Nn;e:do try{if(dn!==0&&qt!==null){var ue=qt,Ee=Ur;switch(dn){case 8:dp(),X=6;break e;case 3:case 2:case 9:case 6:Kr.current===null&&(o=!0);var Me=dn;if(dn=0,Ur=null,Mo(a,ue,Ee,Me),u&&Do){X=0;break e}break;default:Me=dn,dn=0,Ur=null,Mo(a,ue,Ee,Me)}}tA(),X=Nn;break}catch(Ue){Qy(a,Ue)}while(!0);return o&&a.shellSuspendCounter++,Wi=xs=null,fn=p,A.H=y,A.A=w,qt===null&&(wn=null,Kt=0,xc()),X}function tA(){for(;qt!==null;)tb(qt)}function nA(a,o){var u=fn;fn|=2;var p=Jy(),y=eb();wn!==a||Kt!==o?(Qc=null,Kc=ge()+500,ko(a,o)):Do=Ct(a,o);e:do try{if(dn!==0&&qt!==null){o=qt;var w=Ur;t:switch(dn){case 1:dn=0,Ur=null,Mo(a,o,w,1);break;case 2:case 9:if(hv(w)){dn=0,Ur=null,nb(o);break}o=function(){dn!==2&&dn!==9||wn!==a||(dn=7),Di(a)},w.then(o,o);break e;case 3:dn=7;break e;case 4:dn=5;break e;case 7:hv(w)?(dn=0,Ur=null,nb(o)):(dn=0,Ur=null,Mo(a,o,w,7));break;case 5:var X=null;switch(qt.tag){case 26:X=qt.memoizedState;case 5:case 27:var ue=qt;if(!X||Bb(X)){dn=0,Ur=null;var Ee=ue.sibling;if(Ee!==null)qt=Ee;else{var Me=ue.return;Me!==null?(qt=Me,ef(Me)):qt=null}break t}}dn=0,Ur=null,Mo(a,o,w,5);break;case 6:dn=0,Ur=null,Mo(a,o,w,6);break;case 8:dp(),Nn=6;break e;default:throw Error(r(462))}}rA();break}catch(Ue){Qy(a,Ue)}while(!0);return Wi=xs=null,A.H=p,A.A=y,fn=u,qt!==null?0:(wn=null,Kt=0,xc(),Nn)}function rA(){for(;qt!==null&&!ie();)tb(qt)}function tb(a){var o=Dy(a.alternate,a,ra);a.memoizedProps=a.pendingProps,o===null?ef(a):qt=o}function nb(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=wy(u,o,o.pendingProps,o.type,void 0,Kt);break;case 11:o=wy(u,o,o.pendingProps,o.type.render,o.ref,Kt);break;case 5:Oh(o);default:Ry(u,o),o=qt=rv(o,ra),o=Dy(u,o,ra)}a.memoizedProps=a.pendingProps,o===null?ef(a):qt=o}function Mo(a,o,u,p){Wi=xs=null,Oh(o),Eo=null,Wl=0;var y=o.return;try{if(YE(a,y,o,u,Kt)){Nn=1,Vc(a,Xr(u,a.current)),qt=null;return}}catch(w){if(y!==null)throw qt=y,w;Nn=1,Vc(a,Xr(u,a.current)),qt=null;return}o.flags&32768?(nn||p===1?a=!0:Do||(Kt&536870912)!==0?a=!1:(Na=a=!0,(p===2||p===9||p===3||p===6)&&(p=Kr.current,p!==null&&p.tag===13&&(p.flags|=16384))),rb(o,a)):ef(o)}function ef(a){var o=a;do{if((o.flags&32768)!==0){rb(o,Na);return}a=o.return;var u=GE(o.alternate,o,ra);if(u!==null){qt=u;return}if(o=o.sibling,o!==null){qt=o;return}qt=o=a}while(o!==null);Nn===0&&(Nn=5)}function rb(a,o){do{var u=WE(a.alternate,a);if(u!==null){u.flags&=32767,qt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){qt=a;return}qt=a=u}while(a!==null);Nn=6,qt=null}function ib(a,o,u,p,y,w,X,ue,Ee){a.cancelPendingCommit=null;do tf();while(rr!==0);if((fn&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(w=o.lanes|o.childLanes,w|=ih,Wt(a,u,w,X,ue,Ee),a===wn&&(qt=wn=null,Kt=0),Ro=o,ja=a,No=u,up=w,cp=y,Gy=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,oA(te,function(){return ub(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=A.T,A.T=null,y=R.p,R.p=2,X=fn,fn|=4;try{ZE(a,o,u)}finally{fn=X,R.p=y,A.T=p}}rr=1,ab(),sb(),ob()}}function ab(){if(rr===1){rr=0;var a=ja,o=Ro,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=A.T,A.T=null;var p=R.p;R.p=2;var y=fn;fn|=4;try{Fy(o,a);var w=Cp,X=X0(a.containerInfo),ue=w.focusedElem,Ee=w.selectionRange;if(X!==ue&&ue&&ue.ownerDocument&&Y0(ue.ownerDocument.documentElement,ue)){if(Ee!==null&&Jd(ue)){var Me=Ee.start,Ue=Ee.end;if(Ue===void 0&&(Ue=Me),"selectionStart"in ue)ue.selectionStart=Me,ue.selectionEnd=Math.min(Ue,ue.value.length);else{var qe=ue.ownerDocument||document,Le=qe&&qe.defaultView||window;if(Le.getSelection){var Pe=Le.getSelection(),Et=ue.textContent.length,bt=Math.min(Ee.start,Et),vn=Ee.end===void 0?bt:Math.min(Ee.end,Et);!Pe.extend&&bt>vn&&(X=vn,vn=bt,bt=X);var Re=V0(ue,bt),Ce=V0(ue,vn);if(Re&&Ce&&(Pe.rangeCount!==1||Pe.anchorNode!==Re.node||Pe.anchorOffset!==Re.offset||Pe.focusNode!==Ce.node||Pe.focusOffset!==Ce.offset)){var Ne=qe.createRange();Ne.setStart(Re.node,Re.offset),Pe.removeAllRanges(),bt>vn?(Pe.addRange(Ne),Pe.extend(Ce.node,Ce.offset)):(Ne.setEnd(Ce.node,Ce.offset),Pe.addRange(Ne))}}}}for(qe=[],Pe=ue;Pe=Pe.parentNode;)Pe.nodeType===1&&qe.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof ue.focus=="function"&&ue.focus(),ue=0;ue<qe.length;ue++){var ze=qe[ue];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}pf=!!Ap,Cp=Ap=null}finally{fn=y,R.p=p,A.T=u}}a.current=o,rr=2}}function sb(){if(rr===2){rr=0;var a=ja,o=Ro,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=A.T,A.T=null;var p=R.p;R.p=2;var y=fn;fn|=4;try{By(a,o.alternate,o)}finally{fn=y,R.p=p,A.T=u}}rr=3}}function ob(){if(rr===4||rr===3){rr=0,he();var a=ja,o=Ro,u=No,p=Gy;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?rr=5:(rr=0,Ro=ja=null,lb(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Ma=null),ct(u),o=o.stateNode,Ve&&typeof Ve.onCommitFiberRoot=="function")try{Ve.onCommitFiberRoot($e,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=A.T,y=R.p,R.p=2,A.T=null;try{for(var w=a.onRecoverableError,X=0;X<p.length;X++){var ue=p[X];w(ue.value,{componentStack:ue.stack})}}finally{A.T=o,R.p=y}}(No&3)!==0&&tf(),Di(a),y=a.pendingLanes,(u&4194090)!==0&&(y&42)!==0?a===fp?iu++:(iu=0,fp=a):iu=0,au(0)}}function lb(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Il(o)))}function tf(a){return ab(),sb(),ob(),ub()}function ub(){if(rr!==5)return!1;var a=ja,o=up;up=0;var u=ct(No),p=A.T,y=R.p;try{R.p=32>u?32:u,A.T=null,u=cp,cp=null;var w=ja,X=No;if(rr=0,Ro=ja=null,No=0,(fn&6)!==0)throw Error(r(331));var ue=fn;if(fn|=4,Yy(w.current),Hy(w,w.current,X,u),fn=ue,au(0,!1),Ve&&typeof Ve.onPostCommitFiberRoot=="function")try{Ve.onPostCommitFiberRoot($e,w)}catch{}return!0}finally{R.p=y,A.T=p,lb(a,o)}}function cb(a,o,u){o=Xr(u,o),o=Hh(a.stateNode,o,2),a=Ea(a,o,2),a!==null&&(Mt(a,2),Di(a))}function _n(a,o,u){if(a.tag===3)cb(a,a,u);else for(;o!==null;){if(o.tag===3){cb(o,a,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ma===null||!Ma.has(p))){a=Xr(u,a),u=py(2),p=Ea(o,u,2),p!==null&&(my(u,p,o,a),Mt(p,2),Di(p));break}}o=o.return}}function mp(a,o,u){var p=a.pingCache;if(p===null){p=a.pingCache=new JE;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(u)||(ap=!0,y.add(u),a=iA.bind(null,a,o,u),o.then(a,a))}function iA(a,o,u){var p=a.pingCache;p!==null&&p.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,wn===a&&(Kt&u)===u&&(Nn===4||Nn===3&&(Kt&62914560)===Kt&&300>ge()-lp?(fn&2)===0&&ko(a,0):sp|=u,Oo===Kt&&(Oo=0)),Di(a)}function fb(a,o){o===0&&(o=Vt()),a=po(a,o),a!==null&&(Mt(a,o),Di(a))}function aA(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),fb(a,u)}function sA(a,o){var u=0;switch(a.tag){case 13:var p=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(o),fb(a,u)}function oA(a,o){return Ae(a,o)}var nf=null,jo=null,gp=!1,rf=!1,vp=!1,Ds=0;function Di(a){a!==jo&&a.next===null&&(jo===null?nf=jo=a:jo=jo.next=a),rf=!0,gp||(gp=!0,uA())}function au(a,o){if(!vp&&rf){vp=!0;do for(var u=!1,p=nf;p!==null;){if(a!==0){var y=p.pendingLanes;if(y===0)var w=0;else{var X=p.suspendedLanes,ue=p.pingedLanes;w=(1<<31-ut(42|a)+1)-1,w&=y&~(X&~ue),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,mb(p,w))}else w=Kt,w=It(p,p===wn?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||Ct(p,w)||(u=!0,mb(p,w));p=p.next}while(u);vp=!1}}function lA(){db()}function db(){rf=gp=!1;var a=0;Ds!==0&&(vA()&&(a=Ds),Ds=0);for(var o=ge(),u=null,p=nf;p!==null;){var y=p.next,w=hb(p,o);w===0?(p.next=null,u===null?nf=y:u.next=y,y===null&&(jo=u)):(u=p,(a!==0||(w&3)!==0)&&(rf=!0)),p=y}au(a)}function hb(a,o){for(var u=a.suspendedLanes,p=a.pingedLanes,y=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var X=31-ut(w),ue=1<<X,Ee=y[X];Ee===-1?((ue&u)===0||(ue&p)!==0)&&(y[X]=Qt(ue,o)):Ee<=o&&(a.expiredLanes|=ue),w&=~ue}if(o=wn,u=Kt,u=It(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,u===0||a===o&&(dn===2||dn===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&Z(p),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Ct(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(p!==null&&Z(p),ct(u)){case 2:case 8:u=ne;break;case 32:u=te;break;case 268435456:u=we;break;default:u=te}return p=pb.bind(null,a),u=Ae(u,p),a.callbackPriority=o,a.callbackNode=u,o}return p!==null&&p!==null&&Z(p),a.callbackPriority=2,a.callbackNode=null,2}function pb(a,o){if(rr!==0&&rr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(tf()&&a.callbackNode!==u)return null;var p=Kt;return p=It(a,a===wn?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(Zy(a,p,o),hb(a,ge()),a.callbackNode!=null&&a.callbackNode===u?pb.bind(null,a):null)}function mb(a,o){if(tf())return null;Zy(a,o,!0)}function uA(){bA(function(){(fn&6)!==0?Ae(q,lA):db()})}function yp(){return Ds===0&&(Ds=yn()),Ds}function gb(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:qi(""+a)}function vb(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function cA(a,o,u,p,y){if(o==="submit"&&u&&u.stateNode===y){var w=gb((y[G]||null).action),X=p.submitter;X&&(o=(o=X[G]||null)?gb(o.formAction):X.getAttribute("formAction"),o!==null&&(w=o,X=null));var ue=new Sr("action","action",null,p,y);a.push({event:ue,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ds!==0){var Ee=X?vb(y,X):new FormData(y);Ih(u,{pending:!0,data:Ee,method:y.method,action:w},null,Ee)}}else typeof w=="function"&&(ue.preventDefault(),Ee=X?vb(y,X):new FormData(y),Ih(u,{pending:!0,data:Ee,method:y.method,action:w},w,Ee))},currentTarget:y}]})}}for(var bp=0;bp<rh.length;bp++){var _p=rh[bp],fA=_p.toLowerCase(),dA=_p[0].toUpperCase()+_p.slice(1);ci(fA,"on"+dA)}ci(Z0,"onAnimationEnd"),ci(K0,"onAnimationIteration"),ci(Q0,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(OE,"onTransitionRun"),ci(RE,"onTransitionStart"),ci(NE,"onTransitionCancel"),ci(J0,"onTransitionEnd"),Tt("onMouseEnter",["mouseout","mouseover"]),Tt("onMouseLeave",["mouseout","mouseover"]),Tt("onPointerEnter",["pointerout","pointerover"]),Tt("onPointerLeave",["pointerout","pointerover"]),bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(su));function yb(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var p=a[u],y=p.event;p=p.listeners;e:{var w=void 0;if(o)for(var X=p.length-1;0<=X;X--){var ue=p[X],Ee=ue.instance,Me=ue.currentTarget;if(ue=ue.listener,Ee!==w&&y.isPropagationStopped())break e;w=ue,y.currentTarget=Me;try{w(y)}catch(Ue){$c(Ue)}y.currentTarget=null,w=Ee}else for(X=0;X<p.length;X++){if(ue=p[X],Ee=ue.instance,Me=ue.currentTarget,ue=ue.listener,Ee!==w&&y.isPropagationStopped())break e;w=ue,y.currentTarget=Me;try{w(y)}catch(Ue){$c(Ue)}y.currentTarget=null,w=Ee}}}}function Ht(a,o){var u=o[De];u===void 0&&(u=o[De]=new Set);var p=a+"__bubble";u.has(p)||(bb(o,a,2,!1),u.add(p))}function xp(a,o,u){var p=0;o&&(p|=4),bb(u,a,p,o)}var af="_reactListening"+Math.random().toString(36).slice(2);function wp(a){if(!a[af]){a[af]=!0,ur.forEach(function(u){u!=="selectionchange"&&(hA.has(u)||xp(u,!1,a),xp(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[af]||(o[af]=!0,xp("selectionchange",!1,o))}}function bb(a,o,u,p){switch(Hb(o)){case 2:var y=zA;break;case 8:y=FA;break;default:y=Pp}u=y.bind(null,o,u,a),y=void 0,!Al||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?a.addEventListener(o,u,{capture:!0,passive:y}):a.addEventListener(o,u,!0):y!==void 0?a.addEventListener(o,u,{passive:y}):a.addEventListener(o,u,!1)}function Sp(a,o,u,p,y){var w=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var X=p.tag;if(X===3||X===4){var ue=p.stateNode.containerInfo;if(ue===y)break;if(X===4)for(X=p.return;X!==null;){var Ee=X.tag;if((Ee===3||Ee===4)&&X.stateNode.containerInfo===y)return;X=X.return}for(;ue!==null;){if(X=Jt(ue),X===null)return;if(Ee=X.tag,Ee===5||Ee===6||Ee===26||Ee===27){p=w=X;continue e}ue=ue.parentNode}}p=p.return}so(function(){var Me=w,Ue=Mr(u),qe=[];e:{var Le=ev.get(a);if(Le!==void 0){var Pe=Sr,Et=a;switch(a){case"keypress":if(us(u)===0)break e;case"keydown":case"keyup":Pe=b;break;case"focusin":Et="focus",Pe=$i;break;case"focusout":Et="blur",Pe=$i;break;case"beforeblur":case"afterblur":Pe=$i;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=xe;break;case Z0:case K0:case Q0:Pe=lo;break;case J0:Pe=Ie;break;case"scroll":case"scrollend":Pe=dc;break;case"wheel":Pe=Ye;break;case"copy":case"cut":case"paste":Pe=mc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=x;break;case"toggle":case"beforetoggle":Pe=ke}var bt=(o&4)!==0,vn=!bt&&(a==="scroll"||a==="scrollend"),Re=bt?Le!==null?Le+"Capture":null:Le;bt=[];for(var Ce=Me,Ne;Ce!==null;){var ze=Ce;if(Ne=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||Ne===null||Re===null||(ze=on(Ce,Re),ze!=null&&bt.push(ou(Ce,ze,Ne))),vn)break;Ce=Ce.return}0<bt.length&&(Le=new Pe(Le,Et,null,u,Ue),qe.push({event:Le,listeners:bt}))}}if((o&7)===0){e:{if(Le=a==="mouseover"||a==="pointerover",Pe=a==="mouseout"||a==="pointerout",Le&&u!==ya&&(Et=u.relatedTarget||u.fromElement)&&(Jt(Et)||Et[ye]))break e;if((Pe||Le)&&(Le=Ue.window===Ue?Ue:(Le=Ue.ownerDocument)?Le.defaultView||Le.parentWindow:window,Pe?(Et=u.relatedTarget||u.toElement,Pe=Me,Et=Et?Jt(Et):null,Et!==null&&(vn=s(Et),bt=Et.tag,Et!==vn||bt!==5&&bt!==27&&bt!==6)&&(Et=null)):(Pe=null,Et=Me),Pe!==Et)){if(bt=oo,ze="onMouseLeave",Re="onMouseEnter",Ce="mouse",(a==="pointerout"||a==="pointerover")&&(bt=x,ze="onPointerLeave",Re="onPointerEnter",Ce="pointer"),vn=Pe==null?Le:er(Pe),Ne=Et==null?Le:er(Et),Le=new bt(ze,Ce+"leave",Pe,u,Ue),Le.target=vn,Le.relatedTarget=Ne,ze=null,Jt(Ue)===Me&&(bt=new bt(Re,Ce+"enter",Et,u,Ue),bt.target=Ne,bt.relatedTarget=vn,ze=bt),vn=ze,Pe&&Et)t:{for(bt=Pe,Re=Et,Ce=0,Ne=bt;Ne;Ne=Lo(Ne))Ce++;for(Ne=0,ze=Re;ze;ze=Lo(ze))Ne++;for(;0<Ce-Ne;)bt=Lo(bt),Ce--;for(;0<Ne-Ce;)Re=Lo(Re),Ne--;for(;Ce--;){if(bt===Re||Re!==null&&bt===Re.alternate)break t;bt=Lo(bt),Re=Lo(Re)}bt=null}else bt=null;Pe!==null&&_b(qe,Le,Pe,bt,!1),Et!==null&&vn!==null&&_b(qe,vn,Et,bt,!0)}}e:{if(Le=Me?er(Me):window,Pe=Le.nodeName&&Le.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&Le.type==="file")var at=ds;else if(Ut(Le))if(hs)at=CE;else{at=EE;var zt=SE}else Pe=Le.nodeName,!Pe||Pe.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?Me&&ao(Me.elementType)&&(at=ds):at=AE;if(at&&(at=at(a,Me))){yt(qe,at,u,Ue);break e}zt&&zt(a,Le,Me),a==="focusout"&&Me&&Le.type==="number"&&Me.memoizedProps.value!=null&&io(Le,"number",Le.value)}switch(zt=Me?er(Me):window,a){case"focusin":(Ut(zt)||zt.contentEditable==="true")&&(co=zt,eh=Me,Ml=null);break;case"focusout":Ml=eh=co=null;break;case"mousedown":th=!0;break;case"contextmenu":case"mouseup":case"dragend":th=!1,G0(qe,u,Ue);break;case"selectionchange":if(DE)break;case"keydown":case"keyup":G0(qe,u,Ue)}var ht;if(tt)e:{switch(a){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else dt?Qe(a,u)&&(_t="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(_t="onCompositionStart");_t&&(Ot&&u.locale!=="ko"&&(dt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&dt&&(ht=Cl()):(Yr=Ue,li="value"in Yr?Yr.value:Yr.textContent,dt=!0)),zt=sf(Me,_t),0<zt.length&&(_t=new Nl(_t,a,null,u,Ue),qe.push({event:_t,listeners:zt}),ht?_t.data=ht:(ht=We(u),ht!==null&&(_t.data=ht)))),(ht=Je?cn(a,u):ft(a,u))&&(_t=sf(Me,"onBeforeInput"),0<_t.length&&(zt=new Nl("onBeforeInput","beforeinput",null,u,Ue),qe.push({event:zt,listeners:_t}),zt.data=ht)),cA(qe,a,Me,u,Ue)}yb(qe,o)})}function ou(a,o,u){return{instance:a,listener:o,currentTarget:u}}function sf(a,o){for(var u=o+"Capture",p=[];a!==null;){var y=a,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=on(a,u),y!=null&&p.unshift(ou(a,y,w)),y=on(a,o),y!=null&&p.push(ou(a,y,w))),a.tag===3)return p;a=a.return}return[]}function Lo(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function _b(a,o,u,p,y){for(var w=o._reactName,X=[];u!==null&&u!==p;){var ue=u,Ee=ue.alternate,Me=ue.stateNode;if(ue=ue.tag,Ee!==null&&Ee===p)break;ue!==5&&ue!==26&&ue!==27||Me===null||(Ee=Me,y?(Me=on(u,w),Me!=null&&X.unshift(ou(u,Me,Ee))):y||(Me=on(u,w),Me!=null&&X.push(ou(u,Me,Ee)))),u=u.return}X.length!==0&&a.push({event:o,listeners:X})}var pA=/\r\n?/g,mA=/\u0000|\uFFFD/g;function xb(a){return(typeof a=="string"?a:""+a).replace(pA,`
`).replace(mA,"")}function wb(a,o){return o=xb(o),xb(a)===o}function of(){}function gn(a,o,u,p,y,w){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||va(a,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&va(a,""+p);break;case"className":eo(a,"class",p);break;case"tabIndex":eo(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":eo(a,u,p);break;case"style":El(a,p,w);break;case"data":if(o!=="object"){eo(a,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=qi(""+p),a.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(o!=="input"&&gn(a,o,"name",y.name,y,null),gn(a,o,"formEncType",y.formEncType,y,null),gn(a,o,"formMethod",y.formMethod,y,null),gn(a,o,"formTarget",y.formTarget,y,null)):(gn(a,o,"encType",y.encType,y,null),gn(a,o,"method",y.method,y,null),gn(a,o,"target",y.target,y,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=qi(""+p),a.setAttribute(u,p);break;case"onClick":p!=null&&(a.onclick=of);break;case"onScroll":p!=null&&Ht("scroll",a);break;case"onScrollEnd":p!=null&&Ht("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}u=qi(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""+p):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":p===!0?a.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,p):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(u,p):a.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(u):a.setAttribute(u,p);break;case"popover":Ht("beforetoggle",a),Ht("toggle",a),bi(a,"popover",p);break;case"xlinkActuate":oi(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":oi(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":oi(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":oi(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":oi(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":oi(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":oi(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":oi(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":oi(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":bi(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Xd.get(u)||u,bi(a,u,p))}}function Ep(a,o,u,p,y,w){switch(u){case"style":El(a,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof p=="string"?va(a,p):(typeof p=="number"||typeof p=="bigint")&&va(a,""+p);break;case"onScroll":p!=null&&Ht("scroll",a);break;case"onScrollEnd":p!=null&&Ht("scrollend",a);break;case"onClick":p!=null&&(a.onclick=of);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!On.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),w=a[G]||null,w=w!=null?w[u]:null,typeof w=="function"&&a.removeEventListener(o,w,y),typeof p=="function")){typeof w!="function"&&w!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,p,y);break e}u in a?a[u]=p:p===!0?a.setAttribute(u,""):bi(a,u,p)}}}function ir(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",a),Ht("load",a);var p=!1,y=!1,w;for(w in u)if(u.hasOwnProperty(w)){var X=u[w];if(X!=null)switch(w){case"src":p=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:gn(a,o,w,X,u,null)}}y&&gn(a,o,"srcSet",u.srcSet,u,null),p&&gn(a,o,"src",u.src,u,null);return;case"input":Ht("invalid",a);var ue=w=X=y=null,Ee=null,Me=null;for(p in u)if(u.hasOwnProperty(p)){var Ue=u[p];if(Ue!=null)switch(p){case"name":y=Ue;break;case"type":X=Ue;break;case"checked":Ee=Ue;break;case"defaultChecked":Me=Ue;break;case"value":w=Ue;break;case"defaultValue":ue=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(r(137,o));break;default:gn(a,o,p,Ue,u,null)}}ma(a,w,ue,Ee,Me,X,y,!1),no(a);return;case"select":Ht("invalid",a),p=X=w=null;for(y in u)if(u.hasOwnProperty(y)&&(ue=u[y],ue!=null))switch(y){case"value":w=ue;break;case"defaultValue":X=ue;break;case"multiple":p=ue;default:gn(a,o,y,ue,u,null)}o=w,u=X,a.multiple=!!p,o!=null?ga(a,!!p,o,!1):u!=null&&ga(a,!!p,u,!0);return;case"textarea":Ht("invalid",a),w=y=p=null;for(X in u)if(u.hasOwnProperty(X)&&(ue=u[X],ue!=null))switch(X){case"value":p=ue;break;case"defaultValue":y=ue;break;case"children":w=ue;break;case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(91));break;default:gn(a,o,X,ue,u,null)}_i(a,p,y,w),no(a);return;case"option":for(Ee in u)if(u.hasOwnProperty(Ee)&&(p=u[Ee],p!=null))switch(Ee){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:gn(a,o,Ee,p,u,null)}return;case"dialog":Ht("beforetoggle",a),Ht("toggle",a),Ht("cancel",a),Ht("close",a);break;case"iframe":case"object":Ht("load",a);break;case"video":case"audio":for(p=0;p<su.length;p++)Ht(su[p],a);break;case"image":Ht("error",a),Ht("load",a);break;case"details":Ht("toggle",a);break;case"embed":case"source":case"link":Ht("error",a),Ht("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Me in u)if(u.hasOwnProperty(Me)&&(p=u[Me],p!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:gn(a,o,Me,p,u,null)}return;default:if(ao(o)){for(Ue in u)u.hasOwnProperty(Ue)&&(p=u[Ue],p!==void 0&&Ep(a,o,Ue,p,u,void 0));return}}for(ue in u)u.hasOwnProperty(ue)&&(p=u[ue],p!=null&&gn(a,o,ue,p,u,null))}function gA(a,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,X=null,ue=null,Ee=null,Me=null,Ue=null;for(Pe in u){var qe=u[Pe];if(u.hasOwnProperty(Pe)&&qe!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":Ee=qe;default:p.hasOwnProperty(Pe)||gn(a,o,Pe,null,p,qe)}}for(var Le in p){var Pe=p[Le];if(qe=u[Le],p.hasOwnProperty(Le)&&(Pe!=null||qe!=null))switch(Le){case"type":w=Pe;break;case"name":y=Pe;break;case"checked":Me=Pe;break;case"defaultChecked":Ue=Pe;break;case"value":X=Pe;break;case"defaultValue":ue=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,o));break;default:Pe!==qe&&gn(a,o,Le,Pe,p,qe)}}Sl(a,X,ue,Ee,Me,Ue,w,y);return;case"select":Pe=X=ue=Le=null;for(w in u)if(Ee=u[w],u.hasOwnProperty(w)&&Ee!=null)switch(w){case"value":break;case"multiple":Pe=Ee;default:p.hasOwnProperty(w)||gn(a,o,w,null,p,Ee)}for(y in p)if(w=p[y],Ee=u[y],p.hasOwnProperty(y)&&(w!=null||Ee!=null))switch(y){case"value":Le=w;break;case"defaultValue":ue=w;break;case"multiple":X=w;default:w!==Ee&&gn(a,o,y,w,p,Ee)}o=ue,u=X,p=Pe,Le!=null?ga(a,!!u,Le,!1):!!p!=!!u&&(o!=null?ga(a,!!u,o,!0):ga(a,!!u,u?[]:"",!1));return;case"textarea":Pe=Le=null;for(ue in u)if(y=u[ue],u.hasOwnProperty(ue)&&y!=null&&!p.hasOwnProperty(ue))switch(ue){case"value":break;case"children":break;default:gn(a,o,ue,null,p,y)}for(X in p)if(y=p[X],w=u[X],p.hasOwnProperty(X)&&(y!=null||w!=null))switch(X){case"value":Le=y;break;case"defaultValue":Pe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==w&&gn(a,o,X,y,p,w)}ss(a,Le,Pe);return;case"option":for(var Et in u)if(Le=u[Et],u.hasOwnProperty(Et)&&Le!=null&&!p.hasOwnProperty(Et))switch(Et){case"selected":a.selected=!1;break;default:gn(a,o,Et,null,p,Le)}for(Ee in p)if(Le=p[Ee],Pe=u[Ee],p.hasOwnProperty(Ee)&&Le!==Pe&&(Le!=null||Pe!=null))switch(Ee){case"selected":a.selected=Le&&typeof Le!="function"&&typeof Le!="symbol";break;default:gn(a,o,Ee,Le,p,Pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in u)Le=u[bt],u.hasOwnProperty(bt)&&Le!=null&&!p.hasOwnProperty(bt)&&gn(a,o,bt,null,p,Le);for(Me in p)if(Le=p[Me],Pe=u[Me],p.hasOwnProperty(Me)&&Le!==Pe&&(Le!=null||Pe!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,o));break;default:gn(a,o,Me,Le,p,Pe)}return;default:if(ao(o)){for(var vn in u)Le=u[vn],u.hasOwnProperty(vn)&&Le!==void 0&&!p.hasOwnProperty(vn)&&Ep(a,o,vn,void 0,p,Le);for(Ue in p)Le=p[Ue],Pe=u[Ue],!p.hasOwnProperty(Ue)||Le===Pe||Le===void 0&&Pe===void 0||Ep(a,o,Ue,Le,p,Pe);return}}for(var Re in u)Le=u[Re],u.hasOwnProperty(Re)&&Le!=null&&!p.hasOwnProperty(Re)&&gn(a,o,Re,null,p,Le);for(qe in p)Le=p[qe],Pe=u[qe],!p.hasOwnProperty(qe)||Le===Pe||Le==null&&Pe==null||gn(a,o,qe,Le,p,Pe)}var Ap=null,Cp=null;function lf(a){return a.nodeType===9?a:a.ownerDocument}function Sb(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Eb(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Tp(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Dp=null;function vA(){var a=window.event;return a&&a.type==="popstate"?a===Dp?!1:(Dp=a,!0):(Dp=null,!1)}var Ab=typeof setTimeout=="function"?setTimeout:void 0,yA=typeof clearTimeout=="function"?clearTimeout:void 0,Cb=typeof Promise=="function"?Promise:void 0,bA=typeof queueMicrotask=="function"?queueMicrotask:typeof Cb<"u"?function(a){return Cb.resolve(null).then(a).catch(_A)}:Ab;function _A(a){setTimeout(function(){throw a})}function Pa(a){return a==="head"}function Tb(a,o){var u=o,p=0,y=0;do{var w=u.nextSibling;if(a.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(0<p&&8>p){u=p;var X=a.ownerDocument;if(u&1&&lu(X.documentElement),u&2&&lu(X.body),u&4)for(u=X.head,lu(u),X=u.firstChild;X;){var ue=X.nextSibling,Ee=X.nodeName;X[jt]||Ee==="SCRIPT"||Ee==="STYLE"||Ee==="LINK"&&X.rel.toLowerCase()==="stylesheet"||u.removeChild(X),X=ue}}if(y===0){a.removeChild(w),gu(o);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:p=u.charCodeAt(0)-48;else p=0;u=w}while(u);gu(o)}function Op(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Op(u),wt(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function xA(a,o,u,p){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[jt])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=di(a.nextSibling),a===null)break}return null}function wA(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=di(a.nextSibling),a===null))return null;return a}function Rp(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function SA(a,o){var u=a.ownerDocument;if(a.data!=="$?"||u.readyState==="complete")o();else{var p=function(){o(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function di(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}var Np=null;function Db(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return a;o--}else u==="/$"&&o++}a=a.previousSibling}return null}function Ob(a,o,u){switch(o=lf(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function lu(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);wt(a)}var Jr=new Map,Rb=new Set;function uf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ia=R.d;R.d={f:EA,r:AA,D:CA,C:TA,L:DA,m:OA,X:NA,S:RA,M:kA};function EA(){var a=ia.f(),o=Jc();return a||o}function AA(a){var o=pn(a);o!==null&&o.tag===5&&o.type==="form"?Zv(o):ia.r(a)}var Po=typeof document>"u"?null:document;function Nb(a,o,u){var p=Po;if(p&&typeof o=="string"&&o){var y=xr(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),Rb.has(y)||(Rb.add(y),a={rel:a,crossOrigin:u,href:o},p.querySelector(y)===null&&(o=p.createElement("link"),ir(o,"link",a),Ft(o),p.head.appendChild(o)))}}function CA(a){ia.D(a),Nb("dns-prefetch",a,null)}function TA(a,o){ia.C(a,o),Nb("preconnect",a,o)}function DA(a,o,u){ia.L(a,o,u);var p=Po;if(p&&a&&o){var y='link[rel="preload"][as="'+xr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+xr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+xr(u.imageSizes)+'"]')):y+='[href="'+xr(a)+'"]';var w=y;switch(o){case"style":w=Bo(a);break;case"script":w=Io(a)}Jr.has(w)||(a=h({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Jr.set(w,a),p.querySelector(y)!==null||o==="style"&&p.querySelector(uu(w))||o==="script"&&p.querySelector(cu(w))||(o=p.createElement("link"),ir(o,"link",a),Ft(o),p.head.appendChild(o)))}}function OA(a,o){ia.m(a,o);var u=Po;if(u&&a){var p=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+xr(p)+'"][href="'+xr(a)+'"]',w=y;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Io(a)}if(!Jr.has(w)&&(a=h({rel:"modulepreload",href:a},o),Jr.set(w,a),u.querySelector(y)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(cu(w)))return}p=u.createElement("link"),ir(p,"link",a),Ft(p),u.head.appendChild(p)}}}function RA(a,o,u){ia.S(a,o,u);var p=Po;if(p&&a){var y=Dn(p).hoistableStyles,w=Bo(a);o=o||"default";var X=y.get(w);if(!X){var ue={loading:0,preload:null};if(X=p.querySelector(uu(w)))ue.loading=5;else{a=h({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Jr.get(w))&&kp(a,u);var Ee=X=p.createElement("link");Ft(Ee),ir(Ee,"link",a),Ee._p=new Promise(function(Me,Ue){Ee.onload=Me,Ee.onerror=Ue}),Ee.addEventListener("load",function(){ue.loading|=1}),Ee.addEventListener("error",function(){ue.loading|=2}),ue.loading|=4,cf(X,o,p)}X={type:"stylesheet",instance:X,count:1,state:ue},y.set(w,X)}}}function NA(a,o){ia.X(a,o);var u=Po;if(u&&a){var p=Dn(u).hoistableScripts,y=Io(a),w=p.get(y);w||(w=u.querySelector(cu(y)),w||(a=h({src:a,async:!0},o),(o=Jr.get(y))&&Mp(a,o),w=u.createElement("script"),Ft(w),ir(w,"link",a),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(y,w))}}function kA(a,o){ia.M(a,o);var u=Po;if(u&&a){var p=Dn(u).hoistableScripts,y=Io(a),w=p.get(y);w||(w=u.querySelector(cu(y)),w||(a=h({src:a,async:!0,type:"module"},o),(o=Jr.get(y))&&Mp(a,o),w=u.createElement("script"),Ft(w),ir(w,"link",a),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(y,w))}}function kb(a,o,u,p){var y=(y=H.current)?uf(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Bo(u.href),u=Dn(y).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Bo(u.href);var w=Dn(y).hoistableStyles,X=w.get(a);if(X||(y=y.ownerDocument||y,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,X),(w=y.querySelector(uu(a)))&&!w._p&&(X.instance=w,X.state.loading=5),Jr.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Jr.set(a,u),w||MA(y,a,u,X.state))),o&&p===null)throw Error(r(528,""));return X}if(o&&p!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Io(u),u=Dn(y).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Bo(a){return'href="'+xr(a)+'"'}function uu(a){return'link[rel="stylesheet"]['+a+"]"}function Mb(a){return h({},a,{"data-precedence":a.precedence,precedence:null})}function MA(a,o,u,p){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=a.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),ir(o,"link",u),Ft(o),a.head.appendChild(o))}function Io(a){return'[src="'+xr(a)+'"]'}function cu(a){return"script[async]"+a}function jb(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=a.querySelector('style[data-href~="'+xr(u.href)+'"]');if(p)return o.instance=p,Ft(p),p;var y=h({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Ft(p),ir(p,"style",y),cf(p,u.precedence,a),o.instance=p;case"stylesheet":y=Bo(u.href);var w=a.querySelector(uu(y));if(w)return o.state.loading|=4,o.instance=w,Ft(w),w;p=Mb(u),(y=Jr.get(y))&&kp(p,y),w=(a.ownerDocument||a).createElement("link"),Ft(w);var X=w;return X._p=new Promise(function(ue,Ee){X.onload=ue,X.onerror=Ee}),ir(w,"link",p),o.state.loading|=4,cf(w,u.precedence,a),o.instance=w;case"script":return w=Io(u.src),(y=a.querySelector(cu(w)))?(o.instance=y,Ft(y),y):(p=u,(y=Jr.get(w))&&(p=h({},u),Mp(p,y)),a=a.ownerDocument||a,y=a.createElement("script"),Ft(y),ir(y,"link",p),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,cf(p,u.precedence,a));return o.instance}function cf(a,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=p.length?p[p.length-1]:null,w=y,X=0;X<p.length;X++){var ue=p[X];if(ue.dataset.precedence===o)w=ue;else if(w!==y)break}w?w.parentNode.insertBefore(a,w.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function kp(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Mp(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var ff=null;function Lb(a,o,u){if(ff===null){var p=new Map,y=ff=new Map;y.set(u,p)}else y=ff,p=y.get(u),p||(p=new Map,y.set(u,p));if(p.has(a))return p;for(p.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var w=u[y];if(!(w[jt]||w[z]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var X=w.getAttribute(o)||"";X=a+X;var ue=p.get(X);ue?ue.push(w):p.set(X,[w])}}return p}function Pb(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function jA(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Bb(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var fu=null;function LA(){}function PA(a,o,u){if(fu===null)throw Error(r(475));var p=fu;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Bo(u.href),w=a.querySelector(uu(y));if(w){a=w._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(p.count++,p=df.bind(p),a.then(p,p)),o.state.loading|=4,o.instance=w,Ft(w);return}w=a.ownerDocument||a,u=Mb(u),(y=Jr.get(y))&&kp(u,y),w=w.createElement("link"),Ft(w);var X=w;X._p=new Promise(function(ue,Ee){X.onload=ue,X.onerror=Ee}),ir(w,"link",u),o.instance=w}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(p.count++,o=df.bind(p),a.addEventListener("load",o),a.addEventListener("error",o))}}function BA(){if(fu===null)throw Error(r(475));var a=fu;return a.stylesheets&&a.count===0&&jp(a,a.stylesheets),0<a.count?function(o){var u=setTimeout(function(){if(a.stylesheets&&jp(a,a.stylesheets),a.unsuspend){var p=a.unsuspend;a.unsuspend=null,p()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(u)}}:null}function df(){if(this.count--,this.count===0){if(this.stylesheets)jp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var hf=null;function jp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,hf=new Map,o.forEach(IA,a),hf=null,df.call(a))}function IA(a,o){if(!(o.state.loading&4)){var u=hf.get(a);if(u)var p=u.get(null);else{u=new Map,hf.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var X=y[w];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(u.set(X.dataset.precedence,X),p=X)}p&&u.set(null,p)}y=o.instance,X=y.getAttribute("data-precedence"),w=u.get(X)||p,w===p&&u.set(null,y),u.set(X,y),this.count++,p=df.bind(this),y.addEventListener("load",p),y.addEventListener("error",p),w?w.parentNode.insertBefore(y,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var du={$$typeof:L,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function UA(a,o,u,p,y,w,X,ue){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xn(0),this.hiddenUpdates=xn(null),this.identifierPrefix=p,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function Ib(a,o,u,p,y,w,X,ue,Ee,Me,Ue,qe){return a=new UA(a,o,u,X,ue,Ee,Me,qe),o=1,w===!0&&(o|=24),w=Pr(3,null,null,o),a.current=w,w.stateNode=a,o=mh(),o.refCount++,a.pooledCache=o,o.refCount++,w.memoizedState={element:p,isDehydrated:u,cache:o},bh(w),a}function Ub(a){return a?(a=mo,a):mo}function zb(a,o,u,p,y,w){y=Ub(y),p.context===null?p.context=y:p.pendingContext=y,p=Sa(o),p.payload={element:u},w=w===void 0?null:w,w!==null&&(p.callback=w),u=Ea(a,p,o),u!==null&&(Fr(u,a,o),ql(u,a,o))}function Fb(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function Lp(a,o){Fb(a,o),(a=a.alternate)&&Fb(a,o)}function qb(a){if(a.tag===13){var o=po(a,67108864);o!==null&&Fr(o,a,67108864),Lp(a,67108864)}}var pf=!0;function zA(a,o,u,p){var y=A.T;A.T=null;var w=R.p;try{R.p=2,Pp(a,o,u,p)}finally{R.p=w,A.T=y}}function FA(a,o,u,p){var y=A.T;A.T=null;var w=R.p;try{R.p=8,Pp(a,o,u,p)}finally{R.p=w,A.T=y}}function Pp(a,o,u,p){if(pf){var y=Bp(p);if(y===null)Sp(a,o,p,mf,u),$b(a,p);else if(HA(y,a,o,u,p))p.stopPropagation();else if($b(a,p),o&4&&-1<qA.indexOf(a)){for(;y!==null;){var w=pn(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var X=Dt(w.pendingLanes);if(X!==0){var ue=w;for(ue.pendingLanes|=2,ue.entangledLanes|=2;X;){var Ee=1<<31-ut(X);ue.entanglements[1]|=Ee,X&=~Ee}Di(w),(fn&6)===0&&(Kc=ge()+500,au(0))}}break;case 13:ue=po(w,2),ue!==null&&Fr(ue,w,2),Jc(),Lp(w,2)}if(w=Bp(p),w===null&&Sp(a,o,p,mf,u),w===y)break;y=w}y!==null&&p.stopPropagation()}else Sp(a,o,p,null,u)}}function Bp(a){return a=Mr(a),Ip(a)}var mf=null;function Ip(a){if(mf=null,a=Jt(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return mf=a,null}function Hb(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ee()){case q:return 2;case ne:return 8;case te:case le:return 32;case we:return 268435456;default:return 32}default:return 32}}var Up=!1,Ba=null,Ia=null,Ua=null,hu=new Map,pu=new Map,za=[],qA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $b(a,o){switch(a){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":hu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(o.pointerId)}}function mu(a,o,u,p,y,w){return a===null||a.nativeEvent!==w?(a={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},o!==null&&(o=pn(o),o!==null&&qb(o)),a):(a.eventSystemFlags|=p,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function HA(a,o,u,p,y){switch(o){case"focusin":return Ba=mu(Ba,a,o,u,p,y),!0;case"dragenter":return Ia=mu(Ia,a,o,u,p,y),!0;case"mouseover":return Ua=mu(Ua,a,o,u,p,y),!0;case"pointerover":var w=y.pointerId;return hu.set(w,mu(hu.get(w)||null,a,o,u,p,y)),!0;case"gotpointercapture":return w=y.pointerId,pu.set(w,mu(pu.get(w)||null,a,o,u,p,y)),!0}return!1}function Vb(a){var o=Jt(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,Un(a.priority,function(){if(u.tag===13){var p=zr();p=et(p);var y=po(u,p);y!==null&&Fr(y,u,p),Lp(u,p)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function gf(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=Bp(a.nativeEvent);if(u===null){u=a.nativeEvent;var p=new u.constructor(u.type,u);ya=p,u.target.dispatchEvent(p),ya=null}else return o=pn(u),o!==null&&qb(o),a.blockedOn=u,!1;o.shift()}return!0}function Yb(a,o,u){gf(a)&&u.delete(o)}function $A(){Up=!1,Ba!==null&&gf(Ba)&&(Ba=null),Ia!==null&&gf(Ia)&&(Ia=null),Ua!==null&&gf(Ua)&&(Ua=null),hu.forEach(Yb),pu.forEach(Yb)}function vf(a,o){a.blockedOn===o&&(a.blockedOn=null,Up||(Up=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$A)))}var yf=null;function Xb(a){yf!==a&&(yf=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){yf===a&&(yf=null);for(var o=0;o<a.length;o+=3){var u=a[o],p=a[o+1],y=a[o+2];if(typeof p!="function"){if(Ip(p||u)===null)continue;break}var w=pn(u);w!==null&&(a.splice(o,3),o-=3,Ih(w,{pending:!0,data:y,method:u.method,action:p},p,y))}}))}function gu(a){function o(Ee){return vf(Ee,a)}Ba!==null&&vf(Ba,a),Ia!==null&&vf(Ia,a),Ua!==null&&vf(Ua,a),hu.forEach(o),pu.forEach(o);for(var u=0;u<za.length;u++){var p=za[u];p.blockedOn===a&&(p.blockedOn=null)}for(;0<za.length&&(u=za[0],u.blockedOn===null);)Vb(u),u.blockedOn===null&&za.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var y=u[p],w=u[p+1],X=y[G]||null;if(typeof w=="function")X||Xb(u);else if(X){var ue=null;if(w&&w.hasAttribute("formAction")){if(y=w,X=w[G]||null)ue=X.formAction;else if(Ip(y)!==null)continue}else ue=X.action;typeof ue=="function"?u[p+1]=ue:(u.splice(p,3),p-=3),Xb(u)}}}function zp(a){this._internalRoot=a}bf.prototype.render=zp.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,p=zr();zb(u,p,a,o,null,null)},bf.prototype.unmount=zp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;zb(a.current,2,null,a,null,null),Jc(),o[ye]=null}};function bf(a){this._internalRoot=a}bf.prototype.unstable_scheduleHydration=function(a){if(a){var o=sn();a={blockedOn:null,target:a,priority:o};for(var u=0;u<za.length&&o!==0&&o<za[u].priority;u++);za.splice(u,0,a),u===0&&Vb(a)}};var Gb=e.version;if(Gb!=="19.1.0")throw Error(r(527,Gb,"19.1.0"));R.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(o),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var VA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{$e=_f.inject(VA),Ve=_f}catch{}}return yu.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,p="",y=cy,w=fy,X=dy,ue=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(X=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(ue=o.unstable_transitionCallbacks)),o=Ib(a,1,!1,null,null,u,p,y,w,X,ue,null),a[ye]=o.current,wp(a),new zp(o)},yu.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var p=!1,y="",w=cy,X=fy,ue=dy,Ee=null,Me=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(X=u.onCaughtError),u.onRecoverableError!==void 0&&(ue=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(Ee=u.unstable_transitionCallbacks),u.formState!==void 0&&(Me=u.formState)),o=Ib(a,1,!0,o,u??null,p,y,w,X,ue,Ee,Me),o.context=Ub(null),u=o.current,p=zr(),p=et(p),y=Sa(p),y.callback=null,Ea(u,y,p),u=p,o.current.lanes=u,Mt(o,u),Di(o),a[ye]=o.current,wp(a),new bf(o)},yu.version="19.1.0",yu}var a_;function iC(){if(a_)return Hp.exports;a_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hp.exports=rC(),Hp.exports}var aC=iC();const sC=hl(aC),oC="modulepreload",lC=function(t){return"/documents/"+t},s_={},sl=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=l(n.map(d=>{if(d=lC(d),d in s_)return;s_[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":oC,h||(g.as="script"),g.crossOrigin="",g.href=d,f&&g.setAttribute("nonce",f),document.head.appendChild(g),h)return new Promise((v,_)=>{g.addEventListener("load",v),g.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})},uC=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>pl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Zg extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class cC extends Zg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class fC extends Zg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class dC extends Zg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var yg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(yg||(yg={}));var hC=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(r.next(h))}catch(m){l(m)}}function f(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?s(h.value):i(h.value).then(c,f)}d((r=r.apply(t,e||[])).next())})};class pC{constructor(e,{headers:n={},customFetch:r,region:i=yg.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=uC(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return hC(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:l}=n;let c={},{region:f}=n;f||(f=this.region),f&&f!=="any"&&(c["x-region"]=f);let d;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",d=l):typeof l=="string"?(c["Content-Type"]="text/plain",d=l):typeof FormData<"u"&&l instanceof FormData?d=l:(c["Content-Type"]="application/json",d=JSON.stringify(l)));const h=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:d}).catch(_=>{throw new cC(_)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new fC(h);if(!h.ok)throw new dC(h);let g=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield h.json():g==="application/octet-stream"?v=yield h.blob():g==="text/event-stream"?v=h:g==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null}}catch(i){return{data:null,error:i}}})}}var Kn={},Uo={},zo={},Fo={},qo={},Ho={},mC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ol=mC();const gC=ol.fetch,Yx=ol.fetch.bind(ol),Xx=ol.Headers,vC=ol.Request,yC=ol.Response,pl=Object.freeze(Object.defineProperty({__proto__:null,Headers:Xx,Request:vC,Response:yC,default:Yx,fetch:gC},Symbol.toStringTag,{value:"Module"})),bC=ZA(pl);var wf={},o_;function Gx(){if(o_)return wf;o_=1,Object.defineProperty(wf,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return wf.default=t,wf}var l_;function Wx(){if(l_)return Ho;l_=1;var t=Ho&&Ho.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ho,"__esModule",{value:!0});const e=t(bC),n=t(Gx());class r{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,l){return this.headers=Object.assign({},this.headers),this.headers[s]=l,this}then(s,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const c=this.fetch;let f=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,m,g;let v=null,_=null,C=null,T=d.status,S=d.statusText;if(d.ok){if(this.method!=="HEAD"){const j=await d.text();j===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=j:_=JSON.parse(j))}const L=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),I=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");L&&I&&I.length>1&&(C=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(v={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,C=null,T=406,S="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const L=await d.text();try{v=JSON.parse(L),Array.isArray(v)&&d.status===404&&(_=[],v=null,T=200,S="OK")}catch{d.status===404&&L===""?(T=204,S="No Content"):v={message:L}}if(v&&this.isMaybeSingle&&(!((g=v==null?void 0:v.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,T=200,S="OK"),v&&this.shouldThrowOnError)throw new n.default(v)}return{error:v,data:_,count:C,status:T,statusText:S}});return this.shouldThrowOnError||(f=f.catch(d=>{var h,m,g;return{error:{message:`${(h=d==null?void 0:d.name)!==null&&h!==void 0?h:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(m=d==null?void 0:d.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(g=d==null?void 0:d.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),f.then(s,l)}returns(){return this}overrideTypes(){return this}}return Ho.default=r,Ho}var u_;function Zx(){if(u_)return qo;u_=1;var t=qo&&qo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qo,"__esModule",{value:!0});const e=t(Wx());class n extends e.default{select(i){let s=!1;const l=(i??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:l,foreignTable:c,referencedTable:f=c}={}){const d=f?`${f}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${s?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:l=s}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,s,{foreignTable:l,referencedTable:c=l}={}){const f=typeof c>"u"?"offset":`${c}.offset`,d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(d,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:l=!1,buffers:c=!1,wal:f=!1,format:d="text"}={}){var h;const m=[i?"analyze":null,s?"verbose":null,l?"settings":null,c?"buffers":null,f?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${g}"; options=${m};`,d==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return qo.default=n,qo}var c_;function Kg(){if(c_)return Fo;c_=1;var t=Fo&&Fo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fo,"__esModule",{value:!0});const e=t(Zx());class n extends e.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const l=Array.from(new Set(s)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:l,type:c}={}){let f="";c==="plain"?f="pl":c==="phrase"?f="ph":c==="websearch"&&(f="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${f}fts${d}.${s}`),this}match(i){return Object.entries(i).forEach(([s,l])=>{this.url.searchParams.append(s,`eq.${l}`)}),this}not(i,s,l){return this.url.searchParams.append(i,`not.${s}.${l}`),this}or(i,{foreignTable:s,referencedTable:l=s}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,s,l){return this.url.searchParams.append(i,`${s}.${l}`),this}}return Fo.default=n,Fo}var f_;function Kx(){if(f_)return zo;f_=1;var t=zo&&zo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zo,"__esModule",{value:!0});const e=t(Kg());class n{constructor(i,{headers:s={},schema:l,fetch:c}){this.url=i,this.headers=s,this.schema=l,this.fetch=c}select(i,{head:s=!1,count:l}={}){const c=s?"HEAD":"GET";let f=!1;const d=(i??"*").split("").map(h=>/\s/.test(h)&&!f?"":(h==='"'&&(f=!f),h)).join("");return this.url.searchParams.set("select",d),l&&(this.headers.Prefer=`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:l=!0}={}){const c="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),s&&f.push(`count=${s}`),l||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const d=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:l=!1,count:c,defaultToNull:f=!0}={}){const d="POST",h=[`resolution=${l?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&h.push(this.headers.Prefer),c&&h.push(`count=${c}`),f||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(i)){const m=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(m.length>0){const g=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const l="PATCH",c=[];return this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),this.headers.Prefer=c.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",l=[];return i&&l.push(`count=${i}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return zo.default=n,zo}var bu={},_u={},d_;function _C(){return d_||(d_=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.version=void 0,_u.version="0.0.0-automated"),_u}var h_;function xC(){if(h_)return bu;h_=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.DEFAULT_HEADERS=void 0;const t=_C();return bu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},bu}var p_;function wC(){if(p_)return Uo;p_=1;var t=Uo&&Uo.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Uo,"__esModule",{value:!0});const e=t(Kx()),n=t(Kg()),r=xC();class i{constructor(l,{headers:c={},schema:f,fetch:d}={}){this.url=l,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),c),this.schemaName=f,this.fetch=d}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:f=!1,get:d=!1,count:h}={}){let m;const g=new URL(`${this.url}/rpc/${l}`);let v;f||d?(m=f?"HEAD":"GET",Object.entries(c).filter(([C,T])=>T!==void 0).map(([C,T])=>[C,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([C,T])=>{g.searchParams.append(C,T)})):(m="POST",v=c);const _=Object.assign({},this.headers);return h&&(_.Prefer=`count=${h}`),new n.default({method:m,url:g,headers:_,schema:this.schemaName,body:v,fetch:this.fetch,allowEmpty:!1})}}return Uo.default=i,Uo}var m_;function SC(){if(m_)return Kn;m_=1;var t=Kn&&Kn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.PostgrestError=Kn.PostgrestBuilder=Kn.PostgrestTransformBuilder=Kn.PostgrestFilterBuilder=Kn.PostgrestQueryBuilder=Kn.PostgrestClient=void 0;const e=t(wC());Kn.PostgrestClient=e.default;const n=t(Kx());Kn.PostgrestQueryBuilder=n.default;const r=t(Kg());Kn.PostgrestFilterBuilder=r.default;const i=t(Zx());Kn.PostgrestTransformBuilder=i.default;const s=t(Wx());Kn.PostgrestBuilder=s.default;const l=t(Gx());return Kn.PostgrestError=l.default,Kn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:l.default},Kn}var EC=SC();const AC=hl(EC),{PostgrestClient:CC,PostgrestQueryBuilder:x4,PostgrestFilterBuilder:w4,PostgrestTransformBuilder:S4,PostgrestBuilder:E4,PostgrestError:A4}=AC,TC="2.11.2",DC={"X-Client-Info":`realtime-js/${TC}`},OC="1.0.0",Qx=1e4,RC=1e3;var el;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(el||(el={}));var qr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(qr||(qr={}));var pi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(pi||(pi={}));var bg;(function(t){t.websocket="websocket"})(bg||(bg={}));var Is;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Is||(Is={}));class NC{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(e.slice(l,l+i));l=l+i;const f=r.decode(e.slice(l,l+s));l=l+s;const d=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:c,event:f,payload:d}}}class Jx{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Sn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Sn||(Sn={}));const g_=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,l)=>(s[l]=kC(l,t,e,i),s),{})},kC=(t,e,n,r)=>{const i=e.find(c=>c.name===t),s=i==null?void 0:i.type,l=n[t];return s&&!r.includes(s)?ew(s,l):_g(l)},ew=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return PC(e,n)}switch(t){case Sn.bool:return MC(e);case Sn.float4:case Sn.float8:case Sn.int2:case Sn.int4:case Sn.int8:case Sn.numeric:case Sn.oid:return jC(e);case Sn.json:case Sn.jsonb:return LC(e);case Sn.timestamp:return BC(e);case Sn.abstime:case Sn.date:case Sn.daterange:case Sn.int4range:case Sn.int8range:case Sn.money:case Sn.reltime:case Sn.text:case Sn.time:case Sn.timestamptz:case Sn.timetz:case Sn.tsrange:case Sn.tstzrange:return _g(e);default:return _g(e)}},_g=t=>t,MC=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},jC=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},LC=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},PC=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const l=t.slice(1,n);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(c=>ew(e,c))}return t},BC=t=>typeof t=="string"?t.replace(" ","T"):t,tw=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Xp{constructor(e,n,r={},i=Qx){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var v_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(v_||(v_={}));class Uu{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Uu.syncState(this.state,i,s,l),this.pendingDiffs.forEach(f=>{this.state=Uu.syncDiff(this.state,f,s,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Uu.syncDiff(this.state,i,s,l),c())}),this.onJoin((i,s,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:l})}),this.onLeave((i,s,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),l=this.transformState(n),c={},f={};return this.map(s,(d,h)=>{l[d]||(f[d]=h)}),this.map(l,(d,h)=>{const m=s[d];if(m){const g=h.map(T=>T.presence_ref),v=m.map(T=>T.presence_ref),_=h.filter(T=>v.indexOf(T.presence_ref)<0),C=m.filter(T=>g.indexOf(T.presence_ref)<0);_.length>0&&(c[d]=_),C.length>0&&(f[d]=C)}else c[d]=h}),this.syncDiff(s,{joins:c,leaves:f},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(c,f)=>{var d;const h=(d=e[c])!==null&&d!==void 0?d:[];if(e[c]=this.cloneDeep(f),h.length>0){const m=e[c].map(v=>v.presence_ref),g=h.filter(v=>m.indexOf(v.presence_ref)<0);e[c].unshift(...g)}r(c,h,f)}),this.map(l,(c,f)=>{let d=e[c];if(!d)return;const h=f.map(m=>m.presence_ref);d=d.filter(m=>h.indexOf(m.presence_ref)<0),e[c]=d,i(c,d,f),d.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var y_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(y_||(y_={}));var b_;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(b_||(b_={}));var la;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(la||(la={}));class Qg{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=qr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Xp(this,pi.join,this.params,this.timeout),this.rejoinTimer=new Jx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=qr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pi.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Uu(this),this.broadcastEndpointURL=tw(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:l,private:c}}=this.params;this._onError(h=>e==null?void 0:e(la.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(la.CLOSED));const f={},d={broadcast:s,presence:l,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket.setAuth(),h===void 0){e==null||e(la.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,_=[];for(let C=0;C<v;C++){const T=g[C],{filter:{event:S,schema:P,table:L,filter:I}}=T,j=h&&h[C];if(j&&j.event===S&&j.schema===P&&j.table===L&&j.filter===I)_.push(Object.assign(Object.assign({},T),{id:j.id}));else{this.unsubscribe(),e==null||e(la.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(la.SUBSCRIBED);return}}).receive("error",h=>{e==null||e(la.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(la.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:l}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,c,f;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=qr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pi.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Xp(this,pi.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Xp(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const l=e.toLocaleLowerCase(),{close:c,error:f,leave:d,join:h}=pi;if(r&&[c,f,d,h].indexOf(l)>=0&&r!==this._joinRef())return;let g=this._onMessage(l,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var _,C,T;return((_=v.filter)===null||_===void 0?void 0:_.event)==="*"||((T=(C=v.filter)===null||C===void 0?void 0:C.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===l}).map(v=>v.callback(g,r)):(s=this.bindings[l])===null||s===void 0||s.filter(v=>{var _,C,T,S,P,L;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const I=v.id,j=(_=v.filter)===null||_===void 0?void 0:_.event;return I&&((C=n.ids)===null||C===void 0?void 0:C.includes(I))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const I=(P=(S=v==null?void 0:v.filter)===null||S===void 0?void 0:S.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return I==="*"||I===((L=n==null?void 0:n.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof g=="object"&&"ids"in g){const _=g.data,{schema:C,table:T,commit_timestamp:S,type:P,errors:L}=_;g=Object.assign(Object.assign({},{schema:C,table:T,commit_timestamp:S,eventType:P,new:{},old:{},errors:L}),this._getPayloadRecords(_))}v.callback(g,r)})}_isClosed(){return this.state===qr.closed}_isJoined(){return this.state===qr.joined}_isJoining(){return this.state===qr.joining}_isLeaving(){return this.state===qr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Qg.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(pi.close,{},e)}_onError(e){this._on(pi.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=g_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=g_(e.columns,e.old_record)),n}}const IC=()=>{},UC=typeof WebSocket<"u",zC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class FC{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=DC,this.params={},this.timeout=Qx,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=IC,this.conn=null,this.sendBuffer=[],this.serializer=new NC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let l;return s?l=s:typeof fetch>"u"?l=(...c)=>sl(async()=>{const{default:f}=await Promise.resolve().then(()=>pl);return{default:f}},void 0).then(({default:f})=>f(...c)):l=fetch,(...c)=>l(...c)},this.endPoint=`${e}/${bg.websocket}`,this.httpEndpoint=tw(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,l)=>l(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Jx(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(UC){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new qC(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),sl(async()=>{const{default:e}=await import("./browser-C_2iyUK5.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:OC}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case el.connecting:return Is.Connecting;case el.open:return Is.Open;case el.closing:return Is.Closing;default:return Is.Closed}}isConnected(){return this.connectionState()===Is.Open}channel(e,n={config:{}}){const r=new Qg(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:i,ref:s}=e,l=()=>{this.encode(e,c=>{var f;(f=this.conn)===null||f===void 0||f.send(c)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(pi.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(RC,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:l}=n;l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${l&&"("+l+")"||""}`,s),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,s,l)),this.stateChangeCallbacks.message.forEach(c=>c(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(pi.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([zC],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class qC{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=el.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Jg extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Jn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class HC extends Jg{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class xg extends Jg{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var $C=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(r.next(h))}catch(m){l(m)}}function f(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?s(h.value):i(h.value).then(c,f)}d((r=r.apply(t,e||[])).next())})};const nw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>pl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},VC=()=>$C(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield sl(()=>Promise.resolve().then(()=>pl),void 0)).Response:Response}),wg=t=>{if(Array.isArray(t))return t.map(n=>wg(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=wg(r)}),e};var Ks=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(r.next(h))}catch(m){l(m)}}function f(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?s(h.value):i(h.value).then(c,f)}d((r=r.apply(t,e||[])).next())})};const Gp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),YC=(t,e,n)=>Ks(void 0,void 0,void 0,function*(){const r=yield VC();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new HC(Gp(i),t.status||500))}).catch(i=>{e(new xg(Gp(i),i))}):e(new xg(Gp(t),t))}),XC=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function ac(t,e,n,r,i,s){return Ks(this,void 0,void 0,function*(){return new Promise((l,c)=>{t(n,XC(e,r,i,s)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>YC(f,c,r))})})}function ld(t,e,n,r){return Ks(this,void 0,void 0,function*(){return ac(t,"GET",e,n,r)})}function Xa(t,e,n,r,i){return Ks(this,void 0,void 0,function*(){return ac(t,"POST",e,r,i,n)})}function GC(t,e,n,r,i){return Ks(this,void 0,void 0,function*(){return ac(t,"PUT",e,r,i,n)})}function WC(t,e,n,r){return Ks(this,void 0,void 0,function*(){return ac(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function rw(t,e,n,r,i){return Ks(this,void 0,void 0,function*(){return ac(t,"DELETE",e,r,i,n)})}var Tr=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(r.next(h))}catch(m){l(m)}}function f(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?s(h.value):i(h.value).then(c,f)}d((r=r.apply(t,e||[])).next())})};const ZC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},__={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class KC{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=nw(i)}uploadOrUpdate(e,n,r,i){return Tr(this,void 0,void 0,function*(){try{let s;const l=Object.assign(Object.assign({},__),i);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),f&&s.append("metadata",this.encodeMetadata(f)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",l.cacheControl),f&&s.append("metadata",this.encodeMetadata(f))):(s=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,f&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),i!=null&&i.headers&&(c=Object.assign(Object.assign({},c),i.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),m=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:e,body:s,headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{})),g=yield m.json();return m.ok?{data:{path:d,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(s){if(Jn(s))return{data:null,error:s};throw s}})}upload(e,n,r){return Tr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Tr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),l=this._getFinalPath(s),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",n);try{let f;const d=Object.assign({upsert:__.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",d.cacheControl)):(f=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const m=yield this.fetch(c.toString(),{method:"PUT",body:f,headers:h}),g=yield m.json();return m.ok?{data:{path:s,fullPath:g.Key},error:null}:{data:null,error:g}}catch(f){if(Jn(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,n){return Tr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Xa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+s.url),c=l.searchParams.get("token");if(!c)throw new Jg("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(r){if(Jn(r))return{data:null,error:r};throw r}})}update(e,n,r){return Tr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Tr(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Jn(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Tr(this,void 0,void 0,function*(){try{return{data:{path:(yield Xa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Jn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Tr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Xa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(i){if(Jn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Tr(this,void 0,void 0,function*(){try{const i=yield Xa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${s}`):null})),error:null}}catch(i){if(Jn(i))return{data:null,error:i};throw i}})}download(e,n){return Tr(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=s?`?${s}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield ld(this.fetch,`${this.url}/${i}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(Jn(c))return{data:null,error:c};throw c}})}info(e){return Tr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ld(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:wg(r),error:null}}catch(r){if(Jn(r))return{data:null,error:r};throw r}})}exists(e){return Tr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield WC(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Jn(r)&&r instanceof xg){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&i.push(f);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${d}`)}}}remove(e){return Tr(this,void 0,void 0,function*(){try{return{data:yield rw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Jn(n))return{data:null,error:n};throw n}})}list(e,n,r){return Tr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},ZC),n),{prefix:e||""});return{data:yield Xa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Jn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const QC="2.7.1",JC={"X-Client-Info":`storage-js/${QC}`};var $o=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(r.next(h))}catch(m){l(m)}}function f(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?s(h.value):i(h.value).then(c,f)}d((r=r.apply(t,e||[])).next())})};class eT{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},JC),n),this.fetch=nw(r)}listBuckets(){return $o(this,void 0,void 0,function*(){try{return{data:yield ld(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Jn(e))return{data:null,error:e};throw e}})}getBucket(e){return $o(this,void 0,void 0,function*(){try{return{data:yield ld(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Jn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return $o(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Jn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return $o(this,void 0,void 0,function*(){try{return{data:yield GC(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Jn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return $o(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Jn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return $o(this,void 0,void 0,function*(){try{return{data:yield rw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Jn(n))return{data:null,error:n};throw n}})}}class tT extends eT{constructor(e,n={},r){super(e,n,r)}from(e){return new KC(this.url,this.headers,e,this.fetch)}}const nT="2.49.4";let Ou="";typeof Deno<"u"?Ou="deno":typeof document<"u"?Ou="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ou="react-native":Ou="node";const rT={"X-Client-Info":`supabase-js-${Ou}/${nT}`},iT={headers:rT},aT={schema:"public"},sT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oT={};var lT=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(r.next(h))}catch(m){l(m)}}function f(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?s(h.value):i(h.value).then(c,f)}d((r=r.apply(t,e||[])).next())})};const uT=t=>{let e;return t?e=t:typeof fetch>"u"?e=Yx:e=fetch,(...n)=>e(...n)},cT=()=>typeof Headers>"u"?Xx:Headers,fT=(t,e,n)=>{const r=uT(n),i=cT();return(s,l)=>lT(void 0,void 0,void 0,function*(){var c;const f=(c=yield e())!==null&&c!==void 0?c:t;let d=new i(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${f}`),r(s,Object.assign(Object.assign({},l),{headers:d}))})};var dT=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(r.next(h))}catch(m){l(m)}}function f(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?s(h.value):i(h.value).then(c,f)}d((r=r.apply(t,e||[])).next())})};function hT(t){return t.replace(/\/$/,"")}function pT(t,e){const{db:n,auth:r,realtime:i,global:s}=t,{db:l,auth:c,realtime:f,global:d}=e,h={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},f),i),global:Object.assign(Object.assign({},d),s),accessToken:()=>dT(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const iw="2.69.1",Qo=30*1e3,Sg=3,Wp=Sg*Qo,mT="http://localhost:9999",gT="supabase.auth.token",vT={"X-Client-Info":`gotrue-js/${iw}`},Eg="X-Supabase-Api-Version",aw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bT=6e5;class e0 extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function kt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class _T extends e0{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function xT(t){return kt(t)&&t.name==="AuthApiError"}class sw extends e0{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ns extends e0{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class $a extends ns{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wT(t){return kt(t)&&t.name==="AuthSessionMissingError"}class Zp extends ns{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sf extends ns{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ef extends ns{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ST(t){return kt(t)&&t.name==="AuthImplicitGrantRedirectError"}class x_ extends ns{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ag extends ns{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Kp(t){return kt(t)&&t.name==="AuthRetryableFetchError"}class w_ extends ns{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class zu extends ns{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const S_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),E_=` 	
\r=`.split(""),ET=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<E_.length;e+=1)t[E_[e].charCodeAt(0)]=-2;for(let e=0;e<S_.length;e+=1)t[S_[e].charCodeAt(0)]=e;return t})();function ow(t,e,n){const r=ET[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function A_(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=l=>{TT(l,r,n)};for(let l=0;l<t.length;l+=1)ow(t.charCodeAt(l),i,s);return e.join("")}function AT(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function CT(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}AT(r,e)}}function TT(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function DT(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)ow(t.charCodeAt(i),n,r);return new Uint8Array(e)}function OT(t){const e=[];return CT(t,n=>e.push(n)),new Uint8Array(e)}function RT(t){return Math.round(Date.now()/1e3)+t}function NT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ri=()=>typeof window<"u"&&typeof document<"u",Os={tested:!1,writable:!1},Fu=()=>{if(!Ri())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Os.tested)return Os.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Os.tested=!0,Os.writable=!0}catch{Os.tested=!0,Os.writable=!1}return Os.writable};function kT(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const lw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>pl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},MT=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",uw=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Af=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Cf=async(t,e)=>{await t.removeItem(e)};class Rd{constructor(){this.promise=new Rd.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Rd.promiseConstructor=Promise;function Qp(t){const e=t.split(".");if(e.length!==3)throw new zu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!yT.test(e[r]))throw new zu("JWT not in base64url format");return{header:JSON.parse(A_(e[0])),payload:JSON.parse(A_(e[1])),signature:DT(e[2]),raw:{header:e[0],payload:e[1]}}}async function jT(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function LT(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await t(s);if(!e(s,null,l)){r(l);return}}catch(l){if(!e(s,l)){i(l);return}}})()})}function PT(t){return("0"+t.toString(16)).substr(-2)}function BT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,PT).join("")}async function IT(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function UT(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await IT(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vo(t,e,n=!1){const r=BT();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await uw(t,`${e}-code-verifier`,i);const s=await UT(r);return[s,r===s?"plain":"s256"]}const zT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function FT(t){const e=t.headers.get(Eg);if(!e||!e.match(zT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function qT(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function HT(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var $T=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Ls=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),VT=[502,503,504];async function C_(t){var e;if(!MT(t))throw new Ag(Ls(t),0);if(VT.includes(t.status))throw new Ag(Ls(t),t.status);let n;try{n=await t.json()}catch(s){throw new sw(Ls(s),s)}let r;const i=FT(t);if(i&&i.getTime()>=aw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new w_(Ls(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new $a}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new w_(Ls(n),t.status,n.weak_password.reasons);throw new _T(Ls(n),t.status||500,r)}const YT=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Xt(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Eg]||(s[Eg]=aw["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await XT(t,e,n+c,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function XT(t,e,n,r,i,s){const l=YT(e,r,i,s);let c;try{c=await t(n,Object.assign({},l))}catch(f){throw console.error(f),new Ag(Ls(f),0)}if(c.ok||await C_(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(f){await C_(f)}}function Va(t){var e;let n=null;KT(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=RT(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function T_(t){const e=Va(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ga(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function GT(t){return{data:t,error:null}}function WT(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,l=$T(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},f=Object.assign({},l);return{data:{properties:c,user:f},error:null}}function ZT(t){return t}function KT(t){return t.access_token&&t.refresh_token&&t.expires_in}var QT=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class JT{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=lw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await Xt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Xt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ga})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=QT(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Xt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:WT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(kt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Xt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ga})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,l,c,f;try{const d={nextPage:null,lastPage:0,total:0},h=await Xt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:ZT});if(h.error)throw h.error;const m=await h.json(),g=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(f=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return v.length>0&&(v.forEach(_=>{const C=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(_.split(";")[1].split("=")[1]);d[`${T}Page`]=C}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(kt(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){try{return await Xt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ga})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await Xt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ga})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await Xt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ga})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await Xt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(kt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await Xt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}}}const eD={getItem:t=>Fu()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Fu()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Fu()&&globalThis.localStorage.removeItem(t)}};function D_(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function tD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Yo={debug:!!(globalThis&&Fu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class nD extends cw{}async function rD(t,e,n){Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new nD(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Yo.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}tD();const iD={url:mT,storageKey:gT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function O_(t,e,n){return await n()}class Yu{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yu.nextInstanceID,Yu.nextInstanceID+=1,this.instanceID>0&&Ri()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},iD),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new JT({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=lw(i.fetch),this.lock=i.lock||O_,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ri()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=rD:this.lock=O_,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Fu()?this.storage=eD:(this.memoryStorage={},this.storage=D_(this.memoryStorage)):(this.memoryStorage={},this.storage=D_(this.memoryStorage)),Ri()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${iw}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=kT(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ri()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),ST(s)){const f=(e=s.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:l,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return kt(n)?{error:n}:{error:new sw("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await Xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Va}),{data:l,error:c}=s;if(c||!l)return{data:{user:null,session:null},error:c};const f=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:d,session:f},error:null}}catch(s){if(kt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:h,password:m,options:g}=e;let v=null,_=null;this.flowType==="pkce"&&([v,_]=await Vo(this.storage,this.storageKey)),s=await Xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:m,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:_},xform:Va})}else if("phone"in e){const{phone:h,password:m,options:g}=e;s=await Xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Va})}else throw new Sf("You must provide either an email or phone number and a password");const{data:l,error:c}=s;if(c||!l)return{data:{user:null,session:null},error:c};const f=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:d,session:f},error:null}}catch(s){if(kt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:l,options:c}=e;n=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:T_})}else if("phone"in e){const{phone:s,password:l,options:c}=e;n=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:T_})}else throw new Sf("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Zp}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(kt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Af(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:l}=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Va});if(await Cf(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Zp}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:l})}catch(s){if(kt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:l}=e,c=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Va}),{data:f,error:d}=c;return d?{data:{user:null,session:null},error:d}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Zp}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:d})}catch(n){if(kt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,l;try{if("email"in e){const{email:c,options:f}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Vo(this.storage,this.storageKey));const{error:m}=await Xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:c,options:f}=e,{data:d,error:h}=await Xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new Sf("You must provide either an email or phone number.")}catch(c){if(kt(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await Xt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Va});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,d=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:d,session:f},error:null}}catch(i){if(kt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,l=null;return this.flowType==="pkce"&&([s,l]=await Vo(this.storage,this.storageKey)),await Xt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:GT})}catch(s){if(kt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new $a;const{error:i}=await Xt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(kt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:l}=await Xt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:l,error:c}=await Xt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new Sf("You must provide either an email or phone number and a type")}catch(n){if(kt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Af(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Wp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,d,h)=>(!l&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,d,h))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ga}):await this._useSession(async n=>{var r,i,s;const{data:l,error:c}=n;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $a}:await Xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ga})})}catch(n){if(kt(n))return wT(n)&&(await this._removeSession(),await Cf(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new $a;const l=i.session;let c=null,f=null;this.flowType==="pkce"&&e.email!=null&&([c,f]=await Vo(this.storage,this.storageKey));const{data:d,error:h}=await Xt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:f}),jwt:l.access_token,xform:Ga});if(h)throw h;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $a;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:l}=Qp(e.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{session:c,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!c)return{data:{user:null,session:null},error:null};s=c}else{const{data:c,error:f}=await this._getUser(e.access_token);if(f)throw f;s={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(kt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:c}=n;if(c)throw c;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new $a;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(kt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ri())throw new Ef("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ef(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new x_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ef("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new x_("No code detected.");const{data:P,error:L}=await this._exchangeCodeForSession(e.code);if(L)throw L;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:l,expires_in:c,expires_at:f,token_type:d}=e;if(!s||!c||!l||!d)throw new Ef("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(c);let g=h+m;f&&(g=parseInt(f));const v=g-h;v*1e3<=Qo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);const _=g-m;h-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,g,h):h-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,g,h);const{data:C,error:T}=await this._getUser(s);if(T)throw T;const S={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:m,expires_at:g,refresh_token:l,token_type:d,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(r){if(kt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Af(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(xT(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Cf(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=NT(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Vo(this.storage,this.storageKey,!0));try{return await Xt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(kt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var l,c,f,d,h;const{data:m,error:g}=s;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Xt(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Ri()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(kt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:l}=n;if(l)throw l;return await Xt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(kt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await LT(async i=>(i>0&&await jT(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Xt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Va})),(i,s)=>{const l=200*Math.pow(2,i);return s&&Kp(s)&&Date.now()+l-r<Qo})}catch(r){if(this._debug(n,"error",r),kt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ri()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Af(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Wp;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Wp}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),Kp(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new $a;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Rd;const{data:s,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!s.session)throw new $a;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),kt(s)){const l={session:null,error:s};return Kp(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(f){s.push(f)}});if(await Promise.all(l),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await uw(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Cf(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ri()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Qo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Qo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Qo}ms, refresh threshold is ${Sg} ticks`),i<=Sg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof cw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ri()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,l]=await Vo(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(c.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Xt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(kt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:l}=n;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:d}=await Xt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(kt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:l,error:c}=await Xt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(n){if(kt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Xt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(kt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),s=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Qp(i.access_token);let c=null;l.aal&&(c=l.aal);let f=c;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const h=l.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r||(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+bT>Date.now()))return r;const{data:i,error:s}=await Xt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new zu("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(l=>l.kid===e),!r)throw new zu("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:v,error:_}=await this.getSession();if(_||!v.session)return{data:null,error:_};r=v.session.access_token}const{header:i,payload:s,signature:l,raw:{header:c,payload:f}}=Qp(r);if(qT(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:s,header:i,signature:l},error:null}}const d=HT(i.alg),h=await this.fetchJwk(i.kid,n),m=await crypto.subtle.importKey("jwk",h,d,!0,["verify"]);if(!await crypto.subtle.verify(d,m,l,OT(`${c}.${f}`)))throw new zu("Invalid JWT signature");return{data:{claims:s,header:i,signature:l},error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}}Yu.nextInstanceID=0;const aD=Yu;class sD extends aD{constructor(e){super(e)}}var oD=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(r.next(h))}catch(m){l(m)}}function f(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?s(h.value):i(h.value).then(c,f)}d((r=r.apply(t,e||[])).next())})};class lD{constructor(e,n,r){var i,s,l;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const c=hT(e);this.realtimeUrl=`${c}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${c}/auth/v1`,this.storageUrl=`${c}/storage/v1`,this.functionsUrl=`${c}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:aT,realtime:oT,auth:Object.assign(Object.assign({},sT),{storageKey:f}),global:iT},h=pT(r??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=fT(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new CC(`${c}/rest/v1`,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new pC(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new tT(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return oD(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:l,lock:c,debug:f},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sD({url:this.authUrl,headers:Object.assign(Object.assign({},m),d),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:l,lock:c,debug:f,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new FC(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const uD=(t,e,n)=>new lD(t,e,n);var Jp={exports:{}},Gt={},Qn={},R_;function ml(){if(R_)return Qn;R_=1;function t(S,P,L){if(L===void 0&&(L=Array.prototype),S&&typeof L.find=="function")return L.find.call(S,P);for(var I=0;I<S.length;I++)if(n(S,I)){var j=S[I];if(P.call(void 0,j,I,S))return j}}function e(S,P){return P===void 0&&(P=Object),P&&typeof P.getOwnPropertyDescriptors=="function"&&(S=P.create(null,P.getOwnPropertyDescriptors(S))),P&&typeof P.freeze=="function"?P.freeze(S):S}function n(S,P){return Object.prototype.hasOwnProperty.call(S,P)}function r(S,P){if(S===null||typeof S!="object")throw new TypeError("target is not an object");for(var L in P)n(P,L)&&(S[L]=P[L]);return S}var i=e({allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,formnovalidate:!0,hidden:!0,ismap:!0,itemscope:!0,loop:!0,multiple:!0,muted:!0,nomodule:!0,novalidate:!0,open:!0,playsinline:!0,readonly:!0,required:!0,reversed:!0,selected:!0});function s(S){return n(i,S.toLowerCase())}var l=e({area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function c(S){return n(l,S.toLowerCase())}var f=e({script:!1,style:!1,textarea:!0,title:!0});function d(S){var P=S.toLowerCase();return n(f,P)&&!f[P]}function h(S){var P=S.toLowerCase();return n(f,P)&&f[P]}function m(S){return S===v.HTML}function g(S){return m(S)||S===v.XML_XHTML_APPLICATION}var v=e({HTML:"text/html",XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),_=Object.keys(v).map(function(S){return v[S]});function C(S){return _.indexOf(S)>-1}var T=e({HTML:"http://www.w3.org/1999/xhtml",SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Qn.assign=r,Qn.find=t,Qn.freeze=e,Qn.HTML_BOOLEAN_ATTRIBUTES=i,Qn.HTML_RAW_TEXT_ELEMENTS=f,Qn.HTML_VOID_ELEMENTS=l,Qn.hasDefaultHTMLNamespace=g,Qn.hasOwn=n,Qn.isHTMLBooleanAttribute=s,Qn.isHTMLRawTextElement=d,Qn.isHTMLEscapableRawTextElement=h,Qn.isHTMLMimeType=m,Qn.isHTMLVoidElement=c,Qn.isValidMimeType=C,Qn.MIME_TYPE=v,Qn.NAMESPACE=T,Qn}var Xo={},N_;function Nd(){if(N_)return Xo;N_=1;var t=ml();function e(g,v){g.prototype=Object.create(Error.prototype,{constructor:{value:g},name:{value:g.name,enumerable:!0,writable:v}})}var n=t.freeze({Error:"Error",IndexSizeError:"IndexSizeError",DomstringSizeError:"DomstringSizeError",HierarchyRequestError:"HierarchyRequestError",WrongDocumentError:"WrongDocumentError",InvalidCharacterError:"InvalidCharacterError",NoDataAllowedError:"NoDataAllowedError",NoModificationAllowedError:"NoModificationAllowedError",NotFoundError:"NotFoundError",NotSupportedError:"NotSupportedError",InUseAttributeError:"InUseAttributeError",InvalidStateError:"InvalidStateError",SyntaxError:"SyntaxError",InvalidModificationError:"InvalidModificationError",NamespaceError:"NamespaceError",InvalidAccessError:"InvalidAccessError",ValidationError:"ValidationError",TypeMismatchError:"TypeMismatchError",SecurityError:"SecurityError",NetworkError:"NetworkError",AbortError:"AbortError",URLMismatchError:"URLMismatchError",QuotaExceededError:"QuotaExceededError",TimeoutError:"TimeoutError",InvalidNodeTypeError:"InvalidNodeTypeError",DataCloneError:"DataCloneError",EncodingError:"EncodingError",NotReadableError:"NotReadableError",UnknownError:"UnknownError",ConstraintError:"ConstraintError",DataError:"DataError",TransactionInactiveError:"TransactionInactiveError",ReadOnlyError:"ReadOnlyError",VersionError:"VersionError",OperationError:"OperationError",NotAllowedError:"NotAllowedError",OptOutError:"OptOutError"}),r=Object.keys(n);function i(g){return typeof g=="number"&&g>=1&&g<=25}function s(g){return typeof g=="string"&&g.substring(g.length-n.Error.length)===n.Error}function l(g,v){i(g)?(this.name=r[g],this.message=v||""):(this.message=g,this.name=s(v)?v:n.Error),Error.captureStackTrace&&Error.captureStackTrace(this,l)}e(l,!0),Object.defineProperties(l.prototype,{code:{enumerable:!0,get:function(){var g=r.indexOf(this.name);return i(g)?g:0}}});for(var c={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25},f=Object.entries(c),d=0;d<f.length;d++){var h=f[d][0];l[h]=f[d][1]}function m(g,v){this.message=g,this.locator=v,Error.captureStackTrace&&Error.captureStackTrace(this,m)}return e(m),Xo.DOMException=l,Xo.DOMExceptionName=n,Xo.ExceptionCode=c,Xo.ParseError=m,Xo}var kn={},Nt={},k_;function fw(){if(k_)return Nt;k_=1;function t(it){try{typeof it!="function"&&(it=RegExp);var nt=new it("𝌆","u").exec("𝌆");return!!nt&&nt[0].length===2}catch{}return!1}var e=t();function n(it){if(it.source[0]!=="[")throw new Error(it+" can not be used with chars");return it.source.slice(1,it.source.lastIndexOf("]"))}function r(it,nt){if(it.source[0]!=="[")throw new Error("/"+it.source+"/ can not be used with chars_without");if(!nt||typeof nt!="string")throw new Error(JSON.stringify(nt)+" is not a valid search");if(it.source.indexOf(nt)===-1)throw new Error('"'+nt+'" is not is /'+it.source+"/");if(nt==="-"&&it.source.indexOf(nt)!==1)throw new Error('"'+nt+'" is not at the first postion of /'+it.source+"/");return new RegExp(it.source.replace(nt,""),e?"u":"")}function i(it){var nt=this;return new RegExp(Array.prototype.slice.call(arguments).map(function(et){var ct=typeof et=="string";if(ct&&nt===void 0&&et==="|")throw new Error("use regg instead of reg to wrap expressions with `|`!");return ct?et:et.source}).join(""),e?"mu":"m")}function s(it){if(arguments.length===0)throw new Error("no parameters provided");return i.apply(s,["(?:"].concat(Array.prototype.slice.call(arguments),[")"]))}var l="�",c=/[-\x09\x0A\x0D\x20-\x2C\x2E-\uD7FF\uE000-\uFFFD]/;e&&(c=i("[",n(c),"\\u{10000}-\\u{10FFFF}","]"));var f=/[\x20\x09\x0D\x0A]/,d=n(f),h=i(f,"+"),m=i(f,"*"),g=/[:_a-zA-Z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;e&&(g=i("[",n(g),"\\u{10000}-\\u{10FFFF}","]"));var v=n(g),_=i("[",v,n(/[-.0-9\xB7]/),n(/[\u0300-\u036F\u203F-\u2040]/),"]"),C=i(g,_,"*"),T=i(_,"+"),S=i("&",C,";"),P=s(/&#[0-9]+;|&#x[0-9a-fA-F]+;/),L=s(S,"|",P),I=i("%",C,";"),j=s(i('"',s(/[^%&"]/,"|",I,"|",L),"*",'"'),"|",i("'",s(/[^%&']/,"|",I,"|",L),"*","'")),N=s('"',s(/[^<&"]/,"|",L),"*",'"',"|","'",s(/[^<&']/,"|",L),"*","'"),B=r(g,":"),D=r(_,":"),O=i(B,D,"*"),V=i(O,s(":",O),"?"),$=i("^",V,"$"),J=i("(",V,")"),ce=s(/"[^"]*"|'[^']*'/),Y=i(/^<\?/,"(",C,")",s(h,"(",c,"*?)"),"?",/\?>/),k=/[\x20\x0D\x0Aa-zA-Z0-9-'()+,./:=?;!*#@$_%]/,A=s('"',k,'*"',"|","'",r(k,"'"),"*'"),R="<!--",Q="-->",re=i(R,s(r(c,"-"),"|",i("-",r(c,"-"))),"*",Q),F="#PCDATA",de=s(i(/\(/,m,F,s(m,/\|/,m,V),"*",m,/\)\*/),"|",i(/\(/,m,F,m,/\)/)),ae=/[?*+]?/,K=i(/\([^>]+\)/,ae),U=s("EMPTY","|","ANY","|",de,"|",K),M="<!ELEMENT",H=i(M,h,s(V,"|",I),h,s(U,"|",I),m,">"),oe=i("NOTATION",h,/\(/,m,C,s(m,/\|/,m,C),"*",m,/\)/),pe=i(/\(/,m,T,s(m,/\|/,m,T),"*",m,/\)/),be=s(oe,"|",pe),ve=s(/CDATA|ID|IDREF|IDREFS|ENTITY|ENTITIES|NMTOKEN|NMTOKENS/,"|",be),fe=s(/#REQUIRED|#IMPLIED/,"|",s(s("#FIXED",h),"?",N)),me=s(h,C,h,ve,h,fe),Ae="<!ATTLIST",Z=i(Ae,h,C,me,"*",m,">"),ie="about:legacy-compat",he=s('"'+ie+'"',"|","'"+ie+"'"),ge="SYSTEM",ee="PUBLIC",q=s(s(ge,h,ce),"|",s(ee,h,A,h,ce)),ne=i("^",s(s(ge,h,"(?<SystemLiteralOnly>",ce,")"),"|",s(ee,h,"(?<PubidLiteral>",A,")",h,"(?<SystemLiteral>",ce,")"))),te=s(h,"NDATA",h,C),le=s(j,"|",s(q,te,"?")),we="<!ENTITY",je=i(we,h,C,h,le,m,">"),Be=s(j,"|",q),$e=i(we,h,"%",h,C,h,Be,m,">"),Ve=s(je,"|",$e),Ke=i(ee,h,A),ut=i("<!NOTATION",h,C,h,s(q,"|",Ke),m,">"),Xe=i(m,"=",m),lt=/1[.]\d+/,vt=i(h,"version",Xe,s("'",lt,"'","|",'"',lt,'"')),st=/[A-Za-z][-A-Za-z0-9._]*/,rt=s(h,"encoding",Xe,s('"',st,'"',"|","'",st,"'")),Dt=s(h,"standalone",Xe,s("'",s("yes","|","no"),"'","|",'"',s("yes","|","no"),'"')),It=i(/^<\?xml/,vt,rt,"?",Dt,"?",m,/\?>/),Ct="<!DOCTYPE",Qt="<![CDATA[",yn="]]>",Vt=/<!\[CDATA\[/,xn=/\]\]>/,Mt=i(c,"*?",xn),Wt=i(Vt,Mt);return Nt.chars=n,Nt.chars_without=r,Nt.detectUnicodeSupport=t,Nt.reg=i,Nt.regg=s,Nt.ABOUT_LEGACY_COMPAT=ie,Nt.ABOUT_LEGACY_COMPAT_SystemLiteral=he,Nt.AttlistDecl=Z,Nt.CDATA_START=Qt,Nt.CDATA_END=yn,Nt.CDSect=Wt,Nt.Char=c,Nt.Comment=re,Nt.COMMENT_START=R,Nt.COMMENT_END=Q,Nt.DOCTYPE_DECL_START=Ct,Nt.elementdecl=H,Nt.EntityDecl=Ve,Nt.EntityValue=j,Nt.ExternalID=q,Nt.ExternalID_match=ne,Nt.Name=C,Nt.NotationDecl=ut,Nt.Reference=L,Nt.PEReference=I,Nt.PI=Y,Nt.PUBLIC=ee,Nt.PubidLiteral=A,Nt.QName=V,Nt.QName_exact=$,Nt.QName_group=J,Nt.S=h,Nt.SChar_s=d,Nt.S_OPT=m,Nt.SYSTEM=ge,Nt.SystemLiteral=ce,Nt.UNICODE_REPLACEMENT_CHARACTER=l,Nt.UNICODE_SUPPORT=e,Nt.XMLDecl=It,Nt}var M_;function dw(){if(M_)return kn;M_=1;var t=ml(),e=t.find,n=t.hasDefaultHTMLNamespace,r=t.hasOwn,i=t.isHTMLMimeType,s=t.isHTMLRawTextElement,l=t.isHTMLVoidElement,c=t.MIME_TYPE,f=t.NAMESPACE,d=Symbol(),h=Nd(),m=h.DOMException,g=h.DOMExceptionName,v=fw();function _(z){if(z!==d)throw new TypeError("Illegal constructor")}function C(z){return z!==""}function T(z){return z?z.split(/[\t\n\f\r ]+/).filter(C):[]}function S(z,G){return r(z,G)||(z[G]=!0),z}function P(z){if(!z)return[];var G=T(z);return Object.keys(G.reduce(S,{}))}function L(z){return function(G){return z&&z.indexOf(G)!==-1}}function I(z){if(!v.QName_exact.test(z))throw new m(m.INVALID_CHARACTER_ERR,'invalid character in qualified name "'+z+'"')}function j(z,G){I(G),z=z||null;var ye=null,De=G;if(G.indexOf(":")>=0){var He=G.split(":");ye=He[0],De=He[1]}if(ye!==null&&z===null)throw new m(m.NAMESPACE_ERR,"prefix is non-null and namespace is null");if(ye==="xml"&&z!==t.NAMESPACE.XML)throw new m(m.NAMESPACE_ERR,'prefix is "xml" and namespace is not the XML namespace');if((ye==="xmlns"||G==="xmlns")&&z!==t.NAMESPACE.XMLNS)throw new m(m.NAMESPACE_ERR,'either qualifiedName or prefix is "xmlns" and namespace is not the XMLNS namespace');if(z===t.NAMESPACE.XMLNS&&ye!=="xmlns"&&G!=="xmlns")throw new m(m.NAMESPACE_ERR,'namespace is the XMLNS namespace and neither qualifiedName nor prefix is "xmlns"');return[z,ye,De]}function N(z,G){for(var ye in z)r(z,ye)&&(G[ye]=z[ye])}function B(z,G){var ye=z.prototype;if(!(ye instanceof G)){let De=function(){};De.prototype=G.prototype,De=new De,N(ye,De),z.prototype=ye=De}ye.constructor!=z&&(typeof z!="function"&&console.error("unknown Class:"+z),ye.constructor=z)}var D={},O=D.ELEMENT_NODE=1,V=D.ATTRIBUTE_NODE=2,$=D.TEXT_NODE=3,J=D.CDATA_SECTION_NODE=4,ce=D.ENTITY_REFERENCE_NODE=5,Y=D.ENTITY_NODE=6,k=D.PROCESSING_INSTRUCTION_NODE=7,A=D.COMMENT_NODE=8,R=D.DOCUMENT_NODE=9,Q=D.DOCUMENT_TYPE_NODE=10,re=D.DOCUMENT_FRAGMENT_NODE=11,F=D.NOTATION_NODE=12,de=t.freeze({DOCUMENT_POSITION_DISCONNECTED:1,DOCUMENT_POSITION_PRECEDING:2,DOCUMENT_POSITION_FOLLOWING:4,DOCUMENT_POSITION_CONTAINS:8,DOCUMENT_POSITION_CONTAINED_BY:16,DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC:32});function ae(z,G){if(G.length<z.length)return ae(G,z);var ye=null;for(var De in z){if(z[De]!==G[De])return ye;ye=z[De]}return ye}function K(z){return z.guid||(z.guid=Math.random()),z.guid}function U(){}U.prototype={length:0,item:function(z){return z>=0&&z<this.length?this[z]:null},toString:function(z){for(var G=[],ye=0;ye<this.length;ye++)ct(this[ye],G,z);return G.join("")},filter:function(z){return Array.prototype.filter.call(this,z)},indexOf:function(z){return Array.prototype.indexOf.call(this,z)}},U.prototype[Symbol.iterator]=function(){var z=this,G=0;return{next:function(){return G<z.length?{value:z[G++],done:!1}:{done:!0}},return:function(){return{done:!0}}}};function M(z,G){this._node=z,this._refresh=G,H(this)}function H(z){var G=z._node._inc||z._node.ownerDocument._inc;if(z._inc!==G){var ye=z._refresh(z._node);if(Ge(z,"length",ye.length),!z.$$length||ye.length<z.$$length)for(var De=ye.length;De in z;De++)r(z,De)&&delete z[De];N(ye,z),z._inc=G}}M.prototype.item=function(z){return H(this),this[z]||null},B(M,U);function oe(){}function pe(z,G){for(var ye=0;ye<z.length;){if(z[ye]===G)return ye;ye++}}function be(z,G,ye,De){if(De?G[pe(G,De)]=ye:(G[G.length]=ye,G.length++),z){ye.ownerElement=z;var He=z.ownerDocument;He&&(De&&ge(He,z,De),he(He,z,ye))}}function ve(z,G,ye){var De=pe(G,ye);if(De>=0){for(var He=G.length-1;De<=He;)G[De]=G[++De];if(G.length=He,z){var Ze=z.ownerDocument;Ze&&ge(Ze,z,ye),ye.ownerElement=null}}}oe.prototype={length:0,item:U.prototype.item,getNamedItem:function(z){this._ownerElement&&this._ownerElement._isInHTMLDocumentAndNamespace()&&(z=z.toLowerCase());for(var G=0;G<this.length;){var ye=this[G];if(ye.nodeName===z)return ye;G++}return null},setNamedItem:function(z){var G=z.ownerElement;if(G&&G!==this._ownerElement)throw new m(m.INUSE_ATTRIBUTE_ERR);var ye=this.getNamedItemNS(z.namespaceURI,z.localName);return ye===z?z:(be(this._ownerElement,this,z,ye),ye)},setNamedItemNS:function(z){return this.setNamedItem(z)},removeNamedItem:function(z){var G=this.getNamedItem(z);if(!G)throw new m(m.NOT_FOUND_ERR,z);return ve(this._ownerElement,this,G),G},removeNamedItemNS:function(z,G){var ye=this.getNamedItemNS(z,G);if(!ye)throw new m(m.NOT_FOUND_ERR,z?z+" : "+G:G);return ve(this._ownerElement,this,ye),ye},getNamedItemNS:function(z,G){z||(z=null);for(var ye=0;ye<this.length;){var De=this[ye];if(De.localName===G&&De.namespaceURI===z)return De;ye++}return null}},oe.prototype[Symbol.iterator]=function(){var z=this,G=0;return{next:function(){return G<z.length?{value:z[G++],done:!1}:{done:!0}},return:function(){return{done:!0}}}};function fe(){}fe.prototype={hasFeature:function(z,G){return!0},createDocument:function(z,G,ye){var De=c.XML_APPLICATION;z===f.HTML?De=c.XML_XHTML_APPLICATION:z===f.SVG&&(De=c.XML_SVG_IMAGE);var He=new ie(d,{contentType:De});if(He.implementation=this,He.childNodes=new U,He.doctype=ye||null,ye&&He.appendChild(ye),G){var Ze=He.createElementNS(z,G);He.appendChild(Ze)}return He},createDocumentType:function(z,G,ye,De){I(z);var He=new Ct(d);return He.name=z,He.nodeName=z,He.publicId=G||"",He.systemId=ye||"",He.internalSubset=De||"",He.childNodes=new U,He},createHTMLDocument:function(z){var G=new ie(d,{contentType:c.HTML});if(G.implementation=this,G.childNodes=new U,z!==!1){G.doctype=this.createDocumentType("html"),G.doctype.ownerDocument=G,G.appendChild(G.doctype);var ye=G.createElement("html");G.appendChild(ye);var De=G.createElement("head");if(ye.appendChild(De),typeof z=="string"){var He=G.createElement("title");He.appendChild(G.createTextNode(z)),De.appendChild(He)}ye.appendChild(G.createElement("body"))}return G}};function me(z){_(z)}me.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,parentNode:null,get parentElement(){return this.parentNode&&this.parentNode.nodeType===this.ELEMENT_NODE?this.parentNode:null},childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,baseURI:"about:blank",get isConnected(){var z=this.getRootNode();return z&&z.nodeType===z.DOCUMENT_NODE},contains:function(z){if(!z)return!1;var G=z;do{if(this===G)return!0;G=z.parentNode}while(G);return!1},getRootNode:function(z){var G=this;do{if(!G.parentNode)return G;G=G.parentNode}while(G)},isEqualNode:function(z){if(!z||this.nodeType!==z.nodeType)return!1;switch(this.nodeType){case this.DOCUMENT_TYPE_NODE:if(this.name!==z.name||this.publicId!==z.publicId||this.systemId!==z.systemId)return!1;break;case this.ELEMENT_NODE:if(this.namespaceURI!==z.namespaceURI||this.prefix!==z.prefix||this.localName!==z.localName||this.attributes.length!==z.attributes.length)return!1;for(var G=0;G<this.attributes.length;G++){var ye=this.attributes.item(G);if(!ye.isEqualNode(z.getAttributeNodeNS(ye.namespaceURI,ye.localName)))return!1}break;case this.ATTRIBUTE_NODE:if(this.namespaceURI!==z.namespaceURI||this.localName!==z.localName||this.value!==z.value)return!1;break;case this.PROCESSING_INSTRUCTION_NODE:if(this.target!==z.target||this.data!==z.data)return!1;break;case this.TEXT_NODE:case this.COMMENT_NODE:if(this.data!==z.data)return!1;break}if(this.childNodes.length!==z.childNodes.length)return!1;for(var G=0;G<this.childNodes.length;G++)if(!this.childNodes[G].isEqualNode(z.childNodes[G]))return!1;return!0},isSameNode:function(z){return this===z},insertBefore:function(z,G){return Xe(this,z,G)},replaceChild:function(z,G){Xe(this,z,G,ut),G&&this.removeChild(G)},removeChild:function(z){return q(this,z)},appendChild:function(z){return this.insertBefore(z,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(z){return Un(this.ownerDocument||this,this,z)},normalize:function(){for(var z=this.firstChild;z;){var G=z.nextSibling;G&&G.nodeType==$&&z.nodeType==$?(this.removeChild(G),z.appendData(G.data)):(z.normalize(),z=G)}},isSupported:function(z,G){return this.ownerDocument.implementation.hasFeature(z,G)},lookupPrefix:function(z){for(var G=this;G;){var ye=G._nsMap;if(ye){for(var De in ye)if(r(ye,De)&&ye[De]===z)return De}G=G.nodeType==V?G.ownerDocument:G.parentNode}return null},lookupNamespaceURI:function(z){for(var G=this;G;){var ye=G._nsMap;if(ye&&r(ye,z))return ye[z];G=G.nodeType==V?G.ownerDocument:G.parentNode}return null},isDefaultNamespace:function(z){var G=this.lookupPrefix(z);return G==null},compareDocumentPosition:function(z){if(this===z)return 0;var G=z,ye=this,De=null,He=null;if(G instanceof vt&&(De=G,G=De.ownerElement),ye instanceof vt&&(He=ye,ye=He.ownerElement,De&&G&&ye===G))for(var Ze=0,pt;pt=ye.attributes[Ze];Ze++){if(pt===De)return de.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+de.DOCUMENT_POSITION_PRECEDING;if(pt===He)return de.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+de.DOCUMENT_POSITION_FOLLOWING}if(!G||!ye||ye.ownerDocument!==G.ownerDocument)return de.DOCUMENT_POSITION_DISCONNECTED+de.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+(K(ye.ownerDocument)>K(G.ownerDocument)?de.DOCUMENT_POSITION_FOLLOWING:de.DOCUMENT_POSITION_PRECEDING);if(He&&G===ye)return de.DOCUMENT_POSITION_CONTAINS+de.DOCUMENT_POSITION_PRECEDING;if(De&&G===ye)return de.DOCUMENT_POSITION_CONTAINED_BY+de.DOCUMENT_POSITION_FOLLOWING;for(var jt=[],wt=G.parentNode;wt;){if(!He&&wt===ye)return de.DOCUMENT_POSITION_CONTAINED_BY+de.DOCUMENT_POSITION_FOLLOWING;jt.push(wt),wt=wt.parentNode}jt.reverse();for(var Jt=[],pn=ye.parentNode;pn;){if(!De&&pn===G)return de.DOCUMENT_POSITION_CONTAINS+de.DOCUMENT_POSITION_PRECEDING;Jt.push(pn),pn=pn.parentNode}Jt.reverse();var er=ae(jt,Jt);for(var Dn in er.childNodes){var Ft=er.childNodes[Dn];if(Ft===ye)return de.DOCUMENT_POSITION_FOLLOWING;if(Ft===G)return de.DOCUMENT_POSITION_PRECEDING;if(Jt.indexOf(Ft)>=0)return de.DOCUMENT_POSITION_FOLLOWING;if(jt.indexOf(Ft)>=0)return de.DOCUMENT_POSITION_PRECEDING}return 0}};function Ae(z){return z=="<"&&"&lt;"||z==">"&&"&gt;"||z=="&"&&"&amp;"||z=='"'&&"&quot;"||"&#"+z.charCodeAt()+";"}N(D,me),N(D,me.prototype),N(de,me),N(de,me.prototype);function Z(z,G){if(G(z))return!0;if(z=z.firstChild)do if(Z(z,G))return!0;while(z=z.nextSibling)}function ie(z,G){_(z);var ye=G||{};this.ownerDocument=this,this.contentType=ye.contentType||c.XML_APPLICATION,this.type=i(this.contentType)?"html":"xml"}function he(z,G,ye){z&&z._inc++;var De=ye.namespaceURI;De===f.XMLNS&&(G._nsMap[ye.prefix?ye.localName:""]=ye.value)}function ge(z,G,ye,De){z&&z._inc++;var He=ye.namespaceURI;He===f.XMLNS&&delete G._nsMap[ye.prefix?ye.localName:""]}function ee(z,G,ye){if(z&&z._inc){z._inc++;var De=G.childNodes;if(ye&&!ye.nextSibling)De[De.length++]=ye;else{for(var He=G.firstChild,Ze=0;He;)De[Ze++]=He,He=He.nextSibling;De.length=Ze,delete De[De.length]}}}function q(z,G){if(z!==G.parentNode)throw new m(m.NOT_FOUND_ERR,"child's parent is not parent");var ye=G.previousSibling,De=G.nextSibling;return ye?ye.nextSibling=De:z.firstChild=De,De?De.previousSibling=ye:z.lastChild=ye,ee(z.ownerDocument,z),G.parentNode=null,G.previousSibling=null,G.nextSibling=null,G}function ne(z){return z&&(z.nodeType===me.DOCUMENT_NODE||z.nodeType===me.DOCUMENT_FRAGMENT_NODE||z.nodeType===me.ELEMENT_NODE)}function te(z){return z&&(z.nodeType===me.CDATA_SECTION_NODE||z.nodeType===me.COMMENT_NODE||z.nodeType===me.DOCUMENT_FRAGMENT_NODE||z.nodeType===me.DOCUMENT_TYPE_NODE||z.nodeType===me.ELEMENT_NODE||z.nodeType===me.PROCESSING_INSTRUCTION_NODE||z.nodeType===me.TEXT_NODE)}function le(z){return z&&z.nodeType===me.DOCUMENT_TYPE_NODE}function we(z){return z&&z.nodeType===me.ELEMENT_NODE}function je(z){return z&&z.nodeType===me.TEXT_NODE}function Be(z,G){var ye=z.childNodes||[];if(e(ye,we)||le(G))return!1;var De=e(ye,le);return!(G&&De&&ye.indexOf(De)>ye.indexOf(G))}function $e(z,G){var ye=z.childNodes||[];function De(Ze){return we(Ze)&&Ze!==G}if(e(ye,De))return!1;var He=e(ye,le);return!(G&&He&&ye.indexOf(He)>ye.indexOf(G))}function Ve(z,G,ye){if(!ne(z))throw new m(m.HIERARCHY_REQUEST_ERR,"Unexpected parent node type "+z.nodeType);if(ye&&ye.parentNode!==z)throw new m(m.NOT_FOUND_ERR,"child not in parent");if(!te(G)||le(G)&&z.nodeType!==me.DOCUMENT_NODE)throw new m(m.HIERARCHY_REQUEST_ERR,"Unexpected node type "+G.nodeType+" for parent node type "+z.nodeType)}function Ke(z,G,ye){var De=z.childNodes||[],He=G.childNodes||[];if(G.nodeType===me.DOCUMENT_FRAGMENT_NODE){var Ze=He.filter(we);if(Ze.length>1||e(He,je))throw new m(m.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(Ze.length===1&&!Be(z,ye))throw new m(m.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(we(G)&&!Be(z,ye))throw new m(m.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(le(G)){if(e(De,le))throw new m(m.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var pt=e(De,we);if(ye&&De.indexOf(pt)<De.indexOf(ye))throw new m(m.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element");if(!ye&&pt)throw new m(m.HIERARCHY_REQUEST_ERR,"Doctype can not be appended since element is present")}}function ut(z,G,ye){var De=z.childNodes||[],He=G.childNodes||[];if(G.nodeType===me.DOCUMENT_FRAGMENT_NODE){var Ze=He.filter(we);if(Ze.length>1||e(He,je))throw new m(m.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(Ze.length===1&&!$e(z,ye))throw new m(m.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(we(G)&&!$e(z,ye))throw new m(m.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(le(G)){if(e(De,function(wt){return le(wt)&&wt!==ye}))throw new m(m.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var pt=e(De,we);if(ye&&De.indexOf(pt)<De.indexOf(ye))throw new m(m.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element")}}function Xe(z,G,ye,De){Ve(z,G,ye),z.nodeType===me.DOCUMENT_NODE&&(De||Ke)(z,G,ye);var He=G.parentNode;if(He&&He.removeChild(G),G.nodeType===re){var Ze=G.firstChild;if(Ze==null)return G;var pt=G.lastChild}else Ze=pt=G;var jt=ye?ye.previousSibling:z.lastChild;Ze.previousSibling=jt,pt.nextSibling=ye,jt?jt.nextSibling=Ze:z.firstChild=Ze,ye==null?z.lastChild=pt:ye.previousSibling=pt;do Ze.parentNode=z;while(Ze!==pt&&(Ze=Ze.nextSibling));return ee(z.ownerDocument||z,z,G),G.nodeType==re&&(G.firstChild=G.lastChild=null),G}ie.prototype={implementation:null,nodeName:"#document",nodeType:R,doctype:null,documentElement:null,_inc:1,insertBefore:function(z,G){if(z.nodeType===re){for(var ye=z.firstChild;ye;){var De=ye.nextSibling;this.insertBefore(ye,G),ye=De}return z}return Xe(this,z,G),z.ownerDocument=this,this.documentElement===null&&z.nodeType===O&&(this.documentElement=z),z},removeChild:function(z){var G=q(this,z);return G===this.documentElement&&(this.documentElement=null),G},replaceChild:function(z,G){Xe(this,z,G,ut),z.ownerDocument=this,G&&this.removeChild(G),we(z)&&(this.documentElement=z)},importNode:function(z,G){return sn(this,z,G)},getElementById:function(z){var G=null;return Z(this.documentElement,function(ye){if(ye.nodeType==O&&ye.getAttribute("id")==z)return G=ye,!0}),G},createElement:function(z){var G=new lt(d);G.ownerDocument=this,this.type==="html"&&(z=z.toLowerCase()),n(this.contentType)&&(G.namespaceURI=f.HTML),G.nodeName=z,G.tagName=z,G.localName=z,G.childNodes=new U;var ye=G.attributes=new oe;return ye._ownerElement=G,G},createDocumentFragment:function(){var z=new xn(d);return z.ownerDocument=this,z.childNodes=new U,z},createTextNode:function(z){var G=new rt(d);return G.ownerDocument=this,G.childNodes=new U,G.appendData(z),G},createComment:function(z){var G=new Dt(d);return G.ownerDocument=this,G.childNodes=new U,G.appendData(z),G},createCDATASection:function(z){var G=new It(d);return G.ownerDocument=this,G.childNodes=new U,G.appendData(z),G},createProcessingInstruction:function(z,G){var ye=new Mt(d);return ye.ownerDocument=this,ye.childNodes=new U,ye.nodeName=ye.target=z,ye.nodeValue=ye.data=G,ye},createAttribute:function(z){if(!v.QName_exact.test(z))throw new m(m.INVALID_CHARACTER_ERR,'invalid character in name "'+z+'"');return this.type==="html"&&(z=z.toLowerCase()),this._createAttribute(z)},_createAttribute:function(z){var G=new vt(d);return G.ownerDocument=this,G.childNodes=new U,G.name=z,G.nodeName=z,G.localName=z,G.specified=!0,G},createEntityReference:function(z){if(!v.Name.test(z))throw new m(m.INVALID_CHARACTER_ERR,'not a valid xml name "'+z+'"');if(this.type==="html")throw new m("document is an html document",g.NotSupportedError);var G=new Vt(d);return G.ownerDocument=this,G.childNodes=new U,G.nodeName=z,G},createElementNS:function(z,G){var ye=j(z,G),De=new lt(d),He=De.attributes=new oe;return De.childNodes=new U,De.ownerDocument=this,De.nodeName=G,De.tagName=G,De.namespaceURI=ye[0],De.prefix=ye[1],De.localName=ye[2],He._ownerElement=De,De},createAttributeNS:function(z,G){var ye=j(z,G),De=new vt(d);return De.ownerDocument=this,De.childNodes=new U,De.nodeName=G,De.name=G,De.specified=!0,De.namespaceURI=ye[0],De.prefix=ye[1],De.localName=ye[2],De}},B(ie,me);function lt(z){_(z),this._nsMap=Object.create(null)}lt.prototype={nodeType:O,attributes:null,getQualifiedName:function(){return this.prefix?this.prefix+":"+this.localName:this.localName},_isInHTMLDocumentAndNamespace:function(){return this.ownerDocument.type==="html"&&this.namespaceURI===f.HTML},hasAttributes:function(){return!!(this.attributes&&this.attributes.length)},hasAttribute:function(z){return!!this.getAttributeNode(z)},getAttribute:function(z){var G=this.getAttributeNode(z);return G?G.value:null},getAttributeNode:function(z){return this._isInHTMLDocumentAndNamespace()&&(z=z.toLowerCase()),this.attributes.getNamedItem(z)},setAttribute:function(z,G){this._isInHTMLDocumentAndNamespace()&&(z=z.toLowerCase());var ye=this.getAttributeNode(z);ye?ye.value=ye.nodeValue=""+G:(ye=this.ownerDocument._createAttribute(z),ye.value=ye.nodeValue=""+G,this.setAttributeNode(ye))},removeAttribute:function(z){var G=this.getAttributeNode(z);G&&this.removeAttributeNode(G)},setAttributeNode:function(z){return this.attributes.setNamedItem(z)},setAttributeNodeNS:function(z){return this.attributes.setNamedItemNS(z)},removeAttributeNode:function(z){return this.attributes.removeNamedItem(z.nodeName)},removeAttributeNS:function(z,G){var ye=this.getAttributeNodeNS(z,G);ye&&this.removeAttributeNode(ye)},hasAttributeNS:function(z,G){return this.getAttributeNodeNS(z,G)!=null},getAttributeNS:function(z,G){var ye=this.getAttributeNodeNS(z,G);return ye?ye.value:null},setAttributeNS:function(z,G,ye){var De=j(z,G),He=De[2],Ze=this.getAttributeNodeNS(z,He);Ze?Ze.value=Ze.nodeValue=""+ye:(Ze=this.ownerDocument.createAttributeNS(z,G),Ze.value=Ze.nodeValue=""+ye,this.setAttributeNode(Ze))},getAttributeNodeNS:function(z,G){return this.attributes.getNamedItemNS(z,G)},getElementsByClassName:function(z){var G=P(z);return new M(this,function(ye){var De=[];return G.length>0&&Z(ye,function(He){if(He!==ye&&He.nodeType===O){var Ze=He.getAttribute("class");if(Ze){var pt=z===Ze;if(!pt){var jt=P(Ze);pt=G.every(L(jt))}pt&&De.push(He)}}}),De})},getElementsByTagName:function(z){var G=(this.nodeType===R?this:this.ownerDocument).type==="html",ye=z.toLowerCase();return new M(this,function(De){var He=[];return Z(De,function(Ze){if(!(Ze===De||Ze.nodeType!==O))if(z==="*")He.push(Ze);else{var pt=Ze.getQualifiedName(),jt=G&&Ze.namespaceURI===f.HTML?ye:z;pt===jt&&He.push(Ze)}}),He})},getElementsByTagNameNS:function(z,G){return new M(this,function(ye){var De=[];return Z(ye,function(He){He!==ye&&He.nodeType===O&&(z==="*"||He.namespaceURI===z)&&(G==="*"||He.localName==G)&&De.push(He)}),De})}},ie.prototype.getElementsByClassName=lt.prototype.getElementsByClassName,ie.prototype.getElementsByTagName=lt.prototype.getElementsByTagName,ie.prototype.getElementsByTagNameNS=lt.prototype.getElementsByTagNameNS,B(lt,me);function vt(z){_(z),this.namespaceURI=null,this.prefix=null,this.ownerElement=null}vt.prototype.nodeType=V,B(vt,me);function st(z){_(z)}st.prototype={data:"",substringData:function(z,G){return this.data.substring(z,z+G)},appendData:function(z){z=this.data+z,this.nodeValue=this.data=z,this.length=z.length},insertData:function(z,G){this.replaceData(z,0,G)},deleteData:function(z,G){this.replaceData(z,G,"")},replaceData:function(z,G,ye){var De=this.data.substring(0,z),He=this.data.substring(z+G);ye=De+ye+He,this.nodeValue=this.data=ye,this.length=ye.length}},B(st,me);function rt(z){_(z)}rt.prototype={nodeName:"#text",nodeType:$,splitText:function(z){var G=this.data,ye=G.substring(z);G=G.substring(0,z),this.data=this.nodeValue=G,this.length=G.length;var De=this.ownerDocument.createTextNode(ye);return this.parentNode&&this.parentNode.insertBefore(De,this.nextSibling),De}},B(rt,st);function Dt(z){_(z)}Dt.prototype={nodeName:"#comment",nodeType:A},B(Dt,st);function It(z){_(z)}It.prototype={nodeName:"#cdata-section",nodeType:J},B(It,rt);function Ct(z){_(z)}Ct.prototype.nodeType=Q,B(Ct,me);function Qt(z){_(z)}Qt.prototype.nodeType=F,B(Qt,me);function yn(z){_(z)}yn.prototype.nodeType=Y,B(yn,me);function Vt(z){_(z)}Vt.prototype.nodeType=ce,B(Vt,me);function xn(z){_(z)}xn.prototype.nodeName="#document-fragment",xn.prototype.nodeType=re,B(xn,me);function Mt(z){_(z)}Mt.prototype.nodeType=k,B(Mt,st);function Wt(){}Wt.prototype.serializeToString=function(z,G){return it.call(z,G)},me.prototype.toString=it;function it(z){var G=[],ye=this.nodeType===R&&this.documentElement||this,De=ye.prefix,He=ye.namespaceURI;if(He&&De==null){var De=ye.lookupPrefix(He);if(De==null)var Ze=[{namespace:He,prefix:null}]}return ct(this,G,z,Ze),G.join("")}function nt(z,G,ye){var De=z.prefix||"",He=z.namespaceURI;if(!He||De==="xml"&&He===f.XML||He===f.XMLNS)return!1;for(var Ze=ye.length;Ze--;){var pt=ye[Ze];if(pt.prefix===De)return pt.namespace!==He}return!0}function et(z,G,ye){z.push(" ",G,'="',ye.replace(/[<>&"\t\n\r]/g,Ae),'"')}function ct(z,G,ye,De){De||(De=[]);var He=z.nodeType===R?z:z.ownerDocument,Ze=He.type==="html";if(ye)if(z=ye(z),z){if(typeof z=="string"){G.push(z);return}}else return;switch(z.nodeType){case O:var pt=z.attributes,jt=pt.length,En=z.firstChild,wt=z.tagName,Jt=wt;if(!Ze&&!z.prefix&&z.namespaceURI){for(var pn,er=0;er<pt.length;er++)if(pt.item(er).name==="xmlns"){pn=pt.item(er).value;break}if(!pn)for(var Dn=De.length-1;Dn>=0;Dn--){var Ft=De[Dn];if(Ft.prefix===""&&Ft.namespace===z.namespaceURI){pn=Ft.namespace;break}}if(pn!==z.namespaceURI)for(var Dn=De.length-1;Dn>=0;Dn--){var Ft=De[Dn];if(Ft.namespace===z.namespaceURI){Ft.prefix&&(Jt=Ft.prefix+":"+wt);break}}}G.push("<",Jt);for(var ur=0;ur<jt;ur++){var On=pt.item(ur);On.prefix=="xmlns"?De.push({prefix:On.localName,namespace:On.value}):On.nodeName=="xmlns"&&De.push({prefix:"",namespace:On.value})}for(var ur=0;ur<jt;ur++){var On=pt.item(ur);if(nt(On,Ze,De)){var bn=On.prefix||"",Tt=On.namespaceURI;et(G,bn?"xmlns:"+bn:"xmlns",Tt),De.push({prefix:bn,namespace:Tt})}ct(On,G,ye,De)}if(wt===Jt&&nt(z,Ze,De)){var bn=z.prefix||"",Tt=z.namespaceURI;et(G,bn?"xmlns:"+bn:"xmlns",Tt),De.push({prefix:bn,namespace:Tt})}var tr=!En;if(tr&&(Ze||z.namespaceURI===f.HTML)&&(tr=l(wt)),tr)G.push("/>");else{if(G.push(">"),Ze&&s(wt))for(;En;)En.data?G.push(En.data):ct(En,G,ye,De.slice()),En=En.nextSibling;else for(;En;)ct(En,G,ye,De.slice()),En=En.nextSibling;G.push("</",Jt,">")}return;case R:case re:for(var En=z.firstChild;En;)ct(En,G,ye,De.slice()),En=En.nextSibling;return;case V:return et(G,z.name,z.value);case $:return G.push(z.data.replace(/[<&>]/g,Ae));case J:return G.push(v.CDATA_START,z.data,v.CDATA_END);case A:return G.push(v.COMMENT_START,z.data,v.COMMENT_END);case Q:var _r=z.publicId,kr=z.systemId;G.push(v.DOCTYPE_DECL_START," ",z.name),_r?(G.push(" ",v.PUBLIC," ",_r),kr&&kr!=="."&&G.push(" ",kr)):kr&&kr!=="."&&G.push(" ",v.SYSTEM," ",kr),z.internalSubset&&G.push(" [",z.internalSubset,"]"),G.push(">");return;case k:return G.push("<?",z.target," ",z.data,"?>");case ce:return G.push("&",z.nodeName,";");default:G.push("??",z.nodeName)}}function sn(z,G,ye){var De;switch(G.nodeType){case O:De=G.cloneNode(!1),De.ownerDocument=z;case re:break;case V:ye=!0;break}if(De||(De=G.cloneNode(!1)),De.ownerDocument=z,De.parentNode=null,ye)for(var He=G.firstChild;He;)De.appendChild(sn(z,He,ye)),He=He.nextSibling;return De}function Un(z,G,ye){var De=new G.constructor(d);for(var He in G)if(r(G,He)){var Ze=G[He];typeof Ze!="object"&&Ze!=De[He]&&(De[He]=Ze)}switch(G.childNodes&&(De.childNodes=new U),De.ownerDocument=z,De.nodeType){case O:var pt=G.attributes,jt=De.attributes=new oe,wt=pt.length;jt._ownerElement=De;for(var Jt=0;Jt<wt;Jt++)De.setAttributeNode(Un(z,pt.item(Jt),!0));break;case V:ye=!0}if(ye)for(var pn=G.firstChild;pn;)De.appendChild(Un(z,pn,ye)),pn=pn.nextSibling;return De}function Ge(z,G,ye){z[G]=ye}try{if(Object.defineProperty){let z=function(G){switch(G.nodeType){case O:case re:var ye=[];for(G=G.firstChild;G;)G.nodeType!==7&&G.nodeType!==8&&ye.push(z(G)),G=G.nextSibling;return ye.join("");default:return G.nodeValue}};Object.defineProperty(M.prototype,"length",{get:function(){return H(this),this.$$length}}),Object.defineProperty(me.prototype,"textContent",{get:function(){return z(this)},set:function(G){switch(this.nodeType){case O:case re:for(;this.firstChild;)this.removeChild(this.firstChild);(G||String(G))&&this.appendChild(this.ownerDocument.createTextNode(G));break;default:this.data=G,this.value=G,this.nodeValue=G}}}),Ge=function(G,ye,De){G["$$"+ye]=De}}}catch{}return kn._updateLiveList=H,kn.Attr=vt,kn.CDATASection=It,kn.CharacterData=st,kn.Comment=Dt,kn.Document=ie,kn.DocumentFragment=xn,kn.DocumentType=Ct,kn.DOMImplementation=fe,kn.Element=lt,kn.Entity=yn,kn.EntityReference=Vt,kn.LiveNodeList=M,kn.NamedNodeMap=oe,kn.Node=me,kn.NodeList=U,kn.Notation=Qt,kn.Text=rt,kn.ProcessingInstruction=Mt,kn.XMLSerializer=Wt,kn}var Rs={},em={},j_;function cD(){return j_||(j_=1,function(t){var e=ml().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES}(em)),em}var xu={},L_;function fD(){if(L_)return xu;L_=1;var t=ml(),e=fw(),n=Nd(),r=t.isHTMLEscapableRawTextElement,i=t.isHTMLMimeType,s=t.isHTMLRawTextElement,l=t.hasOwn,c=t.NAMESPACE,f=n.ParseError,d=n.DOMException,h=0,m=1,g=2,v=3,_=4,C=5,T=6,S=7;function P(){}P.prototype={parse:function(k,A,R){var Q=this.domBuilder;Q.startDocument(),O(A,A=Object.create(null)),I(k,A,R,Q,this.errorHandler),Q.endDocument()}};var L=/&#?\w+;?/g;function I(k,A,R,Q,re){var F=i(Q.mimeType);k.indexOf(e.UNICODE_REPLACEMENT_CHARACTER)>=0&&re.warning("Unicode replacement character detected, source encoding issues?");function de(Xe){if(Xe>65535){Xe-=65536;var lt=55296+(Xe>>10),vt=56320+(Xe&1023);return String.fromCharCode(lt,vt)}else return String.fromCharCode(Xe)}function ae(Xe){var lt=Xe[Xe.length-1]===";"?Xe:Xe+";";if(!F&&lt!==Xe)return re.error("EntityRef: expecting ;"),Xe;var vt=e.Reference.exec(lt);if(!vt||vt[0].length!==lt.length)return re.error("entity not matching Reference production: "+Xe),Xe;var st=lt.slice(1,-1);return l(R,st)?R[st]:st.charAt(0)==="#"?de(parseInt(st.substring(1).replace("x","0x"))):(re.error("entity not found:"+Xe),Xe)}function K(Xe){if(Xe>fe){var lt=k.substring(fe,Xe).replace(L,ae);oe&&pe(fe),Q.characters(lt,0,Xe-fe),fe=Xe}}var U=0,M=0,H=/\r\n?|\n|$/g,oe=Q.locator;function pe(Xe,lt){for(;Xe>=M&&(lt=H.exec(k));)U=M,M=lt.index+lt[0].length,oe.lineNumber++;oe.columnNumber=Xe-U+1}for(var be=[{currentNSMap:A}],ve=[],fe=0;;){try{var me=k.indexOf("<",fe);if(me<0){if(!F&&ve.length>0)return re.fatalError("unclosed xml tag(s): "+ve.join(", "));if(!k.substring(fe).match(/^\s*$/)){var Ae=Q.doc,Z=Ae.createTextNode(k.substring(fe));if(Ae.documentElement)return re.error("Extra content at the end of the document");Ae.appendChild(Z),Q.currentElement=Z}return}if(me>fe){var ie=k.substring(fe,me);!F&&ve.length===0&&(ie=ie.replace(new RegExp(e.S_OPT.source,"g"),""),ie&&re.error("Unexpected content outside root element: '"+ie+"'")),K(me)}switch(k.charAt(me+1)){case"/":var Be=k.indexOf(">",me+2),he=k.substring(me+2,Be>0?Be:void 0);if(!he)return re.fatalError("end tag name missing");var ge=Be>0&&e.reg("^",e.QName_group,e.S_OPT,"$").exec(he);if(!ge)return re.fatalError('end tag name contains invalid characters: "'+he+'"');if(!Q.currentElement&&!Q.doc.documentElement)return;var ee=ve[ve.length-1]||Q.currentElement.tagName||Q.doc.documentElement.tagName||"";if(ee!==ge[1]){var q=ge[1].toLowerCase();if(!F||ee.toLowerCase()!==q)return re.fatalError('Opening and ending tag mismatch: "'+ee+'" != "'+he+'"')}var ne=be.pop();ve.pop();var te=ne.localNSMap;if(Q.endElement(ne.uri,ne.localName,ee),te)for(var le in te)l(te,le)&&Q.endPrefixMapping(le);Be++;break;case"?":oe&&pe(me),Be=ce(k,me,Q,re);break;case"!":oe&&pe(me),Be=J(k,me,Q,re,F);break;default:oe&&pe(me);var we=new Y,je=be[be.length-1].currentNSMap,Be=N(k,me,we,je,ae,re,F),$e=we.length;if(we.closed||(F&&t.isHTMLVoidElement(we.tagName)?we.closed=!0:ve.push(we.tagName)),oe&&$e){for(var Ve=j(oe,{}),Ke=0;Ke<$e;Ke++){var ut=we[Ke];pe(ut.offset),ut.locator=j(oe,{})}Q.locator=Ve,B(we,Q,je)&&be.push(we),Q.locator=oe}else B(we,Q,je)&&be.push(we);F&&!we.closed?Be=D(k,Be,we.tagName,ae,Q):Be++}}catch(Xe){if(Xe instanceof f)throw Xe;if(Xe instanceof d)throw new f(Xe.name+": "+Xe.message,Q.locator,Xe);re.error("element parse error: "+Xe),Be=-1}Be>fe?fe=Be:K(Math.max(me,fe)+1)}}function j(k,A){return A.lineNumber=k.lineNumber,A.columnNumber=k.columnNumber,A}function N(k,A,R,Q,re,F,de){function ae(pe,be,ve){if(l(R.attributeNames,pe))return F.fatalError("Attribute "+pe+" redefined");if(!de&&be.indexOf("<")>=0)return F.fatalError("Unescaped '<' not allowed in attributes values");R.addValue(pe,be.replace(/[\t\n\r]/g," ").replace(L,re),ve)}for(var K,U,M=++A,H=h;;){var oe=k.charAt(M);switch(oe){case"=":if(H===m)K=k.slice(A,M),H=v;else if(H===g)H=v;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(H===v||H===m)if(H===m&&(F.warning('attribute value must after "="'),K=k.slice(A,M)),A=M+1,M=k.indexOf(oe,A),M>0)U=k.slice(A,M),ae(K,U,A-1),H=C;else throw new Error("attribute value no end '"+oe+"' match");else if(H==_)U=k.slice(A,M),ae(K,U,A),F.warning('attribute "'+K+'" missed start quot('+oe+")!!"),A=M+1,H=C;else throw new Error('attribute value must after "="');break;case"/":switch(H){case h:R.setTagName(k.slice(A,M));case C:case T:case S:H=S,R.closed=!0;case _:case m:break;case g:R.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return F.error("unexpected end of input"),H==h&&R.setTagName(k.slice(A,M)),M;case">":switch(H){case h:R.setTagName(k.slice(A,M));case C:case T:case S:break;case _:case m:U=k.slice(A,M),U.slice(-1)==="/"&&(R.closed=!0,U=U.slice(0,-1));case g:H===g&&(U=K),H==_?(F.warning('attribute "'+U+'" missed quot(")!'),ae(K,U,A)):(de||F.warning('attribute "'+U+'" missed value!! "'+U+'" instead!!'),ae(U,U,A));break;case v:if(!de)return F.fatalError(`AttValue: ' or " expected`)}return M;case"":oe=" ";default:if(oe<=" ")switch(H){case h:R.setTagName(k.slice(A,M)),H=T;break;case m:K=k.slice(A,M),H=g;break;case _:var U=k.slice(A,M);F.warning('attribute "'+U+'" missed quot(")!!'),ae(K,U,A);case C:H=T;break}else switch(H){case g:de||F.warning('attribute "'+K+'" missed value!! "'+K+'" instead2!!'),ae(K,K,A),A=M,H=m;break;case C:F.warning('attribute space is required"'+K+'"!!');case T:H=m,A=M;break;case v:H=_,A=M;break;case S:throw new Error("elements closed character '/' and '>' must be connected to")}}M++}}function B(k,A,R){for(var Q=k.tagName,re=null,H=k.length;H--;){var F=k[H],de=F.qName,ae=F.value,oe=de.indexOf(":");if(oe>0)var K=F.prefix=de.slice(0,oe),U=de.slice(oe+1),M=K==="xmlns"&&U;else U=de,K=null,M=de==="xmlns"&&"";F.localName=U,M!==!1&&(re==null&&(re=Object.create(null),O(R,R=Object.create(null))),R[M]=re[M]=ae,F.uri=c.XMLNS,A.startPrefixMapping(M,ae))}for(var H=k.length;H--;)F=k[H],F.prefix&&(F.prefix==="xml"&&(F.uri=c.XML),F.prefix!=="xmlns"&&(F.uri=R[F.prefix]));var oe=Q.indexOf(":");oe>0?(K=k.prefix=Q.slice(0,oe),U=k.localName=Q.slice(oe+1)):(K=null,U=k.localName=Q);var pe=k.uri=R[K||""];if(A.startElement(pe,U,Q,k),k.closed){if(A.endElement(pe,U,Q),re)for(K in re)l(re,K)&&A.endPrefixMapping(K)}else return k.currentNSMap=R,k.localNSMap=re,!0}function D(k,A,R,Q,re){var F=r(R);if(F||s(R)){var de=k.indexOf("</"+R+">",A),ae=k.substring(A+1,de);return F&&(ae=ae.replace(L,Q)),re.characters(ae,0,ae.length),de}return A+1}function O(k,A){for(var R in k)l(k,R)&&(A[R]=k[R])}function V(k,A){var R=A;function Q(M){return M=M||0,k.charAt(R+M)}function re(M){M=M||1,R+=M}function F(){for(var M=0;R<k.length;){var H=Q();if(H!==" "&&H!==`
`&&H!=="	"&&H!=="\r")return M;M++,re()}return-1}function de(){return k.substring(R)}function ae(M){return k.substring(R,R+M.length)===M}function K(M){return k.substring(R,R+M.length).toUpperCase()===M.toUpperCase()}function U(M){var H=e.reg("^",M),oe=H.exec(de());return oe?(re(oe[0].length),oe[0]):null}return{char:Q,getIndex:function(){return R},getMatch:U,getSource:function(){return k},skip:re,skipBlanks:F,substringFromIndex:de,substringStartsWith:ae,substringStartsWithCaseInsensitive:K}}function $(k,A){function R(ae,K){var U=e.PI.exec(ae.substringFromIndex());return U?U[1].toLowerCase()==="xml"?K.fatalError("xml declaration is only allowed at the start of the document, but found at position "+ae.getIndex()):(ae.skip(U[0].length),U[0]):K.fatalError("processing instruction is not well-formed at position "+ae.getIndex())}var Q=k.getSource();if(k.char()==="["){k.skip(1);for(var re=k.getIndex();k.getIndex()<Q.length;){if(k.skipBlanks(),k.char()==="]"){var F=Q.substring(re,k.getIndex());return k.skip(1),F}var de=null;if(k.char()==="<"&&k.char(1)==="!")switch(k.char(2)){case"E":k.char(3)==="L"?de=k.getMatch(e.elementdecl):k.char(3)==="N"&&(de=k.getMatch(e.EntityDecl));break;case"A":de=k.getMatch(e.AttlistDecl);break;case"N":de=k.getMatch(e.NotationDecl);break;case"-":de=k.getMatch(e.Comment);break}else if(k.char()==="<"&&k.char(1)==="?")de=R(k,A);else if(k.char()==="%")de=k.getMatch(e.PEReference);else return A.fatalError("Error detected in Markup declaration");if(!de)return A.fatalError("Error in internal subset at position "+k.getIndex())}return A.fatalError("doctype internal subset is not well-formed, missing ]")}}function J(k,A,R,Q,re){var F=V(k,A);switch(re?F.char(2).toUpperCase():F.char(2)){case"-":var de=F.getMatch(e.Comment);return de?(R.comment(de,e.COMMENT_START.length,de.length-e.COMMENT_START.length-e.COMMENT_END.length),F.getIndex()):Q.fatalError("comment is not well-formed at position "+F.getIndex());case"[":var ae=F.getMatch(e.CDSect);return ae?!re&&!R.currentElement?Q.fatalError("CDATA outside of element"):(R.startCDATA(),R.characters(ae,e.CDATA_START.length,ae.length-e.CDATA_START.length-e.CDATA_END.length),R.endCDATA(),F.getIndex()):Q.fatalError("Invalid CDATA starting at position "+A);case"D":{if(R.doc&&R.doc.documentElement)return Q.fatalError("Doctype not allowed inside or after documentElement at position "+F.getIndex());if(re?!F.substringStartsWithCaseInsensitive(e.DOCTYPE_DECL_START):!F.substringStartsWith(e.DOCTYPE_DECL_START))return Q.fatalError("Expected "+e.DOCTYPE_DECL_START+" at position "+F.getIndex());if(F.skip(e.DOCTYPE_DECL_START.length),F.skipBlanks()<1)return Q.fatalError("Expected whitespace after "+e.DOCTYPE_DECL_START+" at position "+F.getIndex());var K={name:void 0,publicId:void 0,systemId:void 0,internalSubset:void 0};if(K.name=F.getMatch(e.Name),!K.name)return Q.fatalError("doctype name missing or contains unexpected characters at position "+F.getIndex());if(re&&K.name.toLowerCase()!=="html"&&Q.warning("Unexpected DOCTYPE in HTML document at position "+F.getIndex()),F.skipBlanks(),F.substringStartsWith(e.PUBLIC)||F.substringStartsWith(e.SYSTEM)){var U=e.ExternalID_match.exec(F.substringFromIndex());if(!U)return Q.fatalError("doctype external id is not well-formed at position "+F.getIndex());U.groups.SystemLiteralOnly!==void 0?K.systemId=U.groups.SystemLiteralOnly:(K.systemId=U.groups.SystemLiteral,K.publicId=U.groups.PubidLiteral),F.skip(U[0].length)}else if(re&&F.substringStartsWithCaseInsensitive(e.SYSTEM)){if(F.skip(e.SYSTEM.length),F.skipBlanks()<1)return Q.fatalError("Expected whitespace after "+e.SYSTEM+" at position "+F.getIndex());if(K.systemId=F.getMatch(e.ABOUT_LEGACY_COMPAT_SystemLiteral),!K.systemId)return Q.fatalError("Expected "+e.ABOUT_LEGACY_COMPAT+" in single or double quotes after "+e.SYSTEM+" at position "+F.getIndex())}return re&&K.systemId&&!e.ABOUT_LEGACY_COMPAT_SystemLiteral.test(K.systemId)&&Q.warning("Unexpected doctype.systemId in HTML document at position "+F.getIndex()),re||(F.skipBlanks(),K.internalSubset=$(F,Q)),F.skipBlanks(),F.char()!==">"?Q.fatalError("doctype not terminated with > at position "+F.getIndex()):(F.skip(1),R.startDTD(K.name,K.publicId,K.systemId,K.internalSubset),R.endDTD(),F.getIndex())}default:return Q.fatalError('Not well-formed XML starting with "<!" at position '+A)}}function ce(k,A,R,Q){var re=k.substring(A).match(e.PI);if(!re)return Q.fatalError("Invalid processing instruction starting at position "+A);if(re[1].toLowerCase()==="xml"){if(A>0)return Q.fatalError("processing instruction at position "+A+" is an xml declaration which is only at the start of the document");if(!e.XMLDecl.test(k.substring(A)))return Q.fatalError("xml declaration is not well-formed")}return R.processingInstruction(re[1],re[2]),A+re[0].length}function Y(){this.attributeNames=Object.create(null)}return Y.prototype={setTagName:function(k){if(!e.QName_exact.test(k))throw new Error("invalid tagName:"+k);this.tagName=k},addValue:function(k,A,R){if(!e.QName_exact.test(k))throw new Error("invalid attribute:"+k);this.attributeNames[k]=this.length,this[this.length++]={qName:k,value:A,offset:R}},length:0,getLocalName:function(k){return this[k].localName},getLocator:function(k){return this[k].locator},getQName:function(k){return this[k].qName},getURI:function(k){return this[k].uri},getValue:function(k){return this[k].value}},xu.XMLReader=P,xu.parseUtils=V,xu.parseDoctypeCommentOrCData=J,xu}var P_;function dD(){if(P_)return Rs;P_=1;var t=ml(),e=dw(),n=Nd(),r=cD(),i=fD(),s=e.DOMImplementation,l=t.hasDefaultHTMLNamespace,c=t.isHTMLMimeType,f=t.isValidMimeType,d=t.MIME_TYPE,h=t.NAMESPACE,m=n.ParseError,g=i.XMLReader;function v(N){return N.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028\u2029]/g,`
`)}function _(N){if(N=N||{},N.locator===void 0&&(N.locator=!0),this.assign=N.assign||t.assign,this.domHandler=N.domHandler||C,this.onError=N.onError||N.errorHandler,N.errorHandler&&typeof N.errorHandler!="function")throw new TypeError("errorHandler object is no longer supported, switch to onError!");N.errorHandler&&N.errorHandler("warning","The `errorHandler` option has been deprecated, use `onError` instead!",this),this.normalizeLineEndings=N.normalizeLineEndings||v,this.locator=!!N.locator,this.xmlns=this.assign(Object.create(null),N.xmlns)}_.prototype.parseFromString=function(N,B){if(!f(B))throw new TypeError('DOMParser.parseFromString: the provided mimeType "'+B+'" is not valid.');var D=this.assign(Object.create(null),this.xmlns),O=r.XML_ENTITIES,V=D[""]||null;l(B)?(O=r.HTML_ENTITIES,V=h.HTML):B===d.XML_SVG_IMAGE&&(V=h.SVG),D[""]=V,D.xml=D.xml||h.XML;var $=new this.domHandler({mimeType:B,defaultNamespace:V,onError:this.onError}),J=this.locator?{}:void 0;this.locator&&$.setDocumentLocator(J);var ce=new g;ce.errorHandler=$,ce.domBuilder=$;var Y=!t.isHTMLMimeType(B);return Y&&typeof N!="string"&&ce.errorHandler.fatalError("source is not a string"),ce.parse(this.normalizeLineEndings(String(N)),D,O),$.doc.documentElement||ce.errorHandler.fatalError("missing root element"),$.doc};function C(N){var B=N||{};this.mimeType=B.mimeType||d.XML_APPLICATION,this.defaultNamespace=B.defaultNamespace||null,this.cdata=!1,this.currentElement=void 0,this.doc=void 0,this.locator=void 0,this.onError=B.onError}function T(N,B){B.lineNumber=N.lineNumber,B.columnNumber=N.columnNumber}C.prototype={startDocument:function(){var N=new s;this.doc=c(this.mimeType)?N.createHTMLDocument(!1):N.createDocument(this.defaultNamespace,"")},startElement:function(N,B,D,O){var V=this.doc,$=V.createElementNS(N,D||B),J=O.length;L(this,$),this.currentElement=$,this.locator&&T(this.locator,$);for(var ce=0;ce<J;ce++){var N=O.getURI(ce),Y=O.getValue(ce),D=O.getQName(ce),k=V.createAttributeNS(N,D);this.locator&&T(O.getLocator(ce),k),k.value=k.nodeValue=Y,$.setAttributeNode(k)}},endElement:function(N,B,D){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(N,B){},endPrefixMapping:function(N){},processingInstruction:function(N,B){var D=this.doc.createProcessingInstruction(N,B);this.locator&&T(this.locator,D),L(this,D)},ignorableWhitespace:function(N,B,D){},characters:function(N,B,D){if(N=P.apply(this,arguments),N){if(this.cdata)var O=this.doc.createCDATASection(N);else var O=this.doc.createTextNode(N);this.currentElement?this.currentElement.appendChild(O):/^\s*$/.test(N)&&this.doc.appendChild(O),this.locator&&T(this.locator,O)}},skippedEntity:function(N){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(N){N&&(N.lineNumber=0),this.locator=N},comment:function(N,B,D){N=P.apply(this,arguments);var O=this.doc.createComment(N);this.locator&&T(this.locator,O),L(this,O)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(N,B,D,O){var V=this.doc.implementation;if(V&&V.createDocumentType){var $=V.createDocumentType(N,B,D,O);this.locator&&T(this.locator,$),L(this,$),this.doc.doctype=$}},reportError:function(N,B){if(typeof this.onError=="function")try{this.onError(N,B,this)}catch(D){throw new m("Reporting "+N+' "'+B+'" caused '+D,this.locator)}else console.error("[xmldom "+N+"]	"+B,S(this.locator))},warning:function(N){this.reportError("warning",N)},error:function(N){this.reportError("error",N)},fatalError:function(N){throw this.reportError("fatalError",N),new m(N,this.locator)}};function S(N){if(N)return`
@#[line:`+N.lineNumber+",col:"+N.columnNumber+"]"}function P(N,B,D){return typeof N=="string"?N.substr(B,D):N.length>=B+D||B?new java.lang.String(N,B,D)+"":N}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(N){C.prototype[N]=function(){return null}});function L(N,B){N.currentElement?N.currentElement.appendChild(B):N.doc.appendChild(B)}function I(N){if(N==="error")throw"onErrorStopParsing"}function j(){throw"onWarningStopParsing"}return Rs.__DOMHandler=C,Rs.DOMParser=_,Rs.normalizeLineEndings=v,Rs.onErrorStopParsing=I,Rs.onWarningStopParsing=j,Rs}var B_;function hD(){if(B_)return Gt;B_=1;var t=ml();Gt.assign=t.assign,Gt.hasDefaultHTMLNamespace=t.hasDefaultHTMLNamespace,Gt.isHTMLMimeType=t.isHTMLMimeType,Gt.isValidMimeType=t.isValidMimeType,Gt.MIME_TYPE=t.MIME_TYPE,Gt.NAMESPACE=t.NAMESPACE;var e=Nd();Gt.DOMException=e.DOMException,Gt.DOMExceptionName=e.DOMExceptionName,Gt.ExceptionCode=e.ExceptionCode,Gt.ParseError=e.ParseError;var n=dw();Gt.Attr=n.Attr,Gt.CDATASection=n.CDATASection,Gt.CharacterData=n.CharacterData,Gt.Comment=n.Comment,Gt.Document=n.Document,Gt.DocumentFragment=n.DocumentFragment,Gt.DocumentType=n.DocumentType,Gt.DOMImplementation=n.DOMImplementation,Gt.Element=n.Element,Gt.Entity=n.Entity,Gt.EntityReference=n.EntityReference,Gt.LiveNodeList=n.LiveNodeList,Gt.NamedNodeMap=n.NamedNodeMap,Gt.Node=n.Node,Gt.NodeList=n.NodeList,Gt.Notation=n.Notation,Gt.ProcessingInstruction=n.ProcessingInstruction,Gt.Text=n.Text,Gt.XMLSerializer=n.XMLSerializer;var r=dD();return Gt.DOMParser=r.DOMParser,Gt.normalizeLineEndings=r.normalizeLineEndings,Gt.onErrorStopParsing=r.onErrorStopParsing,Gt.onWarningStopParsing=r.onWarningStopParsing,Gt}var tm,I_;function t0(){if(I_)return tm;I_=1;function t(n){return n[n.length-1]}function e(n){return n[0]}return tm={last:t,first:e},tm}var nm,U_;function mi(){if(U_)return nm;U_=1;function t(U){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},t(U)}function e(U,M){var H=Object.keys(U);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(U);M&&(oe=oe.filter(function(pe){return Object.getOwnPropertyDescriptor(U,pe).enumerable})),H.push.apply(H,oe)}return H}function n(U){for(var M=1;M<arguments.length;M++){var H=arguments[M]!=null?arguments[M]:{};M%2?e(Object(H),!0).forEach(function(oe){r(U,oe,H[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(H)):e(Object(H)).forEach(function(oe){Object.defineProperty(U,oe,Object.getOwnPropertyDescriptor(H,oe))})}return U}function r(U,M,H){return(M=i(M))in U?Object.defineProperty(U,M,{value:H,enumerable:!0,configurable:!0,writable:!0}):U[M]=H,U}function i(U){var M=s(U,"string");return t(M)=="symbol"?M:M+""}function s(U,M){if(t(U)!="object"||!U)return U;var H=U[Symbol.toPrimitive];if(H!==void 0){var oe=H.call(U,M);if(t(oe)!="object")return oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(U)}var l=t0(),c=l.last,f=l.first;function d(U){this.name="GenericError",this.message=U,this.stack=new Error(U).stack}d.prototype=Error.prototype;function h(U){this.name="TemplateError",this.message=U,this.stack=new Error(U).stack}h.prototype=new d;function m(U){this.name="RenderingError",this.message=U,this.stack=new Error(U).stack}m.prototype=new d;function g(U){this.name="ScopeParserError",this.message=U,this.stack=new Error(U).stack}g.prototype=new d;function v(U){this.name="InternalError",this.properties={explanation:"InternalError"},this.message=U,this.stack=new Error(U).stack}v.prototype=new d;function _(U){this.name="APIVersionError",this.properties={explanation:"APIVersionError"},this.message=U,this.stack=new Error(U).stack}_.prototype=new d;function C(U,M){var H=new _(U);throw H.properties=n({id:"api_version_error"},M),H}function T(U){var M=new h("Multi error");throw M.properties={errors:U,id:"multi_error",explanation:"The template has multiple errors"},M}function S(U){var M=new h("Unopened tag");return M.properties={xtag:c(U.xtag.split(" ")),id:"unopened_tag",context:U.xtag,offset:U.offset,lIndex:U.lIndex,explanation:'The tag beginning with "'.concat(U.xtag.substr(0,10),'" is unopened')},M}function P(U){var M=new h("Duplicate open tag, expected one open tag");return M.properties={xtag:f(U.xtag.split(" ")),id:"duplicate_open_tag",context:U.xtag,offset:U.offset,lIndex:U.lIndex,explanation:'The tag beginning with "'.concat(U.xtag.substr(0,10),'" has duplicate open tags')},M}function L(U){var M=new h("Duplicate close tag, expected one close tag");return M.properties={xtag:f(U.xtag.split(" ")),id:"duplicate_close_tag",context:U.xtag,offset:U.offset,lIndex:U.lIndex,explanation:'The tag ending with "'.concat(U.xtag.substr(0,10),'" has duplicate close tags')},M}function I(U){var M=new h("Unclosed tag");return M.properties={xtag:f(U.xtag.split(" ")).substr(1),id:"unclosed_tag",context:U.xtag,offset:U.offset,lIndex:U.lIndex,explanation:'The tag beginning with "'.concat(U.xtag.substr(0,10),'" is unclosed')},M}function j(U){var M=new h('No tag "'.concat(U.element,'" was found at the ').concat(U.position)),H=U.parsed[U.index];throw M.properties={id:"no_xml_tag_found_at_".concat(U.position),explanation:'No tag "'.concat(U.element,'" was found at the ').concat(U.position),offset:H.offset,part:H,parsed:U.parsed,index:U.index,element:U.element},M}function N(U){var M=U.tag,H=U.value,oe=U.offset,pe=new m("There are some XML corrupt characters");return pe.properties={id:"invalid_xml_characters",xtag:M,value:H,offset:oe,explanation:"There are some corrupt characters for the field ".concat(M)},pe}function B(U){var M=U.tag,H=U.value,oe=U.offset,pe=new m("Non string values are not allowed for rawXML tags");return pe.properties={id:"invalid_raw_xml_value",xtag:M,value:H,offset:oe,explanation:"The value of the raw tag : '".concat(M,"' is not a string")},pe}function D(U){var M=U.part,H=M.value,oe=M.offset,pe=U.id,be=pe===void 0?"raw_tag_outerxml_invalid":pe,ve=U.message,fe=ve===void 0?"Raw tag not in paragraph":ve,me=U.part,Ae=U.explanation,Z=Ae===void 0?'The tag "'.concat(H,'" is not inside a paragraph'):Ae;typeof Z=="function"&&(Z=Z(me));var ie=new h(fe);throw ie.properties={id:be,explanation:Z,rootError:U.rootError,xtag:H,offset:oe,postparsed:U.postparsed,expandTo:U.expandTo,index:U.index},ie}function O(U){var M=new h("Raw tag should be the only text in paragraph"),H=U.part.value;throw M.properties={id:"raw_xml_tag_should_be_only_text_in_paragraph",explanation:'The raw tag "'.concat(H,'" should be the only text in this paragraph. This means that this tag should not be surrounded by any text or spaces.'),xtag:H,offset:U.part.offset,paragraphParts:U.paragraphParts},M}function V(U){var M=U.location,H=U.offset,oe=U.square,pe=M==="start"?"unclosed":"unopened",be=M==="start"?"Unclosed":"Unopened",ve=new h("".concat(be," loop")),fe=U.value;return ve.properties={id:"".concat(pe,"_loop"),explanation:'The loop with tag "'.concat(fe,'" is ').concat(pe),xtag:fe,offset:H},oe&&(ve.properties.square=oe),ve}function $(U,M){var H=new h("Unbalanced loop tag"),oe=M[0].part.value,pe=M[1].part.value,be=U[0].part.value,ve=U[1].part.value;return H.properties={id:"unbalanced_loop_tags",explanation:"Unbalanced loop tags {#".concat(oe,"}{/").concat(pe,"}{#").concat(be,"}{/").concat(ve,"}"),offset:[M[0].part.offset,U[1].part.offset],lastPair:{left:M[0].part.value,right:M[1].part.value},pair:{left:U[0].part.value,right:U[1].part.value}},H}function J(U){var M=U.tags,H=new h("Closing tag does not match opening tag");return H.properties={id:"closing_tag_does_not_match_opening_tag",explanation:'The tag "'.concat(M[0].value,'" is closed by the tag "').concat(M[1].value,'"'),openingtag:f(M).value,offset:[f(M).offset,c(M).offset],closingtag:c(M).value},H}function ce(U){var M=U.tag,H=U.rootError,oe=U.offset,pe=new g("Scope parser compilation failed");return pe.properties={id:"scopeparser_compilation_failed",offset:oe,xtag:M,explanation:'The scope parser for the tag "'.concat(M,'" failed to compile'),rootError:H},pe}function Y(U){var M=U.tag,H=U.scope,oe=U.error,pe=U.offset,be=new g("Scope parser execution failed");return be.properties={id:"scopeparser_execution_failed",explanation:"The scope parser for the tag ".concat(M," failed to execute"),scope:H,offset:pe,xtag:M,rootError:oe},be}function k(U){var M=U.tag,H=U.offset,oe=new h('The position of the loop tags "'.concat(M,'" would produce invalid XML'));return oe.properties={xtag:M,id:"loop_position_invalid",explanation:'The tags "'.concat(M,'" are misplaced in the document, for example one of them is in a table and the other one outside the table'),offset:H},oe}function A(U,M){var H='Unimplemented tag type "'.concat(U.type,'"');U.module&&(H+=' "'.concat(U.module,'"'));var oe=new h(H);throw oe.properties={part:U,index:M,id:"unimplemented_tag_type"},oe}function R(){var U=new v("Malformed xml");throw U.properties={explanation:"The template contains malformed xml",id:"malformed_xml"},U}function Q(){var U=new v("You must run `.compile()` before running `.resolveData()`");throw U.properties={id:"resolve_before_compile",explanation:"You must run `.compile()` before running `.resolveData()`"},U}function re(){var U=new v("You should not call .render on a document that had compilation errors");throw U.properties={id:"render_on_invalid_template",explanation:"You should not call .render on a document that had compilation errors"},U}function F(){var U=new v("You should not call .render twice on the same docxtemplater instance");throw U.properties={id:"render_twice",explanation:"You should not call .render twice on the same docxtemplater instance"},U}function de(U){var M=Object.keys(U.files).slice(0,10),H="";M.length===0?H="Empty zip file":H="Zip file contains : ".concat(M.join(","));var oe=new v("The filetype for this file could not be identified, is this file corrupted ? ".concat(H));throw oe.properties={id:"filetype_not_identified",explanation:"The filetype for this file could not be identified, is this file corrupted ? ".concat(H)},oe}function ae(U,M){var H=new h("An XML file has invalid xml");throw H.properties={id:"file_has_invalid_xml",content:U,offset:M,explanation:"The docx contains invalid XML, it is most likely corrupt"},H}function K(U){var M=new v('The filetype "'.concat(U,'" is not handled by docxtemplater'));throw M.properties={id:"filetype_not_handled",explanation:'The file you are trying to generate is of type "'.concat(U,'", but only docx and pptx formats are handled'),fileType:U},M}return nm={XTError:d,XTTemplateError:h,XTInternalError:v,XTScopeParserError:g,XTAPIVersionError:_,RenderingError:m,XTRenderingError:m,getClosingTagNotMatchOpeningTag:J,getLoopPositionProducesInvalidXMLError:k,getScopeCompilationError:ce,getScopeParserExecutionError:Y,getUnclosedTagException:I,getUnopenedTagException:S,getUnmatchedLoopException:V,getDuplicateCloseTagException:L,getDuplicateOpenTagException:P,getCorruptCharactersException:N,getInvalidRawXMLValueException:B,getUnbalancedLoopException:$,throwApiVersionError:C,throwFileTypeNotHandled:K,throwFileTypeNotIdentified:de,throwMalformedXml:R,throwMultiError:T,throwExpandNotFound:D,throwRawTagShouldBeOnlyTextInParagraph:O,throwUnimplementedTagType:A,throwXmlTagNotFound:j,throwXmlInvalid:ae,throwResolveBeforeCompile:Q,throwRenderInvalidTemplate:re,throwRenderTwice:F},nm}var rm,z_;function lr(){if(z_)return rm;z_=1;function t(q,ne){return s(q)||i(q,ne)||n(q,ne)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(q,ne){if(q){if(typeof q=="string")return r(q,ne);var te={}.toString.call(q).slice(8,-1);return te==="Object"&&q.constructor&&(te=q.constructor.name),te==="Map"||te==="Set"?Array.from(q):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?r(q,ne):void 0}}function r(q,ne){(ne==null||ne>q.length)&&(ne=q.length);for(var te=0,le=Array(ne);te<ne;te++)le[te]=q[te];return le}function i(q,ne){var te=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(te!=null){var le,we,je,Be,$e=[],Ve=!0,Ke=!1;try{if(je=(te=te.call(q)).next,ne!==0)for(;!(Ve=(le=je.call(te)).done)&&($e.push(le.value),$e.length!==ne);Ve=!0);}catch(ut){Ke=!0,we=ut}finally{try{if(!Ve&&te.return!=null&&(Be=te.return(),Object(Be)!==Be))return}finally{if(Ke)throw we}}return $e}}function s(q){if(Array.isArray(q))return q}var l=hD(),c=l.DOMParser,f=l.XMLSerializer,d=mi(),h=d.throwXmlTagNotFound,m=t0(),g=m.last,v=m.first;function _(q){return/^[ \n\r\t]+$/.test(q)}function C(q){return{get:function(te){return q==="."?te:te&&te[q]}}}var T={};function S(q,ne,te){var le;if(T[ne]?le=T[ne]:(le=new RegExp("(<.* ".concat(ne,'=")([^"]*)(".*)$')),T[ne]=le),le.test(q))return q.replace(le,"$1".concat(te,"$3"));var we=q.lastIndexOf("/>");return we===-1&&(we=q.lastIndexOf(">")),q.substr(0,we)+" ".concat(ne,'="').concat(te,'"')+q.substr(we)}function P(q,ne){var te=q.indexOf(" ".concat(ne,'="'));if(te===-1)return null;var le=q.substr(te).search(/["']/)+te,we=q.substr(le+1).search(/["']/)+le;return q.substr(le+1,we-le)}function L(q,ne){return q.indexOf(ne,q.length-ne.length)!==-1}function I(q,ne){return q.substring(0,ne.length)===ne}function j(q){for(var ne=[],te={},le=[],we=0,je=q.length;we<je;++we)te[q[we]]?ne.push(q[we]):(te[q[we]]=!0,le.push(q[we]));return ne}function N(q){for(var ne={},te=[],le=0,we=q.length;le<we;++le)ne[q[le]]||(ne[q[le]]=!0,te.push(q[le]));return te}function B(q,ne){for(var te=[[]],le=0;le<q.length;le++){var we=q[le],je=te[te.length-1],Be=ne(we);Be==="start"?te.push([we]):Be==="end"?(je.push(we),te.push([])):je.push(we)}for(var $e=[],Ve=0;Ve<te.length;Ve++){var Ke=te[Ve];Ke.length>0&&$e.push(Ke)}return $e}function D(){return{errorLogging:"json",stripInvalidXMLChars:!1,paragraphLoop:!1,nullGetter:function(ne){return ne.module?"":"undefined"},xmlFileNames:["[Content_Types].xml"],parser:C,linebreaks:!1,fileTypeConfig:null,delimiters:{start:"{",end:"}"},syntax:{changeDelimiterPrefix:"="}}}function O(q){return new f().serializeToString(q).replace(/xmlns(:[a-z0-9]+)?="" ?/g,"")}function V(q){return q.charCodeAt(0)===65279&&(q=q.substr(1)),new c().parseFromString(q,"text/xml")}var $=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&apos;"]],J=$.map(function(q){var ne=t(q,2),te=ne[0],le=ne[1];return{rstart:new RegExp(le,"g"),rend:new RegExp(te,"g"),start:le,end:te}});function ce(q){for(var ne=J.length-1;ne>=0;ne--){var te=J[ne];q=q.replace(te.rstart,te.end)}return q}function Y(q){q=q.toString();for(var ne,te=0,le=J.length;te<le;te++)ne=J[te],q=q.replace(ne.rend,ne.start);return q}function k(q){for(var ne=[],te=0;te<q.length;te++)for(var le=q[te],we=0;we<le.length;we++){var je=le[we];ne.push(je)}return ne}function A(q,ne){if(!ne)return q;for(var te=0,le=ne.length;te<le;te++)q.push(ne[te]);return q}var R=new RegExp(" ","g");function Q(q){return q.replace(R," ")}function re(q,ne){for(var te=[],le;(le=q.exec(ne))!=null;)te.push({array:le,offset:le.index});return te}function F(q,ne){return q==="</"+ne+">"}function de(q,ne){return q.indexOf("<"+ne)===0&&[">"," ","/"].indexOf(q[ne.length+1])!==-1}function ae(q,ne,te){var le=K(q,ne,te);if(le!==null)return le;h({position:"right",element:ne,parsed:q,index:te})}function K(q,ne,te){typeof ne=="string"&&(ne=[ne]);for(var le=1,we=te,je=q.length;we<je;we++)for(var Be=q[we],$e=0,Ve=ne;$e<Ve.length;$e++){var Ke=Ve[$e];if(F(Be.value,Ke)&&le--,de(Be.value,Ke)&&le++,le===0)return we}return null}function U(q,ne,te){var le=M(q,ne,te);if(le!==null)return le;h({position:"left",element:ne,parsed:q,index:te})}function M(q,ne,te){typeof ne=="string"&&(ne=[ne]);for(var le=1,we=te;we>=0;we--)for(var je=q[we],Be=0,$e=ne;Be<$e.length;Be++){var Ve=$e[Be];if(de(je.value,Ve)&&le--,F(je.value,Ve)&&le++,le===0)return we}return null}function H(q,ne){var te=ne.type,le=ne.tag,we=ne.position;return te==="tag"&&le===q&&(we==="start"||we==="selfclosing")}function oe(q,ne){var te=ne.type,le=ne.tag,we=ne.position;return te==="tag"&&le===q&&we==="end"}function pe(q){var ne=q.type,te=q.tag,le=q.position;return["w:p","a:p"].indexOf(te)!==-1&&ne==="tag"&&le==="start"}function be(q){var ne=q.type,te=q.tag,le=q.position;return["w:p","a:p"].indexOf(te)!==-1&&ne==="tag"&&le==="end"}function ve(q){var ne=q.type,te=q.position,le=q.text;return le&&ne==="tag"&&te==="start"}function fe(q){var ne=q.type,te=q.position,le=q.text;return le&&ne==="tag"&&te==="end"}function me(q){var ne=q.type,te=q.position;return ne==="placeholder"||ne==="content"&&te==="insidetag"}function Ae(q,ne){var te=q.module,le=q.type;return ne instanceof Array||(ne=[ne]),le==="placeholder"&&ne.indexOf(te)!==-1}var Z=/[\x00-\x08\x0B\x0C\x0E-\x1F]/g;function ie(q){return Z.lastIndex=0,Z.test(q)}function he(q){return typeof q!="string"&&(q=String(q)),q.replace(Z,"")}function ge(q){var ne={};for(var te in q){var le=q[te];ne[le]||(ne[le]=[]),ne[le].push(te)}return ne}function ee(q,ne){return q.map(function(te,le){return{item:te,index:le}}).sort(function(te,le){return ne(te.item,le.item)||te.index-le.index}).map(function(te){var le=te.item;return le})}return rm={endsWith:L,startsWith:I,isContent:me,isParagraphStart:pe,isParagraphEnd:be,isTagStart:H,isTagEnd:oe,isTextStart:ve,isTextEnd:fe,isStarting:de,isEnding:F,isModule:Ae,uniq:N,getDuplicates:j,chunkBy:B,last:g,first:v,xml2str:O,str2xml:V,getRightOrNull:K,getRight:ae,getLeftOrNull:M,getLeft:U,pregMatchAll:re,convertSpaces:Q,charMapRegexes:J,hasCorruptCharacters:ie,removeCorruptCharacters:he,getDefaults:D,wordToUtf8:ce,utf8ToWord:Y,concatArrays:k,pushArray:A,invertMap:ge,charMap:$,getSingleAttribute:P,setSingleAttribute:S,isWhiteSpace:_,stableSort:ee},rm}var im,F_;function n0(){if(F_)return im;F_=1;function t(ae){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},t(ae)}function e(ae){return i(ae)||r(ae)||c(ae)||n()}function n(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(ae){if(typeof Symbol<"u"&&ae[Symbol.iterator]!=null||ae["@@iterator"]!=null)return Array.from(ae)}function i(ae){if(Array.isArray(ae))return f(ae)}function s(ae,K){return h(ae)||d(ae,K)||c(ae,K)||l()}function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(ae,K){if(ae){if(typeof ae=="string")return f(ae,K);var U={}.toString.call(ae).slice(8,-1);return U==="Object"&&ae.constructor&&(U=ae.constructor.name),U==="Map"||U==="Set"?Array.from(ae):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?f(ae,K):void 0}}function f(ae,K){(K==null||K>ae.length)&&(K=ae.length);for(var U=0,M=Array(K);U<K;U++)M[U]=ae[U];return M}function d(ae,K){var U=ae==null?null:typeof Symbol<"u"&&ae[Symbol.iterator]||ae["@@iterator"];if(U!=null){var M,H,oe,pe,be=[],ve=!0,fe=!1;try{if(oe=(U=U.call(ae)).next,K!==0)for(;!(ve=(M=oe.call(U)).done)&&(be.push(M.value),be.length!==K);ve=!0);}catch(me){fe=!0,H=me}finally{try{if(!ve&&U.return!=null&&(pe=U.return(),Object(pe)!==pe))return}finally{if(fe)throw H}}return be}}function h(ae){if(Array.isArray(ae))return ae}function m(ae,K){var U=Object.keys(ae);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(ae);K&&(M=M.filter(function(H){return Object.getOwnPropertyDescriptor(ae,H).enumerable})),U.push.apply(U,M)}return U}function g(ae){for(var K=1;K<arguments.length;K++){var U=arguments[K]!=null?arguments[K]:{};K%2?m(Object(U),!0).forEach(function(M){v(ae,M,U[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(U)):m(Object(U)).forEach(function(M){Object.defineProperty(ae,M,Object.getOwnPropertyDescriptor(U,M))})}return ae}function v(ae,K,U){return(K=_(K))in ae?Object.defineProperty(ae,K,{value:U,enumerable:!0,configurable:!0,writable:!0}):ae[K]=U,ae}function _(ae){var K=C(ae,"string");return t(K)=="symbol"?K:K+""}function C(ae,K){if(t(ae)!="object"||!ae)return ae;var U=ae[Symbol.toPrimitive];if(U!==void 0){var M=U.call(ae,K);if(t(M)!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return(K==="string"?String:Number)(ae)}var T=lr(),S=T.getRightOrNull,P=T.getRight,L=T.getLeft,I=T.getLeftOrNull,j=T.chunkBy,N=T.isTagStart,B=T.isTagEnd,D=T.isContent,O=T.last,V=T.first,$=mi(),J=$.XTTemplateError,ce=$.throwExpandNotFound,Y=$.getLoopPositionProducesInvalidXMLError;function k(ae,K){if(ae.length===0)return!1;var U=O(ae).substr(1);return U.indexOf(K)===0}function A(ae){for(var K=[],U=0;U<ae.length;U++){var M=ae[U],H=M.position,oe=M.value,pe=M.tag;pe&&(H==="end"?k(K,pe)?K.pop():K.push(oe):H==="start"&&K.push(oe))}return K}function R(ae,K){for(var U=0;U<K.length;U++){var M=K[U];if(M.indexOf("<".concat(ae))===0)return!0}return!1}function Q(ae,K,U){var M=ae.slice(K[0].offset,K[1].offset),H=A(M),oe=H.filter(function(me){return me[1]==="/"}).length,pe=H.filter(function(me){return me[1]!=="/"&&me[me.length-2]!=="/"}).length;if(oe!==pe)return{error:Y({tag:V(K).part.value,offset:[V(K).part.offset,O(K).part.offset]})};for(var be=function(){var Ae=U[fe],Z=Ae.contains,ie=Ae.expand,he=Ae.onlyTextInTag;if(R(Z,H)){if(he){var ge=I(ae,Z,K[0].offset),ee=S(ae,Z,K[1].offset);if(ge===null||ee===null)return 0;var q=j(ae.slice(ge,ee),function(je){return N(Z,je)?"start":B(Z,je)?"end":null}),ne=V(q),te=O(q),le=ne.filter(D),we=te.filter(D);if(le.length!==1||we.length!==1)return 0}return{v:{value:ie}}}},ve,fe=0;fe<U.length;fe++)if(ve=be(),ve!==0&&ve)return ve.v;return{}}function re(ae,K,U,M){var H=ae.expandTo||M.expandTo;if(H){var oe,pe;try{pe=L(U,H,K),oe=P(U,H,K)}catch(fe){var be=g({part:ae,rootError:fe,postparsed:U,expandTo:H,index:K},M.error);if(M.onError){var ve=M.onError(be);if(ve==="ignore")return}ce(be)}return[pe,oe]}}function F(ae,K,U,M){var H=s(ae,2),oe=H[0],pe=H[1],be=U.indexOf(K),ve=U.slice(oe,be),fe=U.slice(be+1,pe+1),me=M.getInner({postparse:M.postparse,index:be,part:K,leftParts:ve,rightParts:fe,left:oe,right:pe,postparsed:U});return me.length||(me.expanded=[ve,fe],me=[me]),{left:oe,right:pe,inner:me}}function de(ae,K){var U=[];ae.errors&&(U=ae.errors,ae=ae.postparsed);for(var M=[],H=0,oe=ae.length;H<oe;H++){var pe=ae[H];if(pe.type==="placeholder"&&pe.module===K.moduleName&&!pe.subparsed&&!pe.expanded)try{var be=re(pe,H,ae,K);if(!be)continue;var ve=s(be,2),fe=ve[0],me=ve[1];M.push({left:fe,right:me,part:pe,i:H,leftPart:ae[fe],rightPart:ae[me]})}catch(te){U.push(te)}}M.sort(function(te,le){return te.left===le.left?le.part.lIndex<te.part.lIndex?1:-1:le.left<te.left?1:-1});for(var Ae=-1,Z=0,ie=0,he=M.length;ie<he;ie++){var ge,ee=M[ie];if(Ae=Math.max(Ae,ie>0?M[ie-1].right:0),!(ee.left<Ae)){var q=void 0;try{q=F([ee.left+Z,ee.right+Z],ee.part,ae,K)}catch(te){if(K.onError){var ne=K.onError(g({part:ee.part,rootError:te,postparsed:ae,expandOne:F},K.errors));if(ne==="ignore")continue}if(te instanceof J)U.push(te);else throw te}q&&(Z+=q.inner.length-(q.right+1-q.left),(ge=ae).splice.apply(ge,[q.left,q.right+1-q.left].concat(e(q.inner))))}}return{postparsed:ae,errors:U}}return im={expandToOne:de,getExpandToDefault:Q},im}var am,q_;function Qs(){if(q_)return am;q_=1;var t=mi(),e=t.XTInternalError;function n(){}function r(i){return i}return am=function(i){var s={set:n,matchers:function(){return[]},parse:n,render:n,getTraits:n,getFileType:n,nullGetter:n,optionsTransformer:r,postrender:r,errorsTransformer:r,getRenderedMap:r,preparse:r,postparse:r,on:n,resolve:n,preResolve:n};if(Object.keys(s).every(function(f){return!i[f]})){var l=new e("This module cannot be wrapped, because it doesn't define any of the necessary functions");throw l.properties={id:"module_cannot_be_wrapped",explanation:"This module cannot be wrapped, because it doesn't define any of the necessary functions"},l}for(var c in s)i[c]||(i[c]=s[c]);return i},am}var sm,H_;function r0(){if(H_)return sm;H_=1;var t="application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml",e="application/vnd.ms-word.document.macroEnabled.main+xml",n="application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml",r="application/vnd.ms-word.template.macroEnabledTemplate.main+xml",i="application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",s="application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml",l="application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml",c="application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",f="application/vnd.openxmlformats-officedocument.presentationml.slide+xml",d="application/vnd.openxmlformats-officedocument.presentationml.slideMaster+xml",h="application/vnd.openxmlformats-officedocument.presentationml.slideLayout+xml",m="application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml",g="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",v="application/vnd.ms-excel.sheet.macroEnabled.main+xml",_="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",C=[t,e,n,r],T={main:C,docx:[i].concat(C,[c,s,l]),pptx:[f,d,h,m],xlsx:[g,v,_]};return sm=T,sm}var om,$_;function hw(){if($_)return om;$_=1;var t="application/vnd.openxmlformats-package.core-properties+xml",e="application/vnd.openxmlformats-officedocument.extended-properties+xml",n="application/vnd.openxmlformats-officedocument.custom-properties+xml",r="application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml",i="application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml",s="application/vnd.ms-office.drawingml.diagramDrawing+xml";return om={settingsContentType:r,coreContentType:t,appContentType:e,customContentType:n,diagramDataContentType:i,diagramDrawingContentType:s},om}var lm,V_;function pD(){if(V_)return lm;V_=1;function t(L){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},t(L)}function e(L,I){if(!(L instanceof I))throw new TypeError("Cannot call a class as a function")}function n(L,I){for(var j=0;j<I.length;j++){var N=I[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(L,i(N.key),N)}}function r(L,I,j){return I&&n(L.prototype,I),Object.defineProperty(L,"prototype",{writable:!1}),L}function i(L){var I=s(L,"string");return t(I)=="symbol"?I:I+""}function s(L,I){if(t(L)!="object"||!L)return L;var j=L[Symbol.toPrimitive];if(j!==void 0){var N=j.call(L,I);if(t(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}var l=lr(),c=l.pushArray,f=Qs(),d=r0(),h=hw(),m=h.settingsContentType,g=h.coreContentType,v=h.appContentType,_=h.customContentType,C=h.diagramDataContentType,T=h.diagramDrawingContentType,S=[m,g,v,_,C,T],P=function(){function L(){e(this,L),this.name="Common"}return r(L,[{key:"getFileType",value:function(j){var N=j.doc,B=N.invertedContentTypes;if(B){for(var D=0;D<S.length;D++){var O=S[D];B[O]&&c(N.targets,B[O])}for(var V=["docx","pptx","xlsx"],$,J=0;J<V.length;J++){for(var ce=V[J],Y=d[ce],k=0;k<Y.length;k++){var A=Y[k];if(B[A])for(var R=0,Q=B[A];R<Q.length;R++){var re=Q[R];N.relsTypes[re]&&["http://purl.oclc.org/ooxml/officeDocument/relationships/officeDocument","http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument"].indexOf(N.relsTypes[re])===-1||($=ce,(d.main.indexOf(A)!==-1||A===d.pptx[0])&&(N.textTarget||(N.textTarget=re)),$!=="xlsx"&&N.targets.push(re))}}if($)return $}return $}}}])}();return lm=function(){return f(new P)},lm}var um,Y_;function mD(){if(Y_)return um;Y_=1;function t(T){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},t(T)}function e(T,S){if(!(T instanceof S))throw new TypeError("Cannot call a class as a function")}function n(T,S){for(var P=0;P<S.length;P++){var L=S[P];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(T,i(L.key),L)}}function r(T,S,P){return S&&n(T.prototype,S),Object.defineProperty(T,"prototype",{writable:!1}),T}function i(T){var S=s(T,"string");return t(S)=="symbol"?S:S+""}function s(T,S){if(t(T)!="object"||!T)return T;var P=T[Symbol.toPrimitive];if(P!==void 0){var L=P.call(T,S);if(t(L)!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}var l=mi(),c=l.getScopeParserExecutionError,f=t0(),d=f.last,h=lr(),m=h.concatArrays;function g(T,S){for(var P=T.length>>>0,L,I=0;I<P;I++)if(L=T[I],S.call(this,L,I,T))return L}function v(T,S,P){var L=this,I=this.scopeList[P];if(this.root.finishedResolving){for(var j=this.resolved,N=function(){var J=L.scopeLindex[B];j=g(j,function(ce){return ce.lIndex===J}),j=j.value[L.scopePathItem[B]]},B=this.resolveOffset,D=this.scopePath.length;B<D;B++)N();return g(j,function($){return S.part.lIndex===$.lIndex}).value}var O,V;!this.cachedParsers||!S.part?V=this.parser(T,{tag:S.part,scopePath:this.scopePath}):this.cachedParsers[S.part.lIndex]?V=this.cachedParsers[S.part.lIndex]:V=this.cachedParsers[S.part.lIndex]=this.parser(T,{tag:S.part,scopePath:this.scopePath});try{O=V.get(I,this.getContext(S,P))}catch($){throw c({tag:T,scope:I,error:$,offset:S.part.offset})}return O==null&&P>0?v.call(this,T,S,P-1):O}function _(T,S,P){var L=this,I=this.scopeList[P],j;return!this.cachedParsers||!S.part?j=this.parser(T,{tag:S.part,scopePath:this.scopePath}):this.cachedParsers[S.part.lIndex]?j=this.cachedParsers[S.part.lIndex]:j=this.cachedParsers[S.part.lIndex]=this.parser(T,{tag:S.part,scopePath:this.scopePath}),Promise.resolve().then(function(){return j.get(I,L.getContext(S,P))}).catch(function(N){throw c({tag:T,scope:I,error:N,offset:S.part.offset})}).then(function(N){return N==null&&P>0?_.call(L,T,S,P-1):N})}var C=function(){function T(S){e(this,T),this.root=S.root||this,this.resolveOffset=S.resolveOffset||0,this.scopePath=S.scopePath,this.scopePathItem=S.scopePathItem,this.scopePathLength=S.scopePathLength,this.scopeList=S.scopeList,this.scopeType="",this.scopeTypes=S.scopeTypes,this.scopeLindex=S.scopeLindex,this.parser=S.parser,this.resolved=S.resolved,this.cachedParsers=S.cachedParsers}return r(T,[{key:"loopOver",value:function(P,L,I,j){return this.loopOverValue(this.getValue(P,j),L,I)}},{key:"functorIfInverted",value:function(P,L,I,j,N){return P&&L(I,j,N),P}},{key:"isValueFalsy",value:function(P,L){return P==null||!P||L==="[object Array]"&&P.length===0}},{key:"loopOverValue",value:function(P,L,I){this.root.finishedResolving&&(I=!1);var j=Object.prototype.toString.call(P);if(this.isValueFalsy(P,j))return this.scopeType=!1,this.functorIfInverted(I,L,d(this.scopeList),0,1);if(j==="[object Array]"){this.scopeType="array";for(var N=0;N<P.length;N++)this.functorIfInverted(!I,L,P[N],N,P.length);return!0}return j==="[object Object]"?(this.scopeType="object",this.functorIfInverted(!I,L,P,0,1)):this.functorIfInverted(!I,L,d(this.scopeList),0,1)}},{key:"getValue",value:function(P,L){var I=v.call(this,P,L,this.scopeList.length-1);return typeof I=="function"?I(this.scopeList[this.scopeList.length-1],this):I}},{key:"getValueAsync",value:function(P,L){var I=this;return _.call(this,P,L,this.scopeList.length-1).then(function(j){return typeof j=="function"?j(I.scopeList[I.scopeList.length-1],I):j})}},{key:"getContext",value:function(P,L){return{num:L,meta:P,scopeList:this.scopeList,resolved:this.resolved,scopePath:this.scopePath,scopeTypes:this.scopeTypes,scopePathItem:this.scopePathItem,scopePathLength:this.scopePathLength}}},{key:"createSubScopeManager",value:function(P,L,I,j,N){return new T({root:this.root,resolveOffset:this.resolveOffset,resolved:this.resolved,parser:this.parser,cachedParsers:this.cachedParsers,scopeTypes:m([this.scopeTypes,[this.scopeType]]),scopeList:m([this.scopeList,[P]]),scopePath:m([this.scopePath,[L]]),scopePathItem:m([this.scopePathItem,[I]]),scopePathLength:m([this.scopePathLength,[N]]),scopeLindex:m([this.scopeLindex,[j.lIndex]])})}}])}();return um=function(T){return T.scopePath=[],T.scopePathItem=[],T.scopePathLength=[],T.scopeTypes=[],T.scopeLindex=[],T.scopeList=[T.tags],new C(T)},um}var cm,X_;function pw(){if(X_)return cm;X_=1;function t(M){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},t(M)}function e(M,H){return l(M)||s(M,H)||r(M,H)||n()}function n(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(M,H){if(M){if(typeof M=="string")return i(M,H);var oe={}.toString.call(M).slice(8,-1);return oe==="Object"&&M.constructor&&(oe=M.constructor.name),oe==="Map"||oe==="Set"?Array.from(M):oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oe)?i(M,H):void 0}}function i(M,H){(H==null||H>M.length)&&(H=M.length);for(var oe=0,pe=Array(H);oe<H;oe++)pe[oe]=M[oe];return pe}function s(M,H){var oe=M==null?null:typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(oe!=null){var pe,be,ve,fe,me=[],Ae=!0,Z=!1;try{if(ve=(oe=oe.call(M)).next,H!==0)for(;!(Ae=(pe=ve.call(oe)).done)&&(me.push(pe.value),me.length!==H);Ae=!0);}catch(ie){Z=!0,be=ie}finally{try{if(!Ae&&oe.return!=null&&(fe=oe.return(),Object(fe)!==fe))return}finally{if(Z)throw be}}return me}}function l(M){if(Array.isArray(M))return M}function c(M,H){var oe=Object.keys(M);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(M);H&&(pe=pe.filter(function(be){return Object.getOwnPropertyDescriptor(M,be).enumerable})),oe.push.apply(oe,pe)}return oe}function f(M){for(var H=1;H<arguments.length;H++){var oe=arguments[H]!=null?arguments[H]:{};H%2?c(Object(oe),!0).forEach(function(pe){d(M,pe,oe[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(oe)):c(Object(oe)).forEach(function(pe){Object.defineProperty(M,pe,Object.getOwnPropertyDescriptor(oe,pe))})}return M}function d(M,H,oe){return(H=h(H))in M?Object.defineProperty(M,H,{value:oe,enumerable:!0,configurable:!0,writable:!0}):M[H]=oe,M}function h(M){var H=m(M,"string");return t(H)=="symbol"?H:H+""}function m(M,H){if(t(M)!="object"||!M)return M;var oe=M[Symbol.toPrimitive];if(oe!==void 0){var pe=oe.call(M,H);if(t(pe)!="object")return pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)(M)}var g=mi(),v=g.getUnclosedTagException,_=g.getUnopenedTagException,C=g.getDuplicateOpenTagException,T=g.getDuplicateCloseTagException,S=g.throwMalformedXml,P=g.throwXmlInvalid,L=g.XTTemplateError,I=lr(),j=I.isTextStart,N=I.isTextEnd,B=I.wordToUtf8,D=I.pushArray,O=0,V=1,$=2,J=3;function ce(M,H){return M[0]<=H.offset&&H.offset<M[1]}function Y(M,H){return j(M)?(H&&S(),!0):N(M)?(H||S(),!1):H}function k(M){var H="",oe=1,pe=M.indexOf(" ");return M[M.length-2]==="/"?(H="selfclosing",pe===-1&&(pe=M.length-2)):M[1]==="/"?(oe=2,H="end",pe===-1&&(pe=M.length-1)):(H="start",pe===-1&&(pe=M.length-1)),{tag:M.slice(oe,pe),position:H}}function A(M,H,oe){for(var pe=0,be=M.length,ve={},fe=0;fe<H.length;fe++){var me=H[fe];ve[me]=!0}for(var Ae=0;Ae<oe.length;Ae++){var Z=oe[Ae];ve[Z]=!1}for(var ie=[];pe<be&&(pe=M.indexOf("<",pe),pe!==-1);){var he=pe,ge=M.indexOf("<",pe+1);pe=M.indexOf(">",pe),(pe===-1||ge!==-1&&pe>ge)&&P(M,he);var ee=M.slice(he,pe+1),q=k(ee),ne=q.tag,te=q.position,le=ve[ne];le!=null&&ie.push({type:"tag",position:te,text:le,offset:he,value:ee,tag:ne})}return ie}function R(M,H,oe){var pe=[],be=!1,ve={offset:0},fe,me=M.reduce(function(Z,ie){var he=ie.position,ge=ie.offset,ee=ve.offset,q=ve.length;if(fe=H.substr(ee,ge-ee),be&&he==="start"){if(ee+q===ge&&(fe=H.substr(ee,ge-ee+q+4),!oe.allowUnclosedTag))return pe.push(C({xtag:fe,offset:ee})),ve=ie,Z.push(f(f({},ie),{},{error:!0})),Z;if(!oe.allowUnclosedTag)return pe.push(v({xtag:B(fe),offset:ee})),ve=ie,Z.push(f(f({},ie),{},{error:!0})),Z;Z.pop()}return!be&&he==="end"?oe.allowUnopenedTag?Z:ee+q===ge?(fe=H.substr(ee-4,ge-ee+q+4),pe.push(T({xtag:fe,offset:ee})),ve=ie,Z.push(f(f({},ie),{},{error:!0})),Z):(pe.push(_({xtag:fe,offset:ge})),ve=ie,Z.push(f(f({},ie),{},{error:!0})),Z):(be=he==="start",ve=ie,Z.push(ie),Z)},[]);if(be){var Ae=ve.offset;fe=H.substr(Ae,H.length-Ae),oe.allowUnclosedTag?me.pop():pe.push(v({xtag:B(fe),offset:Ae}))}return{delimiterWithErrors:me,errors:pe}}function Q(M,H){return M===-1&&H===-1?O:M===H?V:M===-1||H===-1?H<M?$:J:M<H?$:J}function re(M){var H=M.split(" ");if(H.length!==2){var oe=new L("New Delimiters cannot be parsed");throw oe.properties={id:"change_delimiters_invalid",explanation:"Cannot parser delimiters"},oe}var pe=e(H,2),be=pe[0],ve=pe[1];if(be.length===0||ve.length===0){var fe=new L("New Delimiters cannot be parsed");throw fe.properties={id:"change_delimiters_invalid",explanation:"Cannot parser delimiters"},fe}return[be,ve]}function F(M,H,oe){var pe=[],be=H.start,ve=H.end,fe=-1,me=!1;if(be==null&&ve==null)return[];for(;;){var Ae=M.indexOf(be,fe+1),Z=M.indexOf(ve,fe+1),ie=null,he=void 0,ge=Q(Ae,Z);switch(ge===V&&(ge=me?J:$),ge){case O:return pe;case J:me=!1,fe=Z,ie="end",he=ve.length;break;case $:me=!0,fe=Ae,ie="start",he=be.length;break}if(oe.changeDelimiterPrefix&&ge===$&&M[fe+be.length]===oe.changeDelimiterPrefix){pe.push({offset:Ae,position:"start",length:be.length,changedelimiter:!0});var ee=M.indexOf(oe.changeDelimiterPrefix,fe+be.length+1),q=M.indexOf(ve,ee+1);pe.push({offset:q,position:"end",length:ve.length,changedelimiter:!0});var ne=M.substr(fe+be.length+1,ee-fe-be.length-1),te=re(ne),le=e(te,2);be=le[0],ve=le[1],fe=q;continue}pe.push({offset:fe,position:ie,length:he})}}function de(M,H,oe){var pe=M.map(function(ee){return ee.value}).join(""),be=F(pe,H,oe),ve=0,fe=M.map(function(ee){return ve+=ee.value.length,{offset:ve-ee.value.length,lIndex:ee.lIndex}}),me=R(be,pe,oe),Ae=me.delimiterWithErrors,Z=me.errors,ie=0,he=0,ge=fe.map(function(ee,q){for(var ne=ee.offset,te=[ne,ne+M[q].value.length],le=M[q].value,we=[];he<Ae.length&&ce(te,Ae[he]);)we.push(Ae[he]),he++;var je=[],Be=0;ie>0&&(Be=ie,ie=0);for(var $e=0;$e<we.length;$e++){var Ve=we[$e],Ke=le.substr(Be,Ve.offset-ne-Be);if(Ve.changedelimiter){Ve.position==="start"?Ke.length>0&&je.push({type:"content",value:Ke}):Be=Ve.offset-ne+Ve.length;continue}Ke.length>0&&(je.push({type:"content",value:Ke}),Be+=Ke.length);var ut={type:"delimiter",position:Ve.position,offset:Be+ne};je.push(ut),Be=Ve.offset-ne+Ve.length}ie=Be-le.length;var Xe=le.substr(Be);return Xe.length>0&&je.push({type:"content",value:Xe}),je},this);return{parsed:ge,errors:Z}}function ae(M){return M.type==="content"&&M.position==="insidetag"}function K(M){return M.filter(ae)}function U(M,H){for(var oe=!1,pe=0;pe<M.length;pe++){var be=M[pe];oe=Y(be,oe),be.type==="content"&&(be.position=oe?"insidetag":"outsidetag"),H!=="text"&&ae(be)&&(be.value=be.value.replace(/>/g,"&gt;"))}}return cm={parseDelimiters:de,parse:function(H,oe,pe,be){U(H,be);for(var ve=de(K(H),oe,pe),fe=ve.parsed,me=ve.errors,Ae=[],Z=0,ie=0,he=0;he<H.length;he++){var ge=H[he];if(ae(ge)){for(var ee=0,q=fe[Z];ee<q.length;ee++){var ne=q[ee];ne.type==="content"&&(ne.position="insidetag"),ne.lIndex=ie++}D(Ae,fe[Z]),Z++}else ge.lIndex=ie++,Ae.push(ge)}return{errors:me,lexed:Ae}},xmlparse:function(H,oe){var pe=A(H,oe.text,oe.other),be=0,ve=pe.reduce(function(fe,me){return H.length>be&&me.offset-be>0&&fe.push({type:"content",value:H.substr(be,me.offset-be)}),be=me.offset+me.value.length,delete me.offset,fe.push(me),fe},[]);return H.length>be&&ve.push({type:"content",value:H.substr(be)}),ve}},cm}var fm,G_;function gD(){if(G_)return fm;G_=1;function t(f){return i(f)||r(f)||n(f)||e()}function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(f,d){if(f){if(typeof f=="string")return s(f,d);var h={}.toString.call(f).slice(8,-1);return h==="Object"&&f.constructor&&(h=f.constructor.name),h==="Map"||h==="Set"?Array.from(f):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?s(f,d):void 0}}function r(f){if(typeof Symbol<"u"&&f[Symbol.iterator]!=null||f["@@iterator"]!=null)return Array.from(f)}function i(f){if(Array.isArray(f))return s(f)}function s(f,d){(d==null||d>f.length)&&(d=f.length);for(var h=0,m=Array(d);h<d;h++)m[h]=f[h];return m}function l(f){return f.type==="placeholder"}function c(f){var d={},h=[{items:f.filter(l),parents:[],path:[]}];function m(A,R,Q){Q.length&&h.push({items:Q,parents:[].concat(t(R.parents),[A]),path:A.dataBound!==!1&&!A.attrParsed&&A.value&&!A.attrParsed?[].concat(t(R.path),[A.value]):t(R.path)})}function g(A,R){for(var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R.length,re=A,F=0;F<Q;F++)re=re[R[F]];return re}function v(A,R){return R.reduce(function(Q,re){var F=typeof re.lIndex=="number"?re.lIndex:parseInt(re.lIndex.split("-")[0],10);return F>A.lIndex?Q-1:Q},R.length)}for(;h.length>0;)for(var _=h.pop(),C=g(d,_.path),T=0,S=_.items;T<S.length;T++){var P,L,I=S[T];if(I.attrParsed){for(var j in I.attrParsed)m(I,_,I.attrParsed[j].filter(l));continue}if(I.subparsed){if(I.dataBound!==!1){var N,B;(N=C)[B=I.value]||(N[B]={})}m(I,_,I.subparsed.filter(l));continue}if(I.cellParsed){for(var D=0,O=I.cellPostParsed;D<O.length;D++){var V=O[D];if(V.type==="placeholder"){if(V.module==="pro-xml-templating/xls-module-loop")continue;if(V.subparsed){var $,J;($=C)[J=V.value]||($[J]={}),m(V,_,V.subparsed.filter(l))}else{var ce,Y,k=v(I,_.parents);C=g(d,_.path,k),(ce=C)[Y=V.value]||(ce[Y]={})}}}continue}I.dataBound!==!1&&((P=C)[L=I.value]||(P[L]={}))}return d}return fm={getTags:c,isPlaceholder:l},fm}var dm,W_;function vD(){if(W_)return dm;W_=1;var t=lr(),e=t.pushArray;function n(i,s){return s instanceof Error?e(Object.getOwnPropertyNames(s),["stack"]).reduce(function(l,c){return l[c]=s[c],c==="stack"&&(l[c]=s[c].toString()),l},{}):s}function r(i,s){if(console.log(JSON.stringify({error:i},n,s==="json"?2:null)),i.properties&&i.properties.errors instanceof Array){var l=i.properties.errors.map(function(c){return c.properties.explanation}).join(`
`);console.log("errorMessages",l)}}return dm=r,dm}var hm,Z_;function yD(){if(Z_)return hm;Z_=1;var t="[Content_Types].xml";function e(n,r,i){for(var s={},l=0;l<n.length;l++){var c=n[l],f=c.getAttribute("ContentType"),d=c.getAttribute("PartName").substr(1);s[d]=f}for(var h=function(){var v=r[m],_=v.getAttribute("ContentType"),C=v.getAttribute("Extension");i.file(/./).map(function(T){var S=T.name;S.slice(S.length-C.length)===C&&!s[S]&&S!==t&&(s[S]=_)})},m=0;m<r.length;m++)h();return s}return hm=e,hm}var pm,K_;function mw(){if(K_)return pm;K_=1;var t=lr(),e=t.pregMatchAll;return pm=function(r,i){var s={content:r},l=i.join("|"),c=new RegExp("(?:(<(?:".concat(l,")[^>]*>)([^<>]*)</(?:").concat(l,")>)|(<(?:").concat(l,")[^>]*/>)"),"g");return s.matches=e(c,s.content),s},pm}var mm,Q_;function bD(){if(Q_)return mm;Q_=1;function t(l){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},t(l)}var e=new RegExp(" ","g");function n(l){return l.replace(e," ")}function r(l,c){var f=t(l);if(f==="string")return n(c.substr(0,l.length))===l;if(l instanceof RegExp)return l.test(n(c));if(f==="function")return!!l(c)}function i(l,c){var f=t(l);if(f==="string")return n(c).substr(l.length);if(l instanceof RegExp)return n(c).match(l)[1];if(f==="function")return l(c)}function s(l,c){var f=t(l);if(f==="string")return[c,n(c).substr(l.length)];if(l instanceof RegExp)return n(c).match(l);if(f==="function")return[c,l(c)]}return mm={match:r,getValue:i,getValues:s},mm}var gm,J_;function _D(){if(J_)return gm;J_=1;function t(B){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},t(B)}function e(B,D){var O=Object.keys(B);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(B);D&&(V=V.filter(function($){return Object.getOwnPropertyDescriptor(B,$).enumerable})),O.push.apply(O,V)}return O}function n(B){for(var D=1;D<arguments.length;D++){var O=arguments[D]!=null?arguments[D]:{};D%2?e(Object(O),!0).forEach(function(V){r(B,V,O[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(O)):e(Object(O)).forEach(function(V){Object.defineProperty(B,V,Object.getOwnPropertyDescriptor(O,V))})}return B}function r(B,D,O){return(D=i(D))in B?Object.defineProperty(B,D,{value:O,enumerable:!0,configurable:!0,writable:!0}):B[D]=O,B}function i(B){var D=s(B,"string");return t(D)=="symbol"?D:D+""}function s(B,D){if(t(B)!="object"||!B)return B;var O=B[Symbol.toPrimitive];if(O!==void 0){var V=O.call(B,D);if(t(V)!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(B)}function l(B,D){return m(B)||h(B,D)||f(B,D)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(B,D){if(B){if(typeof B=="string")return d(B,D);var O={}.toString.call(B).slice(8,-1);return O==="Object"&&B.constructor&&(O=B.constructor.name),O==="Map"||O==="Set"?Array.from(B):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?d(B,D):void 0}}function d(B,D){(D==null||D>B.length)&&(D=B.length);for(var O=0,V=Array(D);O<D;O++)V[O]=B[O];return V}function h(B,D){var O=B==null?null:typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(O!=null){var V,$,J,ce,Y=[],k=!0,A=!1;try{if(J=(O=O.call(B)).next,D!==0)for(;!(k=(V=J.call(O)).done)&&(Y.push(V.value),Y.length!==D);k=!0);}catch(R){A=!0,$=R}finally{try{if(!k&&O.return!=null&&(ce=O.return(),Object(ce)!==ce))return}finally{if(A)throw $}}return Y}}function m(B){if(Array.isArray(B))return B}var g=lr(),v=g.wordToUtf8,_=g.pushArray,C=bD(),T=C.match,S=C.getValue,P=C.getValues;function L(B,D){for(var O=[],V=0;V<B.length;V++){var $=B[V];if($.matchers){var J=$.matchers(D);if(!(J instanceof Array))throw new Error("module matcher returns a non array");_(O,J)}}return O}function I(B,D,O){for(var V=[],$=0;$<B.length;$++){var J=B[$],ce=l(J,2),Y=ce[0],k=ce[1],A=J[2]||{};if(O.match(Y,D)){var R=O.getValues(Y,D);if(typeof A=="function"&&(A=A(R)),!A.value){var Q=l(R,2);A.value=Q[1]}V.push(n({type:"placeholder",prefix:Y,module:k,onMatch:A.onMatch,priority:A.priority},A))}}return V}function j(B,D){var O=D.modules,V=D.startOffset,$=D.lIndex,J;D.offset=V,D.match=T,D.getValue=S,D.getValues=P;var ce=L(O,D),Y=I(ce,B,D);if(Y.length>0){for(var k=null,A=0;A<Y.length;A++){var R=Y[A];R.priority||(R.priority=-R.value.length),(!k||R.priority>k.priority)&&(k=R)}return k.offset=V,delete k.priority,k.endLindex=$,k.lIndex=$,k.raw=B,k.onMatch&&k.onMatch(k),delete k.onMatch,delete k.prefix,k}for(var Q=0;Q<O.length;Q++){var re=O[Q];if(J=re.parse(B,D),J)return J.offset=V,J.endLindex=$,J.lIndex=$,J.raw=B,J}return{type:"placeholder",value:B,offset:V,endLindex:$,lIndex:$}}var N={preparse:function(D,O,V){function $(J,ce){for(var Y=0;Y<O.length;Y++){var k=O[Y];J=k.preparse(J,ce)||J}return J}return $(D,V)},parse:function(D,O,V){var $=!1,J="",ce,Y=[],k=V.fileTypeConfig.droppedTagsInsidePlaceholder||[];return D.reduce(function(A,R){return R.type==="delimiter"?($=R.position==="start",R.position==="end"&&(V.parse=function(Q){return j(Q,n(n(n({},V),R),{},{startOffset:ce,modules:O}))},A.push(V.parse(v(J))),_(A,Y),Y=[]),R.position==="start"&&(Y=[],ce=R.offset),J="",A):$?R.type!=="content"||R.position!=="insidetag"?(k.indexOf(R.tag)!==-1||Y.push(R),A):(J+=R.value,A):(A.push(R),A)},[])},postparse:function(D,O,V){function $(Y,k){return O.map(function(A){return A.getTraits(Y,k)})}var J=[];function ce(Y,k){return O.reduce(function(A,R){var Q=R.postparse(A,n(n({},k),{},{postparse:function(F,de){return ce(F,n(n({},k),de))},getTraits:$}));return Q==null?A:Q.errors?(_(J,Q.errors),Q.postparsed):Q},Y)}return{postparsed:ce(D,V),errors:J}}};return gm=N,gm}var vm,e2;function gw(){if(e2)return vm;e2=1;function t(e,n){if(e.lIndex==null)return null;var r=n.scopeManager.scopePathItem;e.parentPart&&(r=r.slice(0,r.length-1));var i=n.filePath+"@"+e.lIndex.toString()+"-"+r.join("-");return i}return vm=t,vm}var ym,t2;function xD(){if(t2)return ym;t2=1;var t=mi(),e=t.throwUnimplementedTagType,n=t.XTScopeParserError,r=lr(),i=r.pushArray,s=gw();function l(f,d){for(var h=0,m=d.modules;h<m.length;h++){var g=m[h],v=g.render(f,d);if(v)return v}return!1}function c(f){var d=f.baseNullGetter,h=f.compiled,m=f.scopeManager;f.nullGetter=function(_,C){return d(_,C||m)};var g=[],v=h.map(function(_,C){f.index=C,f.resolvedId=s(_,f);var T;try{T=l(_,f)}catch(S){if(S instanceof n)return g.push(S),_;throw S}if(T)return T.errors&&i(g,T.errors),T;if(_.type==="content"||_.type==="tag")return _;e(_,C)}).reduce(function(_,C){var T=C.value;return T instanceof Array?i(_,T):T&&_.push(T),_},[]);return{errors:g,parts:v}}return ym=c,ym}var bm,n2;function wD(){if(n2)return bm;n2=1;function t(n){var r,i,s,l,c=0,f=n.length;for(s=0;s<f;s++)r=n.charCodeAt(s),(r&64512)===55296&&s+1<f&&(i=n.charCodeAt(s+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),s++)),c+=r<128?1:r<2048?2:r<65536?3:4;var d=new Uint8Array(c);for(l=0,s=0;l<c;s++)r=n.charCodeAt(s),(r&64512)===55296&&s+1<f&&(i=n.charCodeAt(s+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),s++)),r<128?d[l++]=r:r<2048?(d[l++]=192|r>>>6,d[l++]=128|r&63):r<65536?(d[l++]=224|r>>>12,d[l++]=128|r>>>6&63,d[l++]=128|r&63):(d[l++]=240|r>>>18,d[l++]=128|r>>>12&63,d[l++]=128|r>>>6&63,d[l++]=128|r&63);return d}function e(n,r){for(var i=0,s=r.modules;i<s.length;i++){var l=s[i];n=l.postrender(n,r)}for(var c=0,f=r.joinUncorrupt(n,r),d="",h=0,m=65536,g=[],v=0,_=f.length;v<_;v++){var C=f[v];if(C.length+h>m){var T=t(d);c+=T.length,g.push(T),d=""}d+=C,h+=C.length,delete f[v]}var S=t(d);c+=S.length,g.push(S);for(var P=new Uint8Array(c),L=0,I=0;I<g.length;I++){for(var j=g[I],N=0;N<j.length;++N)P[N+L]=j[N];L+=j.length}return P}return bm=e,bm}var _m,r2;function SD(){if(r2)return _m;r2=1;function t(m){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},t(m)}function e(m,g){var v=Object.keys(m);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(m);g&&(_=_.filter(function(C){return Object.getOwnPropertyDescriptor(m,C).enumerable})),v.push.apply(v,_)}return v}function n(m){for(var g=1;g<arguments.length;g++){var v=arguments[g]!=null?arguments[g]:{};g%2?e(Object(v),!0).forEach(function(_){r(m,_,v[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(v)):e(Object(v)).forEach(function(_){Object.defineProperty(m,_,Object.getOwnPropertyDescriptor(v,_))})}return m}function r(m,g,v){return(g=i(g))in m?Object.defineProperty(m,g,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[g]=v,m}function i(m){var g=s(m,"string");return t(g)=="symbol"?g:g+""}function s(m,g){if(t(m)!="object"||!m)return m;var v=m[Symbol.toPrimitive];if(v!==void 0){var _=v.call(m,g);if(t(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(m)}var l=lr(),c=l.pushArray,f=gw();function d(m,g){for(var v=0,_=g.modules;v<_.length;v++){var C=_[v],T=C.resolve(m,g);if(T)return T}return!1}function h(m){var g=[],v=m.baseNullGetter,_=m.compiled,C=m.scopeManager;m.nullGetter=function(S,P){return v(S,P||C)},m.resolved=g;var T=[];return Promise.all(_.filter(function(S){return["content","tag"].indexOf(S.type)===-1}).reduce(function(S,P){var L=d(P,n(n({},m),{},{resolvedId:f(P,m)})),I;if(L)I=L.then(function(j){g.push({tag:P.value,lIndex:P.lIndex,value:j})});else if(P.type==="placeholder")I=C.getValueAsync(P.value,{part:P}).then(function(j){return j??m.nullGetter(P)}).then(function(j){return g.push({tag:P.value,lIndex:P.lIndex,value:j}),j});else return;return S.push(I.catch(function(j){j instanceof Array?c(T,j):T.push(j)})),S},[])).then(function(){return{errors:T,resolved:g}})}return _m=h,_m}var xm,i2;function ED(){if(i2)return xm;i2=1;var t=lr(),e=t.startsWith,n=t.endsWith,r=t.isStarting,i=t.isEnding,s=t.isWhiteSpace,l=r0();function c(d){for(var h="",m=0,g=d.length;m<g;m++){var v=d[m];s(v)||e(v,"<w:bookmarkEnd")||(n(h,"</w:tbl>")&&!e(v,"<w:p")&&!e(v,"<w:tbl")&&!e(v,"<w:sectPr")&&(v="<w:p/>".concat(v)),h=v,d[m]=v)}return d}function f(d,h){var m=h.fileTypeConfig.tagShouldContain||[],g="",v=-1;l.docx.indexOf(h.contentType)!==-1&&(d=c(d));for(var _=-1,C=0,T=m.length;C<T;C++)for(var S=m[C],P=S.tag,L=S.shouldContain,I=S.value,j=S.drop,N=S.dropParent,B=0,D=d.length;B<D;B++){var O=d[B];if(v===C){if(i(O,P))if(v=-1,N){for(var V=-1,$=_;$>0;$--)if(r(d[$],N)){V=$;break}for(var J=V;J<=d.length;J++){if(i(d[J],N)){d[J]="";break}d[J]=""}}else{for(var ce=_;ce<=B;ce++)d[ce]="";j||(d[B]=g+I+O)}g+=O;for(var Y=0,k=L.length;Y<k;Y++){var A=L[Y];if(r(O,A)){v=-1;break}}}v===-1&&r(O,P)&&O.substr(1).indexOf("<")===-1&&(O[O.length-2]==="/"?d[B]="":(_=B,v=C,g=O))}return d}return xm=f,xm}var wm,a2;function AD(){if(a2)return wm;a2=1;function t(P){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},t(P)}function e(P,L){if(!(P instanceof L))throw new TypeError("Cannot call a class as a function")}function n(P,L){for(var I=0;I<L.length;I++){var j=L[I];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(P,i(j.key),j)}}function r(P,L,I){return L&&n(P.prototype,L),Object.defineProperty(P,"prototype",{writable:!1}),P}function i(P){var L=s(P,"string");return t(L)=="symbol"?L:L+""}function s(P,L){if(t(P)!="object"||!P)return P;var I=P[Symbol.toPrimitive];if(I!==void 0){var j=I.call(P,L);if(t(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)}var l=lr(),c=l.pushArray,f=l.wordToUtf8,d=l.convertSpaces,h=mw(),m=pw(),g=_D(),v=xD(),_=wD(),C=SD(),T=ED();function S(P,L){var I=h(P,L),j=I.matches.map(function(N){return N.array[2]});return f(d(j.join("")))}return wm=function(){function P(L,I){e(this,P),this.cachedParsers={},this.content=L;for(var j in I)this[j]=I[j];this.setModules({inspect:{filePath:I.filePath}})}return r(P,[{key:"resolveTags",value:function(I){var j=this;this.tags=I;var N=this.getOptions(),B=this.filePath;N.scopeManager=this.scopeManager,N.resolve=C;var D=[];return Promise.all(this.modules.map(function(O){return Promise.resolve(O.preResolve(N)).catch(function(V){D.push(V)})})).then(function(){if(D.length!==0)throw D;return C(N).then(function(O){var V=O.resolved,$=O.errors;if($=$.map(function(J){var ce;return J instanceof Error||(J=new Error(J)),(ce=J).properties||(ce.properties={}),J.properties.file=B,J}),$.length!==0)throw $;return Promise.all(V).then(function(J){return N.scopeManager.root.finishedResolving=!0,N.scopeManager.resolved=J,j.setModules({inspect:{resolved:J,filePath:B}}),J})}).catch(function(O){throw j.errorChecker(O),O})})}},{key:"getFullText",value:function(){return S(this.content,this.fileTypeConfig.tagsXmlTextArray)}},{key:"setModules",value:function(I){for(var j=0,N=this.modules;j<N.length;j++){var B=N[j];B.set(I)}}},{key:"preparse",value:function(){this.allErrors=[],this.xmllexed=m.xmlparse(this.content,{text:this.fileTypeConfig.tagsXmlTextArray,other:this.fileTypeConfig.tagsXmlLexedArray}),this.setModules({inspect:{filePath:this.filePath,xmllexed:this.xmllexed}});var I=m.parse(this.xmllexed,this.delimiters,this.syntax,this.fileType),j=I.lexed,N=I.errors;c(this.allErrors,N),this.lexed=j,this.setModules({inspect:{filePath:this.filePath,lexed:this.lexed}});var B=this.getOptions();this.lexed=g.preparse(this.lexed,this.modules,B)}},{key:"parse",value:function(){this.setModules({inspect:{filePath:this.filePath}});var I=this.getOptions();this.parsed=g.parse(this.lexed,this.modules,I),this.setModules({inspect:{filePath:this.filePath,parsed:this.parsed}});var j=g.postparse(this.parsed,this.modules,I),N=j.postparsed,B=j.errors;return this.postparsed=N,this.setModules({inspect:{filePath:this.filePath,postparsed:this.postparsed}}),c(this.allErrors,B),this.errorChecker(this.allErrors),this}},{key:"errorChecker",value:function(I){for(var j=0,N=I;j<N.length;j++){var B=N[j];B.properties||(B.properties={}),B.properties.file=this.filePath}for(var D=0,O=this.modules;D<O.length;D++){var V=O[D];I=V.errorsTransformer(I)}}},{key:"baseNullGetter",value:function(I,j){var N=this,B=this.modules.reduce(function(D,O){return D??O.nullGetter(I,j,N)},null);return B??this.nullGetter(I,j)}},{key:"getOptions",value:function(){return{compiled:this.postparsed,cachedParsers:this.cachedParsers,tags:this.tags,modules:this.modules,parser:this.parser,contentType:this.contentType,relsType:this.relsType,baseNullGetter:this.baseNullGetter.bind(this),filePath:this.filePath,fileTypeConfig:this.fileTypeConfig,fileType:this.fileType,linebreaks:this.linebreaks,stripInvalidXMLChars:this.stripInvalidXMLChars}}},{key:"render",value:function(I){this.filePath=I;var j=this.getOptions();j.resolved=this.scopeManager.resolved,j.scopeManager=this.scopeManager,j.render=v,j.joinUncorrupt=T;var N=v(j),B=N.errors,D=N.parts;return B.length>0?(this.allErrors=B,this.errorChecker(B),this):(this.content=_(D,j),this.setModules({inspect:{filePath:this.filePath,content:this.content}}),this)}}])}(),wm}var Sm,s2;function CD(){if(s2)return Sm;s2=1;function t(Z){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},t(Z)}function e(Z,ie){var he=Object.keys(Z);if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(Z);ie&&(ge=ge.filter(function(ee){return Object.getOwnPropertyDescriptor(Z,ee).enumerable})),he.push.apply(he,ge)}return he}function n(Z){for(var ie=1;ie<arguments.length;ie++){var he=arguments[ie]!=null?arguments[ie]:{};ie%2?e(Object(he),!0).forEach(function(ge){r(Z,ge,he[ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(he)):e(Object(he)).forEach(function(ge){Object.defineProperty(Z,ge,Object.getOwnPropertyDescriptor(he,ge))})}return Z}function r(Z,ie,he){return(ie=v(ie))in Z?Object.defineProperty(Z,ie,{value:he,enumerable:!0,configurable:!0,writable:!0}):Z[ie]=he,Z}function i(Z,ie){return d(Z)||f(Z,ie)||l(Z,ie)||s()}function s(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(Z,ie){if(Z){if(typeof Z=="string")return c(Z,ie);var he={}.toString.call(Z).slice(8,-1);return he==="Object"&&Z.constructor&&(he=Z.constructor.name),he==="Map"||he==="Set"?Array.from(Z):he==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he)?c(Z,ie):void 0}}function c(Z,ie){(ie==null||ie>Z.length)&&(ie=Z.length);for(var he=0,ge=Array(ie);he<ie;he++)ge[he]=Z[he];return ge}function f(Z,ie){var he=Z==null?null:typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(he!=null){var ge,ee,q,ne,te=[],le=!0,we=!1;try{if(q=(he=he.call(Z)).next,ie!==0)for(;!(le=(ge=q.call(he)).done)&&(te.push(ge.value),te.length!==ie);le=!0);}catch(je){we=!0,ee=je}finally{try{if(!le&&he.return!=null&&(ne=he.return(),Object(ne)!==ne))return}finally{if(we)throw ee}}return te}}function d(Z){if(Array.isArray(Z))return Z}function h(Z,ie){if(!(Z instanceof ie))throw new TypeError("Cannot call a class as a function")}function m(Z,ie){for(var he=0;he<ie.length;he++){var ge=ie[he];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(Z,v(ge.key),ge)}}function g(Z,ie,he){return ie&&m(Z.prototype,ie),Object.defineProperty(Z,"prototype",{writable:!1}),Z}function v(Z){var ie=_(Z,"string");return t(ie)=="symbol"?ie:ie+""}function _(Z,ie){if(t(Z)!="object"||!Z)return Z;var he=Z[Symbol.toPrimitive];if(he!==void 0){var ge=he.call(Z,ie);if(t(ge)!="object")return ge;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}var C=lr(),T=C.chunkBy,S=C.last,P=C.isParagraphStart,L=C.isModule,I=C.pushArray,j=C.isParagraphEnd,N=C.isContent,B=C.startsWith,D=C.isTagEnd,O=C.isTagStart,V=C.getSingleAttribute,$=C.setSingleAttribute,J=r0(),ce=Qs(),Y="loop";function k(Z){return Z.some(function(ie){return N(ie)})}function A(Z){for(var ie=0;ie<Z.length;ie++){var he=Z[ie];if(he.type!=="content")return he}return null}function R(Z){var ie=A(Z.subparsed);return ie!=null&&ie.tag!=="w:t"}function Q(Z){return Z.hasPageBreak&&R(Z)?'<w:p><w:r><w:br w:type="page"/></w:r></w:p>':""}function re(Z){return Z.length&&P(Z[0])&&j(S(Z))}function F(Z){return k(Z)?0:Z.length}function de(Z){var ie=Z.parts.length-1;Z.parts[ie]==="</w:p>"?Z.parts.splice(ie,0,'<w:r><w:br w:type="page"/></w:r>'):Z.parts.push('<w:p><w:r><w:br w:type="page"/></w:r></w:p>')}function ae(Z){Z.parts.unshift('<w:p><w:r><w:br w:type="page"/></w:r></w:p>')}function K(Z){return Z.some(function(ie){return O("w:type",ie)&&ie.value.indexOf("continuous")!==-1})}function U(Z){return Z.some(function(ie){return O("w:type",ie)&&ie.value.indexOf('w:val="nextPage"')!==-1})}function M(Z,ie){return I(["<w:p><w:pPr>".concat(ie.map(function(he){var ge=he.value;return ge}).join(""),"</w:pPr></w:p>")],Z)}function H(Z){var ie=!1,he=!1;return Z.reduce(function(ge,ee){return ie===!1&&B(ee,"<w:sectPr")&&(he=!0),he&&(B(ee,"<w:type")&&(ie=!0),ie===!1&&B(ee,"</w:sectPr")&&ge.push('<w:type w:val="continuous"/>')),ge.push(ee),ge},[])}function oe(Z){return Z.filter(function(ie){return!B(ie,"<w:headerReference")&&!B(ie,"<w:footerReference")})}function pe(Z){return Z.some(function(ie){return ie.tag==="w:br"&&ie.value.indexOf('w:type="page"')!==-1})}function be(Z){return Z.some(function(ie){var he=ie.tag;return he==="w:drawing"})}function ve(Z){for(var ie=!1,he=[],ge=0;ge<Z.length;ge++){var ee=Z[ge];O("w:sectPr",ee)&&(he.push([]),ie=!0),ie&&he[he.length-1].push(ee),D("w:sectPr",ee)&&(ie=!1)}return he}function fe(Z){for(var ie=!1,he=0,ge=0;ge<Z.length;ge++){var ee=Z[ge];O("w:sectPr",ee)&&(ie=!0),ie&&(ee.tag==="w:headerReference"||ee.tag==="w:footerReference")&&(he++,ie=!1),D("w:sectPr",ee)&&(ie=!1)}return he}function me(Z){for(var ie=[],he=!1,ge=Z.length-1;ge>=0;ge--){var ee=Z[ge];if(D("w:sectPr",ee)&&(he=!0),O("w:sectPr",ee)&&(ie.unshift(ee.value),he=!1),he&&ie.unshift(ee.value),P(ee)){if(ie.length>0)return ie.join("");break}}return""}var Ae=function(){function Z(){h(this,Z),this.name="LoopModule",this.inXfrm=!1,this.totalSectPr=0,this.prefix={start:"#",end:"/",dash:/^-([^\s]+)\s(.+)/,inverted:"^"}}return g(Z,[{key:"optionsTransformer",value:function(he,ge){return this.docxtemplater=ge,he}},{key:"preparse",value:function(he,ge){var ee=ge.contentType;J.main.indexOf(ee)!==-1&&(this.sects=ve(he))}},{key:"matchers",value:function(){var he=Y;return[[this.prefix.start,he,{expandTo:"auto",location:"start",inverted:!1}],[this.prefix.inverted,he,{expandTo:"auto",location:"start",inverted:!0}],[this.prefix.end,he,{location:"end"}],[this.prefix.dash,he,function(ge){var ee=i(ge,3),q=ee[1],ne=ee[2];return{location:"start",inverted:!1,expandTo:q,value:ne}}]]}},{key:"getTraits",value:function(he,ge){if(he==="expandPair")return ge.reduce(function(ee,q,ne){return L(q,Y)&&q.subparsed==null&&ee.push({part:q,offset:ne}),ee},[])}},{key:"postparse",value:function(he,ge){var ee=ge.basePart;if(ee&&this.docxtemplater.fileType==="docx"&&he.length>0){ee.sectPrCount=fe(he),this.totalSectPr+=ee.sectPrCount;var q=this.sects;q.some(function($e,Ve){if(ee.lIndex<$e[0].lIndex)return Ve+1<q.length&&K(q[Ve+1])&&(ee.addContinuousType=!0),!0;if(he[0].lIndex<$e[0].lIndex&&$e[0].lIndex<ee.lIndex)return U(q[Ve])&&(ee.addNextPage={index:Ve}),!0}),ee.lastParagrapSectPr=me(he)}if(!ee||ee.expandTo!=="auto"||ee.module!==Y||!re(he))return he;ee.paragraphLoop=!0;var ne=0,te=T(he,function($e){return P($e)&&(ne++,ne===1)?"start":j($e)&&(ne--,ne===0)?"end":null}),le=te[0],we=S(te),je=F(le),Be=F(we);return ee.hasPageBreakBeginning=pe(le),ee.hasPageBreak=pe(we),be(le)&&(je=0),be(we)&&(Be=0),he.slice(je,he.length-Be)}},{key:"resolve",value:function(he,ge){if(!L(he,Y))return null;var ee=ge.scopeManager,q=ee.getValueAsync(he.value,{part:he}),ne=[];function te(we,je,Be){var $e=ee.createSubScopeManager(we,he.value,je,he,Be);ne.push(ge.resolve(n(n({},ge),{},{compiled:he.subparsed,tags:{},scopeManager:$e})))}var le=[];return q.then(function(we){return new Promise(function(je){we instanceof Array?Promise.all(we).then(je):je(we)}).then(function(je){return ee.loopOverValue(je,te,he.inverted),Promise.all(ne).then(function(Be){return Be.map(function($e){var Ve=$e.resolved,Ke=$e.errors;return I(le,Ke),Ve})}).then(function(Be){if(le.length>0)throw le;return Be})})})}},{key:"render",value:function(he,ge){if(he.tag==="p:xfrm"&&(this.inXfrm=he.position==="start"),he.tag==="a:ext"&&this.inXfrm)return this.lastExt=he,he;if(!L(he,Y))return null;var ee=[],q=[],ne=0,te=this,le=he.subparsed[0],we=0;(le==null?void 0:le.tag)==="a:tr"&&(we=+V(le.value,"h")),ne-=we;var je=0,Be=R(he);function $e(ut,Xe,lt){ne+=we;for(var vt=ge.scopeManager.createSubScopeManager(ut,he.value,Xe,he,lt),st=0,rt=he.subparsed;st<rt.length;st++){var Dt=rt[st];if(O("a16:rowId",Dt)){var It=+V(Dt.value,"val")+je;je=1,Dt.value=$(Dt.value,"val",It)}}var Ct=ge.render(n(n({},ge),{},{compiled:he.subparsed,tags:{},scopeManager:vt}));he.hasPageBreak&&Xe===lt-1&&Be&&de(Ct);var Qt=vt.scopePathItem.some(function(Mt){return Mt!==0});Qt?(he.sectPrCount===1&&(Ct.parts=oe(Ct.parts)),he.addContinuousType&&(Ct.parts=H(Ct.parts))):he.addNextPage&&(Ct.parts=M(Ct.parts,te.sects[he.addNextPage.index])),he.addNextPage&&de(Ct),he.hasPageBreakBeginning&&Be&&ae(Ct);for(var yn=0,Vt=Ct.parts;yn<Vt.length;yn++){var xn=Vt[yn];ee.push(xn)}I(q,Ct.errors)}var Ve=ge.scopeManager.loopOver(he.value,$e,he.inverted,{part:he});if(Ve===!1)return he.lastParagrapSectPr?he.paragraphLoop?{value:"<w:p><w:pPr>".concat(he.lastParagrapSectPr,"</w:pPr></w:p>")}:{value:"</w:t></w:r></w:p><w:p><w:pPr>".concat(he.lastParagrapSectPr,"</w:pPr><w:r><w:t>")}:{value:Q(he)||"",errors:q};if(ne!==0){var Ke=+V(this.lastExt.value,"cy");this.lastExt.value=$(this.lastExt.value,"cy",Ke+ne)}return{value:ge.joinUncorrupt(ee,n(n({},ge),{},{basePart:he})),errors:q}}}])}();return Sm=function(){return ce(new Ae)},Sm}var Em,o2;function TD(){if(o2)return Em;o2=1;function t(j){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},t(j)}function e(j,N){if(!(j instanceof N))throw new TypeError("Cannot call a class as a function")}function n(j,N){for(var B=0;B<N.length;B++){var D=N[B];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(j,i(D.key),D)}}function r(j,N,B){return N&&n(j.prototype,N),Object.defineProperty(j,"prototype",{writable:!1}),j}function i(j){var N=s(j,"string");return t(N)=="symbol"?N:N+""}function s(j,N){if(t(j)!="object"||!j)return j;var B=j[Symbol.toPrimitive];if(B!==void 0){var D=B.call(j,N);if(t(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}var l=Qs(),c=lr(),f=c.isTextStart,d=c.isTextEnd,h=c.endsWith,m=c.startsWith,g=c.pushArray,v='<w:t xml:space="preserve">',_=v.length,C="</w:t>",T=C.length;function S(j){return f(j)&&j.tag==="w:t"}function P(j,N){var B=j[N].value;return j[N+1].value==="</w:t>"||B.indexOf('xml:space="preserve"')!==-1?B:B.substr(0,B.length-1)+' xml:space="preserve">'}function L(j,N){return j&&j.basePart&&N.length>1}var I=function(){function j(){e(this,j),this.name="SpacePreserveModule"}return r(j,[{key:"postparse",value:function(B,D){var O=[],V=!1,$=0,J=0;function ce(k,A){return k.type==="placeholder"&&A.length>1}var Y=B.reduce(function(k,A){return S(A)&&(V=!0,J=O.length),V?(O.push(A),L(D,O)&&($=D.basePart.endLindex,O[0].value=P(O,0)),ce(A,O)&&(O[J].value=P(O,J),$=A.endLindex),d(A)&&A.lIndex>$&&($!==0&&(O[J].value=P(O,J)),g(k,O),O=[],V=!1,$=0,J=0),k):(k.push(A),k)},[]);return g(Y,O),Y}},{key:"postrender",value:function(B){for(var D="",O=0,V=0,$=B.length;V<$;V++){var J=B[V];J!==""&&(h(D,v)&&m(J,C)&&(B[O]=D.substr(0,D.length-_)+"<w:t/>",J=J.substr(T)),D=J,O=V,B[V]=J)}return B}}])}();return Em=function(){return l(new I)},Em}var Am,l2;function DD(){if(l2)return Am;l2=1;function t(T){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},t(T)}function e(T,S){if(!(T instanceof S))throw new TypeError("Cannot call a class as a function")}function n(T,S){for(var P=0;P<S.length;P++){var L=S[P];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(T,i(L.key),L)}}function r(T,S,P){return S&&n(T.prototype,S),Object.defineProperty(T,"prototype",{writable:!1}),T}function i(T){var S=s(T,"string");return t(S)=="symbol"?S:S+""}function s(T,S){if(t(T)!="object"||!T)return T;var P=T[Symbol.toPrimitive];if(P!==void 0){var L=P.call(T,S);if(t(L)!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}var l=n0(),c=lr(),f=c.isContent,d=mi(),h=d.throwRawTagShouldBeOnlyTextInParagraph,m=d.getInvalidRawXMLValueException,g=Qs(),v="rawxml";function _(T){for(var S=T.part,P=T.left,L=T.right,I=T.postparsed,j=T.index,N=I.slice(P+1,L),B=0,D=N.length;B<D;B++)if(B!==j-P-1){var O=N[B];f(O)&&h({paragraphParts:N,part:S})}return S}var C=function(){function T(){e(this,T),this.name="RawXmlModule",this.prefix="@"}return r(T,[{key:"optionsTransformer",value:function(P,L){return this.fileTypeConfig=L.fileTypeConfig,P}},{key:"matchers",value:function(){return[[this.prefix,v]]}},{key:"postparse",value:function(P){return l.expandToOne(P,{moduleName:v,getInner:_,expandTo:this.fileTypeConfig.tagRawXml,error:{message:"Raw tag not in paragraph",id:"raw_tag_outerxml_invalid",explanation:function(I){return'The tag "'.concat(I.value,'" is not inside a paragraph, putting raw tags inside an inline loop is disallowed.')}}})}},{key:"render",value:function(P,L){if(P.module!==v)return null;var I,j=[];try{I=L.scopeManager.getValue(P.value,{part:P}),I??(I=L.nullGetter(P))}catch(N){return j.push(N),{errors:j}}return I=I||"",typeof I=="string"?{value:I}:{errors:[m({tag:P.value,value:I,offset:P.offset})]}}}])}();return Am=function(){return g(new C)},Am}var Cm,u2;function OD(){if(u2)return Cm;u2=1;function t(e,n){for(var r=-1,i=0,s=e.length;i<s;i++)n[i]>=e[i].length||(r===-1||e[i][n[i]].offset<e[r][n[r]].offset)&&(r=i);return r}return Cm=function(e){var n=e.reduce(function(c,f){return c+f.length},0);e=e.filter(function(c){return c.length>0});for(var r=new Array(n),i=e.map(function(){return 0}),s=0;s<n;s++){var l=t(e,i);r[s]=e[l][i[l]],i[l]++}return r},Cm}var Tm,c2;function RD(){if(c2)return Tm;c2=1;function t(D){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},t(D)}function e(D,O){if(!(D instanceof O))throw new TypeError("Cannot call a class as a function")}function n(D,O){for(var V=0;V<O.length;V++){var $=O[V];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(D,i($.key),$)}}function r(D,O,V){return O&&n(D.prototype,O),Object.defineProperty(D,"prototype",{writable:!1}),D}function i(D){var O=s(D,"string");return t(O)=="symbol"?O:O+""}function s(D,O){if(t(D)!="object"||!D)return D;var V=D[Symbol.toPrimitive];if(V!==void 0){var $=V.call(D,O);if(t($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(D)}var l="expandPair",c=OD(),f=lr(),d=f.getLeft,h=f.getRight,m=f.pushArray,g=Qs(),v=n0(),_=v.getExpandToDefault,C=mi(),T=C.getUnmatchedLoopException,S=C.getClosingTagNotMatchOpeningTag,P=C.getUnbalancedLoopException;function L(D){switch(D.location){case"start":return 1;case"end":return-1}}function I(D,O){return D!=null&&O!=null&&(D.part.location==="start"&&O.part.location==="end"&&D.part.value===O.part.value||O.part.value==="")}function j(D){for(var O=0,V=[];O<D.length;){var $=D[O].part;if($.location==="end"){if(O===0)return D.splice(0,1),V.push(T($)),{traits:D,errors:V};var J=O,ce=O-1,Y=1;if(I(D[ce],D[J]))return D.splice(J,1),D.splice(ce,1),{errors:V,traits:D};for(;Y<50;){var k=D[ce-Y],A=D[J+Y];if(I(k,D[J]))return D.splice(J,1),D.splice(ce-Y,1),{errors:V,traits:D};if(I(D[ce],A))return D.splice(J+Y,1),D.splice(ce,1),{errors:V,traits:D};Y++}return V.push(S({tags:[D[ce].part,D[J].part]})),D.splice(J,1),D.splice(ce,1),{traits:D,errors:V}}O++}for(var R=0;R<D.length;R++){var Q=D[R].part;V.push(T(Q))}return{traits:[],errors:V}}function N(D){var O={},V=[],$=[],J=[];for(m(J,D);J.length>0;){var ce=j(J);m(V,ce.errors),J=ce.traits}if(V.length>0)return{pairs:$,errors:V};for(var Y=0,k=0;k<D.length;k++){var A=D[k],R=A.part,Q=L(R);if(Y+=Q,Q===1)O[Y]=A;else{var re=O[Y+1];Y===0&&$.push([re,A])}Y=Y>=0?Y:0}return{pairs:$,errors:V}}var B=function(){function D(){e(this,D),this.name="ExpandPairTrait"}return r(D,[{key:"optionsTransformer",value:function(V,$){return $.options.paragraphLoop&&m($.fileTypeConfig.expandTags,$.fileTypeConfig.onParagraphLoop),this.expandTags=$.fileTypeConfig.expandTags,V}},{key:"postparse",value:function(V,$){var J=this,ce=$.getTraits,Y=$.postparse,k=$.fileType,A=ce(l,V);A=A.map(function(H){return H||[]}),A=c(A);var R=N(A),Q=R.pairs,re=R.errors,F=0,de=null,ae=Q.map(function(H){var oe=H[0].part.expandTo;if(oe==="auto"&&k!=="text"){var pe=_(V,H,J.expandTags);pe.error&&re.push(pe.error),oe=pe.value}if(!oe||k==="text"){var be=H[0].offset,ve=H[1].offset;return be<F&&!J.docxtemplater.options.syntax.allowUnbalancedLoops&&re.push(P(H,de)),de=H,F=ve,[be,ve]}var fe,me;try{fe=d(V,oe,H[0].offset)}catch(Ae){re.push(Ae)}try{me=h(V,oe,H[1].offset)}catch(Ae){re.push(Ae)}return fe<F&&!J.docxtemplater.options.syntax.allowUnbalancedLoops&&re.push(P(H,de)),F=me,de=H,[fe,me]});if(re.length>0)return{postparsed:V,errors:re};var K=0,U,M=V.reduce(function(H,oe,pe){var be=K<Q.length&&ae[K][0]<=pe&&pe<=ae[K][1],ve=Q[K],fe=ae[K];if(!be)return H.push(oe),H;if(fe[0]===pe&&(U=[]),ve[0].offset!==pe&&ve[1].offset!==pe&&U.push(oe),fe[1]===pe){var me=V[ve[0].offset];me.subparsed=Y(U,{basePart:me}),me.endLindex=ve[1].part.lIndex,delete me.location,delete me.expandTo,H.push(me),K++;for(var Ae=ae[K];Ae&&Ae[0]<pe;)K++,Ae=ae[K]}return H},[]);return{postparsed:M,errors:re}}}])}();return Tm=function(){return g(new B)},Tm}var Dm,f2;function ND(){if(f2)return Dm;f2=1;function t(j){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},t(j)}function e(j,N){if(!(j instanceof N))throw new TypeError("Cannot call a class as a function")}function n(j,N){for(var B=0;B<N.length;B++){var D=N[B];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(j,i(D.key),D)}}function r(j,N,B){return N&&n(j.prototype,N),Object.defineProperty(j,"prototype",{writable:!1}),j}function i(j){var N=s(j,"string");return t(N)=="symbol"?N:N+""}function s(j,N){if(t(j)!="object"||!j)return j;var B=j[Symbol.toPrimitive];if(B!==void 0){var D=B.call(j,N);if(t(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}var l=Qs(),c=mi(),f=c.getScopeCompilationError,d=c.getCorruptCharactersException,h=lr(),m=h.utf8ToWord,g=h.hasCorruptCharacters,v=h.removeCorruptCharacters,_=hw(),C=_.settingsContentType,T=_.coreContentType,S=_.appContentType,P=_.customContentType,L={docx:"w",pptx:"a"},I=function(){function j(){e(this,j),this.name="Render",this.recordRun=!1,this.recordedRun=[]}return r(j,[{key:"optionsTransformer",value:function(B,D){return this.parser=D.parser,this.fileType=D.fileType,B}},{key:"set",value:function(B){B.compiled&&(this.compiled=B.compiled),B.data!=null&&(this.data=B.data)}},{key:"getRenderedMap",value:function(B){var D=this;return Object.keys(this.compiled).reduce(function(O,V){return O[V]={from:V,data:D.data},O},B)}},{key:"postparse",value:function(B,D){for(var O=[],V=0;V<B.length;V++){var $=B[V];if($.type==="placeholder"){var J=$.value;try{D.cachedParsers[$.lIndex]=this.parser(J,{tag:$})}catch(ce){O.push(f({tag:J,rootError:ce,offset:$.offset}))}}}return{postparsed:B,errors:O}}},{key:"render",value:function(B,D){var O=D.contentType,V=D.scopeManager,$=D.linebreaks,J=D.nullGetter,ce=D.fileType,Y=D.stripInvalidXMLChars;if($&&[C,T,S,P].indexOf(O)!==-1&&($=!1),$&&this.recordRuns(B),!(B.type!=="placeholder"||B.module)){var k;try{k=V.getValue(B.value,{part:B})}catch(A){return{errors:[A]}}if(k??(k=J(B)),typeof k=="string"){if(Y)k=v(k);else if(["docx","pptx","xlsx"].indexOf(ce)!==-1&&g(k))return{errors:[d({tag:B.value,value:k,offset:B.offset})]}}return ce==="text"?{value:k}:{value:$&&typeof k=="string"?this.renderLineBreaks(k):m(k)}}}},{key:"recordRuns",value:function(B){B.tag==="".concat(L[this.fileType],":r")?this.recordedRun=[]:B.tag==="".concat(L[this.fileType],":rPr")?(B.position==="start"&&(this.recordRun=!0,this.recordedRun=[B.value]),(B.position==="end"||B.position==="selfclosing")&&(this.recordedRun.push(B.value),this.recordRun=!1)):this.recordRun&&this.recordedRun.push(B.value)}},{key:"renderLineBreaks",value:function(B){var D=this,O=L[this.fileType],V=this.fileType==="docx"?"<w:r><w:br/></w:r>":"<a:br/>",$=B.split(`
`),J=this.recordedRun.join("");return $.map(function(ce){return m(ce)}).reduce(function(ce,Y,k){return ce.push(Y),k<$.length-1&&ce.push("</".concat(O,":t></").concat(O,":r>").concat(V,"<").concat(O,":r>").concat(J,"<").concat(O,":t").concat(D.fileType==="docx"?' xml:space="preserve"':"",">")),ce},[])}}])}();return Dm=function(){return l(new I)},Dm}var Om,d2;function kD(){if(d2)return Om;d2=1;var t=CD(),e=TD(),n=DD(),r=RD(),i=ND();function s(){return{getTemplatedFiles:function(){return[]},textPath:function(f){return f.textTarget},tagsXmlTextArray:["Company","HyperlinkBase","Manager","cp:category","cp:keywords","dc:creator","dc:description","dc:subject","dc:title","cp:contentStatus","w:t","a:t","m:t","vt:lpstr","vt:lpwstr"],tagsXmlLexedArray:["w:proofState","w:tc","w:tr","w:tbl","w:body","w:document","w:p","w:r","w:br","w:rPr","w:pPr","w:spacing","w:sdtContent","w:sdt","w:drawing","w:sectPr","w:type","w:headerReference","w:footerReference","w:bookmarkStart","w:bookmarkEnd","w:commentRangeStart","w:commentRangeEnd","w:commentReference"],droppedTagsInsidePlaceholder:["w:p","w:br","w:bookmarkStart","w:bookmarkEnd"],expandTags:[{contains:"w:tc",expand:"w:tr"}],onParagraphLoop:[{contains:"w:p",expand:"w:p",onlyTextInTag:!0}],tagRawXml:"w:p",baseModules:[t,e,r,n,i],tagShouldContain:[{tag:"w:sdtContent",shouldContain:["w:p","w:r","w:commentRangeStart","w:sdt"],value:"<w:p></w:p>"},{tag:"w:tc",shouldContain:["w:p"],value:"<w:p></w:p>"},{tag:"w:tr",shouldContain:["w:tc"],drop:!0},{tag:"w:tbl",shouldContain:["w:tr"],drop:!0}]}}function l(){return{getTemplatedFiles:function(){return[]},textPath:function(f){return f.textTarget},tagsXmlTextArray:["Company","HyperlinkBase","Manager","cp:category","cp:keywords","dc:creator","dc:description","dc:subject","dc:title","a:t","m:t","vt:lpstr","vt:lpwstr"],tagsXmlLexedArray:["p:sp","a:tc","a:tr","a:tbl","a:graphicData","a:p","a:r","a:rPr","p:txBody","a:txBody","a:off","a:ext","p:graphicFrame","p:xfrm","a16:rowId","a:endParaRPr"],droppedTagsInsidePlaceholder:["a:p","a:endParaRPr"],expandTags:[{contains:"a:tc",expand:"a:tr"}],onParagraphLoop:[{contains:"a:p",expand:"a:p",onlyTextInTag:!0}],tagRawXml:"p:sp",baseModules:[t,r,n,i],tagShouldContain:[{tag:"a:tbl",shouldContain:["a:tr"],dropParent:"p:graphicFrame"},{tag:"p:txBody",shouldContain:["a:p"],value:"<a:p></a:p>"},{tag:"a:txBody",shouldContain:["a:p"],value:"<a:p></a:p>"}]}}return Om={docx:s,pptx:l},Om}var h2;function MD(){return h2||(h2=1,function(t){var e=["modules"];function n(q,ne){var te=Object.keys(q);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(q);ne&&(le=le.filter(function(we){return Object.getOwnPropertyDescriptor(q,we).enumerable})),te.push.apply(te,le)}return te}function r(q){for(var ne=1;ne<arguments.length;ne++){var te=arguments[ne]!=null?arguments[ne]:{};ne%2?n(Object(te),!0).forEach(function(le){i(q,le,te[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(te)):n(Object(te)).forEach(function(le){Object.defineProperty(q,le,Object.getOwnPropertyDescriptor(te,le))})}return q}function i(q,ne,te){return(ne=S(ne))in q?Object.defineProperty(q,ne,{value:te,enumerable:!0,configurable:!0,writable:!0}):q[ne]=te,q}function s(q,ne){return h(q)||d(q,ne)||c(q,ne)||l()}function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(q,ne){if(q){if(typeof q=="string")return f(q,ne);var te={}.toString.call(q).slice(8,-1);return te==="Object"&&q.constructor&&(te=q.constructor.name),te==="Map"||te==="Set"?Array.from(q):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?f(q,ne):void 0}}function f(q,ne){(ne==null||ne>q.length)&&(ne=q.length);for(var te=0,le=Array(ne);te<ne;te++)le[te]=q[te];return le}function d(q,ne){var te=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(te!=null){var le,we,je,Be,$e=[],Ve=!0,Ke=!1;try{if(je=(te=te.call(q)).next,ne===0){if(Object(te)!==te)return;Ve=!1}else for(;!(Ve=(le=je.call(te)).done)&&($e.push(le.value),$e.length!==ne);Ve=!0);}catch(ut){Ke=!0,we=ut}finally{try{if(!Ve&&te.return!=null&&(Be=te.return(),Object(Be)!==Be))return}finally{if(Ke)throw we}}return $e}}function h(q){if(Array.isArray(q))return q}function m(q){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},m(q)}function g(q,ne){if(q==null)return{};var te,le,we=v(q,ne);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);for(le=0;le<je.length;le++)te=je[le],ne.indexOf(te)===-1&&{}.propertyIsEnumerable.call(q,te)&&(we[te]=q[te])}return we}function v(q,ne){if(q==null)return{};var te={};for(var le in q)if({}.hasOwnProperty.call(q,le)){if(ne.indexOf(le)!==-1)continue;te[le]=q[le]}return te}function _(q,ne){if(!(q instanceof ne))throw new TypeError("Cannot call a class as a function")}function C(q,ne){for(var te=0;te<ne.length;te++){var le=ne[te];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(q,S(le.key),le)}}function T(q,ne,te){return ne&&C(q.prototype,ne),Object.defineProperty(q,"prototype",{writable:!1}),q}function S(q){var ne=P(q,"string");return m(ne)=="symbol"?ne:ne+""}function P(q,ne){if(m(q)!="object"||!q)return q;var te=q[Symbol.toPrimitive];if(te!==void 0){var le=te.call(q,ne);if(m(le)!="object")return le;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(q)}var L=lr();L.traits=n0(),L.moduleWrapper=Qs();var I=pD(),j=mD(),N=pw(),B=gD(),D=B.getTags,O=vD(),V=yD(),$=mi(),J=$.throwMultiError,ce=$.throwResolveBeforeCompile,Y=$.throwRenderInvalidTemplate,k=$.throwRenderTwice,A=$.XTInternalError,R=$.XTTemplateError,Q=$.throwFileTypeNotIdentified,re=$.throwFileTypeNotHandled,F=$.throwApiVersionError,de=L.getDefaults,ae=L.str2xml,K=L.xml2str,U=L.moduleWrapper,M=L.concatArrays,H=L.uniq,oe=L.getDuplicates,pe=L.stableSort,be=L.pushArray,ve="[Content_Types].xml",fe="_rels/.rels",me=[3,45,0];function Ae(q){var ne=[];for(var te in q)ne.push(te);for(var le=[ve,fe],we=["word/","xl/","ppt/"],je=0;je<ne.length;je++)for(var Be=ne[je],$e=0;$e<we.length;$e++){var Ve=we[$e];Be.indexOf("".concat(Ve))===0&&le.push(Be)}for(var Ke=0;Ke<ne.length;Ke++){var ut=ne[Ke];le.indexOf(ut)===-1&&le.push(ut)}return le}function Z(q,ne){q.hideDeprecations!==!0&&console.warn(ne)}function ie(q,ne){if(q.hideDeprecations!==!0)return Z(q,'Deprecated method ".'.concat(ne,'", view upgrade guide : https://docxtemplater.com/docs/api/#upgrade-guide, stack : ').concat(new Error().stack))}function he(q){q.modules=q.modules.filter(function(ne){if(!ne.supportedFileTypes)return!0;if(!Array.isArray(ne.supportedFileTypes))throw new Error("The supportedFileTypes field of the module must be an array");var te=ne.supportedFileTypes.includes(q.fileType);return te||ne.on("detached"),te})}function ge(q){var ne=q.compiled;q.errors=M(Object.keys(ne).map(function(te){return ne[te].allErrors})),q.errors.length!==0&&(q.options.errorLogging&&O(q.errors,q.options.errorLogging),J(q.errors))}var ee=function(){function q(ne){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=te.modules,we=le===void 0?[]:le,je=g(te,e);if(_(this,q),this.targets=[],this.rendered=!1,this.scopeManagers={},this.compiled={},this.modules=[I()],this.xmlDocuments={},arguments.length===0)Z(this,"Deprecated docxtemplater constructor with no arguments, view upgrade guide : https://docxtemplater.com/docs/api/#upgrade-guide, stack : ".concat(new Error().stack)),this.hideDeprecations=!0,this.setOptions(je);else{if(this.hideDeprecations=!0,this.setOptions(je),!ne||!ne.files||typeof ne.file!="function")throw new Error("The first argument of docxtemplater's constructor must be a valid zip file (jszip v2 or pizzip v3)");if(!Array.isArray(we))throw new Error("The modules argument of docxtemplater's constructor must be an array");for(var Be=0;Be<we.length;Be++){var $e=we[Be];this.attachModule($e)}this.loadZip(ne),this.compile(),this.v4Constructor=!0}this.hideDeprecations=!1}return T(q,[{key:"verifyApiVersion",value:function(te){return te=te.split(".").map(function(le){return parseInt(le,10)}),te.length!==3&&F("neededVersion is not a valid version",{neededVersion:te,explanation:"the neededVersion must be an array of length 3"}),te[0]!==me[0]&&F("The major api version do not match, you probably have to update docxtemplater with npm install --save docxtemplater",{neededVersion:te,currentModuleApiVersion:me,explanation:"moduleAPIVersionMismatch : needed=".concat(te.join("."),", current=").concat(me.join("."))}),te[1]>me[1]&&F("The minor api version is not uptodate, you probably have to update docxtemplater with npm install --save docxtemplater",{neededVersion:te,currentModuleApiVersion:me,explanation:"moduleAPIVersionMismatch : needed=".concat(te.join("."),", current=").concat(me.join("."))}),te[1]===me[1]&&te[2]>me[2]&&F("The patch api version is not uptodate, you probably have to update docxtemplater with npm install --save docxtemplater",{neededVersion:te,currentModuleApiVersion:me,explanation:"moduleAPIVersionMismatch : needed=".concat(te.join("."),", current=").concat(me.join("."))}),!0}},{key:"setModules",value:function(te){for(var le=0,we=this.modules;le<we.length;le++){var je=we[le];je.set(te)}}},{key:"sendEvent",value:function(te){for(var le=0,we=this.modules;le<we.length;le++){var je=we[le];je.on(te)}}},{key:"attachModule",value:function(te){if(this.v4Constructor)throw new A("attachModule() should not be called manually when using the v4 constructor");ie(this,"attachModule");var le=m(te);if(le==="function")throw new A("Cannot attach a class/function as a module. Most probably you forgot to instantiate the module by using `new` on the module.");if(!te||le!=="object")throw new A("Cannot attachModule with a falsy value");if(te.requiredAPIVersion&&this.verifyApiVersion(te.requiredAPIVersion),te.attached===!0)if(typeof te.clone=="function")te=te.clone();else throw new Error('Cannot attach a module that was already attached : "'.concat(te.name,'". The most likely cause is that you are instantiating the module at the root level, and using it for multiple instances of Docxtemplater'));te.attached=!0;var we=U(te);return this.modules.push(we),we.on("attached"),this.fileType&&he(this),this}},{key:"setOptions",value:function(te){var le,we;if(this.v4Constructor)throw new Error("setOptions() should not be called manually when using the v4 constructor");if(ie(this,"setOptions"),!te)throw new Error("setOptions should be called with an object as first parameter");this.options={};var je=de();for(var Be in je){var $e=je[Be];this.options[Be]=te[Be]!=null?te[Be]:this[Be]||$e,this[Be]=this.options[Be]}return(le=this.delimiters).start&&(le.start=L.utf8ToWord(this.delimiters.start)),(we=this.delimiters).end&&(we.end=L.utf8ToWord(this.delimiters.end)),this}},{key:"loadZip",value:function(te){if(this.v4Constructor)throw new Error("loadZip() should not be called manually when using the v4 constructor");if(ie(this,"loadZip"),te.loadAsync)throw new A("Docxtemplater doesn't handle JSZip version >=3, please use pizzip");this.zip=te,this.updateFileTypeConfig(),this.modules=M([this.fileTypeConfig.baseModules.map(function(Be){return Be()}),this.modules]);for(var le=0,we=this.modules;le<we.length;le++){var je=we[le];je.zip=this.zip,je.docxtemplater=this}return he(this),this}},{key:"precompileFile",value:function(te){var le=this.createTemplateClass(te);le.preparse(),this.compiled[te]=le}},{key:"compileFile",value:function(te){this.compiled[te].parse()}},{key:"getScopeManager",value:function(te,le,we){var je;return(je=this.scopeManagers)[te]||(je[te]=j({tags:we,parser:this.parser,cachedParsers:le.cachedParsers})),this.scopeManagers[te]}},{key:"resolveData",value:function(te){var le=this;ie(this,"resolveData");var we=[];return Object.keys(this.compiled).length||ce(),Promise.resolve(te).then(function(je){return le.data=je,le.setModules({data:le.data,Lexer:N}),le.mapper=le.modules.reduce(function(Be,$e){return $e.getRenderedMap(Be)},{}),Promise.all(Object.keys(le.mapper).map(function(Be){var $e=le.mapper[Be],Ve=$e.from,Ke=$e.data;return Promise.resolve(Ke).then(function(ut){var Xe=le.compiled[Ve];return Xe.filePath=Be,Xe.scopeManager=le.getScopeManager(Be,Xe,ut),Xe.resolveTags(ut).then(function(lt){return Xe.scopeManager.finishedResolving=!0,lt},function(lt){be(we,lt)})})})).then(function(Be){return we.length!==0&&(le.options.errorLogging&&O(we,le.options.errorLogging),J(we)),M(Be)})})}},{key:"reorderModules",value:function(){this.modules=pe(this.modules,function(te,le){return(le.priority||0)-(te.priority||0)})}},{key:"throwIfDuplicateModules",value:function(){var te=oe(this.modules.map(function(le){var we=le.name;return we}));if(te.length>0)throw new A('Detected duplicate module "'.concat(te[0],'"'))}},{key:"compile",value:function(){var te=this;if(ie(this,"compile"),this.updateFileTypeConfig(),this.throwIfDuplicateModules(),this.reorderModules(),Object.keys(this.compiled).length)return this;this.options=this.modules.reduce(function(vt,st){return st.optionsTransformer(vt,te)},this.options),this.options.xmlFileNames=H(this.options.xmlFileNames);for(var le=0,we=this.options.xmlFileNames;le<we.length;le++){var je=we[le],Be=this.zip.files[je].asText();this.xmlDocuments[je]=ae(Be)}this.setModules({zip:this.zip,xmlDocuments:this.xmlDocuments}),this.getTemplatedFiles();for(var $e=0,Ve=this.templatedFiles;$e<Ve.length;$e++){var Ke=Ve[$e];this.zip.files[Ke]!=null&&this.precompileFile(Ke)}for(var ut=0,Xe=this.templatedFiles;ut<Xe.length;ut++){var lt=Xe[ut];this.zip.files[lt]!=null&&this.compileFile(lt)}return this.setModules({compiled:this.compiled}),ge(this),this}},{key:"getRelsTypes",value:function(){for(var te=this.zip.files[fe],le=te?ae(te.asText()):null,we=le?le.getElementsByTagName("Relationship"):[],je={},Be=0;Be<we.length;Be++){var $e=we[Be];je[$e.getAttribute("Target")]=$e.getAttribute("Type")}return je}},{key:"getContentTypes",value:function(){var te=this.zip.files[ve],le=te?ae(te.asText()):null,we=le?le.getElementsByTagName("Override"):null,je=le?le.getElementsByTagName("Default"):null;return{overrides:we,defaults:je,contentTypes:te,contentTypeXml:le}}},{key:"updateFileTypeConfig",value:function(){var te;this.zip.files.mimetype&&(te="odt"),this.relsTypes=this.getRelsTypes();var le=this.getContentTypes(),we=le.overrides,je=le.defaults,Be=le.contentTypes,$e=le.contentTypeXml;$e&&(this.filesContentTypes=V(we,je,this.zip),this.invertedContentTypes=L.invertMap(this.filesContentTypes),this.setModules({contentTypes:this.contentTypes,invertedContentTypes:this.invertedContentTypes}));for(var Ve=0,Ke=this.modules;Ve<Ke.length;Ve++){var ut=Ke[Ve];te=ut.getFileType({zip:this.zip,contentTypes:Be,contentTypeXml:$e,overrides:we,defaults:je,doc:this})||te}te==="odt"&&re(te),te||Q(this.zip);for(var Xe=0,lt=this.modules;Xe<lt.length;Xe++)for(var vt=lt[Xe],st=0,rt=vt.xmlContentTypes||[];st<rt.length;st++){var Dt=rt[st];be(this.options.xmlFileNames,this.invertedContentTypes[Dt]||[])}if(this.fileType=te,he(this),this.fileTypeConfig=this.options.fileTypeConfig||this.fileTypeConfig,!this.fileTypeConfig)if(q.FileTypeConfig[this.fileType])this.fileTypeConfig=q.FileTypeConfig[this.fileType]();else{var It='Filetype "'.concat(this.fileType,'" is not supported'),Ct="filetype_not_supported";this.fileType==="xlsx"&&(It='Filetype "'.concat(this.fileType,'" is supported only with the paid XlsxModule'),Ct="xlsx_filetype_needs_xlsx_module");var Qt=new R(It);throw Qt.properties={id:Ct,explanation:It},Qt}return this}},{key:"renderAsync",value:function(te){var le=this;this.hideDeprecations=!0;var we=this.resolveData(te);return this.hideDeprecations=!1,we.then(function(){return le.render()})}},{key:"render",value:function(te){this.rendered&&k(),this.rendered=!0,Object.keys(this.compiled).length===0&&this.compile(),this.errors.length>0&&Y(),arguments.length>0&&(this.data=te),this.setModules({data:this.data,Lexer:N}),this.mapper||(this.mapper=this.modules.reduce(function(xn,Mt){return Mt.getRenderedMap(xn)},{}));var le=[];for(var we in this.mapper){var je=this.mapper[we],Be=je.from,$e=je.data,Ve=this.compiled[Be];Ve.scopeManager=this.getScopeManager(we,Ve,$e),Ve.render(we),le.push([we,Ve.content,Ve]),delete Ve.content}for(var Ke=0;Ke<le.length;Ke++)for(var ut=le[Ke],Xe=s(ut,3),lt=Xe[1],vt=Xe[2],st=0,rt=this.modules;st<rt.length;st++){var Dt=rt[st];if(Dt.preZip){var It=Dt.preZip(lt,vt);typeof It=="string"&&(ut[1]=It)}}for(var Ct=0;Ct<le.length;Ct++){var Qt=s(le[Ct],2),yn=Qt[0],Vt=Qt[1];this.zip.file(yn,Vt,{createFolders:!0})}return ge(this),this.sendEvent("syncing-zip"),this.syncZip(),this.sendEvent("synced-zip"),this}},{key:"syncZip",value:function(){for(var te in this.xmlDocuments){this.zip.remove(te);var le=K(this.xmlDocuments[te]);this.zip.file(te,le,{createFolders:!0})}}},{key:"setData",value:function(te){return ie(this,"setData"),this.data=te,this}},{key:"getZip",value:function(){return this.zip}},{key:"createTemplateClass",value:function(te){var le=this.zip.files[te].asText();return this.createTemplateClassFromContent(le,te)}},{key:"createTemplateClassFromContent",value:function(te,le){for(var we={filePath:le,contentType:this.filesContentTypes[le],relsType:this.relsTypes[le]},je=de(),Be=be(Object.keys(je),["filesContentTypes","fileTypeConfig","fileType","modules"]),$e=0;$e<Be.length;$e++){var Ve=Be[$e];we[Ve]=this[Ve]}return new q.XmlTemplater(te,we)}},{key:"getFullText",value:function(te){return this.createTemplateClass(te||this.fileTypeConfig.textPath(this)).getFullText()}},{key:"getTemplatedFiles",value:function(){return this.templatedFiles=this.fileTypeConfig.getTemplatedFiles(this.zip),be(this.templatedFiles,this.targets),this.templatedFiles=H(this.templatedFiles),this.templatedFiles}},{key:"getTags",value:function(){var te={headers:[],footers:[]};for(var le in this.compiled){var we=this.filesContentTypes[le];we==="application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml"&&(te.document={target:le,tags:D(this.compiled[le].postparsed)}),we==="application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml"&&te.headers.push({target:le,tags:D(this.compiled[le].postparsed)}),we==="application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml"&&te.footers.push({target:le,tags:D(this.compiled[le].postparsed)})}return te}},{key:"toBuffer",value:function(te){return this.getZip().generate(r(r({compression:"DEFLATE",fileOrder:Ae},te),{},{type:"nodebuffer"}))}},{key:"toBlob",value:function(te){return this.getZip().generate(r(r({compression:"DEFLATE",fileOrder:Ae},te),{},{type:"blob"}))}},{key:"toBase64",value:function(te){return this.getZip().generate(r(r({compression:"DEFLATE",fileOrder:Ae},te),{},{type:"base64"}))}},{key:"toUint8Array",value:function(te){return this.getZip().generate(r(r({compression:"DEFLATE",fileOrder:Ae},te),{},{type:"uint8array"}))}},{key:"toArrayBuffer",value:function(te){return this.getZip().generate(r(r({compression:"DEFLATE",fileOrder:Ae},te),{},{type:"arraybuffer"}))}}])}();ee.DocUtils=L,ee.Errors=mi(),ee.XmlTemplater=AD(),ee.FileTypeConfig=kD(),ee.XmlMatcher=mw(),t.exports=ee,t.exports.default=ee}(Jp)),Jp.exports}var jD=MD();const LD=hl(jD);var Rm={exports:{}},Tf={},p2;function i0(){if(p2)return Tf;p2=1;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return Tf.encode=function(e){for(var n="",r,i,s,l,c,f,d,h=0;h<e.length;)r=e.charCodeAt(h++),i=e.charCodeAt(h++),s=e.charCodeAt(h++),l=r>>2,c=(r&3)<<4|i>>4,f=(i&15)<<2|s>>6,d=s&63,isNaN(i)?f=d=64:isNaN(s)&&(d=64),n=n+t.charAt(l)+t.charAt(c)+t.charAt(f)+t.charAt(d);return n},Tf.decode=function(e){var n="",r,i,s,l,c,f,d,h=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<e.length;)l=t.indexOf(e.charAt(h++)),c=t.indexOf(e.charAt(h++)),f=t.indexOf(e.charAt(h++)),d=t.indexOf(e.charAt(h++)),r=l<<2|c>>4,i=(c&15)<<4|f>>2,s=(f&3)<<6|d,n+=String.fromCharCode(r),f!==64&&(n+=String.fromCharCode(i)),d!==64&&(n+=String.fromCharCode(s));return n},Tf}var ei={},m2;function gl(){if(m2)return ei;if(m2=1,ei.base64=!0,ei.array=!0,ei.string=!0,ei.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",ei.nodebuffer=typeof Buffer<"u",ei.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")ei.blob=!1;else{var t=new ArrayBuffer(0);try{ei.blob=new Blob([t],{type:"application/zip"}).size===0}catch{try{var e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,n=new e;n.append(t),ei.blob=n.getBlob("application/zip").size===0}catch{ei.blob=!1}}}return ei}var Nm={},Df={},Ns={},Ru={exports:{}};/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */var PD=Ru.exports,g2;function BD(){return g2||(g2=1,function(t,e){(function(n,r){r(e)})(PD,function(n){function r(b){for(var W=b.length;--W>=0;)b[W]=0}var i=256,s=286,l=30,c=15,f=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),d=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),h=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),m=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),g=new Array(576);r(g);var v=new Array(60);r(v);var _=new Array(512);r(_);var C=new Array(256);r(C);var T=new Array(29);r(T);var S,P,L,I=new Array(l);function j(b,W,x,_e,xe){this.static_tree=b,this.extra_bits=W,this.extra_base=x,this.elems=_e,this.max_length=xe,this.has_stree=b&&b.length}function N(b,W){this.dyn_tree=b,this.max_code=0,this.stat_desc=W}r(I);var B=function(b){return b<256?_[b]:_[256+(b>>>7)]},D=function(b,W){b.pending_buf[b.pending++]=255&W,b.pending_buf[b.pending++]=W>>>8&255},O=function(b,W,x){b.bi_valid>16-x?(b.bi_buf|=W<<b.bi_valid&65535,D(b,b.bi_buf),b.bi_buf=W>>16-b.bi_valid,b.bi_valid+=x-16):(b.bi_buf|=W<<b.bi_valid&65535,b.bi_valid+=x)},V=function(b,W,x){O(b,x[2*W],x[2*W+1])},$=function(b,W){var x=0;do x|=1&b,b>>>=1,x<<=1;while(--W>0);return x>>>1},J=function(b,W,x){var _e,xe,Se=new Array(16),Ie=0;for(_e=1;_e<=c;_e++)Ie=Ie+x[_e-1]<<1,Se[_e]=Ie;for(xe=0;xe<=W;xe++){var Te=b[2*xe+1];Te!==0&&(b[2*xe]=$(Se[Te]++,Te))}},ce=function(b){var W;for(W=0;W<s;W++)b.dyn_ltree[2*W]=0;for(W=0;W<l;W++)b.dyn_dtree[2*W]=0;for(W=0;W<19;W++)b.bl_tree[2*W]=0;b.dyn_ltree[512]=1,b.opt_len=b.static_len=0,b.sym_next=b.matches=0},Y=function(b){b.bi_valid>8?D(b,b.bi_buf):b.bi_valid>0&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0},k=function(b,W,x,_e){var xe=2*W,Se=2*x;return b[xe]<b[Se]||b[xe]===b[Se]&&_e[W]<=_e[x]},A=function(b,W,x){for(var _e=b.heap[x],xe=x<<1;xe<=b.heap_len&&(xe<b.heap_len&&k(W,b.heap[xe+1],b.heap[xe],b.depth)&&xe++,!k(W,_e,b.heap[xe],b.depth));)b.heap[x]=b.heap[xe],x=xe,xe<<=1;b.heap[x]=_e},R=function(b,W,x){var _e,xe,Se,Ie,Te=0;if(b.sym_next!==0)do _e=255&b.pending_buf[b.sym_buf+Te++],_e+=(255&b.pending_buf[b.sym_buf+Te++])<<8,xe=b.pending_buf[b.sym_buf+Te++],_e===0?V(b,xe,W):(Se=C[xe],V(b,Se+i+1,W),(Ie=f[Se])!==0&&(xe-=T[Se],O(b,xe,Ie)),_e--,Se=B(_e),V(b,Se,x),(Ie=d[Se])!==0&&(_e-=I[Se],O(b,_e,Ie)));while(Te<b.sym_next);V(b,256,W)},Q=function(b,W){var x,_e,xe,Se=W.dyn_tree,Ie=W.stat_desc.static_tree,Te=W.stat_desc.has_stree,Ye=W.stat_desc.elems,Oe=-1;for(b.heap_len=0,b.heap_max=573,x=0;x<Ye;x++)Se[2*x]!==0?(b.heap[++b.heap_len]=Oe=x,b.depth[x]=0):Se[2*x+1]=0;for(;b.heap_len<2;)Se[2*(xe=b.heap[++b.heap_len]=Oe<2?++Oe:0)]=1,b.depth[xe]=0,b.opt_len--,Te&&(b.static_len-=Ie[2*xe+1]);for(W.max_code=Oe,x=b.heap_len>>1;x>=1;x--)A(b,Se,x);xe=Ye;do x=b.heap[1],b.heap[1]=b.heap[b.heap_len--],A(b,Se,1),_e=b.heap[1],b.heap[--b.heap_max]=x,b.heap[--b.heap_max]=_e,Se[2*xe]=Se[2*x]+Se[2*_e],b.depth[xe]=(b.depth[x]>=b.depth[_e]?b.depth[x]:b.depth[_e])+1,Se[2*x+1]=Se[2*_e+1]=xe,b.heap[1]=xe++,A(b,Se,1);while(b.heap_len>=2);b.heap[--b.heap_max]=b.heap[1],function(ke,Lt){var tt,Fe,Je,Ot,At,Pt,Qe=Lt.dyn_tree,We=Lt.max_code,dt=Lt.stat_desc.static_tree,cn=Lt.stat_desc.has_stree,ft=Lt.stat_desc.extra_bits,Yt=Lt.stat_desc.extra_base,Ut=Lt.stat_desc.max_length,yt=0;for(Ot=0;Ot<=c;Ot++)ke.bl_count[Ot]=0;for(Qe[2*ke.heap[ke.heap_max]+1]=0,tt=ke.heap_max+1;tt<573;tt++)(Ot=Qe[2*Qe[2*(Fe=ke.heap[tt])+1]+1]+1)>Ut&&(Ot=Ut,yt++),Qe[2*Fe+1]=Ot,Fe>We||(ke.bl_count[Ot]++,At=0,Fe>=Yt&&(At=ft[Fe-Yt]),Pt=Qe[2*Fe],ke.opt_len+=Pt*(Ot+At),cn&&(ke.static_len+=Pt*(dt[2*Fe+1]+At)));if(yt!==0){do{for(Ot=Ut-1;ke.bl_count[Ot]===0;)Ot--;ke.bl_count[Ot]--,ke.bl_count[Ot+1]+=2,ke.bl_count[Ut]--,yt-=2}while(yt>0);for(Ot=Ut;Ot!==0;Ot--)for(Fe=ke.bl_count[Ot];Fe!==0;)(Je=ke.heap[--tt])>We||(Qe[2*Je+1]!==Ot&&(ke.opt_len+=(Ot-Qe[2*Je+1])*Qe[2*Je],Qe[2*Je+1]=Ot),Fe--)}}(b,W),J(Se,Oe,b.bl_count)},re=function(b,W,x){var _e,xe,Se=-1,Ie=W[1],Te=0,Ye=7,Oe=4;for(Ie===0&&(Ye=138,Oe=3),W[2*(x+1)+1]=65535,_e=0;_e<=x;_e++)xe=Ie,Ie=W[2*(_e+1)+1],++Te<Ye&&xe===Ie||(Te<Oe?b.bl_tree[2*xe]+=Te:xe!==0?(xe!==Se&&b.bl_tree[2*xe]++,b.bl_tree[32]++):Te<=10?b.bl_tree[34]++:b.bl_tree[36]++,Te=0,Se=xe,Ie===0?(Ye=138,Oe=3):xe===Ie?(Ye=6,Oe=3):(Ye=7,Oe=4))},F=function(b,W,x){var _e,xe,Se=-1,Ie=W[1],Te=0,Ye=7,Oe=4;for(Ie===0&&(Ye=138,Oe=3),_e=0;_e<=x;_e++)if(xe=Ie,Ie=W[2*(_e+1)+1],!(++Te<Ye&&xe===Ie)){if(Te<Oe)do V(b,xe,b.bl_tree);while(--Te!=0);else xe!==0?(xe!==Se&&(V(b,xe,b.bl_tree),Te--),V(b,16,b.bl_tree),O(b,Te-3,2)):Te<=10?(V(b,17,b.bl_tree),O(b,Te-3,3)):(V(b,18,b.bl_tree),O(b,Te-11,7));Te=0,Se=xe,Ie===0?(Ye=138,Oe=3):xe===Ie?(Ye=6,Oe=3):(Ye=7,Oe=4)}},de=!1,ae=function(b,W,x,_e){O(b,0+(_e?1:0),3),Y(b),D(b,x),D(b,~x),x&&b.pending_buf.set(b.window.subarray(W,W+x),b.pending),b.pending+=x},K=function(b,W,x,_e){var xe,Se,Ie=0;b.level>0?(b.strm.data_type===2&&(b.strm.data_type=function(Te){var Ye,Oe=4093624447;for(Ye=0;Ye<=31;Ye++,Oe>>>=1)if(1&Oe&&Te.dyn_ltree[2*Ye]!==0)return 0;if(Te.dyn_ltree[18]!==0||Te.dyn_ltree[20]!==0||Te.dyn_ltree[26]!==0)return 1;for(Ye=32;Ye<i;Ye++)if(Te.dyn_ltree[2*Ye]!==0)return 1;return 0}(b)),Q(b,b.l_desc),Q(b,b.d_desc),Ie=function(Te){var Ye;for(re(Te,Te.dyn_ltree,Te.l_desc.max_code),re(Te,Te.dyn_dtree,Te.d_desc.max_code),Q(Te,Te.bl_desc),Ye=18;Ye>=3&&Te.bl_tree[2*m[Ye]+1]===0;Ye--);return Te.opt_len+=3*(Ye+1)+5+5+4,Ye}(b),xe=b.opt_len+3+7>>>3,(Se=b.static_len+3+7>>>3)<=xe&&(xe=Se)):xe=Se=x+5,x+4<=xe&&W!==-1?ae(b,W,x,_e):b.strategy===4||Se===xe?(O(b,2+(_e?1:0),3),R(b,g,v)):(O(b,4+(_e?1:0),3),function(Te,Ye,Oe,ke){var Lt;for(O(Te,Ye-257,5),O(Te,Oe-1,5),O(Te,ke-4,4),Lt=0;Lt<ke;Lt++)O(Te,Te.bl_tree[2*m[Lt]+1],3);F(Te,Te.dyn_ltree,Ye-1),F(Te,Te.dyn_dtree,Oe-1)}(b,b.l_desc.max_code+1,b.d_desc.max_code+1,Ie+1),R(b,b.dyn_ltree,b.dyn_dtree)),ce(b),_e&&Y(b)},U={_tr_init:function(b){de||(function(){var W,x,_e,xe,Se,Ie=new Array(16);for(_e=0,xe=0;xe<28;xe++)for(T[xe]=_e,W=0;W<1<<f[xe];W++)C[_e++]=xe;for(C[_e-1]=xe,Se=0,xe=0;xe<16;xe++)for(I[xe]=Se,W=0;W<1<<d[xe];W++)_[Se++]=xe;for(Se>>=7;xe<l;xe++)for(I[xe]=Se<<7,W=0;W<1<<d[xe]-7;W++)_[256+Se++]=xe;for(x=0;x<=c;x++)Ie[x]=0;for(W=0;W<=143;)g[2*W+1]=8,W++,Ie[8]++;for(;W<=255;)g[2*W+1]=9,W++,Ie[9]++;for(;W<=279;)g[2*W+1]=7,W++,Ie[7]++;for(;W<=287;)g[2*W+1]=8,W++,Ie[8]++;for(J(g,287,Ie),W=0;W<l;W++)v[2*W+1]=5,v[2*W]=$(W,5);S=new j(g,f,257,s,c),P=new j(v,d,0,l,c),L=new j(new Array(0),h,0,19,7)}(),de=!0),b.l_desc=new N(b.dyn_ltree,S),b.d_desc=new N(b.dyn_dtree,P),b.bl_desc=new N(b.bl_tree,L),b.bi_buf=0,b.bi_valid=0,ce(b)},_tr_stored_block:ae,_tr_flush_block:K,_tr_tally:function(b,W,x){return b.pending_buf[b.sym_buf+b.sym_next++]=W,b.pending_buf[b.sym_buf+b.sym_next++]=W>>8,b.pending_buf[b.sym_buf+b.sym_next++]=x,W===0?b.dyn_ltree[2*x]++:(b.matches++,W--,b.dyn_ltree[2*(C[x]+i+1)]++,b.dyn_dtree[2*B(W)]++),b.sym_next===b.sym_end},_tr_align:function(b){O(b,2,3),V(b,256,g),function(W){W.bi_valid===16?(D(W,W.bi_buf),W.bi_buf=0,W.bi_valid=0):W.bi_valid>=8&&(W.pending_buf[W.pending++]=255&W.bi_buf,W.bi_buf>>=8,W.bi_valid-=8)}(b)}},M=function(b,W,x,_e){for(var xe=65535&b|0,Se=b>>>16&65535|0,Ie=0;x!==0;){x-=Ie=x>2e3?2e3:x;do Se=Se+(xe=xe+W[_e++]|0)|0;while(--Ie);xe%=65521,Se%=65521}return xe|Se<<16|0},H=new Uint32Array(function(){for(var b,W=[],x=0;x<256;x++){b=x;for(var _e=0;_e<8;_e++)b=1&b?3988292384^b>>>1:b>>>1;W[x]=b}return W}()),oe=function(b,W,x,_e){var xe=H,Se=_e+x;b^=-1;for(var Ie=_e;Ie<Se;Ie++)b=b>>>8^xe[255&(b^W[Ie])];return-1^b},pe={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},be={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},ve=U._tr_init,fe=U._tr_stored_block,me=U._tr_flush_block,Ae=U._tr_tally,Z=U._tr_align,ie=be.Z_NO_FLUSH,he=be.Z_PARTIAL_FLUSH,ge=be.Z_FULL_FLUSH,ee=be.Z_FINISH,q=be.Z_BLOCK,ne=be.Z_OK,te=be.Z_STREAM_END,le=be.Z_STREAM_ERROR,we=be.Z_DATA_ERROR,je=be.Z_BUF_ERROR,Be=be.Z_DEFAULT_COMPRESSION,$e=be.Z_FILTERED,Ve=be.Z_HUFFMAN_ONLY,Ke=be.Z_RLE,ut=be.Z_FIXED,Xe=be.Z_DEFAULT_STRATEGY,lt=be.Z_UNKNOWN,vt=be.Z_DEFLATED,st=258,rt=262,Dt=42,It=113,Ct=666,Qt=function(b,W){return b.msg=pe[W],W},yn=function(b){return 2*b-(b>4?9:0)},Vt=function(b){for(var W=b.length;--W>=0;)b[W]=0},xn=function(b){var W,x,_e,xe=b.w_size;_e=W=b.hash_size;do x=b.head[--_e],b.head[_e]=x>=xe?x-xe:0;while(--W);_e=W=xe;do x=b.prev[--_e],b.prev[_e]=x>=xe?x-xe:0;while(--W)},Mt=function(b,W,x){return(W<<b.hash_shift^x)&b.hash_mask},Wt=function(b){var W=b.state,x=W.pending;x>b.avail_out&&(x=b.avail_out),x!==0&&(b.output.set(W.pending_buf.subarray(W.pending_out,W.pending_out+x),b.next_out),b.next_out+=x,W.pending_out+=x,b.total_out+=x,b.avail_out-=x,W.pending-=x,W.pending===0&&(W.pending_out=0))},it=function(b,W){me(b,b.block_start>=0?b.block_start:-1,b.strstart-b.block_start,W),b.block_start=b.strstart,Wt(b.strm)},nt=function(b,W){b.pending_buf[b.pending++]=W},et=function(b,W){b.pending_buf[b.pending++]=W>>>8&255,b.pending_buf[b.pending++]=255&W},ct=function(b,W,x,_e){var xe=b.avail_in;return xe>_e&&(xe=_e),xe===0?0:(b.avail_in-=xe,W.set(b.input.subarray(b.next_in,b.next_in+xe),x),b.state.wrap===1?b.adler=M(b.adler,W,xe,x):b.state.wrap===2&&(b.adler=oe(b.adler,W,xe,x)),b.next_in+=xe,b.total_in+=xe,xe)},sn=function(b,W){var x,_e,xe=b.max_chain_length,Se=b.strstart,Ie=b.prev_length,Te=b.nice_match,Ye=b.strstart>b.w_size-rt?b.strstart-(b.w_size-rt):0,Oe=b.window,ke=b.w_mask,Lt=b.prev,tt=b.strstart+st,Fe=Oe[Se+Ie-1],Je=Oe[Se+Ie];b.prev_length>=b.good_match&&(xe>>=2),Te>b.lookahead&&(Te=b.lookahead);do if(Oe[(x=W)+Ie]===Je&&Oe[x+Ie-1]===Fe&&Oe[x]===Oe[Se]&&Oe[++x]===Oe[Se+1]){Se+=2,x++;do;while(Oe[++Se]===Oe[++x]&&Oe[++Se]===Oe[++x]&&Oe[++Se]===Oe[++x]&&Oe[++Se]===Oe[++x]&&Oe[++Se]===Oe[++x]&&Oe[++Se]===Oe[++x]&&Oe[++Se]===Oe[++x]&&Oe[++Se]===Oe[++x]&&Se<tt);if(_e=st-(tt-Se),Se=tt-st,_e>Ie){if(b.match_start=W,Ie=_e,_e>=Te)break;Fe=Oe[Se+Ie-1],Je=Oe[Se+Ie]}}while((W=Lt[W&ke])>Ye&&--xe!=0);return Ie<=b.lookahead?Ie:b.lookahead},Un=function(b){var W,x,_e,xe=b.w_size;do{if(x=b.window_size-b.lookahead-b.strstart,b.strstart>=xe+(xe-rt)&&(b.window.set(b.window.subarray(xe,xe+xe-x),0),b.match_start-=xe,b.strstart-=xe,b.block_start-=xe,b.insert>b.strstart&&(b.insert=b.strstart),xn(b),x+=xe),b.strm.avail_in===0)break;if(W=ct(b.strm,b.window,b.strstart+b.lookahead,x),b.lookahead+=W,b.lookahead+b.insert>=3)for(_e=b.strstart-b.insert,b.ins_h=b.window[_e],b.ins_h=Mt(b,b.ins_h,b.window[_e+1]);b.insert&&(b.ins_h=Mt(b,b.ins_h,b.window[_e+3-1]),b.prev[_e&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=_e,_e++,b.insert--,!(b.lookahead+b.insert<3)););}while(b.lookahead<rt&&b.strm.avail_in!==0)},Ge=function(b,W){var x,_e,xe,Se=b.pending_buf_size-5>b.w_size?b.w_size:b.pending_buf_size-5,Ie=0,Te=b.strm.avail_in;do{if(x=65535,xe=b.bi_valid+42>>3,b.strm.avail_out<xe||(xe=b.strm.avail_out-xe,x>(_e=b.strstart-b.block_start)+b.strm.avail_in&&(x=_e+b.strm.avail_in),x>xe&&(x=xe),x<Se&&(x===0&&W!==ee||W===ie||x!==_e+b.strm.avail_in)))break;Ie=W===ee&&x===_e+b.strm.avail_in?1:0,fe(b,0,0,Ie),b.pending_buf[b.pending-4]=x,b.pending_buf[b.pending-3]=x>>8,b.pending_buf[b.pending-2]=~x,b.pending_buf[b.pending-1]=~x>>8,Wt(b.strm),_e&&(_e>x&&(_e=x),b.strm.output.set(b.window.subarray(b.block_start,b.block_start+_e),b.strm.next_out),b.strm.next_out+=_e,b.strm.avail_out-=_e,b.strm.total_out+=_e,b.block_start+=_e,x-=_e),x&&(ct(b.strm,b.strm.output,b.strm.next_out,x),b.strm.next_out+=x,b.strm.avail_out-=x,b.strm.total_out+=x)}while(Ie===0);return(Te-=b.strm.avail_in)&&(Te>=b.w_size?(b.matches=2,b.window.set(b.strm.input.subarray(b.strm.next_in-b.w_size,b.strm.next_in),0),b.strstart=b.w_size,b.insert=b.strstart):(b.window_size-b.strstart<=Te&&(b.strstart-=b.w_size,b.window.set(b.window.subarray(b.w_size,b.w_size+b.strstart),0),b.matches<2&&b.matches++,b.insert>b.strstart&&(b.insert=b.strstart)),b.window.set(b.strm.input.subarray(b.strm.next_in-Te,b.strm.next_in),b.strstart),b.strstart+=Te,b.insert+=Te>b.w_size-b.insert?b.w_size-b.insert:Te),b.block_start=b.strstart),b.high_water<b.strstart&&(b.high_water=b.strstart),Ie?4:W!==ie&&W!==ee&&b.strm.avail_in===0&&b.strstart===b.block_start?2:(xe=b.window_size-b.strstart,b.strm.avail_in>xe&&b.block_start>=b.w_size&&(b.block_start-=b.w_size,b.strstart-=b.w_size,b.window.set(b.window.subarray(b.w_size,b.w_size+b.strstart),0),b.matches<2&&b.matches++,xe+=b.w_size,b.insert>b.strstart&&(b.insert=b.strstart)),xe>b.strm.avail_in&&(xe=b.strm.avail_in),xe&&(ct(b.strm,b.window,b.strstart,xe),b.strstart+=xe,b.insert+=xe>b.w_size-b.insert?b.w_size-b.insert:xe),b.high_water<b.strstart&&(b.high_water=b.strstart),xe=b.bi_valid+42>>3,Se=(xe=b.pending_buf_size-xe>65535?65535:b.pending_buf_size-xe)>b.w_size?b.w_size:xe,((_e=b.strstart-b.block_start)>=Se||(_e||W===ee)&&W!==ie&&b.strm.avail_in===0&&_e<=xe)&&(x=_e>xe?xe:_e,Ie=W===ee&&b.strm.avail_in===0&&x===_e?1:0,fe(b,b.block_start,x,Ie),b.block_start+=x,Wt(b.strm)),Ie?3:1)},z=function(b,W){for(var x,_e;;){if(b.lookahead<rt){if(Un(b),b.lookahead<rt&&W===ie)return 1;if(b.lookahead===0)break}if(x=0,b.lookahead>=3&&(b.ins_h=Mt(b,b.ins_h,b.window[b.strstart+3-1]),x=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),x!==0&&b.strstart-x<=b.w_size-rt&&(b.match_length=sn(b,x)),b.match_length>=3)if(_e=Ae(b,b.strstart-b.match_start,b.match_length-3),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=3){b.match_length--;do b.strstart++,b.ins_h=Mt(b,b.ins_h,b.window[b.strstart+3-1]),x=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart;while(--b.match_length!=0);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=Mt(b,b.ins_h,b.window[b.strstart+1]);else _e=Ae(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(_e&&(it(b,!1),b.strm.avail_out===0))return 1}return b.insert=b.strstart<2?b.strstart:2,W===ee?(it(b,!0),b.strm.avail_out===0?3:4):b.sym_next&&(it(b,!1),b.strm.avail_out===0)?1:2},G=function(b,W){for(var x,_e,xe;;){if(b.lookahead<rt){if(Un(b),b.lookahead<rt&&W===ie)return 1;if(b.lookahead===0)break}if(x=0,b.lookahead>=3&&(b.ins_h=Mt(b,b.ins_h,b.window[b.strstart+3-1]),x=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=2,x!==0&&b.prev_length<b.max_lazy_match&&b.strstart-x<=b.w_size-rt&&(b.match_length=sn(b,x),b.match_length<=5&&(b.strategy===$e||b.match_length===3&&b.strstart-b.match_start>4096)&&(b.match_length=2)),b.prev_length>=3&&b.match_length<=b.prev_length){xe=b.strstart+b.lookahead-3,_e=Ae(b,b.strstart-1-b.prev_match,b.prev_length-3),b.lookahead-=b.prev_length-1,b.prev_length-=2;do++b.strstart<=xe&&(b.ins_h=Mt(b,b.ins_h,b.window[b.strstart+3-1]),x=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);while(--b.prev_length!=0);if(b.match_available=0,b.match_length=2,b.strstart++,_e&&(it(b,!1),b.strm.avail_out===0))return 1}else if(b.match_available){if((_e=Ae(b,0,b.window[b.strstart-1]))&&it(b,!1),b.strstart++,b.lookahead--,b.strm.avail_out===0)return 1}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(_e=Ae(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<2?b.strstart:2,W===ee?(it(b,!0),b.strm.avail_out===0?3:4):b.sym_next&&(it(b,!1),b.strm.avail_out===0)?1:2};function ye(b,W,x,_e,xe){this.good_length=b,this.max_lazy=W,this.nice_length=x,this.max_chain=_e,this.func=xe}var De=[new ye(0,0,0,0,Ge),new ye(4,4,8,4,z),new ye(4,5,16,8,z),new ye(4,6,32,32,z),new ye(4,4,16,16,G),new ye(8,16,32,32,G),new ye(8,16,128,128,G),new ye(8,32,128,256,G),new ye(32,128,258,1024,G),new ye(32,258,258,4096,G)];function He(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=vt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Vt(this.dyn_ltree),Vt(this.dyn_dtree),Vt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Vt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Vt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Ze=function(b){if(!b)return 1;var W=b.state;return!W||W.strm!==b||W.status!==Dt&&W.status!==57&&W.status!==69&&W.status!==73&&W.status!==91&&W.status!==103&&W.status!==It&&W.status!==Ct?1:0},pt=function(b){if(Ze(b))return Qt(b,le);b.total_in=b.total_out=0,b.data_type=lt;var W=b.state;return W.pending=0,W.pending_out=0,W.wrap<0&&(W.wrap=-W.wrap),W.status=W.wrap===2?57:W.wrap?Dt:It,b.adler=W.wrap===2?0:1,W.last_flush=-2,ve(W),ne},jt=function(b){var W,x=pt(b);return x===ne&&((W=b.state).window_size=2*W.w_size,Vt(W.head),W.max_lazy_match=De[W.level].max_lazy,W.good_match=De[W.level].good_length,W.nice_match=De[W.level].nice_length,W.max_chain_length=De[W.level].max_chain,W.strstart=0,W.block_start=0,W.lookahead=0,W.insert=0,W.match_length=W.prev_length=2,W.match_available=0,W.ins_h=0),x},wt=function(b,W,x,_e,xe,Se){if(!b)return le;var Ie=1;if(W===Be&&(W=6),_e<0?(Ie=0,_e=-_e):_e>15&&(Ie=2,_e-=16),xe<1||xe>9||x!==vt||_e<8||_e>15||W<0||W>9||Se<0||Se>ut||_e===8&&Ie!==1)return Qt(b,le);_e===8&&(_e=9);var Te=new He;return b.state=Te,Te.strm=b,Te.status=Dt,Te.wrap=Ie,Te.gzhead=null,Te.w_bits=_e,Te.w_size=1<<Te.w_bits,Te.w_mask=Te.w_size-1,Te.hash_bits=xe+7,Te.hash_size=1<<Te.hash_bits,Te.hash_mask=Te.hash_size-1,Te.hash_shift=~~((Te.hash_bits+3-1)/3),Te.window=new Uint8Array(2*Te.w_size),Te.head=new Uint16Array(Te.hash_size),Te.prev=new Uint16Array(Te.w_size),Te.lit_bufsize=1<<xe+6,Te.pending_buf_size=4*Te.lit_bufsize,Te.pending_buf=new Uint8Array(Te.pending_buf_size),Te.sym_buf=Te.lit_bufsize,Te.sym_end=3*(Te.lit_bufsize-1),Te.level=W,Te.strategy=Se,Te.method=x,jt(b)},Jt={deflateInit:function(b,W){return wt(b,W,vt,15,8,Xe)},deflateInit2:wt,deflateReset:jt,deflateResetKeep:pt,deflateSetHeader:function(b,W){return Ze(b)||b.state.wrap!==2?le:(b.state.gzhead=W,ne)},deflate:function(b,W){if(Ze(b)||W>q||W<0)return b?Qt(b,le):le;var x=b.state;if(!b.output||b.avail_in!==0&&!b.input||x.status===Ct&&W!==ee)return Qt(b,b.avail_out===0?je:le);var _e=x.last_flush;if(x.last_flush=W,x.pending!==0){if(Wt(b),b.avail_out===0)return x.last_flush=-1,ne}else if(b.avail_in===0&&yn(W)<=yn(_e)&&W!==ee)return Qt(b,je);if(x.status===Ct&&b.avail_in!==0)return Qt(b,je);if(x.status===Dt&&x.wrap===0&&(x.status=It),x.status===Dt){var xe=vt+(x.w_bits-8<<4)<<8;if(xe|=(x.strategy>=Ve||x.level<2?0:x.level<6?1:x.level===6?2:3)<<6,x.strstart!==0&&(xe|=32),et(x,xe+=31-xe%31),x.strstart!==0&&(et(x,b.adler>>>16),et(x,65535&b.adler)),b.adler=1,x.status=It,Wt(b),x.pending!==0)return x.last_flush=-1,ne}if(x.status===57){if(b.adler=0,nt(x,31),nt(x,139),nt(x,8),x.gzhead)nt(x,(x.gzhead.text?1:0)+(x.gzhead.hcrc?2:0)+(x.gzhead.extra?4:0)+(x.gzhead.name?8:0)+(x.gzhead.comment?16:0)),nt(x,255&x.gzhead.time),nt(x,x.gzhead.time>>8&255),nt(x,x.gzhead.time>>16&255),nt(x,x.gzhead.time>>24&255),nt(x,x.level===9?2:x.strategy>=Ve||x.level<2?4:0),nt(x,255&x.gzhead.os),x.gzhead.extra&&x.gzhead.extra.length&&(nt(x,255&x.gzhead.extra.length),nt(x,x.gzhead.extra.length>>8&255)),x.gzhead.hcrc&&(b.adler=oe(b.adler,x.pending_buf,x.pending,0)),x.gzindex=0,x.status=69;else if(nt(x,0),nt(x,0),nt(x,0),nt(x,0),nt(x,0),nt(x,x.level===9?2:x.strategy>=Ve||x.level<2?4:0),nt(x,3),x.status=It,Wt(b),x.pending!==0)return x.last_flush=-1,ne}if(x.status===69){if(x.gzhead.extra){for(var Se=x.pending,Ie=(65535&x.gzhead.extra.length)-x.gzindex;x.pending+Ie>x.pending_buf_size;){var Te=x.pending_buf_size-x.pending;if(x.pending_buf.set(x.gzhead.extra.subarray(x.gzindex,x.gzindex+Te),x.pending),x.pending=x.pending_buf_size,x.gzhead.hcrc&&x.pending>Se&&(b.adler=oe(b.adler,x.pending_buf,x.pending-Se,Se)),x.gzindex+=Te,Wt(b),x.pending!==0)return x.last_flush=-1,ne;Se=0,Ie-=Te}var Ye=new Uint8Array(x.gzhead.extra);x.pending_buf.set(Ye.subarray(x.gzindex,x.gzindex+Ie),x.pending),x.pending+=Ie,x.gzhead.hcrc&&x.pending>Se&&(b.adler=oe(b.adler,x.pending_buf,x.pending-Se,Se)),x.gzindex=0}x.status=73}if(x.status===73){if(x.gzhead.name){var Oe,ke=x.pending;do{if(x.pending===x.pending_buf_size){if(x.gzhead.hcrc&&x.pending>ke&&(b.adler=oe(b.adler,x.pending_buf,x.pending-ke,ke)),Wt(b),x.pending!==0)return x.last_flush=-1,ne;ke=0}Oe=x.gzindex<x.gzhead.name.length?255&x.gzhead.name.charCodeAt(x.gzindex++):0,nt(x,Oe)}while(Oe!==0);x.gzhead.hcrc&&x.pending>ke&&(b.adler=oe(b.adler,x.pending_buf,x.pending-ke,ke)),x.gzindex=0}x.status=91}if(x.status===91){if(x.gzhead.comment){var Lt,tt=x.pending;do{if(x.pending===x.pending_buf_size){if(x.gzhead.hcrc&&x.pending>tt&&(b.adler=oe(b.adler,x.pending_buf,x.pending-tt,tt)),Wt(b),x.pending!==0)return x.last_flush=-1,ne;tt=0}Lt=x.gzindex<x.gzhead.comment.length?255&x.gzhead.comment.charCodeAt(x.gzindex++):0,nt(x,Lt)}while(Lt!==0);x.gzhead.hcrc&&x.pending>tt&&(b.adler=oe(b.adler,x.pending_buf,x.pending-tt,tt))}x.status=103}if(x.status===103){if(x.gzhead.hcrc){if(x.pending+2>x.pending_buf_size&&(Wt(b),x.pending!==0))return x.last_flush=-1,ne;nt(x,255&b.adler),nt(x,b.adler>>8&255),b.adler=0}if(x.status=It,Wt(b),x.pending!==0)return x.last_flush=-1,ne}if(b.avail_in!==0||x.lookahead!==0||W!==ie&&x.status!==Ct){var Fe=x.level===0?Ge(x,W):x.strategy===Ve?function(Je,Ot){for(var At;;){if(Je.lookahead===0&&(Un(Je),Je.lookahead===0)){if(Ot===ie)return 1;break}if(Je.match_length=0,At=Ae(Je,0,Je.window[Je.strstart]),Je.lookahead--,Je.strstart++,At&&(it(Je,!1),Je.strm.avail_out===0))return 1}return Je.insert=0,Ot===ee?(it(Je,!0),Je.strm.avail_out===0?3:4):Je.sym_next&&(it(Je,!1),Je.strm.avail_out===0)?1:2}(x,W):x.strategy===Ke?function(Je,Ot){for(var At,Pt,Qe,We,dt=Je.window;;){if(Je.lookahead<=st){if(Un(Je),Je.lookahead<=st&&Ot===ie)return 1;if(Je.lookahead===0)break}if(Je.match_length=0,Je.lookahead>=3&&Je.strstart>0&&(Pt=dt[Qe=Je.strstart-1])===dt[++Qe]&&Pt===dt[++Qe]&&Pt===dt[++Qe]){We=Je.strstart+st;do;while(Pt===dt[++Qe]&&Pt===dt[++Qe]&&Pt===dt[++Qe]&&Pt===dt[++Qe]&&Pt===dt[++Qe]&&Pt===dt[++Qe]&&Pt===dt[++Qe]&&Pt===dt[++Qe]&&Qe<We);Je.match_length=st-(We-Qe),Je.match_length>Je.lookahead&&(Je.match_length=Je.lookahead)}if(Je.match_length>=3?(At=Ae(Je,1,Je.match_length-3),Je.lookahead-=Je.match_length,Je.strstart+=Je.match_length,Je.match_length=0):(At=Ae(Je,0,Je.window[Je.strstart]),Je.lookahead--,Je.strstart++),At&&(it(Je,!1),Je.strm.avail_out===0))return 1}return Je.insert=0,Ot===ee?(it(Je,!0),Je.strm.avail_out===0?3:4):Je.sym_next&&(it(Je,!1),Je.strm.avail_out===0)?1:2}(x,W):De[x.level].func(x,W);if(Fe!==3&&Fe!==4||(x.status=Ct),Fe===1||Fe===3)return b.avail_out===0&&(x.last_flush=-1),ne;if(Fe===2&&(W===he?Z(x):W!==q&&(fe(x,0,0,!1),W===ge&&(Vt(x.head),x.lookahead===0&&(x.strstart=0,x.block_start=0,x.insert=0))),Wt(b),b.avail_out===0))return x.last_flush=-1,ne}return W!==ee?ne:x.wrap<=0?te:(x.wrap===2?(nt(x,255&b.adler),nt(x,b.adler>>8&255),nt(x,b.adler>>16&255),nt(x,b.adler>>24&255),nt(x,255&b.total_in),nt(x,b.total_in>>8&255),nt(x,b.total_in>>16&255),nt(x,b.total_in>>24&255)):(et(x,b.adler>>>16),et(x,65535&b.adler)),Wt(b),x.wrap>0&&(x.wrap=-x.wrap),x.pending!==0?ne:te)},deflateEnd:function(b){if(Ze(b))return le;var W=b.state.status;return b.state=null,W===It?Qt(b,we):ne},deflateSetDictionary:function(b,W){var x=W.length;if(Ze(b))return le;var _e=b.state,xe=_e.wrap;if(xe===2||xe===1&&_e.status!==Dt||_e.lookahead)return le;if(xe===1&&(b.adler=M(b.adler,W,x,0)),_e.wrap=0,x>=_e.w_size){xe===0&&(Vt(_e.head),_e.strstart=0,_e.block_start=0,_e.insert=0);var Se=new Uint8Array(_e.w_size);Se.set(W.subarray(x-_e.w_size,x),0),W=Se,x=_e.w_size}var Ie=b.avail_in,Te=b.next_in,Ye=b.input;for(b.avail_in=x,b.next_in=0,b.input=W,Un(_e);_e.lookahead>=3;){var Oe=_e.strstart,ke=_e.lookahead-2;do _e.ins_h=Mt(_e,_e.ins_h,_e.window[Oe+3-1]),_e.prev[Oe&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=Oe,Oe++;while(--ke);_e.strstart=Oe,_e.lookahead=2,Un(_e)}return _e.strstart+=_e.lookahead,_e.block_start=_e.strstart,_e.insert=_e.lookahead,_e.lookahead=0,_e.match_length=_e.prev_length=2,_e.match_available=0,b.next_in=Te,b.input=Ye,b.avail_in=Ie,_e.wrap=xe,ne},deflateInfo:"pako deflate (from Nodeca project)"};function pn(b){return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},pn(b)}var er=function(b,W){return Object.prototype.hasOwnProperty.call(b,W)},Dn=function(b){for(var W=Array.prototype.slice.call(arguments,1);W.length;){var x=W.shift();if(x){if(pn(x)!=="object")throw new TypeError(x+"must be non-object");for(var _e in x)er(x,_e)&&(b[_e]=x[_e])}}return b},Ft=function(b){for(var W=0,x=0,_e=b.length;x<_e;x++)W+=b[x].length;for(var xe=new Uint8Array(W),Se=0,Ie=0,Te=b.length;Se<Te;Se++){var Ye=b[Se];xe.set(Ye,Ie),Ie+=Ye.length}return xe},ur=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ur=!1}for(var On=new Uint8Array(256),bn=0;bn<256;bn++)On[bn]=bn>=252?6:bn>=248?5:bn>=240?4:bn>=224?3:bn>=192?2:1;On[254]=On[254]=1;var Tt=function(b){if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(b);var W,x,_e,xe,Se,Ie=b.length,Te=0;for(xe=0;xe<Ie;xe++)(64512&(x=b.charCodeAt(xe)))==55296&&xe+1<Ie&&(64512&(_e=b.charCodeAt(xe+1)))==56320&&(x=65536+(x-55296<<10)+(_e-56320),xe++),Te+=x<128?1:x<2048?2:x<65536?3:4;for(W=new Uint8Array(Te),Se=0,xe=0;Se<Te;xe++)(64512&(x=b.charCodeAt(xe)))==55296&&xe+1<Ie&&(64512&(_e=b.charCodeAt(xe+1)))==56320&&(x=65536+(x-55296<<10)+(_e-56320),xe++),x<128?W[Se++]=x:x<2048?(W[Se++]=192|x>>>6,W[Se++]=128|63&x):x<65536?(W[Se++]=224|x>>>12,W[Se++]=128|x>>>6&63,W[Se++]=128|63&x):(W[Se++]=240|x>>>18,W[Se++]=128|x>>>12&63,W[Se++]=128|x>>>6&63,W[Se++]=128|63&x);return W},tr=function(b,W){var x,_e,xe=W||b.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(b.subarray(0,W));var Se=new Array(2*xe);for(_e=0,x=0;x<xe;){var Ie=b[x++];if(Ie<128)Se[_e++]=Ie;else{var Te=On[Ie];if(Te>4)Se[_e++]=65533,x+=Te-1;else{for(Ie&=Te===2?31:Te===3?15:7;Te>1&&x<xe;)Ie=Ie<<6|63&b[x++],Te--;Te>1?Se[_e++]=65533:Ie<65536?Se[_e++]=Ie:(Ie-=65536,Se[_e++]=55296|Ie>>10&1023,Se[_e++]=56320|1023&Ie)}}}return function(Ye,Oe){if(Oe<65534&&Ye.subarray&&ur)return String.fromCharCode.apply(null,Ye.length===Oe?Ye:Ye.subarray(0,Oe));for(var ke="",Lt=0;Lt<Oe;Lt++)ke+=String.fromCharCode(Ye[Lt]);return ke}(Se,_e)},En=function(b,W){(W=W||b.length)>b.length&&(W=b.length);for(var x=W-1;x>=0&&(192&b[x])==128;)x--;return x<0||x===0?W:x+On[b[x]]>W?x:W},_r=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},kr=Object.prototype.toString,bi=be.Z_NO_FLUSH,eo=be.Z_SYNC_FLUSH,oi=be.Z_FULL_FLUSH,_l=be.Z_FINISH,rs=be.Z_OK,ha=be.Z_STREAM_END,xl=be.Z_DEFAULT_COMPRESSION,wl=be.Z_DEFAULT_STRATEGY,$d=be.Z_DEFLATED;function pa(b){this.options=Dn({level:xl,method:$d,chunkSize:16384,windowBits:15,memLevel:8,strategy:wl},b||{});var W=this.options;W.raw&&W.windowBits>0?W.windowBits=-W.windowBits:W.gzip&&W.windowBits>0&&W.windowBits<16&&(W.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _r,this.strm.avail_out=0;var x=Jt.deflateInit2(this.strm,W.level,W.method,W.windowBits,W.memLevel,W.strategy);if(x!==rs)throw new Error(pe[x]);if(W.header&&Jt.deflateSetHeader(this.strm,W.header),W.dictionary){var _e;if(_e=typeof W.dictionary=="string"?Tt(W.dictionary):kr.call(W.dictionary)==="[object ArrayBuffer]"?new Uint8Array(W.dictionary):W.dictionary,(x=Jt.deflateSetDictionary(this.strm,_e))!==rs)throw new Error(pe[x]);this._dict_set=!0}}function cr(b,W){var x=new pa(W);if(x.push(b,!0),x.err)throw x.msg||pe[x.err];return x.result}pa.prototype.push=function(b,W){var x,_e,xe=this.strm,Se=this.options.chunkSize;if(this.ended)return!1;for(_e=W===~~W?W:W===!0?_l:bi,typeof b=="string"?xe.input=Tt(b):kr.call(b)==="[object ArrayBuffer]"?xe.input=new Uint8Array(b):xe.input=b,xe.next_in=0,xe.avail_in=xe.input.length;;)if(xe.avail_out===0&&(xe.output=new Uint8Array(Se),xe.next_out=0,xe.avail_out=Se),(_e===eo||_e===oi)&&xe.avail_out<=6)this.onData(xe.output.subarray(0,xe.next_out)),xe.avail_out=0;else{if((x=Jt.deflate(xe,_e))===ha)return xe.next_out>0&&this.onData(xe.output.subarray(0,xe.next_out)),x=Jt.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===rs;if(xe.avail_out!==0){if(_e>0&&xe.next_out>0)this.onData(xe.output.subarray(0,xe.next_out)),xe.avail_out=0;else if(xe.avail_in===0)break}else this.onData(xe.output)}return!0},pa.prototype.onData=function(b){this.chunks.push(b)},pa.prototype.onEnd=function(b){b===rs&&(this.result=Ft(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg};var is={Deflate:pa,deflate:cr,deflateRaw:function(b,W){return(W=W||{}).raw=!0,cr(b,W)},gzip:function(b,W){return(W=W||{}).gzip=!0,cr(b,W)}},to=16209,no=function(b,W){var x,_e,xe,Se,Ie,Te,Ye,Oe,ke,Lt,tt,Fe,Je,Ot,At,Pt,Qe,We,dt,cn,ft,Yt,Ut,yt,St=b.state;x=b.next_in,Ut=b.input,_e=x+(b.avail_in-5),xe=b.next_out,yt=b.output,Se=xe-(W-b.avail_out),Ie=xe+(b.avail_out-257),Te=St.dmax,Ye=St.wsize,Oe=St.whave,ke=St.wnext,Lt=St.window,tt=St.hold,Fe=St.bits,Je=St.lencode,Ot=St.distcode,At=(1<<St.lenbits)-1,Pt=(1<<St.distbits)-1;e:do{Fe<15&&(tt+=Ut[x++]<<Fe,Fe+=8,tt+=Ut[x++]<<Fe,Fe+=8),Qe=Je[tt&At];t:for(;;){if(tt>>>=We=Qe>>>24,Fe-=We,(We=Qe>>>16&255)===0)yt[xe++]=65535&Qe;else{if(!(16&We)){if((64&We)==0){Qe=Je[(65535&Qe)+(tt&(1<<We)-1)];continue t}if(32&We){St.mode=16191;break e}b.msg="invalid literal/length code",St.mode=to;break e}dt=65535&Qe,(We&=15)&&(Fe<We&&(tt+=Ut[x++]<<Fe,Fe+=8),dt+=tt&(1<<We)-1,tt>>>=We,Fe-=We),Fe<15&&(tt+=Ut[x++]<<Fe,Fe+=8,tt+=Ut[x++]<<Fe,Fe+=8),Qe=Ot[tt&Pt];n:for(;;){if(tt>>>=We=Qe>>>24,Fe-=We,!(16&(We=Qe>>>16&255))){if((64&We)==0){Qe=Ot[(65535&Qe)+(tt&(1<<We)-1)];continue n}b.msg="invalid distance code",St.mode=to;break e}if(cn=65535&Qe,Fe<(We&=15)&&(tt+=Ut[x++]<<Fe,(Fe+=8)<We&&(tt+=Ut[x++]<<Fe,Fe+=8)),(cn+=tt&(1<<We)-1)>Te){b.msg="invalid distance too far back",St.mode=to;break e}if(tt>>>=We,Fe-=We,cn>(We=xe-Se)){if((We=cn-We)>Oe&&St.sane){b.msg="invalid distance too far back",St.mode=to;break e}if(ft=0,Yt=Lt,ke===0){if(ft+=Ye-We,We<dt){dt-=We;do yt[xe++]=Lt[ft++];while(--We);ft=xe-cn,Yt=yt}}else if(ke<We){if(ft+=Ye+ke-We,(We-=ke)<dt){dt-=We;do yt[xe++]=Lt[ft++];while(--We);if(ft=0,ke<dt){dt-=We=ke;do yt[xe++]=Lt[ft++];while(--We);ft=xe-cn,Yt=yt}}}else if(ft+=ke-We,We<dt){dt-=We;do yt[xe++]=Lt[ft++];while(--We);ft=xe-cn,Yt=yt}for(;dt>2;)yt[xe++]=Yt[ft++],yt[xe++]=Yt[ft++],yt[xe++]=Yt[ft++],dt-=3;dt&&(yt[xe++]=Yt[ft++],dt>1&&(yt[xe++]=Yt[ft++]))}else{ft=xe-cn;do yt[xe++]=yt[ft++],yt[xe++]=yt[ft++],yt[xe++]=yt[ft++],dt-=3;while(dt>2);dt&&(yt[xe++]=yt[ft++],dt>1&&(yt[xe++]=yt[ft++]))}break}}break}}while(x<_e&&xe<Ie);x-=dt=Fe>>3,tt&=(1<<(Fe-=dt<<3))-1,b.next_in=x,b.next_out=xe,b.avail_in=x<_e?_e-x+5:5-(x-_e),b.avail_out=xe<Ie?Ie-xe+257:257-(xe-Ie),St.hold=tt,St.bits=Fe},as=15,ro=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Vd=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),xr=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Sl=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ma=function(b,W,x,_e,xe,Se,Ie,Te){var Ye,Oe,ke,Lt,tt,Fe,Je,Ot,At,Pt=Te.bits,Qe=0,We=0,dt=0,cn=0,ft=0,Yt=0,Ut=0,yt=0,St=0,Zt=0,Vi=null,jr=new Uint16Array(16),ds=new Uint16Array(16),hs=null;for(Qe=0;Qe<=as;Qe++)jr[Qe]=0;for(We=0;We<_e;We++)jr[W[x+We]]++;for(ft=Pt,cn=as;cn>=1&&jr[cn]===0;cn--);if(ft>cn&&(ft=cn),cn===0)return xe[Se++]=20971520,xe[Se++]=20971520,Te.bits=1,0;for(dt=1;dt<cn&&jr[dt]===0;dt++);for(ft<dt&&(ft=dt),yt=1,Qe=1;Qe<=as;Qe++)if(yt<<=1,(yt-=jr[Qe])<0)return-1;if(yt>0&&(b===0||cn!==1))return-1;for(ds[1]=0,Qe=1;Qe<as;Qe++)ds[Qe+1]=ds[Qe]+jr[Qe];for(We=0;We<_e;We++)W[x+We]!==0&&(Ie[ds[W[x+We]]++]=We);if(b===0?(Vi=hs=Ie,Fe=20):b===1?(Vi=ro,hs=Vd,Fe=257):(Vi=xr,hs=Sl,Fe=0),Zt=0,We=0,Qe=dt,tt=Se,Yt=ft,Ut=0,ke=-1,Lt=(St=1<<ft)-1,b===1&&St>852||b===2&&St>592)return 1;for(;;){Je=Qe-Ut,Ie[We]+1<Fe?(Ot=0,At=Ie[We]):Ie[We]>=Fe?(Ot=hs[Ie[We]-Fe],At=Vi[Ie[We]-Fe]):(Ot=96,At=0),Ye=1<<Qe-Ut,dt=Oe=1<<Yt;do xe[tt+(Zt>>Ut)+(Oe-=Ye)]=Je<<24|Ot<<16|At|0;while(Oe!==0);for(Ye=1<<Qe-1;Zt&Ye;)Ye>>=1;if(Ye!==0?(Zt&=Ye-1,Zt+=Ye):Zt=0,We++,--jr[Qe]==0){if(Qe===cn)break;Qe=W[x+Ie[We]]}if(Qe>ft&&(Zt&Lt)!==ke){for(Ut===0&&(Ut=ft),tt+=dt,yt=1<<(Yt=Qe-Ut);Yt+Ut<cn&&!((yt-=jr[Yt+Ut])<=0);)Yt++,yt<<=1;if(St+=1<<Yt,b===1&&St>852||b===2&&St>592)return 1;xe[ke=Zt&Lt]=ft<<24|Yt<<16|tt-Se|0}}return Zt!==0&&(xe[tt+Zt]=Qe-Ut<<24|64<<16|0),Te.bits=ft,0},io=be.Z_FINISH,ga=be.Z_BLOCK,ss=be.Z_TREES,_i=be.Z_OK,va=be.Z_STREAM_END,Yd=be.Z_NEED_DICT,wr=be.Z_STREAM_ERROR,El=be.Z_DATA_ERROR,ao=be.Z_MEM_ERROR,Xd=be.Z_BUF_ERROR,fc=be.Z_DEFLATED,qi=16180,ya=16190,Mr=16191,xi=16192,wi=16194,os=16199,ba=16200,so=16206,on=16209,Vr=function(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)};function Al(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Hi,Yr,li=function(b){if(!b)return 1;var W=b.state;return!W||W.strm!==b||W.mode<qi||W.mode>16211?1:0},ls=function(b){if(li(b))return wr;var W=b.state;return b.total_in=b.total_out=W.total=0,b.msg="",W.wrap&&(b.adler=1&W.wrap),W.mode=qi,W.last=0,W.havedict=0,W.flags=-1,W.dmax=32768,W.head=null,W.hold=0,W.bits=0,W.lencode=W.lendyn=new Int32Array(852),W.distcode=W.distdyn=new Int32Array(592),W.sane=1,W.back=-1,_i},Cl=function(b){if(li(b))return wr;var W=b.state;return W.wsize=0,W.whave=0,W.wnext=0,ls(b)},us=function(b,W){var x;if(li(b))return wr;var _e=b.state;return W<0?(x=0,W=-W):(x=5+(W>>4),W<48&&(W&=15)),W&&(W<8||W>15)?wr:(_e.window!==null&&_e.wbits!==W&&(_e.window=null),_e.wrap=x,_e.wbits=W,Cl(b))},cs=function(b,W){if(!b)return wr;var x=new Al;b.state=x,x.strm=b,x.window=null,x.mode=qi;var _e=us(b,W);return _e!==_i&&(b.state=null),_e},Tl=!0,fr=function(b){if(Tl){Hi=new Int32Array(512),Yr=new Int32Array(32);for(var W=0;W<144;)b.lens[W++]=8;for(;W<256;)b.lens[W++]=9;for(;W<280;)b.lens[W++]=7;for(;W<288;)b.lens[W++]=8;for(ma(1,b.lens,0,288,Hi,0,b.work,{bits:9}),W=0;W<32;)b.lens[W++]=5;ma(2,b.lens,0,32,Yr,0,b.work,{bits:5}),Tl=!1}b.lencode=Hi,b.lenbits=9,b.distcode=Yr,b.distbits=5},Si=function(b,W,x,_e){var xe,Se=b.state;return Se.window===null&&(Se.wsize=1<<Se.wbits,Se.wnext=0,Se.whave=0,Se.window=new Uint8Array(Se.wsize)),_e>=Se.wsize?(Se.window.set(W.subarray(x-Se.wsize,x),0),Se.wnext=0,Se.whave=Se.wsize):((xe=Se.wsize-Se.wnext)>_e&&(xe=_e),Se.window.set(W.subarray(x-_e,x-_e+xe),Se.wnext),(_e-=xe)?(Se.window.set(W.subarray(x-_e,x),0),Se.wnext=_e,Se.whave=Se.wsize):(Se.wnext+=xe,Se.wnext===Se.wsize&&(Se.wnext=0),Se.whave<Se.wsize&&(Se.whave+=xe))),0},Sr={inflateReset:Cl,inflateReset2:us,inflateResetKeep:ls,inflateInit:function(b){return cs(b,15)},inflateInit2:cs,inflate:function(b,W){var x,_e,xe,Se,Ie,Te,Ye,Oe,ke,Lt,tt,Fe,Je,Ot,At,Pt,Qe,We,dt,cn,ft,Yt,Ut,yt,St=0,Zt=new Uint8Array(4),Vi=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(li(b)||!b.output||!b.input&&b.avail_in!==0)return wr;(x=b.state).mode===Mr&&(x.mode=xi),Ie=b.next_out,xe=b.output,Ye=b.avail_out,Se=b.next_in,_e=b.input,Te=b.avail_in,Oe=x.hold,ke=x.bits,Lt=Te,tt=Ye,Yt=_i;e:for(;;)switch(x.mode){case qi:if(x.wrap===0){x.mode=xi;break}for(;ke<16;){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}if(2&x.wrap&&Oe===35615){x.wbits===0&&(x.wbits=15),x.check=0,Zt[0]=255&Oe,Zt[1]=Oe>>>8&255,x.check=oe(x.check,Zt,2,0),Oe=0,ke=0,x.mode=16181;break}if(x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&Oe)<<8)+(Oe>>8))%31){b.msg="incorrect header check",x.mode=on;break}if((15&Oe)!==fc){b.msg="unknown compression method",x.mode=on;break}if(ke-=4,ft=8+(15&(Oe>>>=4)),x.wbits===0&&(x.wbits=ft),ft>15||ft>x.wbits){b.msg="invalid window size",x.mode=on;break}x.dmax=1<<x.wbits,x.flags=0,b.adler=x.check=1,x.mode=512&Oe?16189:Mr,Oe=0,ke=0;break;case 16181:for(;ke<16;){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}if(x.flags=Oe,(255&x.flags)!==fc){b.msg="unknown compression method",x.mode=on;break}if(57344&x.flags){b.msg="unknown header flags set",x.mode=on;break}x.head&&(x.head.text=Oe>>8&1),512&x.flags&&4&x.wrap&&(Zt[0]=255&Oe,Zt[1]=Oe>>>8&255,x.check=oe(x.check,Zt,2,0)),Oe=0,ke=0,x.mode=16182;case 16182:for(;ke<32;){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}x.head&&(x.head.time=Oe),512&x.flags&&4&x.wrap&&(Zt[0]=255&Oe,Zt[1]=Oe>>>8&255,Zt[2]=Oe>>>16&255,Zt[3]=Oe>>>24&255,x.check=oe(x.check,Zt,4,0)),Oe=0,ke=0,x.mode=16183;case 16183:for(;ke<16;){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}x.head&&(x.head.xflags=255&Oe,x.head.os=Oe>>8),512&x.flags&&4&x.wrap&&(Zt[0]=255&Oe,Zt[1]=Oe>>>8&255,x.check=oe(x.check,Zt,2,0)),Oe=0,ke=0,x.mode=16184;case 16184:if(1024&x.flags){for(;ke<16;){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}x.length=Oe,x.head&&(x.head.extra_len=Oe),512&x.flags&&4&x.wrap&&(Zt[0]=255&Oe,Zt[1]=Oe>>>8&255,x.check=oe(x.check,Zt,2,0)),Oe=0,ke=0}else x.head&&(x.head.extra=null);x.mode=16185;case 16185:if(1024&x.flags&&((Fe=x.length)>Te&&(Fe=Te),Fe&&(x.head&&(ft=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Uint8Array(x.head.extra_len)),x.head.extra.set(_e.subarray(Se,Se+Fe),ft)),512&x.flags&&4&x.wrap&&(x.check=oe(x.check,_e,Fe,Se)),Te-=Fe,Se+=Fe,x.length-=Fe),x.length))break e;x.length=0,x.mode=16186;case 16186:if(2048&x.flags){if(Te===0)break e;Fe=0;do ft=_e[Se+Fe++],x.head&&ft&&x.length<65536&&(x.head.name+=String.fromCharCode(ft));while(ft&&Fe<Te);if(512&x.flags&&4&x.wrap&&(x.check=oe(x.check,_e,Fe,Se)),Te-=Fe,Se+=Fe,ft)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=16187;case 16187:if(4096&x.flags){if(Te===0)break e;Fe=0;do ft=_e[Se+Fe++],x.head&&ft&&x.length<65536&&(x.head.comment+=String.fromCharCode(ft));while(ft&&Fe<Te);if(512&x.flags&&4&x.wrap&&(x.check=oe(x.check,_e,Fe,Se)),Te-=Fe,Se+=Fe,ft)break e}else x.head&&(x.head.comment=null);x.mode=16188;case 16188:if(512&x.flags){for(;ke<16;){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}if(4&x.wrap&&Oe!==(65535&x.check)){b.msg="header crc mismatch",x.mode=on;break}Oe=0,ke=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),b.adler=x.check=0,x.mode=Mr;break;case 16189:for(;ke<32;){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}b.adler=x.check=Vr(Oe),Oe=0,ke=0,x.mode=ya;case ya:if(x.havedict===0)return b.next_out=Ie,b.avail_out=Ye,b.next_in=Se,b.avail_in=Te,x.hold=Oe,x.bits=ke,Yd;b.adler=x.check=1,x.mode=Mr;case Mr:if(W===ga||W===ss)break e;case xi:if(x.last){Oe>>>=7&ke,ke-=7&ke,x.mode=so;break}for(;ke<3;){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}switch(x.last=1&Oe,ke-=1,3&(Oe>>>=1)){case 0:x.mode=16193;break;case 1:if(fr(x),x.mode=os,W===ss){Oe>>>=2,ke-=2;break e}break;case 2:x.mode=16196;break;case 3:b.msg="invalid block type",x.mode=on}Oe>>>=2,ke-=2;break;case 16193:for(Oe>>>=7&ke,ke-=7&ke;ke<32;){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}if((65535&Oe)!=(Oe>>>16^65535)){b.msg="invalid stored block lengths",x.mode=on;break}if(x.length=65535&Oe,Oe=0,ke=0,x.mode=wi,W===ss)break e;case wi:x.mode=16195;case 16195:if(Fe=x.length){if(Fe>Te&&(Fe=Te),Fe>Ye&&(Fe=Ye),Fe===0)break e;xe.set(_e.subarray(Se,Se+Fe),Ie),Te-=Fe,Se+=Fe,Ye-=Fe,Ie+=Fe,x.length-=Fe;break}x.mode=Mr;break;case 16196:for(;ke<14;){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}if(x.nlen=257+(31&Oe),Oe>>>=5,ke-=5,x.ndist=1+(31&Oe),Oe>>>=5,ke-=5,x.ncode=4+(15&Oe),Oe>>>=4,ke-=4,x.nlen>286||x.ndist>30){b.msg="too many length or distance symbols",x.mode=on;break}x.have=0,x.mode=16197;case 16197:for(;x.have<x.ncode;){for(;ke<3;){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}x.lens[Vi[x.have++]]=7&Oe,Oe>>>=3,ke-=3}for(;x.have<19;)x.lens[Vi[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,Ut={bits:x.lenbits},Yt=ma(0,x.lens,0,19,x.lencode,0,x.work,Ut),x.lenbits=Ut.bits,Yt){b.msg="invalid code lengths set",x.mode=on;break}x.have=0,x.mode=16198;case 16198:for(;x.have<x.nlen+x.ndist;){for(;Pt=(St=x.lencode[Oe&(1<<x.lenbits)-1])>>>16&255,Qe=65535&St,!((At=St>>>24)<=ke);){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}if(Qe<16)Oe>>>=At,ke-=At,x.lens[x.have++]=Qe;else{if(Qe===16){for(yt=At+2;ke<yt;){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}if(Oe>>>=At,ke-=At,x.have===0){b.msg="invalid bit length repeat",x.mode=on;break}ft=x.lens[x.have-1],Fe=3+(3&Oe),Oe>>>=2,ke-=2}else if(Qe===17){for(yt=At+3;ke<yt;){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}ke-=At,ft=0,Fe=3+(7&(Oe>>>=At)),Oe>>>=3,ke-=3}else{for(yt=At+7;ke<yt;){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}ke-=At,ft=0,Fe=11+(127&(Oe>>>=At)),Oe>>>=7,ke-=7}if(x.have+Fe>x.nlen+x.ndist){b.msg="invalid bit length repeat",x.mode=on;break}for(;Fe--;)x.lens[x.have++]=ft}}if(x.mode===on)break;if(x.lens[256]===0){b.msg="invalid code -- missing end-of-block",x.mode=on;break}if(x.lenbits=9,Ut={bits:x.lenbits},Yt=ma(1,x.lens,0,x.nlen,x.lencode,0,x.work,Ut),x.lenbits=Ut.bits,Yt){b.msg="invalid literal/lengths set",x.mode=on;break}if(x.distbits=6,x.distcode=x.distdyn,Ut={bits:x.distbits},Yt=ma(2,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,Ut),x.distbits=Ut.bits,Yt){b.msg="invalid distances set",x.mode=on;break}if(x.mode=os,W===ss)break e;case os:x.mode=ba;case ba:if(Te>=6&&Ye>=258){b.next_out=Ie,b.avail_out=Ye,b.next_in=Se,b.avail_in=Te,x.hold=Oe,x.bits=ke,no(b,tt),Ie=b.next_out,xe=b.output,Ye=b.avail_out,Se=b.next_in,_e=b.input,Te=b.avail_in,Oe=x.hold,ke=x.bits,x.mode===Mr&&(x.back=-1);break}for(x.back=0;Pt=(St=x.lencode[Oe&(1<<x.lenbits)-1])>>>16&255,Qe=65535&St,!((At=St>>>24)<=ke);){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}if(Pt&&(240&Pt)==0){for(We=At,dt=Pt,cn=Qe;Pt=(St=x.lencode[cn+((Oe&(1<<We+dt)-1)>>We)])>>>16&255,Qe=65535&St,!(We+(At=St>>>24)<=ke);){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}Oe>>>=We,ke-=We,x.back+=We}if(Oe>>>=At,ke-=At,x.back+=At,x.length=Qe,Pt===0){x.mode=16205;break}if(32&Pt){x.back=-1,x.mode=Mr;break}if(64&Pt){b.msg="invalid literal/length code",x.mode=on;break}x.extra=15&Pt,x.mode=16201;case 16201:if(x.extra){for(yt=x.extra;ke<yt;){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}x.length+=Oe&(1<<x.extra)-1,Oe>>>=x.extra,ke-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=16202;case 16202:for(;Pt=(St=x.distcode[Oe&(1<<x.distbits)-1])>>>16&255,Qe=65535&St,!((At=St>>>24)<=ke);){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}if((240&Pt)==0){for(We=At,dt=Pt,cn=Qe;Pt=(St=x.distcode[cn+((Oe&(1<<We+dt)-1)>>We)])>>>16&255,Qe=65535&St,!(We+(At=St>>>24)<=ke);){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}Oe>>>=We,ke-=We,x.back+=We}if(Oe>>>=At,ke-=At,x.back+=At,64&Pt){b.msg="invalid distance code",x.mode=on;break}x.offset=Qe,x.extra=15&Pt,x.mode=16203;case 16203:if(x.extra){for(yt=x.extra;ke<yt;){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}x.offset+=Oe&(1<<x.extra)-1,Oe>>>=x.extra,ke-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){b.msg="invalid distance too far back",x.mode=on;break}x.mode=16204;case 16204:if(Ye===0)break e;if(Fe=tt-Ye,x.offset>Fe){if((Fe=x.offset-Fe)>x.whave&&x.sane){b.msg="invalid distance too far back",x.mode=on;break}Fe>x.wnext?(Fe-=x.wnext,Je=x.wsize-Fe):Je=x.wnext-Fe,Fe>x.length&&(Fe=x.length),Ot=x.window}else Ot=xe,Je=Ie-x.offset,Fe=x.length;Fe>Ye&&(Fe=Ye),Ye-=Fe,x.length-=Fe;do xe[Ie++]=Ot[Je++];while(--Fe);x.length===0&&(x.mode=ba);break;case 16205:if(Ye===0)break e;xe[Ie++]=x.length,Ye--,x.mode=ba;break;case so:if(x.wrap){for(;ke<32;){if(Te===0)break e;Te--,Oe|=_e[Se++]<<ke,ke+=8}if(tt-=Ye,b.total_out+=tt,x.total+=tt,4&x.wrap&&tt&&(b.adler=x.check=x.flags?oe(x.check,xe,tt,Ie-tt):M(x.check,xe,tt,Ie-tt)),tt=Ye,4&x.wrap&&(x.flags?Oe:Vr(Oe))!==x.check){b.msg="incorrect data check",x.mode=on;break}Oe=0,ke=0}x.mode=16207;case 16207:if(x.wrap&&x.flags){for(;ke<32;){if(Te===0)break e;Te--,Oe+=_e[Se++]<<ke,ke+=8}if(4&x.wrap&&Oe!==(4294967295&x.total)){b.msg="incorrect length check",x.mode=on;break}Oe=0,ke=0}x.mode=16208;case 16208:Yt=va;break e;case on:Yt=El;break e;case 16210:return ao;default:return wr}return b.next_out=Ie,b.avail_out=Ye,b.next_in=Se,b.avail_in=Te,x.hold=Oe,x.bits=ke,(x.wsize||tt!==b.avail_out&&x.mode<on&&(x.mode<so||W!==io))&&Si(b,b.output,b.next_out,tt-b.avail_out),Lt-=b.avail_in,tt-=b.avail_out,b.total_in+=Lt,b.total_out+=tt,x.total+=tt,4&x.wrap&&tt&&(b.adler=x.check=x.flags?oe(x.check,xe,tt,b.next_out-tt):M(x.check,xe,tt,b.next_out-tt)),b.data_type=x.bits+(x.last?64:0)+(x.mode===Mr?128:0)+(x.mode===os||x.mode===wi?256:0),(Lt===0&&tt===0||W===io)&&Yt===_i&&(Yt=Xd),Yt},inflateEnd:function(b){if(li(b))return wr;var W=b.state;return W.window&&(W.window=null),b.state=null,_i},inflateGetHeader:function(b,W){if(li(b))return wr;var x=b.state;return(2&x.wrap)==0?wr:(x.head=W,W.done=!1,_i)},inflateSetDictionary:function(b,W){var x,_e=W.length;return li(b)||(x=b.state).wrap!==0&&x.mode!==ya?wr:x.mode===ya&&M(1,W,_e,0)!==x.check?El:Si(b,W,_e,_e)?(x.mode=16210,ao):(x.havedict=1,_i)},inflateInfo:"pako inflate (from Nodeca project)"},fs=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},dc=Object.prototype.toString,Dl=be.Z_NO_FLUSH,Ol=be.Z_FINISH,ui=be.Z_OK,_a=be.Z_STREAM_END,oo=be.Z_NEED_DICT,Gd=be.Z_STREAM_ERROR,hc=be.Z_DATA_ERROR,Wd=be.Z_MEM_ERROR;function $i(b){this.options=Dn({chunkSize:65536,windowBits:15,to:""},b||{});var W=this.options;W.raw&&W.windowBits>=0&&W.windowBits<16&&(W.windowBits=-W.windowBits,W.windowBits===0&&(W.windowBits=-15)),!(W.windowBits>=0&&W.windowBits<16)||b&&b.windowBits||(W.windowBits+=32),W.windowBits>15&&W.windowBits<48&&(15&W.windowBits)==0&&(W.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _r,this.strm.avail_out=0;var x=Sr.inflateInit2(this.strm,W.windowBits);if(x!==ui)throw new Error(pe[x]);if(this.header=new fs,Sr.inflateGetHeader(this.strm,this.header),W.dictionary&&(typeof W.dictionary=="string"?W.dictionary=Tt(W.dictionary):dc.call(W.dictionary)==="[object ArrayBuffer]"&&(W.dictionary=new Uint8Array(W.dictionary)),W.raw&&(x=Sr.inflateSetDictionary(this.strm,W.dictionary))!==ui))throw new Error(pe[x])}function Rl(b,W){var x=new $i(W);if(x.push(b),x.err)throw x.msg||pe[x.err];return x.result}$i.prototype.push=function(b,W){var x,_e,xe,Se=this.strm,Ie=this.options.chunkSize,Te=this.options.dictionary;if(this.ended)return!1;for(_e=W===~~W?W:W===!0?Ol:Dl,dc.call(b)==="[object ArrayBuffer]"?Se.input=new Uint8Array(b):Se.input=b,Se.next_in=0,Se.avail_in=Se.input.length;;){for(Se.avail_out===0&&(Se.output=new Uint8Array(Ie),Se.next_out=0,Se.avail_out=Ie),(x=Sr.inflate(Se,_e))===oo&&Te&&((x=Sr.inflateSetDictionary(Se,Te))===ui?x=Sr.inflate(Se,_e):x===hc&&(x=oo));Se.avail_in>0&&x===_a&&Se.state.wrap>0&&b[Se.next_in]!==0;)Sr.inflateReset(Se),x=Sr.inflate(Se,_e);switch(x){case Gd:case hc:case oo:case Wd:return this.onEnd(x),this.ended=!0,!1}if(xe=Se.avail_out,Se.next_out&&(Se.avail_out===0||x===_a))if(this.options.to==="string"){var Ye=En(Se.output,Se.next_out),Oe=Se.next_out-Ye,ke=tr(Se.output,Ye);Se.next_out=Oe,Se.avail_out=Ie-Oe,Oe&&Se.output.set(Se.output.subarray(Ye,Ye+Oe),0),this.onData(ke)}else this.onData(Se.output.length===Se.next_out?Se.output:Se.output.subarray(0,Se.next_out));if(x!==ui||xe!==0){if(x===_a)return x=Sr.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,!0;if(Se.avail_in===0)break}}return!0},$i.prototype.onData=function(b){this.chunks.push(b)},$i.prototype.onEnd=function(b){b===ui&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ft(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg};var lo={Inflate:$i,inflate:Rl,inflateRaw:function(b,W){return(W=W||{}).raw=!0,Rl(b,W)},ungzip:Rl},pc=is.Deflate,mc=is.deflate,gc=is.deflateRaw,Nl=is.gzip,vc=lo.Inflate,yc=lo.inflate,bc=lo.inflateRaw,_c=lo.ungzip,uo=be,Zd={Deflate:pc,deflate:mc,deflateRaw:gc,gzip:Nl,Inflate:vc,inflate:yc,inflateRaw:bc,ungzip:_c,constants:uo};n.Deflate=pc,n.Inflate=vc,n.constants=uo,n.default=Zd,n.deflate=mc,n.deflateRaw=gc,n.gzip=Nl,n.inflate=yc,n.inflateRaw=bc,n.ungzip=_c,Object.defineProperty(n,"__esModule",{value:!0})})}(Ru,Ru.exports)),Ru.exports}var v2;function ID(){if(v2)return Ns;v2=1;var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",e=BD();return Ns.uncompressInputType=t?"uint8array":"array",Ns.compressInputType=t?"uint8array":"array",Ns.magic="\b\0",Ns.compress=function(n,r){return e.deflateRaw(n,{level:r.level||-1})},Ns.uncompress=function(n){return e.inflateRaw(n)},Ns}var y2;function a0(){return y2||(y2=1,Df.STORE={magic:"\0\0",compress:function(e){return e},uncompress:function(e){return e},compressInputType:null,uncompressInputType:null},Df.DEFLATE=ID()),Df}var Of={exports:{}},b2;function s0(){return b2||(b2=1,Of.exports=function(t,e){return typeof t=="number"?Buffer.alloc(t):Buffer.from(t,e)},Of.exports.test=function(t){return Buffer.isBuffer(t)}),Of.exports}var _2;function yi(){return _2||(_2=1,function(t){function e(h){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},e(h)}var n=gl(),r=a0(),i=s0();t.string2binary=function(h){for(var m="",g=0;g<h.length;g++)m+=String.fromCharCode(h.charCodeAt(g)&255);return m},t.arrayBuffer2Blob=function(h,m){t.checkSupport("blob"),m=m||"application/zip";try{return new Blob([h],{type:m})}catch{try{var g=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,v=new g;return v.append(h),v.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};function s(h){return h}function l(h,m){for(var g=0;g<h.length;++g)m[g]=h.charCodeAt(g)&255;return m}function c(h){var m=65536,g=[],v=h.length,_=t.getTypeOf(h),C=0,T=!0;try{switch(_){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,i(0));break}}catch{T=!1}if(!T){for(var S="",P=0;P<h.length;P++)S+=String.fromCharCode(h[P]);return S}for(;C<v&&m>1;)try{_==="array"||_==="nodebuffer"?g.push(String.fromCharCode.apply(null,h.slice(C,Math.min(C+m,v)))):g.push(String.fromCharCode.apply(null,h.subarray(C,Math.min(C+m,v)))),C+=m}catch{m=Math.floor(m/2)}return g.join("")}t.applyFromCharCode=c;function f(h,m){for(var g=0;g<h.length;g++)m[g]=h[g];return m}var d={};d.string={string:s,array:function(m){return l(m,new Array(m.length))},arraybuffer:function(m){return d.string.uint8array(m).buffer},uint8array:function(m){return l(m,new Uint8Array(m.length))},nodebuffer:function(m){return l(m,i(m.length))}},d.array={string:c,array:s,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return i(m)}},d.arraybuffer={string:function(m){return c(new Uint8Array(m))},array:function(m){return f(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:s,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return i(new Uint8Array(m))}},d.uint8array={string:c,array:function(m){return f(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:s,nodebuffer:function(m){return i(m)}},d.nodebuffer={string:c,array:function(m){return f(m,new Array(m.length))},arraybuffer:function(m){return d.nodebuffer.uint8array(m).buffer},uint8array:function(m){return f(m,new Uint8Array(m.length))},nodebuffer:s},t.transformTo=function(h,m){if(m||(m=""),!h)return m;t.checkSupport(h);var g=t.getTypeOf(m),v=d[g][h](m);return v},t.getTypeOf=function(h){if(h!=null){if(typeof h=="string")return"string";var m=Object.prototype.toString.call(h);if(m==="[object Array]")return"array";if(n.nodebuffer&&i.test(h))return"nodebuffer";if(n.uint8array&&m==="[object Uint8Array]")return"uint8array";if(n.arraybuffer&&m==="[object ArrayBuffer]")return"arraybuffer";if(m==="[object Promise]")throw new Error("Cannot read data from a promise, you probably are running new PizZip(data) with a promise");if(e(h)==="object"&&typeof h.file=="function")throw new Error("Cannot read data from a pizzip instance, you probably are running new PizZip(zip) with a zipinstance");if(m==="[object Date]")throw new Error("Cannot read data from a Date, you probably are running new PizZip(data) with a date");if(e(h)==="object"&&h.crc32==null)throw new Error("Unsupported data given to new PizZip(data) (object given)")}},t.checkSupport=function(h){var m=n[h.toLowerCase()];if(!m)throw new Error(h+" is not supported by this browser")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(h){var m="",g,v;for(v=0;v<(h||"").length;v++)g=h.charCodeAt(v),m+="\\x"+(g<16?"0":"")+g.toString(16).toUpperCase();return m},t.findCompression=function(h){for(var m in r)if(r.hasOwnProperty(m)&&r[m].magic===h)return r[m];return null},t.isRegExp=function(h){return Object.prototype.toString.call(h)==="[object RegExp]"},t.extend=function(){var h={},m,g;for(m=0;m<arguments.length;m++)for(g in arguments[m])arguments[m].hasOwnProperty(g)&&typeof h[g]>"u"&&(h[g]=arguments[m][g]);return h}}(Nm)),Nm}var km,x2;function UD(){if(x2)return km;x2=1;var t=yi(),e=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];return km=function(r,i){if(typeof r>"u"||!r.length)return 0;var s=t.getTypeOf(r)!=="string";typeof i>"u"&&(i=0);var l=0,c=0,f=0;i^=-1;for(var d=0,h=r.length;d<h;d++)f=s?r[d]:r.charCodeAt(d),c=(i^f)&255,l=e[c],i=i>>>8^l;return i^-1},km}var qa={},w2;function vw(){return w2||(w2=1,qa.LOCAL_FILE_HEADER="PK",qa.CENTRAL_FILE_HEADER="PK",qa.CENTRAL_DIRECTORY_END="PK",qa.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",qa.ZIP64_CENTRAL_DIRECTORY_END="PK",qa.DATA_DESCRIPTOR="PK\x07\b"),qa}var ti={},S2;function yw(){return S2||(S2=1,ti.base64=!1,ti.binary=!1,ti.dir=!1,ti.createFolders=!1,ti.date=null,ti.compression=null,ti.compressionOptions=null,ti.comment=null,ti.unixPermissions=null,ti.dosPermissions=null),ti}var Mm,E2;function bw(){if(E2)return Mm;E2=1;function t(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}return t.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},Mm=t,Mm}var Rf={},A2;function _w(){if(A2)return Rf;A2=1;for(var t=yi(),e=gl(),n=s0(),r=new Array(256),i=0;i<256;i++)r[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;r[254]=r[254]=1;function s(f){var d,h,m,g,v,_=0,C=f.length;for(g=0;g<C;g++)h=f.charCodeAt(g),(h&64512)===55296&&g+1<C&&(m=f.charCodeAt(g+1),(m&64512)===56320&&(h=65536+(h-55296<<10)+(m-56320),g++)),_+=h<128?1:h<2048?2:h<65536?3:4;for(e.uint8array?d=new Uint8Array(_):d=new Array(_),v=0,g=0;v<_;g++)h=f.charCodeAt(g),(h&64512)===55296&&g+1<C&&(m=f.charCodeAt(g+1),(m&64512)===56320&&(h=65536+(h-55296<<10)+(m-56320),g++)),h<128?d[v++]=h:h<2048?(d[v++]=192|h>>>6,d[v++]=128|h&63):h<65536?(d[v++]=224|h>>>12,d[v++]=128|h>>>6&63,d[v++]=128|h&63):(d[v++]=240|h>>>18,d[v++]=128|h>>>12&63,d[v++]=128|h>>>6&63,d[v++]=128|h&63);return d}function l(f,d){var h;for(d=d||f.length,d>f.length&&(d=f.length),h=d-1;h>=0&&(f[h]&192)===128;)h--;return h<0||h===0?d:h+r[f[h]]>d?h:d}function c(f){var d,h,m,g,v=f.length,_=new Array(v*2);for(h=0,d=0;d<v;){if(m=f[d++],m<128){_[h++]=m;continue}if(g=r[m],g>4){_[h++]=65533,d+=g-1;continue}for(m&=g===2?31:g===3?15:7;g>1&&d<v;)m=m<<6|f[d++]&63,g--;if(g>1){_[h++]=65533;continue}m<65536?_[h++]=m:(m-=65536,_[h++]=55296|m>>10&1023,_[h++]=56320|m&1023)}return _.length!==h&&(_.subarray?_=_.subarray(0,h):_.length=h),t.applyFromCharCode(_)}return Rf.utf8encode=function(d){return e.nodebuffer?n(d,"utf-8"):s(d)},Rf.utf8decode=function(d){if(e.nodebuffer)return t.transformTo("nodebuffer",d).toString("utf-8");d=t.transformTo(e.uint8array?"uint8array":"array",d);for(var h=[],m=d.length,g=65536,v=0;v<m;){var _=l(d,Math.min(v+g,m));e.uint8array?h.push(c(d.subarray(v,_))):h.push(c(d.slice(v,_))),v=_}return h.join("")},Rf}var jm,C2;function zD(){if(C2)return jm;C2=1;var t=yi();function e(){this.data=[]}return e.prototype={append:function(r){r=t.transformTo("string",r),this.data.push(r)},finalize:function(){return this.data.join("")}},jm=e,jm}var Lm,T2;function FD(){if(T2)return Lm;T2=1;var t=yi();function e(n){this.data=new Uint8Array(n),this.index=0}return e.prototype={append:function(r){r.length!==0&&(r=t.transformTo("uint8array",r),this.data.set(r,this.index),this.index+=r.length)},finalize:function(){return this.data}},Lm=e,Lm}var Pm,D2;function xw(){if(D2)return Pm;D2=1;function t(Y,k){var A=typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(!A){if(Array.isArray(Y)||(A=e(Y))||k){A&&(Y=A);var R=0,Q=function(){};return{s:Q,n:function(){return R>=Y.length?{done:!0}:{done:!1,value:Y[R++]}},e:function(K){throw K},f:Q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var re,F=!0,de=!1;return{s:function(){A=A.call(Y)},n:function(){var K=A.next();return F=K.done,K},e:function(K){de=!0,re=K},f:function(){try{F||A.return==null||A.return()}finally{if(de)throw re}}}}function e(Y,k){if(Y){if(typeof Y=="string")return n(Y,k);var A={}.toString.call(Y).slice(8,-1);return A==="Object"&&Y.constructor&&(A=Y.constructor.name),A==="Map"||A==="Set"?Array.from(Y):A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A)?n(Y,k):void 0}}function n(Y,k){(k==null||k>Y.length)&&(k=Y.length);for(var A=0,R=Array(k);A<k;A++)R[A]=Y[A];return R}var r=gl(),i=yi(),s=UD(),l=vw(),c=yw(),f=i0(),d=a0(),h=bw(),m=s0(),g=_w(),v=zD(),_=FD();function C(Y){if(Y._data instanceof h&&(Y._data=Y._data.getContent(),Y.options.binary=!0,Y.options.base64=!1,i.getTypeOf(Y._data)==="uint8array")){var k=Y._data;Y._data=new Uint8Array(k.length),k.length!==0&&Y._data.set(k,0)}return Y._data}function T(Y){var k=C(Y),A=i.getTypeOf(k);return A==="string"?!Y.options.binary&&r.nodebuffer?m(k,"utf-8"):Y.asBinary():k}var S={load:function(){throw new Error("Load method is not defined. Is the file pizzip-load.js included ?")},filter:function(k){var A=[],R,Q,re,F;for(R in this.files)this.files.hasOwnProperty(R)&&(re=this.files[R],F=new L(re.name,re._data,i.extend(re.options)),Q=R.slice(this.root.length,R.length),R.slice(0,this.root.length)===this.root&&k(Q,F)&&A.push(F));return A},file:function(k,A,R){if(arguments.length===1){if(i.isRegExp(k)){var Q=k;return this.filter(function(re,F){return!F.dir&&Q.test(re)})}return this.filter(function(re,F){return!F.dir&&re===k})[0]||null}return k=this.root+k,N.call(this,k,A,R),this},folder:function(k){if(!k)return this;if(i.isRegExp(k))return this.filter(function(re,F){return F.dir&&k.test(re)});var A=this.root+k,R=O.call(this,A),Q=this.shallowClone();return Q.root=R.name,Q},remove:function(k){k=this.root+k;var A=this.files[k];if(A||(k.slice(-1)!=="/"&&(k+="/"),A=this.files[k]),A&&!A.dir)delete this.files[k];else for(var R=this.filter(function(re,F){return F.name.slice(0,k.length)===k}),Q=0;Q<R.length;Q++)delete this.files[R[Q].name];return this},generate:function(k){k=i.extend(k||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:g.utf8encode}),i.checkSupport(k.type),(k.platform==="darwin"||k.platform==="freebsd"||k.platform==="linux"||k.platform==="sunos")&&(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var A=[],R=i.transformTo("string",k.encodeFileName(k.comment||this.comment||"")),Q=0,re=0,F,de,ae=[];k.fileOrder instanceof Array&&(ae=k.fileOrder);for(var K in this.files)ae.indexOf(K)===-1&&ae.push(K);typeof k.fileOrder=="function"&&(ae=k.fileOrder(this.files));var U=t(ae),M;try{for(U.s();!(M=U.n()).done;){var H=M.value;if(this.files.hasOwnProperty(H)){var oe=this.files[H],pe=oe.options.compression||k.compression.toUpperCase(),be=d[pe];if(!be)throw new Error(pe+" is not a valid compression method !");var ve=oe.options.compressionOptions||k.compressionOptions||{},fe=V.call(this,oe,be,ve),me=ce.call(this,H,oe,fe,Q,k.platform,k.encodeFileName);Q+=me.fileRecord.length+fe.compressedSize,re+=me.dirRecord.length,A.push(me)}}}catch(he){U.e(he)}finally{U.f()}var Ae="";Ae=l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+I(A.length,2)+I(A.length,2)+I(re,4)+I(Q,4)+I(R.length,2)+R;var Z=k.type.toLowerCase();for(Z==="uint8array"||Z==="arraybuffer"||Z==="blob"||Z==="nodebuffer"?F=new _(Q+re+Ae.length):F=new v(Q+re+Ae.length),de=0;de<A.length;de++)F.append(A[de].fileRecord),F.append(A[de].compressedObject.compressedContent);for(de=0;de<A.length;de++)F.append(A[de].dirRecord);F.append(Ae);var ie=F.finalize();switch(k.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return i.transformTo(k.type.toLowerCase(),ie);case"blob":return i.arrayBuffer2Blob(i.transformTo("arraybuffer",ie),k.mimeType);case"base64":return k.base64?f.encode(ie):ie;default:return ie}},crc32:function(k,A){return s(k,A)},utf8encode:function(k){return i.transformTo("string",g.utf8encode(k))},utf8decode:function(k){return g.utf8decode(k)}};function P(Y){var k=C(this);return k===null||typeof k>"u"?"":(this.options.base64&&(k=f.decode(k)),Y&&this.options.binary?k=S.utf8decode(k):k=i.transformTo("string",k),!Y&&!this.options.binary&&(k=i.transformTo("string",S.utf8encode(k))),k)}function L(Y,k,A){this.name=Y,this.dir=A.dir,this.date=A.date,this.comment=A.comment,this.unixPermissions=A.unixPermissions,this.dosPermissions=A.dosPermissions,this._data=k,this.options=A,this._initialMetadata={dir:A.dir,date:A.date}}L.prototype={asText:function(){return P.call(this,!0)},asBinary:function(){return P.call(this,!1)},asNodeBuffer:function(){var k=T(this);return i.transformTo("nodebuffer",k)},asUint8Array:function(){var k=T(this);return i.transformTo("uint8array",k)},asArrayBuffer:function(){return this.asUint8Array().buffer}};function I(Y,k){var A="",R;for(R=0;R<k;R++)A+=String.fromCharCode(Y&255),Y>>>=8;return A}function j(Y){return Y=Y||{},Y.base64===!0&&(Y.binary===null||Y.binary===void 0)&&(Y.binary=!0),Y=i.extend(Y,c),Y.date=Y.date||new Date,Y.compression!==null&&(Y.compression=Y.compression.toUpperCase()),Y}function N(Y,k,A){var R=i.getTypeOf(k),Q;if(A=j(A),typeof A.unixPermissions=="string"&&(A.unixPermissions=parseInt(A.unixPermissions,8)),A.unixPermissions&&A.unixPermissions&16384&&(A.dir=!0),A.dosPermissions&&A.dosPermissions&16&&(A.dir=!0),A.dir&&(Y=D(Y)),A.createFolders&&(Q=B(Y))&&O.call(this,Q,!0),A.dir||k===null||typeof k>"u")A.base64=!1,A.binary=!1,k=null,R=null;else if(R==="string")A.binary&&!A.base64&&A.optimizedBinaryString!==!0&&(k=i.string2binary(k));else{if(A.base64=!1,A.binary=!0,!R&&!(k instanceof h))throw new Error("The data of '"+Y+"' is in an unsupported format !");R==="arraybuffer"&&(k=i.transformTo("uint8array",k))}var re=new L(Y,k,A);return this.files[Y]=re,re}function B(Y){Y.slice(-1)==="/"&&(Y=Y.substring(0,Y.length-1));var k=Y.lastIndexOf("/");return k>0?Y.substring(0,k):""}function D(Y){return Y.slice(-1)!=="/"&&(Y+="/"),Y}function O(Y,k){return k=typeof k<"u"?k:!1,Y=D(Y),this.files[Y]||N.call(this,Y,null,{dir:!0,createFolders:k}),this.files[Y]}function V(Y,k,A){var R=new h,Q;return Y._data instanceof h?(R.uncompressedSize=Y._data.uncompressedSize,R.crc32=Y._data.crc32,R.uncompressedSize===0||Y.dir?(k=d.STORE,R.compressedContent="",R.crc32=0):Y._data.compressionMethod===k.magic?R.compressedContent=Y._data.getCompressedContent():(Q=Y._data.getContent(),R.compressedContent=k.compress(i.transformTo(k.compressInputType,Q),A))):(Q=T(Y),(!Q||Q.length===0||Y.dir)&&(k=d.STORE,Q=""),R.uncompressedSize=Q.length,R.crc32=s(Q),R.compressedContent=k.compress(i.transformTo(k.compressInputType,Q),A)),R.compressedSize=R.compressedContent.length,R.compressionMethod=k.magic,R}function $(Y,k){var A=Y;return Y||(A=k?16893:33204),(A&65535)<<16}function J(Y){return(Y||0)&63}function ce(Y,k,A,R,Q,re){var F=re!==g.utf8encode,de=i.transformTo("string",re(k.name)),ae=i.transformTo("string",g.utf8encode(k.name)),K=k.comment||"",U=i.transformTo("string",re(K)),M=i.transformTo("string",g.utf8encode(K)),H=ae.length!==k.name.length,oe=M.length!==K.length,pe=k.options,be,ve,fe="",me="",Ae="",Z,ie;k._initialMetadata.dir!==k.dir?Z=k.dir:Z=pe.dir,k._initialMetadata.date!==k.date?ie=k.date:ie=pe.date;var he=0,ge=0;Z&&(he|=16),Q==="UNIX"?(ge=798,he|=$(k.unixPermissions,Z)):(ge=20,he|=J(k.dosPermissions)),be=ie.getHours(),be<<=6,be|=ie.getMinutes(),be<<=5,be|=ie.getSeconds()/2,ve=ie.getFullYear()-1980,ve<<=4,ve|=ie.getMonth()+1,ve<<=5,ve|=ie.getDate(),H&&(me=I(1,1)+I(s(de),4)+ae,fe+="up"+I(me.length,2)+me),oe&&(Ae=I(1,1)+I(this.crc32(U),4)+M,fe+="uc"+I(Ae.length,2)+Ae);var ee="";ee+=`
\0`,ee+=!F&&(H||oe)?"\0\b":"\0\0",ee+=A.compressionMethod,ee+=I(be,2),ee+=I(ve,2),ee+=I(A.crc32,4),ee+=I(A.compressedSize,4),ee+=I(A.uncompressedSize,4),ee+=I(de.length,2),ee+=I(fe.length,2);var q=l.LOCAL_FILE_HEADER+ee+de+fe,ne=l.CENTRAL_FILE_HEADER+I(ge,2)+ee+I(U.length,2)+"\0\0\0\0"+I(he,4)+I(R,4)+de+fe+U;return{fileRecord:q,dirRecord:ne,compressedObject:A}}return Pm=S,Pm}var Bm,O2;function ww(){if(O2)return Bm;O2=1;var t=yi();function e(){this.data=null,this.length=0,this.index=0,this.zero=0}return e.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var i=0,s;for(this.checkOffset(r),s=this.index+r-1;s>=this.index;s--)i=(i<<8)+this.byteAt(s);return this.index+=r,i},readString:function(r){return t.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date((r>>25&127)+1980,(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(r&31)<<1)}},Bm=e,Bm}var Im,R2;function Sw(){if(R2)return Im;R2=1;var t=ww(),e=yi();function n(r,i){this.data=r,i||(this.data=e.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}return n.prototype=new t,n.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},n.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},n.prototype.readData=function(r){this.checkOffset(r);var i=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,i},Im=n,Im}var Um,N2;function Ew(){if(N2)return Um;N2=1;var t=ww();function e(n){if(n){this.data=n,this.length=this.data.length,this.index=0,this.zero=0;for(var r=0;r<this.data.length;r++)n[r]&=n[r]}}return e.prototype=new t,e.prototype.byteAt=function(n){return this.data[this.zero+n]},e.prototype.lastIndexOfSignature=function(n){for(var r=n.charCodeAt(0),i=n.charCodeAt(1),s=n.charCodeAt(2),l=n.charCodeAt(3),c=this.length-4;c>=0;--c)if(this.data[c]===r&&this.data[c+1]===i&&this.data[c+2]===s&&this.data[c+3]===l)return c-this.zero;return-1},e.prototype.readData=function(n){if(this.checkOffset(n),n===0)return[];var r=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,r},Um=e,Um}var zm,k2;function Aw(){if(k2)return zm;k2=1;var t=Ew();function e(n){n&&(this.data=n,this.length=this.data.length,this.index=0,this.zero=0)}return e.prototype=new t,e.prototype.readData=function(n){if(this.checkOffset(n),n===0)return new Uint8Array(0);var r=this.data.subarray(this.zero+this.index,this.zero+this.index+n);return this.index+=n,r},zm=e,zm}var Fm,M2;function qD(){if(M2)return Fm;M2=1;var t=Aw();function e(n){this.data=n,this.length=this.data.length,this.index=0,this.zero=0}return e.prototype=new t,e.prototype.readData=function(n){this.checkOffset(n);var r=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,r},Fm=e,Fm}var qm,j2;function HD(){if(j2)return qm;j2=1;var t=Sw(),e=yi(),n=bw(),r=xw(),i=gl(),s=0,l=3;function c(f,d){this.options=f,this.loadOptions=d}return c.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},prepareCompressedContent:function(d,h,m){return function(){var g=d.index;d.setIndex(h);var v=d.readData(m);return d.setIndex(g),v}},prepareContent:function(d,h,m,g,v){return function(){var _=e.transformTo(g.uncompressInputType,this.getCompressedContent()),C=g.uncompress(_);if(C.length!==v)throw new Error("Bug : uncompressed data size mismatch");return C}},readLocalPart:function(d){d.skip(22),this.fileNameLength=d.readInt(2);var h=d.readInt(2);if(this.fileName=d.readData(this.fileNameLength),d.skip(h),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");var m=e.findCompression(this.compressionMethod);if(m===null)throw new Error("Corrupted zip : compression "+e.pretty(this.compressionMethod)+" unknown (inner file : "+e.transformTo("string",this.fileName)+")");if(this.decompressed=new n,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(d,d.index,this.compressedSize,m),this.decompressed.getContent=this.prepareContent(d,d.index,this.compressedSize,m,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=e.transformTo("string",this.decompressed.getContent()),r.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(d){if(this.versionMadeBy=d.readInt(2),this.versionNeeded=d.readInt(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4),this.fileNameLength=d.readInt(2),this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=d.readData(this.fileNameLength),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),d===s&&(this.dosPermissions=this.externalFileAttributes&63),d===l&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=new t(this.extraFields[1].value);this.uncompressedSize===e.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===e.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===e.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===e.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var h=d.index,m,g,v;for(this.extraFields=this.extraFields||{};d.index<h+this.extraFieldsLength;)m=d.readInt(2),g=d.readInt(2),v=d.readString(g),this.extraFields[m]={id:m,length:g,value:v}},handleUTF8:function(){var d=i.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=r.utf8decode(this.fileName),this.fileCommentStr=r.utf8decode(this.fileComment);else{var h=this.findExtraFieldUnicodePath();if(h!==null)this.fileNameStr=h;else{var m=e.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var v=e.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var h=new t(d.value);return h.readInt(1)!==1||r.crc32(this.fileName)!==h.readInt(4)?null:r.utf8decode(h.readString(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var h=new t(d.value);return h.readInt(1)!==1||r.crc32(this.fileComment)!==h.readInt(4)?null:r.utf8decode(h.readString(d.length-5))}return null}},qm=c,qm}var Hm,L2;function $D(){if(L2)return Hm;L2=1;var t=Sw(),e=qD(),n=Aw(),r=Ew(),i=yi(),s=vw(),l=HD(),c=gl();function f(d,h){this.files=[],this.loadOptions=h,d&&this.load(d)}return f.prototype={checkSignature:function(h){var m=this.reader.readString(4);if(m!==h)throw new Error("Corrupted zip or bug : unexpected signature ("+i.pretty(m)+", expected "+i.pretty(h)+")")},isSignature:function(h,m){var g=this.reader.index;this.reader.setIndex(h);var v=this.reader.readString(4),_=v===m;return this.reader.setIndex(g),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),m=c.uint8array?"uint8array":"array",g=i.transformTo(m,h);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h=this.zip64EndOfCentralSize-44,m=0,g,v,_;m<h;)g=this.reader.readInt(2),v=this.reader.readInt(4),_=this.reader.readString(v),this.zip64ExtensibleData[g]={id:g,length:v,value:_}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,m;for(h=0;h<this.files.length;h++)m=this.files[h],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===s.CENTRAL_FILE_HEADER;)h=new l({zip64:this.zip64},this.loadOptions),h.readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(h<0){var m=!this.isSignature(0,s.LOCAL_FILE_HEADER);throw m?new Error("Can't find end of central directory : is this a zip file ?"):new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(h);var g=h;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,h=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),h<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var _=g-v;if(_>0)this.isSignature(g,s.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(h){var m=i.getTypeOf(h);if(i.checkSupport(m),m==="string"&&!c.uint8array)this.reader=new t(h,this.loadOptions.optimizedBinaryString);else if(m==="nodebuffer")this.reader=new e(h);else if(c.uint8array)this.reader=new n(i.transformTo("uint8array",h));else if(c.array)this.reader=new r(i.transformTo("array",h));else throw new Error("Unexpected error: unsupported type '"+m+"'")},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},Hm=f,Hm}var $m,P2;function VD(){if(P2)return $m;P2=1;var t=i0(),e=_w(),n=yi(),r=$D();return $m=function(i,s){var l,c;s=n.extend(s||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:e.utf8decode}),s.base64&&(i=t.decode(i));var f=new r(i,s),d=f.files;for(l=0;l<d.length;l++)c=d[l],this.file(c.fileNameStr,c.decompressed,{binary:!0,optimizedBinaryString:!0,date:c.date,dir:c.dir,comment:c.fileCommentStr.length?c.fileCommentStr:null,unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions,createFolders:s.createFolders});return f.zipComment.length&&(this.comment=f.zipComment),this},$m}var br={},B2;function YD(){if(B2)return br;B2=1;var t=yi();return br.string2binary=function(e){return t.string2binary(e)},br.string2Uint8Array=function(e){return t.transformTo("uint8array",e)},br.uint8Array2String=function(e){return t.transformTo("string",e)},br.string2Blob=function(e){var n=t.transformTo("arraybuffer",e);return t.arrayBuffer2Blob(n)},br.arrayBuffer2Blob=function(e){return t.arrayBuffer2Blob(e)},br.transformTo=function(e,n){return t.transformTo(e,n)},br.getTypeOf=function(e){return t.getTypeOf(e)},br.checkSupport=function(e){return t.checkSupport(e)},br.MAX_VALUE_16BITS=t.MAX_VALUE_16BITS,br.MAX_VALUE_32BITS=t.MAX_VALUE_32BITS,br.pretty=function(e){return t.pretty(e)},br.findCompression=function(e){return t.findCompression(e)},br.isRegExp=function(e){return t.isRegExp(e)},br}var I2;function XD(){return I2||(I2=1,function(t){var e=i0();function n(r,i){if(!(this instanceof n))return new n(r,i);this.files={},this.comment=null,this.root="",r&&this.load(r,i),this.clone=function(){var s=this,l=new n;return Object.keys(this.files).forEach(function(c){l.file(c,s.files[c].asUint8Array())}),l},this.shallowClone=function(){var s=new n;for(var l in this)typeof this[l]!="function"&&(s[l]=this[l]);return s}}n.prototype=xw(),n.prototype.load=VD(),n.support=gl(),n.defaults=yw(),n.utils=YD(),n.base64={encode:function(i){return e.encode(i)},decode:function(i){return e.decode(i)}},n.compressions=a0(),t.exports=n,t.exports.default=n}(Rm)),Rm.exports}var GD=XD();const WD=hl(GD);var Zf={exports:{}},ZD=Zf.exports,U2;function KD(){return U2||(U2=1,function(t,e){(function(n,r){r()})(ZD,function(){function n(d,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function r(d,h,m){var g=new XMLHttpRequest;g.open("GET",d),g.responseType="blob",g.onload=function(){f(g.response,h,m)},g.onerror=function(){console.error("could not download file")},g.send()}function i(d){var h=new XMLHttpRequest;h.open("HEAD",d,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function s(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(h)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof xf=="object"&&xf.global===xf?xf:void 0,c=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(d,h,m){var g=l.URL||l.webkitURL,v=document.createElement("a");h=h||d.name||"download",v.download=h,v.rel="noopener",typeof d=="string"?(v.href=d,v.origin===location.origin?s(v):i(v.href)?r(d,h,m):s(v,v.target="_blank")):(v.href=g.createObjectURL(d),setTimeout(function(){g.revokeObjectURL(v.href)},4e4),setTimeout(function(){s(v)},0))}:"msSaveOrOpenBlob"in navigator?function(d,h,m){if(h=h||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(n(d,m),h);else if(i(d))r(d,h,m);else{var g=document.createElement("a");g.href=d,g.target="_blank",setTimeout(function(){s(g)})}}:function(d,h,m,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof d=="string")return r(d,h,m);var v=d.type==="application/octet-stream",_=/constructor/i.test(l.HTMLElement)||l.safari,C=/CriOS\/[\d]+/.test(navigator.userAgent);if((C||v&&_||c)&&typeof FileReader<"u"){var T=new FileReader;T.onloadend=function(){var L=T.result;L=C?L:L.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=L:location=L,g=null},T.readAsDataURL(d)}else{var S=l.URL||l.webkitURL,P=S.createObjectURL(d);g?g.location=P:location.href=P,g=null,setTimeout(function(){S.revokeObjectURL(P)},4e4)}});l.saveAs=f.saveAs=f,t.exports=f})}(Zf)),Zf.exports}var QD=KD();function JD({onLogin:t,onAuthCheck:e}){const[n,r]=se.useState(""),[i,s]=se.useState(""),[l,c]=se.useState(""),[f,d]=se.useState(!1);se.useEffect(()=>{(async()=>{const g=localStorage.getItem("supabaseAuthData");if(g)try{const{token:v,expiresAt:_}=JSON.parse(g);if(new Date().getTime()>=_){localStorage.removeItem("supabaseAuthData"),e(!1);return}d(!0),(await fetch("https://ljcazclnmhjdcmgefcvp.supabase.co/auth/v1/user",{headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqY2F6Y2xubWhqZGNtZ2VmY3ZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDczMTIwMzgsImV4cCI6MjA2Mjg4ODAzOH0.9NvbehpZ9SpewAC86T6LAkcRl5ZBKFLK_czeWg0O3JY",Authorization:`Bearer ${v}`}})).ok?t(v):localStorage.removeItem("supabaseAuthData")}catch(v){console.error("Session check error:",v),localStorage.removeItem("supabaseAuthData")}e(!1)})()},[t,e]);const h=async m=>{m.preventDefault(),d(!0),c("");try{const g=await fetch("https://ljcazclnmhjdcmgefcvp.supabase.co/auth/v1/token?grant_type=password",{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqY2F6Y2xubWhqZGNtZ2VmY3ZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDczMTIwMzgsImV4cCI6MjA2Mjg4ODAzOH0.9NvbehpZ9SpewAC86T6LAkcRl5ZBKFLK_czeWg0O3JY"},body:JSON.stringify({email:n,password:i})}),v=await g.json();if(g.ok){const _=new Date,C=new Date(_.getTime()+v.expires_in*1e3);console.log("Token expiry (seconds):",v.expires_in),localStorage.setItem("supabaseAuthData",JSON.stringify({token:v.access_token,expiresAt:C.getTime()})),t(v.access_token)}else throw new Error(v.message||"Неверный логин или пароль")}catch(g){c(g.message)}finally{d(!1)}};return E.jsx("div",{className:"login-container",children:E.jsxs("form",{className:"login-form",onSubmit:h,children:[E.jsx("div",{className:"app__header-wrapper app__header-wrapper--login",children:E.jsxs("div",{className:"app__header",children:[E.jsx("img",{src:"/documents/logo--driver.png",alt:"DRIV3R. Документооборот",width:"204"}),E.jsx("span",{className:"app__subtitle app__subtitle--login",children:"Документооборот"}),E.jsx("span",{className:"app__beta",title:"Бета-версия",children:"β"})]})}),E.jsx("h2",{children:"Вход в систему"}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"login",children:"Логин"}),E.jsx("input",{type:"text",id:"login",value:n,onChange:m=>r(m.target.value),autoComplete:"username",required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"password",children:"Пароль"}),E.jsx("input",{type:"password",id:"password",value:i,onChange:m=>s(m.target.value),autoComplete:"current-password",required:!0})]}),E.jsx("button",{className:"button button--main button--login",type:"submit",disabled:f,children:f?"Вхожу...":"Войти"}),l&&E.jsx("div",{className:"error-message",children:l})]})})}function eO(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function Cw(t,e){return new Promise(function(n,r){let i;return tO(t).then(function(s){try{return i=s,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(l){return r(l)}},r)})}const tO=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let l=0;if(s.getUint16(l)!==65496)return n("not a valid JPEG");for(l+=2;;){const c=s.getUint16(l);if(c===65498)break;const f=s.getUint16(l+2);if(c===65505&&s.getUint32(l+4)===1165519206){const d=l+10;let h;switch(s.getUint16(d)){case 18761:h=!0;break;case 19789:h=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(d+2,h)!==42)return n("TIFF header contains invalid version");const m=s.getUint32(d+4,h),g=d+m+2+12*s.getUint16(d+m,h);for(let v=d+m+2;v<g;v+=12)if(s.getUint16(v,h)==274){if(s.getUint16(v+2,h)!==3)return n("Orientation data type is invalid");if(s.getUint32(v+4,h)!==1)return n("Orientation data count is invalid");s.setUint16(v+8,1,h);break}return e(i.slice(l,l+2+f))}l+=2+f}return e(new Blob)}),r.readAsArrayBuffer(t)});var ud={},nO={get exports(){return ud},set exports(t){ud=t}};(function(t){var e,n,r={};nO.exports=r,r.parse=function(i,s){for(var l=r.bin.readUshort,c=r.bin.readUint,f=0,d={},h=new Uint8Array(i),m=h.length-4;c(h,m)!=101010256;)m--;f=m,f+=4;var g=l(h,f+=4);l(h,f+=2);var v=c(h,f+=2),_=c(h,f+=4);f+=4,f=_;for(var C=0;C<g;C++){c(h,f),f+=4,f+=4,f+=4,c(h,f+=4),v=c(h,f+=4);var T=c(h,f+=4),S=l(h,f+=4),P=l(h,f+2),L=l(h,f+4);f+=6;var I=c(h,f+=8);f+=4,f+=S+P+L,r._readLocal(h,I,d,v,T,s)}return d},r._readLocal=function(i,s,l,c,f,d){var h=r.bin.readUshort,m=r.bin.readUint;m(i,s),h(i,s+=4),h(i,s+=2);var g=h(i,s+=2);m(i,s+=2),m(i,s+=4),s+=4;var v=h(i,s+=8),_=h(i,s+=2);s+=2;var C=r.bin.readUTF8(i,s,v);if(s+=v,s+=_,d)l[C]={size:f,csize:c};else{var T=new Uint8Array(i.buffer,s);if(g==0)l[C]=new Uint8Array(T.buffer.slice(s,s+c));else{if(g!=8)throw"unknown compression method: "+g;var S=new Uint8Array(f);r.inflateRaw(T,S),l[C]=S}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var l=0,c=new Uint8Array(50+Math.floor(1.1*i.length));c[l]=120,c[l+1]=156,l+=2,l=r.F.deflateRaw(i,c,l,s.level);var f=r.adler(i,0,i.length);return c[l+0]=f>>>24&255,c[l+1]=f>>>16&255,c[l+2]=f>>>8&255,c[l+3]=f>>>0&255,new Uint8Array(c.buffer,0,l+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var l=new Uint8Array(50+Math.floor(1.1*i.length)),c=r.F.deflateRaw(i,l,c,s.level);return new Uint8Array(l.buffer,0,c)},r.encode=function(i,s){s==null&&(s=!1);var l=0,c=r.bin.writeUint,f=r.bin.writeUshort,d={};for(var h in i){var m=!r._noNeed(h)&&!s,g=i[h],v=r.crc.crc(g,0,g.length);d[h]={cpr:m,usize:g.length,crc:v,file:m?r.deflateRaw(g):g}}for(var h in d)l+=d[h].file.length+30+46+2*r.bin.sizeUTF8(h);l+=22;var _=new Uint8Array(l),C=0,T=[];for(var h in d){var S=d[h];T.push(C),C=r._writeHeader(_,C,h,S,0)}var P=0,L=C;for(var h in d)S=d[h],T.push(C),C=r._writeHeader(_,C,h,S,1,T[P++]);var I=C-L;return c(_,C,101010256),C+=4,f(_,C+=4,P),f(_,C+=2,P),c(_,C+=2,I),c(_,C+=4,L),C+=4,C+=2,_.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,l,c,f,d){var h=r.bin.writeUint,m=r.bin.writeUshort,g=c.file;return h(i,s,f==0?67324752:33639248),s+=4,f==1&&(s+=2),m(i,s,20),m(i,s+=2,0),m(i,s+=2,c.cpr?8:0),h(i,s+=2,0),h(i,s+=4,c.crc),h(i,s+=4,g.length),h(i,s+=4,c.usize),m(i,s+=4,r.bin.sizeUTF8(l)),m(i,s+=2,0),s+=2,f==1&&(s+=2,s+=2,h(i,s+=6,d),s+=4),s+=r.bin.writeUTF8(i,s,l),f==0&&(i.set(g,s),s+=g.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var l=s,c=0;c<8;c++)1&l?l=3988292384^l>>>1:l>>>=1;i[s]=l}return i}(),update:function(i,s,l,c){for(var f=0;f<c;f++)i=r.crc.table[255&(i^s[l+f])]^i>>>8;return i},crc:function(i,s,l){return 4294967295^r.crc.update(4294967295,i,s,l)}},r.adler=function(i,s,l){for(var c=1,f=0,d=s,h=s+l;d<h;){for(var m=Math.min(d+5552,h);d<m;)f+=c+=i[d++];c%=65521,f%=65521}return f<<16|c},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,l){i[s]=255&l,i[s+1]=l>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,l){i[s]=255&l,i[s+1]=l>>8&255,i[s+2]=l>>16&255,i[s+3]=l>>24&255},readASCII:function(i,s,l){for(var c="",f=0;f<l;f++)c+=String.fromCharCode(i[s+f]);return c},writeASCII:function(i,s,l){for(var c=0;c<l.length;c++)i[s+c]=l.charCodeAt(c)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,l){for(var c,f="",d=0;d<l;d++)f+="%"+r.bin.pad(i[s+d].toString(16));try{c=decodeURIComponent(f)}catch{return r.bin.readASCII(i,s,l)}return c},writeUTF8:function(i,s,l){for(var c=l.length,f=0,d=0;d<c;d++){var h=l.charCodeAt(d);if((4294967168&h)==0)i[s+f]=h,f++;else if((4294965248&h)==0)i[s+f]=192|h>>6,i[s+f+1]=128|h>>0&63,f+=2;else if((4294901760&h)==0)i[s+f]=224|h>>12,i[s+f+1]=128|h>>6&63,i[s+f+2]=128|h>>0&63,f+=3;else{if((4292870144&h)!=0)throw"e";i[s+f]=240|h>>18,i[s+f+1]=128|h>>12&63,i[s+f+2]=128|h>>6&63,i[s+f+3]=128|h>>0&63,f+=4}}return f},sizeUTF8:function(i){for(var s=i.length,l=0,c=0;c<s;c++){var f=i.charCodeAt(c);if((4294967168&f)==0)l++;else if((4294965248&f)==0)l+=2;else if((4294901760&f)==0)l+=3;else{if((4292870144&f)!=0)throw"e";l+=4}}return l}},r.F={},r.F.deflateRaw=function(i,s,l,c){var f=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][c],d=r.F.U,h=r.F._goodIndex;r.F._hash;var m=r.F._putsE,g=0,v=l<<3,_=0,C=i.length;if(c==0){for(;g<C;)m(s,v,g+($=Math.min(65535,C-g))==C?1:0),v=r.F._copyExact(i,g,$,s,v+8),g+=$;return v>>>3}var T=d.lits,S=d.strt,P=d.prev,L=0,I=0,j=0,N=0,B=0,D=0;for(C>2&&(S[D=r.F._hash(i,0)]=0),g=0;g<C;g++){if(B=D,g+1<C-2){D=r.F._hash(i,g+1);var O=g+1&32767;P[O]=S[D],S[D]=O}if(_<=g){(L>14e3||I>26697)&&C-g>100&&(_<g&&(T[L]=g-_,L+=2,_=g),v=r.F._writeBlock(g==C-1||_==C?1:0,T,L,N,i,j,g-j,s,v),L=I=N=0,j=g);var V=0;g<C-2&&(V=r.F._bestMatch(i,g,P,B,Math.min(f[2],C-g),f[3]));var $=V>>>16,J=65535&V;if(V!=0){J=65535&V;var ce=h($=V>>>16,d.of0);d.lhst[257+ce]++;var Y=h(J,d.df0);d.dhst[Y]++,N+=d.exb[ce]+d.dxb[Y],T[L]=$<<23|g-_,T[L+1]=J<<16|ce<<8|Y,L+=2,_=g+$}else d.lhst[i[g]]++;I++}}for(j==g&&i.length!=0||(_<g&&(T[L]=g-_,L+=2,_=g),v=r.F._writeBlock(1,T,L,N,i,j,g-j,s,v),L=0,I=0,L=I=N=0,j=g);(7&v)!=0;)v++;return v>>>3},r.F._bestMatch=function(i,s,l,c,f,d){var h=32767&s,m=l[h],g=h-m+32768&32767;if(m==h||c!=r.F._hash(i,s-g))return 0;for(var v=0,_=0,C=Math.min(32767,s);g<=C&&--d!=0&&m!=h;){if(v==0||i[s+v]==i[s+v-g]){var T=r.F._howLong(i,s,g);if(T>v){if(_=g,(v=T)>=f)break;g+2<T&&(T=g+2);for(var S=0,P=0;P<T-2;P++){var L=s-g+P+32768&32767,I=L-l[L]+32768&32767;I>S&&(S=I,m=L)}}}g+=(h=m)-(m=l[h])+32768&32767}return v<<16|_},r.F._howLong=function(i,s,l){if(i[s]!=i[s-l]||i[s+1]!=i[s+1-l]||i[s+2]!=i[s+2-l])return 0;var c=s,f=Math.min(i.length,s+258);for(s+=3;s<f&&i[s]==i[s-l];)s++;return s-c},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,l,c,f,d,h,m,g){var v,_,C,T,S,P,L,I,j,N=r.F.U,B=r.F._putsF,D=r.F._putsE;N.lhst[256]++,_=(v=r.F.getTrees())[0],C=v[1],T=v[2],S=v[3],P=v[4],L=v[5],I=v[6],j=v[7];var O=32+((g+3&7)==0?0:8-(g+3&7))+(h<<3),V=c+r.F.contSize(N.fltree,N.lhst)+r.F.contSize(N.fdtree,N.dhst),$=c+r.F.contSize(N.ltree,N.lhst)+r.F.contSize(N.dtree,N.dhst);$+=14+3*L+r.F.contSize(N.itree,N.ihst)+(2*N.ihst[16]+3*N.ihst[17]+7*N.ihst[18]);for(var J=0;J<286;J++)N.lhst[J]=0;for(J=0;J<30;J++)N.dhst[J]=0;for(J=0;J<19;J++)N.ihst[J]=0;var ce=O<V&&O<$?0:V<$?1:2;if(B(m,g,i),B(m,g+1,ce),g+=3,ce==0){for(;(7&g)!=0;)g++;g=r.F._copyExact(f,d,h,m,g)}else{var Y,k;if(ce==1&&(Y=N.fltree,k=N.fdtree),ce==2){r.F.makeCodes(N.ltree,_),r.F.revCodes(N.ltree,_),r.F.makeCodes(N.dtree,C),r.F.revCodes(N.dtree,C),r.F.makeCodes(N.itree,T),r.F.revCodes(N.itree,T),Y=N.ltree,k=N.dtree,D(m,g,S-257),D(m,g+=5,P-1),D(m,g+=5,L-4),g+=4;for(var A=0;A<L;A++)D(m,g+3*A,N.itree[1+(N.ordr[A]<<1)]);g+=3*L,g=r.F._codeTiny(I,N.itree,m,g),g=r.F._codeTiny(j,N.itree,m,g)}for(var R=d,Q=0;Q<l;Q+=2){for(var re=s[Q],F=re>>>23,de=R+(8388607&re);R<de;)g=r.F._writeLit(f[R++],Y,m,g);if(F!=0){var ae=s[Q+1],K=ae>>16,U=ae>>8&255,M=255&ae;D(m,g=r.F._writeLit(257+U,Y,m,g),F-N.of0[U]),g+=N.exb[U],B(m,g=r.F._writeLit(M,k,m,g),K-N.df0[M]),g+=N.dxb[M],R+=F}}g=r.F._writeLit(256,Y,m,g)}return g},r.F._copyExact=function(i,s,l,c,f){var d=f>>>3;return c[d]=l,c[d+1]=l>>>8,c[d+2]=255-c[d],c[d+3]=255-c[d+1],d+=4,c.set(new Uint8Array(i.buffer,s,l),d),f+(l+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),l=r.F._hufTree(i.dhst,i.dtree,15),c=[],f=r.F._lenCodes(i.ltree,c),d=[],h=r.F._lenCodes(i.dtree,d),m=0;m<c.length;m+=2)i.ihst[c[m]]++;for(m=0;m<d.length;m+=2)i.ihst[d[m]]++;for(var g=r.F._hufTree(i.ihst,i.itree,7),v=19;v>4&&i.itree[1+(i.ordr[v-1]<<1)]==0;)v--;return[s,l,g,f,h,v,c,d]},r.F.getSecond=function(i){for(var s=[],l=0;l<i.length;l+=2)s.push(i[l+1]);return s},r.F.nonZero=function(i){for(var s="",l=0;l<i.length;l+=2)i[l+1]!=0&&(s+=(l>>1)+",");return s},r.F.contSize=function(i,s){for(var l=0,c=0;c<s.length;c++)l+=s[c]*i[1+(c<<1)];return l},r.F._codeTiny=function(i,s,l,c){for(var f=0;f<i.length;f+=2){var d=i[f],h=i[f+1];c=r.F._writeLit(d,s,l,c);var m=d==16?2:d==17?3:7;d>15&&(r.F._putsE(l,c,h,m),c+=m)}return c},r.F._lenCodes=function(i,s){for(var l=i.length;l!=2&&i[l-1]==0;)l-=2;for(var c=0;c<l;c+=2){var f=i[c+1],d=c+3<l?i[c+3]:-1,h=c+5<l?i[c+5]:-1,m=c==0?-1:i[c-1];if(f==0&&d==f&&h==f){for(var g=c+5;g+2<l&&i[g+2]==f;)g+=2;(v=Math.min(g+1-c>>>1,138))<11?s.push(17,v-3):s.push(18,v-11),c+=2*v-2}else if(f==m&&d==f&&h==f){for(g=c+5;g+2<l&&i[g+2]==f;)g+=2;var v=Math.min(g+1-c>>>1,6);s.push(16,v-3),c+=2*v-2}else s.push(f,0)}return l>>>1},r.F._hufTree=function(i,s,l){var c=[],f=i.length,d=s.length,h=0;for(h=0;h<d;h+=2)s[h]=0,s[h+1]=0;for(h=0;h<f;h++)i[h]!=0&&c.push({lit:h,f:i[h]});var m=c.length,g=c.slice(0);if(m==0)return 0;if(m==1){var v=c[0].lit;return g=v==0?1:0,s[1+(v<<1)]=1,s[1+(g<<1)]=1,1}c.sort(function(I,j){return I.f-j.f});var _=c[0],C=c[1],T=0,S=1,P=2;for(c[0]={lit:-1,f:_.f+C.f,l:_,r:C,d:0};S!=m-1;)_=T!=S&&(P==m||c[T].f<c[P].f)?c[T++]:c[P++],C=T!=S&&(P==m||c[T].f<c[P].f)?c[T++]:c[P++],c[S++]={lit:-1,f:_.f+C.f,l:_,r:C};var L=r.F.setDepth(c[S-1],0);for(L>l&&(r.F.restrictDepth(g,l,L),L=l),h=0;h<m;h++)s[1+(g[h].lit<<1)]=g[h].d;return L},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,l){var c=0,f=1<<l-s,d=0;for(i.sort(function(m,g){return g.d==m.d?m.f-g.f:g.d-m.d}),c=0;c<i.length&&i[c].d>s;c++){var h=i[c].d;i[c].d=s,d+=f-(1<<l-h)}for(d>>>=l-s;d>0;)(h=i[c].d)<s?(i[c].d++,d-=1<<s-h-1):c++;for(;c>=0;c--)i[c].d==s&&d<0&&(i[c].d--,d++);d!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var l=0;return s[16|l]<=i&&(l|=16),s[8|l]<=i&&(l|=8),s[4|l]<=i&&(l|=4),s[2|l]<=i&&(l|=2),s[1|l]<=i&&(l|=1),l},r.F._writeLit=function(i,s,l,c){return r.F._putsF(l,c,s[i<<1]),c+s[1+(i<<1)]},r.F.inflate=function(i,s){var l=Uint8Array;if(i[0]==3&&i[1]==0)return s||new l(0);var c=r.F,f=c._bitsF,d=c._bitsE,h=c._decodeTiny,m=c.makeCodes,g=c.codes2map,v=c._get17,_=c.U,C=s==null;C&&(s=new l(i.length>>>2<<3));for(var T,S,P=0,L=0,I=0,j=0,N=0,B=0,D=0,O=0,V=0;P==0;)if(P=f(i,V,1),L=f(i,V+1,2),V+=3,L!=0){if(C&&(s=r.F._check(s,O+(1<<17))),L==1&&(T=_.flmap,S=_.fdmap,B=511,D=31),L==2){I=d(i,V,5)+257,j=d(i,V+5,5)+1,N=d(i,V+10,4)+4,V+=14;for(var $=0;$<38;$+=2)_.itree[$]=0,_.itree[$+1]=0;var J=1;for($=0;$<N;$++){var ce=d(i,V+3*$,3);_.itree[1+(_.ordr[$]<<1)]=ce,ce>J&&(J=ce)}V+=3*N,m(_.itree,J),g(_.itree,J,_.imap),T=_.lmap,S=_.dmap,V=h(_.imap,(1<<J)-1,I+j,i,V,_.ttree);var Y=c._copyOut(_.ttree,0,I,_.ltree);B=(1<<Y)-1;var k=c._copyOut(_.ttree,I,j,_.dtree);D=(1<<k)-1,m(_.ltree,Y),g(_.ltree,Y,T),m(_.dtree,k),g(_.dtree,k,S)}for(;;){var A=T[v(i,V)&B];V+=15&A;var R=A>>>4;if(!(R>>>8))s[O++]=R;else{if(R==256)break;var Q=O+R-254;if(R>264){var re=_.ldef[R-257];Q=O+(re>>>3)+d(i,V,7&re),V+=7&re}var F=S[v(i,V)&D];V+=15&F;var de=F>>>4,ae=_.ddef[de],K=(ae>>>4)+f(i,V,15&ae);for(V+=15&ae,C&&(s=r.F._check(s,O+(1<<17)));O<Q;)s[O]=s[O++-K],s[O]=s[O++-K],s[O]=s[O++-K],s[O]=s[O++-K];O=Q}}}else{(7&V)!=0&&(V+=8-(7&V));var U=4+(V>>>3),M=i[U-4]|i[U-3]<<8;C&&(s=r.F._check(s,O+M)),s.set(new l(i.buffer,i.byteOffset+U,M),O),V=U+M<<3,O+=M}return s.length==O?s:s.slice(0,O)},r.F._check=function(i,s){var l=i.length;if(s<=l)return i;var c=new Uint8Array(Math.max(l<<1,s));return c.set(i,0),c},r.F._decodeTiny=function(i,s,l,c,f,d){for(var h=r.F._bitsE,m=r.F._get17,g=0;g<l;){var v=i[m(c,f)&s];f+=15&v;var _=v>>>4;if(_<=15)d[g]=_,g++;else{var C=0,T=0;_==16?(T=3+h(c,f,2),f+=2,C=d[g-1]):_==17?(T=3+h(c,f,3),f+=3):_==18&&(T=11+h(c,f,7),f+=7);for(var S=g+T;g<S;)d[g]=C,g++}}return f},r.F._copyOut=function(i,s,l,c){for(var f=0,d=0,h=c.length>>>1;d<l;){var m=i[d+s];c[d<<1]=0,c[1+(d<<1)]=m,m>f&&(f=m),d++}for(;d<h;)c[d<<1]=0,c[1+(d<<1)]=0,d++;return f},r.F.makeCodes=function(i,s){for(var l,c,f,d,h=r.F.U,m=i.length,g=h.bl_count,v=0;v<=s;v++)g[v]=0;for(v=1;v<m;v+=2)g[i[v]]++;var _=h.next_code;for(l=0,g[0]=0,c=1;c<=s;c++)l=l+g[c-1]<<1,_[c]=l;for(f=0;f<m;f+=2)(d=i[f+1])!=0&&(i[f]=_[d],_[d]++)},r.F.codes2map=function(i,s,l){for(var c=i.length,f=r.F.U.rev15,d=0;d<c;d+=2)if(i[d+1]!=0)for(var h=d>>1,m=i[d+1],g=h<<4|m,v=s-m,_=i[d]<<v,C=_+(1<<v);_!=C;)l[f[_]>>>15-s]=g,_++},r.F.revCodes=function(i,s){for(var l=r.F.U.rev15,c=15-s,f=0;f<i.length;f+=2){var d=i[f]<<s-i[f+1];i[f]=l[d]>>>c}},r.F._putsE=function(i,s,l){l<<=7&s;var c=s>>>3;i[c]|=l,i[c+1]|=l>>>8},r.F._putsF=function(i,s,l){l<<=7&s;var c=s>>>3;i[c]|=l,i[c+1]|=l>>>8,i[c+2]|=l>>>16},r.F._bitsE=function(i,s,l){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<l)-1},r.F._bitsF=function(i,s,l){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<l)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var l=s;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,i.rev15[s]=(l>>>16|l<<16)>>>17}function c(f,d,h){for(;d--!=0;)f.push(0,h)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];c(i.fltree,144,8),c(i.fltree,112,9),c(i.fltree,24,7),c(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),c(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),c(i.itree,19,0),c(i.ltree,286,0),c(i.dtree,30,0),c(i.ttree,320,0)}()})();var rO=eO({__proto__:null,default:ud},[ud]);const hi=function(){var t={nextZero(h,m){for(;h[m]!=0;)m++;return m},readUshort:(h,m)=>h[m]<<8|h[m+1],writeUshort(h,m,g){h[m]=g>>8&255,h[m+1]=255&g},readUint:(h,m)=>16777216*h[m]+(h[m+1]<<16|h[m+2]<<8|h[m+3]),writeUint(h,m,g){h[m]=g>>24&255,h[m+1]=g>>16&255,h[m+2]=g>>8&255,h[m+3]=255&g},readASCII(h,m,g){let v="";for(let _=0;_<g;_++)v+=String.fromCharCode(h[m+_]);return v},writeASCII(h,m,g){for(let v=0;v<g.length;v++)h[m+v]=g.charCodeAt(v)},readBytes(h,m,g){const v=[];for(let _=0;_<g;_++)v.push(h[m+_]);return v},pad:h=>h.length<2?`0${h}`:h,readUTF8(h,m,g){let v,_="";for(let C=0;C<g;C++)_+=`%${t.pad(h[m+C].toString(16))}`;try{v=decodeURIComponent(_)}catch{return t.readASCII(h,m,g)}return v}};function e(h,m,g,v){const _=m*g,C=s(v),T=Math.ceil(m*C/8),S=new Uint8Array(4*_),P=new Uint32Array(S.buffer),{ctype:L}=v,{depth:I}=v,j=t.readUshort;if(L==6){const re=_<<2;if(I==8)for(var N=0;N<re;N+=4)S[N]=h[N],S[N+1]=h[N+1],S[N+2]=h[N+2],S[N+3]=h[N+3];if(I==16)for(N=0;N<re;N++)S[N]=h[N<<1]}else if(L==2){const re=v.tabs.tRNS;if(re==null){if(I==8)for(N=0;N<_;N++){var B=3*N;P[N]=255<<24|h[B+2]<<16|h[B+1]<<8|h[B]}if(I==16)for(N=0;N<_;N++)B=6*N,P[N]=255<<24|h[B+4]<<16|h[B+2]<<8|h[B]}else{var D=re[0];const F=re[1],de=re[2];if(I==8)for(N=0;N<_;N++){var O=N<<2;B=3*N,P[N]=255<<24|h[B+2]<<16|h[B+1]<<8|h[B],h[B]==D&&h[B+1]==F&&h[B+2]==de&&(S[O+3]=0)}if(I==16)for(N=0;N<_;N++)O=N<<2,B=6*N,P[N]=255<<24|h[B+4]<<16|h[B+2]<<8|h[B],j(h,B)==D&&j(h,B+2)==F&&j(h,B+4)==de&&(S[O+3]=0)}}else if(L==3){const re=v.tabs.PLTE,F=v.tabs.tRNS,de=F?F.length:0;if(I==1)for(var V=0;V<g;V++){var $=V*T,J=V*m;for(N=0;N<m;N++){O=J+N<<2;var ce=3*(Y=h[$+(N>>3)]>>7-((7&N)<<0)&1);S[O]=re[ce],S[O+1]=re[ce+1],S[O+2]=re[ce+2],S[O+3]=Y<de?F[Y]:255}}if(I==2)for(V=0;V<g;V++)for($=V*T,J=V*m,N=0;N<m;N++)O=J+N<<2,ce=3*(Y=h[$+(N>>2)]>>6-((3&N)<<1)&3),S[O]=re[ce],S[O+1]=re[ce+1],S[O+2]=re[ce+2],S[O+3]=Y<de?F[Y]:255;if(I==4)for(V=0;V<g;V++)for($=V*T,J=V*m,N=0;N<m;N++)O=J+N<<2,ce=3*(Y=h[$+(N>>1)]>>4-((1&N)<<2)&15),S[O]=re[ce],S[O+1]=re[ce+1],S[O+2]=re[ce+2],S[O+3]=Y<de?F[Y]:255;if(I==8)for(N=0;N<_;N++){var Y;O=N<<2,ce=3*(Y=h[N]),S[O]=re[ce],S[O+1]=re[ce+1],S[O+2]=re[ce+2],S[O+3]=Y<de?F[Y]:255}}else if(L==4){if(I==8)for(N=0;N<_;N++){O=N<<2;var k=h[A=N<<1];S[O]=k,S[O+1]=k,S[O+2]=k,S[O+3]=h[A+1]}if(I==16)for(N=0;N<_;N++){var A;O=N<<2,k=h[A=N<<2],S[O]=k,S[O+1]=k,S[O+2]=k,S[O+3]=h[A+2]}}else if(L==0)for(D=v.tabs.tRNS?v.tabs.tRNS:-1,V=0;V<g;V++){const re=V*T,F=V*m;if(I==1)for(var R=0;R<m;R++){var Q=(k=255*(h[re+(R>>>3)]>>>7-(7&R)&1))==255*D?0:255;P[F+R]=Q<<24|k<<16|k<<8|k}else if(I==2)for(R=0;R<m;R++)Q=(k=85*(h[re+(R>>>2)]>>>6-((3&R)<<1)&3))==85*D?0:255,P[F+R]=Q<<24|k<<16|k<<8|k;else if(I==4)for(R=0;R<m;R++)Q=(k=17*(h[re+(R>>>1)]>>>4-((1&R)<<2)&15))==17*D?0:255,P[F+R]=Q<<24|k<<16|k<<8|k;else if(I==8)for(R=0;R<m;R++)Q=(k=h[re+R])==D?0:255,P[F+R]=Q<<24|k<<16|k<<8|k;else if(I==16)for(R=0;R<m;R++)k=h[re+(R<<1)],Q=j(h,re+(R<<1))==D?0:255,P[F+R]=Q<<24|k<<16|k<<8|k}return S}function n(h,m,g,v){const _=s(h),C=Math.ceil(g*_/8),T=new Uint8Array((C+1+h.interlace)*v);return m=h.tabs.CgBI?i(m,T):r(m,T),h.interlace==0?m=l(m,h,0,g,v):h.interlace==1&&(m=function(P,L){const I=L.width,j=L.height,N=s(L),B=N>>3,D=Math.ceil(I*N/8),O=new Uint8Array(j*D);let V=0;const $=[0,0,4,0,2,0,1],J=[0,4,0,2,0,1,0],ce=[8,8,8,4,4,2,2],Y=[8,8,4,4,2,2,1];let k=0;for(;k<7;){const R=ce[k],Q=Y[k];let re=0,F=0,de=$[k];for(;de<j;)de+=R,F++;let ae=J[k];for(;ae<I;)ae+=Q,re++;const K=Math.ceil(re*N/8);l(P,L,V,re,F);let U=0,M=$[k];for(;M<j;){let H=J[k],oe=V+U*K<<3;for(;H<I;){var A;if(N==1&&(A=(A=P[oe>>3])>>7-(7&oe)&1,O[M*D+(H>>3)]|=A<<7-((7&H)<<0)),N==2&&(A=(A=P[oe>>3])>>6-(7&oe)&3,O[M*D+(H>>2)]|=A<<6-((3&H)<<1)),N==4&&(A=(A=P[oe>>3])>>4-(7&oe)&15,O[M*D+(H>>1)]|=A<<4-((1&H)<<2)),N>=8){const pe=M*D+H*B;for(let be=0;be<B;be++)O[pe+be]=P[(oe>>3)+be]}oe+=N,H+=Q}U++,M+=R}re*F!=0&&(V+=F*(1+K)),k+=1}return O}(m,h)),m}function r(h,m){return i(new Uint8Array(h.buffer,2,h.length-6),m)}var i=function(){const h={H:{}};return h.H.N=function(m,g){const v=Uint8Array;let _,C,T=0,S=0,P=0,L=0,I=0,j=0,N=0,B=0,D=0;if(m[0]==3&&m[1]==0)return g||new v(0);const O=h.H,V=O.b,$=O.e,J=O.R,ce=O.n,Y=O.A,k=O.Z,A=O.m,R=g==null;for(R&&(g=new v(m.length>>>2<<5));T==0;)if(T=V(m,D,1),S=V(m,D+1,2),D+=3,S!=0){if(R&&(g=h.H.W(g,B+(1<<17))),S==1&&(_=A.J,C=A.h,j=511,N=31),S==2){P=$(m,D,5)+257,L=$(m,D+5,5)+1,I=$(m,D+10,4)+4,D+=14;let re=1;for(var Q=0;Q<38;Q+=2)A.Q[Q]=0,A.Q[Q+1]=0;for(Q=0;Q<I;Q++){const ae=$(m,D+3*Q,3);A.Q[1+(A.X[Q]<<1)]=ae,ae>re&&(re=ae)}D+=3*I,ce(A.Q,re),Y(A.Q,re,A.u),_=A.w,C=A.d,D=J(A.u,(1<<re)-1,P+L,m,D,A.v);const F=O.V(A.v,0,P,A.C);j=(1<<F)-1;const de=O.V(A.v,P,L,A.D);N=(1<<de)-1,ce(A.C,F),Y(A.C,F,_),ce(A.D,de),Y(A.D,de,C)}for(;;){const re=_[k(m,D)&j];D+=15&re;const F=re>>>4;if(!(F>>>8))g[B++]=F;else{if(F==256)break;{let de=B+F-254;if(F>264){const H=A.q[F-257];de=B+(H>>>3)+$(m,D,7&H),D+=7&H}const ae=C[k(m,D)&N];D+=15&ae;const K=ae>>>4,U=A.c[K],M=(U>>>4)+V(m,D,15&U);for(D+=15&U;B<de;)g[B]=g[B++-M],g[B]=g[B++-M],g[B]=g[B++-M],g[B]=g[B++-M];B=de}}}}else{(7&D)!=0&&(D+=8-(7&D));const re=4+(D>>>3),F=m[re-4]|m[re-3]<<8;R&&(g=h.H.W(g,B+F)),g.set(new v(m.buffer,m.byteOffset+re,F),B),D=re+F<<3,B+=F}return g.length==B?g:g.slice(0,B)},h.H.W=function(m,g){const v=m.length;if(g<=v)return m;const _=new Uint8Array(v<<1);return _.set(m,0),_},h.H.R=function(m,g,v,_,C,T){const S=h.H.e,P=h.H.Z;let L=0;for(;L<v;){const I=m[P(_,C)&g];C+=15&I;const j=I>>>4;if(j<=15)T[L]=j,L++;else{let N=0,B=0;j==16?(B=3+S(_,C,2),C+=2,N=T[L-1]):j==17?(B=3+S(_,C,3),C+=3):j==18&&(B=11+S(_,C,7),C+=7);const D=L+B;for(;L<D;)T[L]=N,L++}}return C},h.H.V=function(m,g,v,_){let C=0,T=0;const S=_.length>>>1;for(;T<v;){const P=m[T+g];_[T<<1]=0,_[1+(T<<1)]=P,P>C&&(C=P),T++}for(;T<S;)_[T<<1]=0,_[1+(T<<1)]=0,T++;return C},h.H.n=function(m,g){const v=h.H.m,_=m.length;let C,T,S,P;const L=v.j;for(var I=0;I<=g;I++)L[I]=0;for(I=1;I<_;I+=2)L[m[I]]++;const j=v.K;for(C=0,L[0]=0,T=1;T<=g;T++)C=C+L[T-1]<<1,j[T]=C;for(S=0;S<_;S+=2)P=m[S+1],P!=0&&(m[S]=j[P],j[P]++)},h.H.A=function(m,g,v){const _=m.length,C=h.H.m.r;for(let T=0;T<_;T+=2)if(m[T+1]!=0){const S=T>>1,P=m[T+1],L=S<<4|P,I=g-P;let j=m[T]<<I;const N=j+(1<<I);for(;j!=N;)v[C[j]>>>15-g]=L,j++}},h.H.l=function(m,g){const v=h.H.m.r,_=15-g;for(let C=0;C<m.length;C+=2){const T=m[C]<<g-m[C+1];m[C]=v[T]>>>_}},h.H.M=function(m,g,v){v<<=7&g;const _=g>>>3;m[_]|=v,m[_+1]|=v>>>8},h.H.I=function(m,g,v){v<<=7&g;const _=g>>>3;m[_]|=v,m[_+1]|=v>>>8,m[_+2]|=v>>>16},h.H.e=function(m,g,v){return(m[g>>>3]|m[1+(g>>>3)]<<8)>>>(7&g)&(1<<v)-1},h.H.b=function(m,g,v){return(m[g>>>3]|m[1+(g>>>3)]<<8|m[2+(g>>>3)]<<16)>>>(7&g)&(1<<v)-1},h.H.Z=function(m,g){return(m[g>>>3]|m[1+(g>>>3)]<<8|m[2+(g>>>3)]<<16)>>>(7&g)},h.H.i=function(m,g){return(m[g>>>3]|m[1+(g>>>3)]<<8|m[2+(g>>>3)]<<16|m[3+(g>>>3)]<<24)>>>(7&g)},h.H.m=function(){const m=Uint16Array,g=Uint32Array;return{K:new m(16),j:new m(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new m(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new g(32),J:new m(512),_:[],h:new m(32),$:[],w:new m(32768),C:[],v:[],d:new m(32768),D:[],u:new m(512),Q:[],r:new m(32768),s:new g(286),Y:new g(30),a:new g(19),t:new g(15e3),k:new m(65536),g:new m(32768)}}(),function(){const m=h.H.m;for(var g=0;g<32768;g++){let _=g;_=(2863311530&_)>>>1|(1431655765&_)<<1,_=(3435973836&_)>>>2|(858993459&_)<<2,_=(4042322160&_)>>>4|(252645135&_)<<4,_=(4278255360&_)>>>8|(16711935&_)<<8,m.r[g]=(_>>>16|_<<16)>>>17}function v(_,C,T){for(;C--!=0;)_.push(0,T)}for(g=0;g<32;g++)m.q[g]=m.S[g]<<3|m.T[g],m.c[g]=m.p[g]<<4|m.z[g];v(m._,144,8),v(m._,112,9),v(m._,24,7),v(m._,8,8),h.H.n(m._,9),h.H.A(m._,9,m.J),h.H.l(m._,9),v(m.$,32,5),h.H.n(m.$,5),h.H.A(m.$,5,m.h),h.H.l(m.$,5),v(m.Q,19,0),v(m.C,286,0),v(m.D,30,0),v(m.v,320,0)}(),h.H.N}();function s(h){return[1,null,3,1,2,null,4][h.ctype]*h.depth}function l(h,m,g,v,_){let C=s(m);const T=Math.ceil(v*C/8);let S,P;C=Math.ceil(C/8);let L=h[g],I=0;if(L>1&&(h[g]=[0,0,1][L-2]),L==3)for(I=C;I<T;I++)h[I+1]=h[I+1]+(h[I+1-C]>>>1)&255;for(let j=0;j<_;j++)if(S=g+j*T,P=S+j+1,L=h[P-1],I=0,L==0)for(;I<T;I++)h[S+I]=h[P+I];else if(L==1){for(;I<C;I++)h[S+I]=h[P+I];for(;I<T;I++)h[S+I]=h[P+I]+h[S+I-C]}else if(L==2)for(;I<T;I++)h[S+I]=h[P+I]+h[S+I-T];else if(L==3){for(;I<C;I++)h[S+I]=h[P+I]+(h[S+I-T]>>>1);for(;I<T;I++)h[S+I]=h[P+I]+(h[S+I-T]+h[S+I-C]>>>1)}else{for(;I<C;I++)h[S+I]=h[P+I]+c(0,h[S+I-T],0);for(;I<T;I++)h[S+I]=h[P+I]+c(h[S+I-C],h[S+I-T],h[S+I-C-T])}return h}function c(h,m,g){const v=h+m-g,_=v-h,C=v-m,T=v-g;return _*_<=C*C&&_*_<=T*T?h:C*C<=T*T?m:g}function f(h,m,g){g.width=t.readUint(h,m),m+=4,g.height=t.readUint(h,m),m+=4,g.depth=h[m],m++,g.ctype=h[m],m++,g.compress=h[m],m++,g.filter=h[m],m++,g.interlace=h[m],m++}function d(h,m,g,v,_,C,T,S,P){const L=Math.min(m,_),I=Math.min(g,C);let j=0,N=0;for(let k=0;k<I;k++)for(let A=0;A<L;A++)if(T>=0&&S>=0?(j=k*m+A<<2,N=(S+k)*_+T+A<<2):(j=(-S+k)*m-T+A<<2,N=k*_+A<<2),P==0)v[N]=h[j],v[N+1]=h[j+1],v[N+2]=h[j+2],v[N+3]=h[j+3];else if(P==1){var B=h[j+3]*.00392156862745098,D=h[j]*B,O=h[j+1]*B,V=h[j+2]*B,$=v[N+3]*(1/255),J=v[N]*$,ce=v[N+1]*$,Y=v[N+2]*$;const R=1-B,Q=B+$*R,re=Q==0?0:1/Q;v[N+3]=255*Q,v[N+0]=(D+J*R)*re,v[N+1]=(O+ce*R)*re,v[N+2]=(V+Y*R)*re}else if(P==2)B=h[j+3],D=h[j],O=h[j+1],V=h[j+2],$=v[N+3],J=v[N],ce=v[N+1],Y=v[N+2],B==$&&D==J&&O==ce&&V==Y?(v[N]=0,v[N+1]=0,v[N+2]=0,v[N+3]=0):(v[N]=D,v[N+1]=O,v[N+2]=V,v[N+3]=B);else if(P==3){if(B=h[j+3],D=h[j],O=h[j+1],V=h[j+2],$=v[N+3],J=v[N],ce=v[N+1],Y=v[N+2],B==$&&D==J&&O==ce&&V==Y)continue;if(B<220&&$>20)return!1}return!0}return{decode:function(m){const g=new Uint8Array(m);let v=8;const _=t,C=_.readUshort,T=_.readUint,S={tabs:{},frames:[]},P=new Uint8Array(g.length);let L,I=0,j=0;const N=[137,80,78,71,13,10,26,10];for(var B=0;B<8;B++)if(g[B]!=N[B])throw"The input is not a PNG file!";for(;v<g.length;){const k=_.readUint(g,v);v+=4;const A=_.readASCII(g,v,4);if(v+=4,A=="IHDR")f(g,v,S);else if(A=="iCCP"){for(var D=v;g[D]!=0;)D++;_.readASCII(g,v,D-v),g[D+1];const R=g.slice(D+2,v+k);let Q=null;try{Q=r(R)}catch{Q=i(R)}S.tabs[A]=Q}else if(A=="CgBI")S.tabs[A]=g.slice(v,v+4);else if(A=="IDAT"){for(B=0;B<k;B++)P[I+B]=g[v+B];I+=k}else if(A=="acTL")S.tabs[A]={num_frames:T(g,v),num_plays:T(g,v+4)},L=new Uint8Array(g.length);else if(A=="fcTL"){j!=0&&((Y=S.frames[S.frames.length-1]).data=n(S,L.slice(0,j),Y.rect.width,Y.rect.height),j=0);const R={x:T(g,v+12),y:T(g,v+16),width:T(g,v+4),height:T(g,v+8)};let Q=C(g,v+22);Q=C(g,v+20)/(Q==0?100:Q);const re={rect:R,delay:Math.round(1e3*Q),dispose:g[v+24],blend:g[v+25]};S.frames.push(re)}else if(A=="fdAT"){for(B=0;B<k-4;B++)L[j+B]=g[v+B+4];j+=k-4}else if(A=="pHYs")S.tabs[A]=[_.readUint(g,v),_.readUint(g,v+4),g[v+8]];else if(A=="cHRM")for(S.tabs[A]=[],B=0;B<8;B++)S.tabs[A].push(_.readUint(g,v+4*B));else if(A=="tEXt"||A=="zTXt"){S.tabs[A]==null&&(S.tabs[A]={});var O=_.nextZero(g,v),V=_.readASCII(g,v,O-v),$=v+k-O-1;if(A=="tEXt")ce=_.readASCII(g,O+1,$);else{var J=r(g.slice(O+2,O+2+$));ce=_.readUTF8(J,0,J.length)}S.tabs[A][V]=ce}else if(A=="iTXt"){S.tabs[A]==null&&(S.tabs[A]={}),O=0,D=v,O=_.nextZero(g,D),V=_.readASCII(g,D,O-D);const R=g[D=O+1];var ce;g[D+1],D+=2,O=_.nextZero(g,D),_.readASCII(g,D,O-D),D=O+1,O=_.nextZero(g,D),_.readUTF8(g,D,O-D),$=k-((D=O+1)-v),R==0?ce=_.readUTF8(g,D,$):(J=r(g.slice(D,D+$)),ce=_.readUTF8(J,0,J.length)),S.tabs[A][V]=ce}else if(A=="PLTE")S.tabs[A]=_.readBytes(g,v,k);else if(A=="hIST"){const R=S.tabs.PLTE.length/3;for(S.tabs[A]=[],B=0;B<R;B++)S.tabs[A].push(C(g,v+2*B))}else if(A=="tRNS")S.ctype==3?S.tabs[A]=_.readBytes(g,v,k):S.ctype==0?S.tabs[A]=C(g,v):S.ctype==2&&(S.tabs[A]=[C(g,v),C(g,v+2),C(g,v+4)]);else if(A=="gAMA")S.tabs[A]=_.readUint(g,v)/1e5;else if(A=="sRGB")S.tabs[A]=g[v];else if(A=="bKGD")S.ctype==0||S.ctype==4?S.tabs[A]=[C(g,v)]:S.ctype==2||S.ctype==6?S.tabs[A]=[C(g,v),C(g,v+2),C(g,v+4)]:S.ctype==3&&(S.tabs[A]=g[v]);else if(A=="IEND")break;v+=k,_.readUint(g,v),v+=4}var Y;return j!=0&&((Y=S.frames[S.frames.length-1]).data=n(S,L.slice(0,j),Y.rect.width,Y.rect.height)),S.data=n(S,P,S.width,S.height),delete S.compress,delete S.interlace,delete S.filter,S},toRGBA8:function(m){const g=m.width,v=m.height;if(m.tabs.acTL==null)return[e(m.data,g,v,m).buffer];const _=[];m.frames[0].data==null&&(m.frames[0].data=m.data);const C=g*v*4,T=new Uint8Array(C),S=new Uint8Array(C),P=new Uint8Array(C);for(let I=0;I<m.frames.length;I++){const j=m.frames[I],N=j.rect.x,B=j.rect.y,D=j.rect.width,O=j.rect.height,V=e(j.data,D,O,m);if(I!=0)for(var L=0;L<C;L++)P[L]=T[L];if(j.blend==0?d(V,D,O,T,g,v,N,B,0):j.blend==1&&d(V,D,O,T,g,v,N,B,1),_.push(T.buffer.slice(0)),j.dispose!=0){if(j.dispose==1)d(S,D,O,T,g,v,N,B,0);else if(j.dispose==2)for(L=0;L<C;L++)T[L]=P[L]}}return _},_paeth:c,_copyTile:d,_bin:t}}();(function(){const{_copyTile:t}=hi,{_bin:e}=hi,n=hi._paeth;var r={table:function(){const D=new Uint32Array(256);for(let O=0;O<256;O++){let V=O;for(let $=0;$<8;$++)1&V?V=3988292384^V>>>1:V>>>=1;D[O]=V}return D}(),update(D,O,V,$){for(let J=0;J<$;J++)D=r.table[255&(D^O[V+J])]^D>>>8;return D},crc:(D,O,V)=>4294967295^r.update(4294967295,D,O,V)};function i(D,O,V,$){O[V]+=D[0]*$>>4,O[V+1]+=D[1]*$>>4,O[V+2]+=D[2]*$>>4,O[V+3]+=D[3]*$>>4}function s(D){return Math.max(0,Math.min(255,D))}function l(D,O){const V=D[0]-O[0],$=D[1]-O[1],J=D[2]-O[2],ce=D[3]-O[3];return V*V+$*$+J*J+ce*ce}function c(D,O,V,$,J,ce,Y){Y==null&&(Y=1);const k=$.length,A=[];for(var R=0;R<k;R++){const M=$[R];A.push([M>>>0&255,M>>>8&255,M>>>16&255,M>>>24&255])}for(R=0;R<k;R++){let M=4294967295;for(var Q=0,re=0;re<k;re++){var F=l(A[R],A[re]);re!=R&&F<M&&(M=F,Q=re)}}const de=new Uint32Array(J.buffer),ae=new Int16Array(O*V*4),K=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(R=0;R<K.length;R++)K[R]=255*((K[R]+.5)/16-.5);for(let M=0;M<V;M++)for(let H=0;H<O;H++){var U;R=4*(M*O+H),Y!=2?U=[s(D[R]+ae[R]),s(D[R+1]+ae[R+1]),s(D[R+2]+ae[R+2]),s(D[R+3]+ae[R+3])]:(F=K[4*(3&M)+(3&H)],U=[s(D[R]+F),s(D[R+1]+F),s(D[R+2]+F),s(D[R+3]+F)]),Q=0;let oe=16777215;for(re=0;re<k;re++){const ve=l(U,A[re]);ve<oe&&(oe=ve,Q=re)}const pe=A[Q],be=[U[0]-pe[0],U[1]-pe[1],U[2]-pe[2],U[3]-pe[3]];Y==1&&(H!=O-1&&i(be,ae,R+4,7),M!=V-1&&(H!=0&&i(be,ae,R+4*O-4,3),i(be,ae,R+4*O,5),H!=O-1&&i(be,ae,R+4*O+4,1))),ce[R>>2]=Q,de[R>>2]=$[Q]}}function f(D,O,V,$,J){J==null&&(J={});const{crc:ce}=r,Y=e.writeUint,k=e.writeUshort,A=e.writeASCII;let R=8;const Q=D.frames.length>1;let re,F=!1,de=33+(Q?20:0);if(J.sRGB!=null&&(de+=13),J.pHYs!=null&&(de+=21),J.iCCP!=null&&(re=pako.deflate(J.iCCP),de+=21+re.length+4),D.ctype==3){for(var ae=D.plte.length,K=0;K<ae;K++)D.plte[K]>>>24!=255&&(F=!0);de+=8+3*ae+4+(F?8+1*ae+4:0)}for(var U=0;U<D.frames.length;U++)Q&&(de+=38),de+=(pe=D.frames[U]).cimg.length+12,U!=0&&(de+=4);de+=12;const M=new Uint8Array(de),H=[137,80,78,71,13,10,26,10];for(K=0;K<8;K++)M[K]=H[K];if(Y(M,R,13),R+=4,A(M,R,"IHDR"),R+=4,Y(M,R,O),R+=4,Y(M,R,V),R+=4,M[R]=D.depth,R++,M[R]=D.ctype,R++,M[R]=0,R++,M[R]=0,R++,M[R]=0,R++,Y(M,R,ce(M,R-17,17)),R+=4,J.sRGB!=null&&(Y(M,R,1),R+=4,A(M,R,"sRGB"),R+=4,M[R]=J.sRGB,R++,Y(M,R,ce(M,R-5,5)),R+=4),J.iCCP!=null){const be=13+re.length;Y(M,R,be),R+=4,A(M,R,"iCCP"),R+=4,A(M,R,"ICC profile"),R+=11,R+=2,M.set(re,R),R+=re.length,Y(M,R,ce(M,R-(be+4),be+4)),R+=4}if(J.pHYs!=null&&(Y(M,R,9),R+=4,A(M,R,"pHYs"),R+=4,Y(M,R,J.pHYs[0]),R+=4,Y(M,R,J.pHYs[1]),R+=4,M[R]=J.pHYs[2],R++,Y(M,R,ce(M,R-13,13)),R+=4),Q&&(Y(M,R,8),R+=4,A(M,R,"acTL"),R+=4,Y(M,R,D.frames.length),R+=4,Y(M,R,J.loop!=null?J.loop:0),R+=4,Y(M,R,ce(M,R-12,12)),R+=4),D.ctype==3){for(Y(M,R,3*(ae=D.plte.length)),R+=4,A(M,R,"PLTE"),R+=4,K=0;K<ae;K++){const be=3*K,ve=D.plte[K],fe=255&ve,me=ve>>>8&255,Ae=ve>>>16&255;M[R+be+0]=fe,M[R+be+1]=me,M[R+be+2]=Ae}if(R+=3*ae,Y(M,R,ce(M,R-3*ae-4,3*ae+4)),R+=4,F){for(Y(M,R,ae),R+=4,A(M,R,"tRNS"),R+=4,K=0;K<ae;K++)M[R+K]=D.plte[K]>>>24&255;R+=ae,Y(M,R,ce(M,R-ae-4,ae+4)),R+=4}}let oe=0;for(U=0;U<D.frames.length;U++){var pe=D.frames[U];Q&&(Y(M,R,26),R+=4,A(M,R,"fcTL"),R+=4,Y(M,R,oe++),R+=4,Y(M,R,pe.rect.width),R+=4,Y(M,R,pe.rect.height),R+=4,Y(M,R,pe.rect.x),R+=4,Y(M,R,pe.rect.y),R+=4,k(M,R,$[U]),R+=2,k(M,R,1e3),R+=2,M[R]=pe.dispose,R++,M[R]=pe.blend,R++,Y(M,R,ce(M,R-30,30)),R+=4);const be=pe.cimg;Y(M,R,(ae=be.length)+(U==0?0:4)),R+=4;const ve=R;A(M,R,U==0?"IDAT":"fdAT"),R+=4,U!=0&&(Y(M,R,oe++),R+=4),M.set(be,R),R+=ae,Y(M,R,ce(M,ve,R-ve)),R+=4}return Y(M,R,0),R+=4,A(M,R,"IEND"),R+=4,Y(M,R,ce(M,R-4,4)),R+=4,M.buffer}function d(D,O,V){for(let $=0;$<D.frames.length;$++){const J=D.frames[$];J.rect.width;const ce=J.rect.height,Y=new Uint8Array(ce*J.bpl+ce);J.cimg=v(J.img,ce,J.bpp,J.bpl,Y,O,V)}}function h(D,O,V,$,J){const ce=J[0],Y=J[1],k=J[2],A=J[3],R=J[4],Q=J[5];let re=6,F=8,de=255;for(var ae=0;ae<D.length;ae++){const he=new Uint8Array(D[ae]);for(var K=he.length,U=0;U<K;U+=4)de&=he[U+3]}const M=de!=255,H=function(ge,ee,q,ne,te,le){const we=[];for(var je=0;je<ge.length;je++){const Xe=new Uint8Array(ge[je]),lt=new Uint32Array(Xe.buffer);var Be;let vt=0,st=0,rt=ee,Dt=q,It=ne?1:0;if(je!=0){const Ct=le||ne||je==1||we[je-2].dispose!=0?1:2;let Qt=0,yn=1e9;for(let Vt=0;Vt<Ct;Vt++){var $e=new Uint8Array(ge[je-1-Vt]);const xn=new Uint32Array(ge[je-1-Vt]);let Mt=ee,Wt=q,it=-1,nt=-1;for(let ct=0;ct<q;ct++)for(let sn=0;sn<ee;sn++)lt[Ke=ct*ee+sn]!=xn[Ke]&&(sn<Mt&&(Mt=sn),sn>it&&(it=sn),ct<Wt&&(Wt=ct),ct>nt&&(nt=ct));it==-1&&(Mt=Wt=it=nt=0),te&&((1&Mt)==1&&Mt--,(1&Wt)==1&&Wt--);const et=(it-Mt+1)*(nt-Wt+1);et<yn&&(yn=et,Qt=Vt,vt=Mt,st=Wt,rt=it-Mt+1,Dt=nt-Wt+1)}$e=new Uint8Array(ge[je-1-Qt]),Qt==1&&(we[je-1].dispose=2),Be=new Uint8Array(rt*Dt*4),t($e,ee,q,Be,rt,Dt,-vt,-st,0),It=t(Xe,ee,q,Be,rt,Dt,-vt,-st,3)?1:0,It==1?g(Xe,ee,q,Be,{x:vt,y:st,width:rt,height:Dt}):t(Xe,ee,q,Be,rt,Dt,-vt,-st,0)}else Be=Xe.slice(0);we.push({rect:{x:vt,y:st,width:rt,height:Dt},img:Be,blend:It,dispose:0})}if(ne)for(je=0;je<we.length;je++){if((ut=we[je]).blend==1)continue;const Xe=ut.rect,lt=we[je-1].rect,vt=Math.min(Xe.x,lt.x),st=Math.min(Xe.y,lt.y),rt={x:vt,y:st,width:Math.max(Xe.x+Xe.width,lt.x+lt.width)-vt,height:Math.max(Xe.y+Xe.height,lt.y+lt.height)-st};we[je-1].dispose=1,je-1!=0&&m(ge,ee,q,we,je-1,rt,te),m(ge,ee,q,we,je,rt,te)}let Ve=0;if(ge.length!=1)for(var Ke=0;Ke<we.length;Ke++){var ut;Ve+=(ut=we[Ke]).rect.width*ut.rect.height}return we}(D,O,V,ce,Y,k),oe={},pe=[],be=[];if($!=0){const he=[];for(U=0;U<H.length;U++)he.push(H[U].img.buffer);const ge=function(te){let le=0;for(var we=0;we<te.length;we++)le+=te[we].byteLength;const je=new Uint8Array(le);let Be=0;for(we=0;we<te.length;we++){const $e=new Uint8Array(te[we]),Ve=$e.length;for(let Ke=0;Ke<Ve;Ke+=4){let ut=$e[Ke],Xe=$e[Ke+1],lt=$e[Ke+2];const vt=$e[Ke+3];vt==0&&(ut=Xe=lt=0),je[Be+Ke]=ut,je[Be+Ke+1]=Xe,je[Be+Ke+2]=lt,je[Be+Ke+3]=vt}Be+=Ve}return je.buffer}(he),ee=C(ge,$);for(U=0;U<ee.plte.length;U++)pe.push(ee.plte[U].est.rgba);let q=0;for(U=0;U<H.length;U++){const ne=(fe=H[U]).img.length;var ve=new Uint8Array(ee.inds.buffer,q>>2,ne>>2);be.push(ve);const te=new Uint8Array(ee.abuf,q,ne);Q&&c(fe.img,fe.rect.width,fe.rect.height,pe,te,ve),fe.img.set(te),q+=ne}}else for(ae=0;ae<H.length;ae++){var fe=H[ae];const he=new Uint32Array(fe.img.buffer);var me=fe.rect.width;for(K=he.length,ve=new Uint8Array(K),be.push(ve),U=0;U<K;U++){const ge=he[U];if(U!=0&&ge==he[U-1])ve[U]=ve[U-1];else if(U>me&&ge==he[U-me])ve[U]=ve[U-me];else{let ee=oe[ge];if(ee==null&&(oe[ge]=ee=pe.length,pe.push(ge),pe.length>=300))break;ve[U]=ee}}}const Ae=pe.length;for(Ae<=256&&R==0&&(F=Ae<=2?1:Ae<=4?2:Ae<=16?4:8,F=Math.max(F,A)),ae=0;ae<H.length;ae++){(fe=H[ae]).rect.x,fe.rect.y,me=fe.rect.width;const he=fe.rect.height;let ge=fe.img;new Uint32Array(ge.buffer);let ee=4*me,q=4;if(Ae<=256&&R==0){ee=Math.ceil(F*me/8);var Z=new Uint8Array(ee*he);const ne=be[ae];for(let te=0;te<he;te++){U=te*ee;const le=te*me;if(F==8)for(var ie=0;ie<me;ie++)Z[U+ie]=ne[le+ie];else if(F==4)for(ie=0;ie<me;ie++)Z[U+(ie>>1)]|=ne[le+ie]<<4-4*(1&ie);else if(F==2)for(ie=0;ie<me;ie++)Z[U+(ie>>2)]|=ne[le+ie]<<6-2*(3&ie);else if(F==1)for(ie=0;ie<me;ie++)Z[U+(ie>>3)]|=ne[le+ie]<<7-1*(7&ie)}ge=Z,re=3,q=1}else if(M==0&&H.length==1){Z=new Uint8Array(me*he*3);const ne=me*he;for(U=0;U<ne;U++){const te=3*U,le=4*U;Z[te]=ge[le],Z[te+1]=ge[le+1],Z[te+2]=ge[le+2]}ge=Z,re=2,q=3,ee=3*me}fe.img=ge,fe.bpl=ee,fe.bpp=q}return{ctype:re,depth:F,plte:pe,frames:H}}function m(D,O,V,$,J,ce,Y){const k=Uint8Array,A=Uint32Array,R=new k(D[J-1]),Q=new A(D[J-1]),re=J+1<D.length?new k(D[J+1]):null,F=new k(D[J]),de=new A(F.buffer);let ae=O,K=V,U=-1,M=-1;for(let oe=0;oe<ce.height;oe++)for(let pe=0;pe<ce.width;pe++){const be=ce.x+pe,ve=ce.y+oe,fe=ve*O+be,me=de[fe];me==0||$[J-1].dispose==0&&Q[fe]==me&&(re==null||re[4*fe+3]!=0)||(be<ae&&(ae=be),be>U&&(U=be),ve<K&&(K=ve),ve>M&&(M=ve))}U==-1&&(ae=K=U=M=0),Y&&((1&ae)==1&&ae--,(1&K)==1&&K--),ce={x:ae,y:K,width:U-ae+1,height:M-K+1};const H=$[J];H.rect=ce,H.blend=1,H.img=new Uint8Array(ce.width*ce.height*4),$[J-1].dispose==0?(t(R,O,V,H.img,ce.width,ce.height,-ce.x,-ce.y,0),g(F,O,V,H.img,ce)):t(F,O,V,H.img,ce.width,ce.height,-ce.x,-ce.y,0)}function g(D,O,V,$,J){t(D,O,V,$,J.width,J.height,-J.x,-J.y,2)}function v(D,O,V,$,J,ce,Y){const k=[];let A,R=[0,1,2,3,4];ce!=-1?R=[ce]:(O*$>5e5||V==1)&&(R=[0]),Y&&(A={level:0});const Q=rO;for(var re=0;re<R.length;re++){for(let ae=0;ae<O;ae++)_(J,D,ae,$,V,R[re]);k.push(Q.deflate(J,A))}let F,de=1e9;for(re=0;re<k.length;re++)k[re].length<de&&(F=re,de=k[re].length);return k[F]}function _(D,O,V,$,J,ce){const Y=V*$;let k=Y+V;if(D[k]=ce,k++,ce==0)if($<500)for(var A=0;A<$;A++)D[k+A]=O[Y+A];else D.set(new Uint8Array(O.buffer,Y,$),k);else if(ce==1){for(A=0;A<J;A++)D[k+A]=O[Y+A];for(A=J;A<$;A++)D[k+A]=O[Y+A]-O[Y+A-J]+256&255}else if(V==0){for(A=0;A<J;A++)D[k+A]=O[Y+A];if(ce==2)for(A=J;A<$;A++)D[k+A]=O[Y+A];if(ce==3)for(A=J;A<$;A++)D[k+A]=O[Y+A]-(O[Y+A-J]>>1)+256&255;if(ce==4)for(A=J;A<$;A++)D[k+A]=O[Y+A]-n(O[Y+A-J],0,0)+256&255}else{if(ce==2)for(A=0;A<$;A++)D[k+A]=O[Y+A]+256-O[Y+A-$]&255;if(ce==3){for(A=0;A<J;A++)D[k+A]=O[Y+A]+256-(O[Y+A-$]>>1)&255;for(A=J;A<$;A++)D[k+A]=O[Y+A]+256-(O[Y+A-$]+O[Y+A-J]>>1)&255}if(ce==4){for(A=0;A<J;A++)D[k+A]=O[Y+A]+256-n(0,O[Y+A-$],0)&255;for(A=J;A<$;A++)D[k+A]=O[Y+A]+256-n(O[Y+A-J],O[Y+A-$],O[Y+A-J-$])&255}}}function C(D,O){const V=new Uint8Array(D),$=V.slice(0),J=new Uint32Array($.buffer),ce=T($,O),Y=ce[0],k=ce[1],A=V.length,R=new Uint8Array(A>>2);let Q;if(V.length<2e7)for(var re=0;re<A;re+=4)Q=S(Y,F=V[re]*(1/255),de=V[re+1]*(1/255),ae=V[re+2]*(1/255),K=V[re+3]*(1/255)),R[re>>2]=Q.ind,J[re>>2]=Q.est.rgba;else for(re=0;re<A;re+=4){var F=V[re]*.00392156862745098,de=V[re+1]*(1/255),ae=V[re+2]*(1/255),K=V[re+3]*(1/255);for(Q=Y;Q.left;)Q=P(Q.est,F,de,ae,K)<=0?Q.left:Q.right;R[re>>2]=Q.ind,J[re>>2]=Q.est.rgba}return{abuf:$.buffer,inds:R,plte:k}}function T(D,O,V){V==null&&(V=1e-4);const $=new Uint32Array(D.buffer),J={i0:0,i1:D.length,bst:null,est:null,tdst:0,left:null,right:null};J.bst=j(D,J.i0,J.i1),J.est=N(J.bst);const ce=[J];for(;ce.length<O;){let k=0,A=0;for(var Y=0;Y<ce.length;Y++)ce[Y].est.L>k&&(k=ce[Y].est.L,A=Y);if(k<V)break;const R=ce[A],Q=L(D,$,R.i0,R.i1,R.est.e,R.est.eMq255);if(R.i0>=Q||R.i1<=Q){R.est.L=0;continue}const re={i0:R.i0,i1:Q,bst:null,est:null,tdst:0,left:null,right:null};re.bst=j(D,re.i0,re.i1),re.est=N(re.bst);const F={i0:Q,i1:R.i1,bst:null,est:null,tdst:0,left:null,right:null};for(F.bst={R:[],m:[],N:R.bst.N-re.bst.N},Y=0;Y<16;Y++)F.bst.R[Y]=R.bst.R[Y]-re.bst.R[Y];for(Y=0;Y<4;Y++)F.bst.m[Y]=R.bst.m[Y]-re.bst.m[Y];F.est=N(F.bst),R.left=re,R.right=F,ce[A]=re,ce.push(F)}for(ce.sort((k,A)=>A.bst.N-k.bst.N),Y=0;Y<ce.length;Y++)ce[Y].ind=Y;return[J,ce]}function S(D,O,V,$,J){if(D.left==null)return D.tdst=function(re,F,de,ae,K){const U=F-re[0],M=de-re[1],H=ae-re[2],oe=K-re[3];return U*U+M*M+H*H+oe*oe}(D.est.q,O,V,$,J),D;const ce=P(D.est,O,V,$,J);let Y=D.left,k=D.right;ce>0&&(Y=D.right,k=D.left);const A=S(Y,O,V,$,J);if(A.tdst<=ce*ce)return A;const R=S(k,O,V,$,J);return R.tdst<A.tdst?R:A}function P(D,O,V,$,J){const{e:ce}=D;return ce[0]*O+ce[1]*V+ce[2]*$+ce[3]*J-D.eMq}function L(D,O,V,$,J,ce){for($-=4;V<$;){for(;I(D,V,J)<=ce;)V+=4;for(;I(D,$,J)>ce;)$-=4;if(V>=$)break;const Y=O[V>>2];O[V>>2]=O[$>>2],O[$>>2]=Y,V+=4,$-=4}for(;I(D,V,J)>ce;)V-=4;return V+4}function I(D,O,V){return D[O]*V[0]+D[O+1]*V[1]+D[O+2]*V[2]+D[O+3]*V[3]}function j(D,O,V){const $=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],J=[0,0,0,0],ce=V-O>>2;for(let Y=O;Y<V;Y+=4){const k=D[Y]*.00392156862745098,A=D[Y+1]*(1/255),R=D[Y+2]*(1/255),Q=D[Y+3]*(1/255);J[0]+=k,J[1]+=A,J[2]+=R,J[3]+=Q,$[0]+=k*k,$[1]+=k*A,$[2]+=k*R,$[3]+=k*Q,$[5]+=A*A,$[6]+=A*R,$[7]+=A*Q,$[10]+=R*R,$[11]+=R*Q,$[15]+=Q*Q}return $[4]=$[1],$[8]=$[2],$[9]=$[6],$[12]=$[3],$[13]=$[7],$[14]=$[11],{R:$,m:J,N:ce}}function N(D){const{R:O}=D,{m:V}=D,{N:$}=D,J=V[0],ce=V[1],Y=V[2],k=V[3],A=$==0?0:1/$,R=[O[0]-J*J*A,O[1]-J*ce*A,O[2]-J*Y*A,O[3]-J*k*A,O[4]-ce*J*A,O[5]-ce*ce*A,O[6]-ce*Y*A,O[7]-ce*k*A,O[8]-Y*J*A,O[9]-Y*ce*A,O[10]-Y*Y*A,O[11]-Y*k*A,O[12]-k*J*A,O[13]-k*ce*A,O[14]-k*Y*A,O[15]-k*k*A],Q=R,re=B;let F=[Math.random(),Math.random(),Math.random(),Math.random()],de=0,ae=0;if($!=0)for(let U=0;U<16&&(F=re.multVec(Q,F),ae=Math.sqrt(re.dot(F,F)),F=re.sml(1/ae,F),!(U!=0&&Math.abs(ae-de)<1e-9));U++)de=ae;const K=[J*A,ce*A,Y*A,k*A];return{Cov:R,q:K,e:F,L:de,eMq255:re.dot(re.sml(255,K),F),eMq:re.dot(F,K),rgba:(Math.round(255*K[3])<<24|Math.round(255*K[2])<<16|Math.round(255*K[1])<<8|Math.round(255*K[0])<<0)>>>0}}var B={multVec:(D,O)=>[D[0]*O[0]+D[1]*O[1]+D[2]*O[2]+D[3]*O[3],D[4]*O[0]+D[5]*O[1]+D[6]*O[2]+D[7]*O[3],D[8]*O[0]+D[9]*O[1]+D[10]*O[2]+D[11]*O[3],D[12]*O[0]+D[13]*O[1]+D[14]*O[2]+D[15]*O[3]],dot:(D,O)=>D[0]*O[0]+D[1]*O[1]+D[2]*O[2]+D[3]*O[3],sml:(D,O)=>[D*O[0],D*O[1],D*O[2],D*O[3]]};hi.encode=function(O,V,$,J,ce,Y,k){J==null&&(J=0),k==null&&(k=!1);const A=h(O,V,$,J,[!1,!1,!1,0,k,!1]);return d(A,-1),f(A,V,$,ce,Y)},hi.encodeLL=function(O,V,$,J,ce,Y,k,A){const R={ctype:0+(J==1?0:2)+(ce==0?0:4),depth:Y,frames:[]},Q=(J+ce)*Y,re=Q*V;for(let F=0;F<O.length;F++)R.frames.push({rect:{x:0,y:0,width:V,height:$},img:new Uint8Array(O[F]),blend:0,dispose:1,bpp:Math.ceil(Q/8),bpl:Math.ceil(re/8)});return d(R,0,!0),f(R,V,$,k,A)},hi.encode.compress=h,hi.encode.dither=c,hi.quantize=C,hi.quantize.getKDtree=T,hi.quantize.getNearest=S})();const Tw={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,s=t.getContext("2d").getImageData(0,0,n,r),l=new Uint32Array(s.data.buffer),c=(32*n+31)/32<<2,f=c*r,d=122+f,h=new ArrayBuffer(d),m=new DataView(h),g=1<<20;let v,_,C,T,S=g,P=0,L=0,I=0;function j(D){m.setUint16(L,D,!0),L+=2}function N(D){m.setUint32(L,D,!0),L+=4}function B(D){L+=D}j(19778),N(d),B(4),N(122),N(108),N(n),N(-r>>>0),j(1),j(32),N(3),N(f),N(2835),N(2835),B(8),N(16711680),N(65280),N(255),N(4278190080),N(1466527264),function D(){for(;P<r&&S>0;){for(T=122+P*c,v=0;v<i;)S--,_=l[I++],C=_>>>24,m.setUint32(T+v,_<<8|C),v+=4;P++}I<l.length?(S=g,setTimeout(D,Tw._dly)):e(h)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Or={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},iO={[Or.CHROME]:16384,[Or.FIREFOX]:11180,[Or.DESKTOP_SAFARI]:16384,[Or.IE]:8192,[Or.IOS]:4096,[Or.ETC]:8192};const o0=typeof window<"u",Dw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,cd=o0&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),aO=(o0||Dw)&&(cd&&cd.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Ow=(o0||Dw)&&(cd&&cd.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function l0(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],l=globalThis.atob(i[1]);let c=l.length;const f=new Uint8Array(c);for(;c--;)f[c]=l.charCodeAt(c);const d=new Blob([f],{type:s});d.name=e,d.lastModified=n,r(d)})}function Rw(t){return new Promise((e,n)=>{const r=new Ow;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function Nw(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function Us(){if(Us.cachedResult!==void 0)return Us.cachedResult;let t=Or.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Or.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Or.IOS:/Safari/i.test(e)?t=Or.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Or.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Or.IE),Us.cachedResult=t,Us.cachedResult}function kw(t,e){const n=Us(),r=iO[n];let i=t,s=e,l=i*s;const c=i>s?s/i:i/s;for(;l>r*r;){const f=(r+i)/2,d=(r+s)/2;f<d?(s=d,i=d*c):(s=f*c,i=f),l=i*s}return{width:i,height:s}}function kd(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function Mw(t,e){const{width:n,height:r}=kw(t.width,t.height),[i,s]=kd(n,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function Kf(){return Kf.cachedResult!==void 0||(Kf.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Kf.cachedResult}function fd(t,e={}){return new Promise(function(n,r){let i,s;var l=function(){try{return s=Mw(i,e.fileType||t.type),n([i,s])}catch(f){return r(f)}},c=function(f){try{var d=function(h){try{throw h}catch(m){return r(m)}};try{let h;return Rw(t).then(function(m){try{return h=m,Nw(h).then(function(g){try{return i=g,function(){try{return l()}catch(v){return r(v)}}()}catch(v){return d(v)}},d)}catch(g){return d(g)}},d)}catch(h){d(h)}}catch(h){return r(h)}};try{if(Kf()||[Or.DESKTOP_SAFARI,Or.MOBILE_SAFARI].includes(Us()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(f){try{return i=f,l()}catch{return c()}},c)}catch{c()}})}function dd(t,e,n,r,i=1){return new Promise(function(s,l){let c;if(e==="image/png"){let d,h,m;return d=t.getContext("2d"),{data:h}=d.getImageData(0,0,t.width,t.height),m=hi.encode([h.buffer],t.width,t.height,4096*i),c=new Blob([m],{type:e}),c.name=n,c.lastModified=r,f.call(this)}{let d=function(){return f.call(this)};if(e==="image/bmp")return new Promise(h=>Tw.toBlob(t,h)).then((function(h){try{return c=h,c.name=n,c.lastModified=r,d.call(this)}catch(m){return l(m)}}).bind(this),l);{let h=function(){return d.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(m){try{return c=m,c.name=n,c.lastModified=r,h.call(this)}catch(g){return l(g)}}).bind(this),l);{let m;return m=t.toDataURL(e,i),l0(m,n,r).then((function(g){try{return c=g,h.call(this)}catch(v){return l(v)}}).bind(this),l)}}}function f(){return s(c)}})}function Mi(t){t.width=0,t.height=0}function Jo(){return new Promise(function(t,e){let n,r,i,s;return Jo.cachedResult!==void 0?t(Jo.cachedResult):l0("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return n=l,fd(n).then(function(c){try{return r=c[1],dd(r,n.type,n.name,n.lastModified).then(function(f){try{return i=f,Mi(r),fd(i).then(function(d){try{return s=d[0],Jo.cachedResult=s.width===1&&s.height===2,t(Jo.cachedResult)}catch(h){return e(h)}},e)}catch(d){return e(d)}},e)}catch(f){return e(f)}},e)}catch(c){return e(c)}},e)})}function jw(t){return new Promise((e,n)=>{const r=new Ow;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const l=s.byteLength;let c=2;for(;c<l;){if(s.getUint16(c+2,!1)<=8)return e(-1);const f=s.getUint16(c,!1);if(c+=2,f==65505){if(s.getUint32(c+=2,!1)!=1165519206)return e(-1);const d=s.getUint16(c+=6,!1)==18761;c+=s.getUint32(c+4,d);const h=s.getUint16(c,d);c+=2;for(let m=0;m<h;m++)if(s.getUint16(c+12*m,d)==274)return e(s.getUint16(c+12*m+8,d))}else{if((65280&f)!=65280)break;c+=s.getUint16(c,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function Lw(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let s,l=t;return isFinite(i)&&(n>i||r>i)&&([l,s]=kd(n,r),n>r?(l.width=i,l.height=r/n*i):(l.width=n/r*i,l.height=i),s.drawImage(t,0,0,l.width,l.height),Mi(t)),l}function Pw(t,e){const{width:n}=t,{height:r}=t,[i,s]=kd(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,r),Mi(t),i}function z2(t,e,n=0){return new Promise(function(r,i){let s,l,c,f,d,h,m,g,v,_,C,T,S,P,L,I,j,N,B,D;function O($=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=$,e.onProgress(Math.min(s,100))}function V($){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max($,s),100),e.onProgress(s)}return s=n,l=e.maxIteration||10,c=1024*e.maxSizeMB*1024,O(),fd(t,e).then((function($){try{return[,f]=$,O(),d=Lw(f,e),O(),new Promise(function(J,ce){var Y;if(!(Y=e.exifOrientation))return jw(t).then((function(A){try{return Y=A,k.call(this)}catch(R){return ce(R)}}).bind(this),ce);function k(){return J(Y)}return k.call(this)}).then((function(J){try{return h=J,O(),Jo().then((function(ce){try{return m=ce?d:Pw(d,h),O(),g=e.initialQuality||1,v=e.fileType||t.type,dd(m,v,t.name,t.lastModified,g).then((function(Y){try{{let A=function(){if(l--&&(L>c||L>S)){let Q,re;return Q=D?.95*B.width:B.width,re=D?.95*B.height:B.height,[j,N]=kd(Q,re),N.drawImage(B,0,0,Q,re),g*=v==="image/png"?.85:.95,dd(j,v,t.name,t.lastModified,g).then(function(F){try{return I=F,Mi(B),B=j,L=I.size,V(Math.min(99,Math.floor((P-L)/(P-c)*100))),A}catch(de){return i(de)}},i)}return[1]},R=function(){return Mi(B),Mi(j),Mi(d),Mi(m),Mi(f),V(100),r(I)};if(_=Y,O(),C=_.size>c,T=_.size>t.size,!C&&!T)return V(100),r(_);var k;return S=t.size,P=_.size,L=P,B=m,D=!e.alwaysKeepResolution&&C,(k=(function(Q){for(;Q;){if(Q.then)return void Q.then(k,i);try{if(Q.pop){if(Q.length)return Q.pop()?R.call(this):Q;Q=A}else Q=Q.call(this)}catch(re){return i(re)}}}).bind(this))(A)}}catch(A){return i(A)}}).bind(this),i)}catch(Y){return i(Y)}}).bind(this),i)}catch(ce){return i(ce)}}).bind(this),i)}catch(J){return i(J)}}).bind(this),i)})}const sO=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Vm;function oO(t,e){return new Promise((n,r)=>{Vm||(Vm=function(l){const c=[];return c.push(l),URL.createObjectURL(new Blob(c))}(sO));const i=new Worker(Vm);i.addEventListener("message",function(l){if(e.signal&&e.signal.aborted)i.terminate();else if(l.data.progress===void 0){if(l.data.error)return r(new Error(l.data.error)),void i.terminate();n(l.data.file),i.terminate()}else e.onProgress(l.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function Vn(t,e){return new Promise(function(n,r){let i,s,l,c,f,d;if(i={...e},l=0,{onProgress:c}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,f=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=v=>{l=v,typeof c=="function"&&c(l)},!(t instanceof Blob||t instanceof aO))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(d=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!f||typeof Worker!="function"||d)return z2(t,i).then((function(v){try{return s=v,g.call(this)}catch(_){return r(_)}}).bind(this),r);var h=(function(){try{return g.call(this)}catch(v){return r(v)}}).bind(this),m=function(v){try{return z2(t,i).then(function(_){try{return s=_,h()}catch(C){return r(C)}},r)}catch(_){return r(_)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",oO(t,i).then(function(v){try{return s=v,h()}catch{return m()}},m)}catch{m()}function g(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=Cw(t,s))}catch{}return n(s)}})}Vn.getDataUrlFromFile=Rw,Vn.getFilefromDataUrl=l0,Vn.loadImage=Nw,Vn.drawImageInCanvas=Mw,Vn.drawFileInCanvas=fd,Vn.canvasToFile=dd,Vn.getExifOrientation=jw,Vn.handleMaxWidthOrHeight=Lw,Vn.followExifOrientation=Pw,Vn.cleanupCanvasMemory=Mi,Vn.isAutoOrientationInBrowser=Jo,Vn.approximateBelowMaximumCanvasSizeOfBrowser=kw,Vn.copyExifWithoutOrientation=Cw,Vn.getBrowserName=Us,Vn.version="2.0.2";const lO=or.memo(({value:t,onChange:e,name:n})=>{const r=l=>{if(!l.target.value.startsWith("+7-")){const d="+7-"+l.target.value.replace(/\D/g,"");e({target:{name:n,value:d}});return}const c=l.target.value.slice(3).replace(/\D/g,"");let f="+7-";f+=(c.length>0?c.slice(0,3):"")+(c.length>3?"-"+c.slice(3,6):"")+(c.length>6?"-"+c.slice(6,8):"")+(c.length>8?"-"+c.slice(8,10):""),e({target:{name:n,value:f}})},i=l=>{l.key==="Backspace"&&l.target.selectionStart<=3&&l.preventDefault(),l.key==="ArrowLeft"&&l.target.selectionStart<=3&&l.target.setSelectionRange(3,3)},s=l=>{l.target.selectionStart<3&&l.target.setSelectionRange(3,3)};return E.jsx("input",{className:"form__input",type:"tel",name:n,value:t,onChange:r,onKeyDown:i,onClick:s,placeholder:"+7-___-___-__-__",maxLength:"16",autoComplete:"off"})}),uO=({supabase:t,onSubmit:e,formError:n,setFormError:r,tempMessage:i})=>{const[s,l]=se.useState([]),[c,f]=se.useState(!1),d={clientType:"individual",lastName:"",firstName:"",middleName:"",orgName:"",phone:"+7-",repairType:"",serialNumber:"",object:"",state:"",note:"",isAvito:!1},[h,m]=se.useState({total:0,completed:0,isProcessing:!1}),g=se.useRef(null),v=se.useRef(new Map);se.useEffect(()=>()=>{v.current.forEach(D=>URL.revokeObjectURL(D)),v.current.clear()},[]),se.useEffect(()=>()=>{s.forEach(D=>{try{D.preview&&URL.revokeObjectURL(D.preview)}catch(O){console.warn("Failed to revoke URL:",O)}})},[s]);const _=D=>{P(O=>({...O,isAvito:D}))},C=async D=>{const O=Array.from(D.target.files);if(O.length===0)return;m({total:O.length,completed:0,isProcessing:!0});const V={maxSizeMB:.5,maxWidthOrHeight:1920,useWebWorker:!0,fileType:"image/webp",initialQuality:.8,preserveExif:!1,maxIteration:10},$=await Promise.all(O.map(async J=>{try{const ce=await Vn(J,V);m(A=>({...A,completed:A.completed+1}));const Y=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,k=URL.createObjectURL(ce);return v.current.set(Y,k),{id:Y,file:ce,preview:k}}catch(ce){console.error("Ошибка при сжатии изображения:",ce),m(A=>({...A,completed:A.completed+1}));const Y=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,k=URL.createObjectURL(J);return v.current.set(Y,k),{id:Y,file:J,preview:k}}}));l(J=>[...J,...$]),g.current.value="",m(J=>({...J,isProcessing:!1}))},T=D=>{l(O=>{const V=O.filter($=>$.id!==D);return setTimeout(()=>{v.current.has(D)&&(URL.revokeObjectURL(v.current.get(D)),v.current.delete(D))},0),V})},[S,P]=se.useState(d),L=D=>D==null?void 0:D.replace(/\s+/g," ").trim(),I=D=>{const{name:O,value:V}=D.target;P($=>({...$,[O]:V}))},j=se.useCallback(D=>{const{name:O,value:V}=D.target;V.length>200||P($=>({...$,[O]:V}))},[]),N=D=>{P(O=>({...O,clientType:D,lastName:"",firstName:"",middleName:"",orgName:"",phone:D==="individual"?"+7-":""}))},B=async D=>{var O;if(D.preventDefault(),r(""),f(!0),S.clientType==="individual"){if(!/^\+7-\d{3}-\d{3}-\d{2}-\d{2}$/.test(S.phone)){r("Введите корректный номер телефона в формате +7-XXX-XXX-XX-XX");return}if(!S.lastName||!S.firstName){r("Заполните фамилию и имя");return}}else if(!S.orgName){r("Введите название организации");return}if(!S.object||!S.serialNumber||!S.state||!S.repairType){r("Заполните все обязательные поля");return}try{const{data:V,error:$}=await t.from("clients").select("receipt_number, social").order("receipt_number",{ascending:!1}).limit(1);if($)throw $;const J=V&&V[0]?V[0].receipt_number+1:1;let ce={};if(S.isAvito)ce={is_avito:!0,is_yandex:!1,is_2gis:!1};else{const{data:k,error:A}=await t.from("clients").select("social").or("social->>is_yandex.eq.true,social->>is_2gis.eq.true").order("receipt_number",{ascending:!1}).limit(1);if(A)throw A;k&&k[0]?(O=k[0].social)!=null&&O.is_yandex?ce={is_avito:!1,is_yandex:!1,is_2gis:!0}:ce={is_avito:!1,is_yandex:!0,is_2gis:!1}:ce={is_avito:!1,is_yandex:!0,is_2gis:!1}}const Y={receipt_number:J,phone:S.clientType==="individual"?S.phone:null,repair_type:L(S.repairType),state:L(S.state),note:L(S.note),object:S.object,photo_paths:s.map(k=>k.file),serial_number:S.serialNumber,social:ce,...S.clientType==="individual"?{last_name:S.lastName,first_name:S.firstName,middle_name:S.middleName,org_name:null}:{org_name:S.orgName,last_name:null,first_name:null,middle_name:null}};await e(Y,D),P(d),l([])}catch(V){r(V.message||`Ошибка при создании записи. ${V.details||""}`)}finally{f(!1)}};return E.jsxs("form",{className:"form",onSubmit:B,children:[E.jsxs("fieldset",{className:"form__fieldset",children:[E.jsx("legend",{children:"Добавить запись"}),E.jsxs("div",{className:"view-mode-buttons",style:{marginBottom:"1rem"},children:[E.jsx("button",{type:"button",className:S.clientType==="individual"?"active":"",onClick:()=>N("individual"),children:"Частное лицо"}),E.jsx("button",{type:"button",className:S.clientType==="organization"?"active":"",onClick:()=>N("organization"),children:"Организация"})]}),S.clientType==="individual"?E.jsxs("div",{className:"form__name",children:[E.jsx("input",{className:"form__input",type:"text",name:"lastName",id:"last-name",value:S.lastName,onChange:I,placeholder:"Фамилия",autoComplete:"off",required:!0}),E.jsx("input",{className:"form__input",type:"text",name:"firstName",id:"first-name",value:S.firstName,onChange:I,placeholder:"Имя",autoComplete:"off",required:!0}),E.jsx("input",{className:"form__input",type:"text",name:"middleName",id:"middle-name",value:S.middleName,onChange:I,placeholder:"Отчество",autoComplete:"off",required:!0})]}):E.jsx("div",{className:"form__name",children:E.jsx("input",{className:"form__input",type:"text",name:"orgName",id:"organization",value:S.orgName,onChange:I,placeholder:"Название организации",autoComplete:"off",required:!0,style:{width:"100%"}})}),E.jsxs("div",{className:"form__tel-number",children:[S.clientType==="individual"?E.jsx(lO,{name:"phone",value:S.phone,onChange:I}):E.jsx("input",{className:"form__input",type:"tel",id:"tel-optional",name:"phone",autoComplete:"off",value:S.phone,onChange:I,placeholder:"Телефон формата +7-XXX-XXX-XX-XX (опционально)"}),E.jsx("input",{className:"form__input",type:"text",name:"object",id:"object",value:S.object,onChange:I,placeholder:"Изделие",autoComplete:"off",required:!0}),E.jsx("input",{className:"form__input",type:"text",name:"serialNumber",id:"serial-number",value:S.serialNumber,onChange:I,placeholder:"Серийный номер изделия или Б/Н",autoComplete:"off",required:!0})]}),E.jsxs("div",{className:"form__description",children:[E.jsxs("div",{className:"form__state",children:[E.jsx("textarea",{className:"form__input form__input--textarea",name:"state",id:"state",value:S.state,onChange:j,placeholder:"Внешнее состояние (максимум 200 символов)",autoComplete:"off",rows:"4",maxLength:200,required:!0}),E.jsxs("div",{className:"character-counter",children:[S.state.length,"/200 символов",S.state.length>=200&&E.jsx("span",{className:"counter-warning",children:" (лимит достигнут)"})]})]}),E.jsxs("div",{className:"form__problem",children:[E.jsx("textarea",{className:"form__input form__input--textarea",name:"repairType",id:"repair-type",value:S.repairType,onChange:j,placeholder:"Неисправность (максимум 200 символов)",autoComplete:"off",rows:"4",maxLength:200,required:!0}),E.jsxs("div",{className:"character-counter",children:[S.repairType.length,"/200 символов",S.repairType.length>=200&&E.jsx("span",{className:"counter-warning",children:" (лимит достигнут)"})]})]}),E.jsx("textarea",{className:"form__input form__input--textarea form__input--note",name:"note",id:"note",value:S.note,onChange:I,placeholder:"Заметка (опционально)",autoComplete:"off",rows:"4"})]}),E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsx("span",{className:"form__caption",children:"С Авито?"}),E.jsxs("div",{className:"switch-container",children:[E.jsxs("label",{className:"switch",children:[E.jsx("input",{name:"is_avito",id:"is_avito",type:"checkbox",autoComplete:"off",checked:S.isAvito,onChange:()=>_(!S.isAvito)}),E.jsx("span",{className:"slider round"})]}),E.jsx("span",{className:"form__caption",children:S.isAvito?"Да":"Нет"})]})]}),E.jsx("div",{className:"form__photos form__photos--wrapper",children:E.jsxs("div",{className:"form__wrapper",children:[h.isProcessing&&E.jsxs("div",{className:"compression-progress",children:[E.jsx("progress",{value:h.completed,max:h.total}),E.jsxs("span",{children:["Сжатие изображений: ",h.completed,"/",h.total]})]}),E.jsx("div",{className:`photos-preview ${s.length>0?"photos-preview--miniatures":""}`,children:s.map(D=>E.jsxs("div",{className:"photo-thumbnail",children:[E.jsx("img",{src:D.preview,alt:`Предпросмотр ${D.id}`,className:"photo-thumbnail__image"}),E.jsx("button",{type:"button",className:"photo-thumbnail__delete",onClick:()=>T(D.id),title:"Удалить фото",children:"×"})]},D.id))}),E.jsx("input",{type:"file",id:"receipt-photo-upload",ref:g,multiple:!0,accept:"image/*",onChange:C,style:{display:"none"}}),E.jsx("label",{htmlFor:"receipt-photo-upload",className:"button button--secondary button--upload",children:"Добавить фото"})]})}),E.jsx("button",{className:"button button--main",type:"submit",disabled:c,children:c?"Сохраняю...":"Сохранить"}),n&&E.jsx("div",{className:"error",children:n})]}),i&&E.jsx("div",{className:"form__message",children:i})]})};function xt(){return xt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xt.apply(null,arguments)}function Vs(t){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function cO(t,e){if(Vs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bw(t){var e=cO(t,"string");return Vs(e)=="symbol"?e:e+""}function Nu(t,e,n){return(e=Bw(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(n),!0).forEach(function(r){Nu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bw(r.key),r)}}function dO(t,e,n){return e&&q2(t.prototype,e),n&&q2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cg(t,e){return Cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Cg(t,e)}function hO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cg(t,e)}function hd(t){return hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hd(t)}function Iw(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iw=function(){return!!t})()}function pO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mO(t,e){if(e&&(Vs(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pO(t)}function gO(t){var e=Iw();return function(){var n,r=hd(t);if(e){var i=hd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mO(this,n)}}function Tg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function vO(t){if(Array.isArray(t))return Tg(t)}function yO(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uw(t,e){if(t){if(typeof t=="string")return Tg(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tg(t,e):void 0}}function bO(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tl(t){return vO(t)||yO(t)||Uw(t)||bO()}function _O(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function xO(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var wO=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(xO(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=_O(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),pr="-ms-",pd="-moz-",rn="-webkit-",zw="comm",u0="rule",c0="decl",SO="@import",Fw="@keyframes",EO="@layer",AO=Math.abs,Md=String.fromCharCode,CO=Object.assign;function TO(t,e){return sr(t,0)^45?(((e<<2^sr(t,0))<<2^sr(t,1))<<2^sr(t,2))<<2^sr(t,3):0}function qw(t){return t.trim()}function DO(t,e){return(t=e.exec(t))?t[0]:t}function an(t,e,n){return t.replace(e,n)}function Dg(t,e){return t.indexOf(e)}function sr(t,e){return t.charCodeAt(e)|0}function Xu(t,e,n){return t.slice(e,n)}function ji(t){return t.length}function f0(t){return t.length}function Nf(t,e){return e.push(t),t}function OO(t,e){return t.map(e).join("")}var jd=1,ll=1,Hw=0,Nr=0,qn=0,vl="";function Ld(t,e,n,r,i,s,l){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:jd,column:ll,length:l,return:""}}function wu(t,e){return CO(Ld("",null,null,"",null,null,0),t,{length:-t.length},e)}function RO(){return qn}function NO(){return qn=Nr>0?sr(vl,--Nr):0,ll--,qn===10&&(ll=1,jd--),qn}function Hr(){return qn=Nr<Hw?sr(vl,Nr++):0,ll++,qn===10&&(ll=1,jd++),qn}function Pi(){return sr(vl,Nr)}function Qf(){return Nr}function sc(t,e){return Xu(vl,t,e)}function Gu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $w(t){return jd=ll=1,Hw=ji(vl=t),Nr=0,[]}function Vw(t){return vl="",t}function Jf(t){return qw(sc(Nr-1,Og(t===91?t+2:t===40?t+1:t)))}function kO(t){for(;(qn=Pi())&&qn<33;)Hr();return Gu(t)>2||Gu(qn)>3?"":" "}function MO(t,e){for(;--e&&Hr()&&!(qn<48||qn>102||qn>57&&qn<65||qn>70&&qn<97););return sc(t,Qf()+(e<6&&Pi()==32&&Hr()==32))}function Og(t){for(;Hr();)switch(qn){case t:return Nr;case 34:case 39:t!==34&&t!==39&&Og(qn);break;case 40:t===41&&Og(t);break;case 92:Hr();break}return Nr}function jO(t,e){for(;Hr()&&t+qn!==57;)if(t+qn===84&&Pi()===47)break;return"/*"+sc(e,Nr-1)+"*"+Md(t===47?t:Hr())}function LO(t){for(;!Gu(Pi());)Hr();return sc(t,Nr)}function PO(t){return Vw(ed("",null,null,null,[""],t=$w(t),0,[0],t))}function ed(t,e,n,r,i,s,l,c,f){for(var d=0,h=0,m=l,g=0,v=0,_=0,C=1,T=1,S=1,P=0,L="",I=i,j=s,N=r,B=L;T;)switch(_=P,P=Hr()){case 40:if(_!=108&&sr(B,m-1)==58){Dg(B+=an(Jf(P),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:B+=Jf(P);break;case 9:case 10:case 13:case 32:B+=kO(_);break;case 92:B+=MO(Qf()-1,7);continue;case 47:switch(Pi()){case 42:case 47:Nf(BO(jO(Hr(),Qf()),e,n),f);break;default:B+="/"}break;case 123*C:c[d++]=ji(B)*S;case 125*C:case 59:case 0:switch(P){case 0:case 125:T=0;case 59+h:S==-1&&(B=an(B,/\f/g,"")),v>0&&ji(B)-m&&Nf(v>32?$2(B+";",r,n,m-1):$2(an(B," ","")+";",r,n,m-2),f);break;case 59:B+=";";default:if(Nf(N=H2(B,e,n,d,h,i,c,L,I=[],j=[],m),s),P===123)if(h===0)ed(B,e,N,N,I,s,m,c,j);else switch(g===99&&sr(B,3)===110?100:g){case 100:case 108:case 109:case 115:ed(t,N,N,r&&Nf(H2(t,N,N,0,0,i,c,L,i,I=[],m),j),i,j,m,c,r?I:j);break;default:ed(B,N,N,N,[""],j,0,c,j)}}d=h=v=0,C=S=1,L=B="",m=l;break;case 58:m=1+ji(B),v=_;default:if(C<1){if(P==123)--C;else if(P==125&&C++==0&&NO()==125)continue}switch(B+=Md(P),P*C){case 38:S=h>0?1:(B+="\f",-1);break;case 44:c[d++]=(ji(B)-1)*S,S=1;break;case 64:Pi()===45&&(B+=Jf(Hr())),g=Pi(),h=m=ji(L=B+=LO(Qf())),P++;break;case 45:_===45&&ji(B)==2&&(C=0)}}return s}function H2(t,e,n,r,i,s,l,c,f,d,h){for(var m=i-1,g=i===0?s:[""],v=f0(g),_=0,C=0,T=0;_<r;++_)for(var S=0,P=Xu(t,m+1,m=AO(C=l[_])),L=t;S<v;++S)(L=qw(C>0?g[S]+" "+P:an(P,/&\f/g,g[S])))&&(f[T++]=L);return Ld(t,e,n,i===0?u0:c,f,d,h)}function BO(t,e,n){return Ld(t,e,n,zw,Md(RO()),Xu(t,2,-2),0)}function $2(t,e,n,r){return Ld(t,e,n,c0,Xu(t,0,r),Xu(t,r+1,-1),r)}function nl(t,e){for(var n="",r=f0(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function IO(t,e,n,r){switch(t.type){case EO:if(t.children.length)break;case SO:case c0:return t.return=t.return||t.value;case zw:return"";case Fw:return t.return=t.value+"{"+nl(t.children,r)+"}";case u0:t.value=t.props.join(",")}return ji(n=nl(t.children,r))?t.return=t.value+"{"+n+"}":""}function UO(t){var e=f0(t);return function(n,r,i,s){for(var l="",c=0;c<e;c++)l+=t[c](n,r,i,s)||"";return l}}function zO(t){return function(e){e.root||(e=e.return)&&t(e)}}function FO(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var qO=function(e,n,r){for(var i=0,s=0;i=s,s=Pi(),i===38&&s===12&&(n[r]=1),!Gu(s);)Hr();return sc(e,Nr)},HO=function(e,n){var r=-1,i=44;do switch(Gu(i)){case 0:i===38&&Pi()===12&&(n[r]=1),e[r]+=qO(Nr-1,n,r);break;case 2:e[r]+=Jf(i);break;case 4:if(i===44){e[++r]=Pi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Md(i)}while(i=Hr());return e},$O=function(e,n){return Vw(HO($w(e),n))},V2=new WeakMap,VO=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!V2.get(r))&&!i){V2.set(e,!0);for(var s=[],l=$O(n,s),c=r.props,f=0,d=0;f<l.length;f++)for(var h=0;h<c.length;h++,d++)e.props[d]=s[f]?l[f].replace(/&\f/g,c[h]):c[h]+" "+l[f]}}},YO=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Yw(t,e){switch(TO(t,e)){case 5103:return rn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return rn+t+pd+t+pr+t+t;case 6828:case 4268:return rn+t+pr+t+t;case 6165:return rn+t+pr+"flex-"+t+t;case 5187:return rn+t+an(t,/(\w+).+(:[^]+)/,rn+"box-$1$2"+pr+"flex-$1$2")+t;case 5443:return rn+t+pr+"flex-item-"+an(t,/flex-|-self/,"")+t;case 4675:return rn+t+pr+"flex-line-pack"+an(t,/align-content|flex-|-self/,"")+t;case 5548:return rn+t+pr+an(t,"shrink","negative")+t;case 5292:return rn+t+pr+an(t,"basis","preferred-size")+t;case 6060:return rn+"box-"+an(t,"-grow","")+rn+t+pr+an(t,"grow","positive")+t;case 4554:return rn+an(t,/([^-])(transform)/g,"$1"+rn+"$2")+t;case 6187:return an(an(an(t,/(zoom-|grab)/,rn+"$1"),/(image-set)/,rn+"$1"),t,"")+t;case 5495:case 3959:return an(t,/(image-set\([^]*)/,rn+"$1$`$1");case 4968:return an(an(t,/(.+:)(flex-)?(.*)/,rn+"box-pack:$3"+pr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rn+t+t;case 4095:case 3583:case 4068:case 2532:return an(t,/(.+)-inline(.+)/,rn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ji(t)-1-e>6)switch(sr(t,e+1)){case 109:if(sr(t,e+4)!==45)break;case 102:return an(t,/(.+:)(.+)-([^]+)/,"$1"+rn+"$2-$3$1"+pd+(sr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Dg(t,"stretch")?Yw(an(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(sr(t,e+1)!==115)break;case 6444:switch(sr(t,ji(t)-3-(~Dg(t,"!important")&&10))){case 107:return an(t,":",":"+rn)+t;case 101:return an(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rn+(sr(t,14)===45?"inline-":"")+"box$3$1"+rn+"$2$3$1"+pr+"$2box$3")+t}break;case 5936:switch(sr(t,e+11)){case 114:return rn+t+pr+an(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return rn+t+pr+an(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return rn+t+pr+an(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return rn+t+pr+t+t}return t}var XO=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case c0:e.return=Yw(e.value,e.length);break;case Fw:return nl([wu(e,{value:an(e.value,"@","@"+rn)})],i);case u0:if(e.length)return OO(e.props,function(s){switch(DO(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return nl([wu(e,{props:[an(s,/:(read-\w+)/,":"+pd+"$1")]})],i);case"::placeholder":return nl([wu(e,{props:[an(s,/:(plac\w+)/,":"+rn+"input-$1")]}),wu(e,{props:[an(s,/:(plac\w+)/,":"+pd+"$1")]}),wu(e,{props:[an(s,/:(plac\w+)/,pr+"input-$1")]})],i)}return""})}},GO=[XO],WO=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(C){var T=C.getAttribute("data-emotion");T.indexOf(" ")!==-1&&(document.head.appendChild(C),C.setAttribute("data-s",""))})}var i=e.stylisPlugins||GO,s={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(C){for(var T=C.getAttribute("data-emotion").split(" "),S=1;S<T.length;S++)s[T[S]]=!0;c.push(C)});var f,d=[VO,YO];{var h,m=[IO,zO(function(C){h.insert(C)})],g=UO(d.concat(i,m)),v=function(T){return nl(PO(T),g)};f=function(T,S,P,L){h=P,v(T?T+"{"+S.styles+"}":S.styles),L&&(_.inserted[S.name]=!0)}}var _={key:n,sheet:new wO({key:n,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:f};return _.sheet.hydrate(c),_},Ym={exports:{}},ln={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y2;function ZO(){if(Y2)return ln;Y2=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,f=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,g=t?Symbol.for("react.suspense_list"):60120,v=t?Symbol.for("react.memo"):60115,_=t?Symbol.for("react.lazy"):60116,C=t?Symbol.for("react.block"):60121,T=t?Symbol.for("react.fundamental"):60117,S=t?Symbol.for("react.responder"):60118,P=t?Symbol.for("react.scope"):60119;function L(j){if(typeof j=="object"&&j!==null){var N=j.$$typeof;switch(N){case e:switch(j=j.type,j){case f:case d:case r:case s:case i:case m:return j;default:switch(j=j&&j.$$typeof,j){case c:case h:case _:case v:case l:return j;default:return N}}case n:return N}}}function I(j){return L(j)===d}return ln.AsyncMode=f,ln.ConcurrentMode=d,ln.ContextConsumer=c,ln.ContextProvider=l,ln.Element=e,ln.ForwardRef=h,ln.Fragment=r,ln.Lazy=_,ln.Memo=v,ln.Portal=n,ln.Profiler=s,ln.StrictMode=i,ln.Suspense=m,ln.isAsyncMode=function(j){return I(j)||L(j)===f},ln.isConcurrentMode=I,ln.isContextConsumer=function(j){return L(j)===c},ln.isContextProvider=function(j){return L(j)===l},ln.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},ln.isForwardRef=function(j){return L(j)===h},ln.isFragment=function(j){return L(j)===r},ln.isLazy=function(j){return L(j)===_},ln.isMemo=function(j){return L(j)===v},ln.isPortal=function(j){return L(j)===n},ln.isProfiler=function(j){return L(j)===s},ln.isStrictMode=function(j){return L(j)===i},ln.isSuspense=function(j){return L(j)===m},ln.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===r||j===d||j===s||j===i||j===m||j===g||typeof j=="object"&&j!==null&&(j.$$typeof===_||j.$$typeof===v||j.$$typeof===l||j.$$typeof===c||j.$$typeof===h||j.$$typeof===T||j.$$typeof===S||j.$$typeof===P||j.$$typeof===C)},ln.typeOf=L,ln}var X2;function KO(){return X2||(X2=1,Ym.exports=ZO()),Ym.exports}var Xm,G2;function QO(){if(G2)return Xm;G2=1;var t=KO(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=r,s[t.Memo]=i;function l(_){return t.isMemo(_)?i:s[_.$$typeof]||e}var c=Object.defineProperty,f=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,g=Object.prototype;function v(_,C,T){if(typeof C!="string"){if(g){var S=m(C);S&&S!==g&&v(_,S,T)}var P=f(C);d&&(P=P.concat(d(C)));for(var L=l(_),I=l(C),j=0;j<P.length;++j){var N=P[j];if(!n[N]&&!(T&&T[N])&&!(I&&I[N])&&!(L&&L[N])){var B=h(C,N);try{c(_,N,B)}catch{}}}}return _}return Xm=v,Xm}QO();var JO=!0;function e3(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var Xw=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||JO===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},t3=function(e,n,r){Xw(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function n3(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var r3={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i3=/[A-Z]|^ms/g,a3=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Gw=function(e){return e.charCodeAt(1)===45},W2=function(e){return e!=null&&typeof e!="boolean"},Gm=FO(function(t){return Gw(t)?t:t.replace(i3,"-$&").toLowerCase()}),Z2=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(a3,function(r,i,s){return Li={name:i,styles:s,next:Li},i})}return r3[e]!==1&&!Gw(e)&&typeof n=="number"&&n!==0?n+"px":n};function Wu(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Li={name:i.name,styles:i.styles,next:Li},i.name;var s=n;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)Li={name:l.name,styles:l.styles,next:Li},l=l.next;var c=s.styles+";";return c}return s3(t,e,n)}case"function":{if(t!==void 0){var f=Li,d=n(t);return Li=f,Wu(t,e,d)}break}}var h=n;return h}function s3(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Wu(t,e,n[i])+";";else for(var s in n){var l=n[s];if(typeof l!="object"){var c=l;W2(c)&&(r+=Gm(s)+":"+Z2(s,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&e==null)for(var f=0;f<l.length;f++)W2(l[f])&&(r+=Gm(s)+":"+Z2(s,l[f])+";");else{var d=Wu(t,e,l);switch(s){case"animation":case"animationName":{r+=Gm(s)+":"+d+";";break}default:r+=s+"{"+d+"}"}}}return r}var K2=/label:\s*([^\s;{]+)\s*(;|$)/g,Li;function Ww(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Li=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Wu(n,e,s);else{var l=s;i+=l[0]}for(var c=1;c<t.length;c++)if(i+=Wu(n,e,t[c]),r){var f=s;i+=f[c]}K2.lastIndex=0;for(var d="",h;(h=K2.exec(i))!==null;)d+="-"+h[1];var m=n3(i)+d;return{name:m,styles:i,next:Li}}var o3=function(e){return e()},l3=Jb.useInsertionEffect?Jb.useInsertionEffect:!1,u3=l3||o3,Zw=se.createContext(typeof HTMLElement<"u"?WO({key:"css"}):null);Zw.Provider;var c3=function(e){return se.forwardRef(function(n,r){var i=se.useContext(Zw);return e(n,i,r)})},f3=se.createContext({}),d0={}.hasOwnProperty,Rg="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",d3=function(e,n){var r={};for(var i in n)d0.call(n,i)&&(r[i]=n[i]);return r[Rg]=e,r},h3=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Xw(n,r,i),u3(function(){return t3(n,r,i)}),null},p3=c3(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Rg],s=[r],l="";typeof t.className=="string"?l=e3(e.registered,s,t.className):t.className!=null&&(l=t.className+" ");var c=Ww(s,void 0,se.useContext(f3));l+=e.key+"-"+c.name;var f={};for(var d in t)d0.call(t,d)&&d!=="css"&&d!==Rg&&(f[d]=t[d]);return f.className=l,n&&(f.ref=n),se.createElement(se.Fragment,null,se.createElement(h3,{cache:e,serialized:c,isStringTag:typeof i=="string"}),se.createElement(i,f))}),m3=p3,mt=function(e,n){var r=arguments;if(n==null||!d0.call(n,"css"))return se.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=m3,s[1]=d3(e,n);for(var l=2;l<i;l++)s[l]=r[l];return se.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(mt||(mt={}));function h0(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ww(e)}function g3(){var t=h0.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function v3(t){if(Array.isArray(t))return t}function y3(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,d=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(h){d=!0,i=h}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw i}}return c}}function b3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fa(t,e){return v3(t)||y3(t,e)||Uw(t,e)||b3()}function _3(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zi(t,e){if(t==null)return{};var n,r,i=_3(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function x3(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var w3=Vx();const ul=Math.min,Fs=Math.max,md=Math.round,kf=Math.floor,Bi=t=>({x:t,y:t}),S3={left:"right",right:"left",bottom:"top",top:"bottom"},E3={start:"end",end:"start"};function Ng(t,e,n){return Fs(t,ul(e,n))}function oc(t,e){return typeof t=="function"?t(e):t}function Ys(t){return t.split("-")[0]}function lc(t){return t.split("-")[1]}function Kw(t){return t==="x"?"y":"x"}function p0(t){return t==="y"?"height":"width"}function qs(t){return["top","bottom"].includes(Ys(t))?"y":"x"}function m0(t){return Kw(qs(t))}function A3(t,e,n){n===void 0&&(n=!1);const r=lc(t),i=m0(t),s=p0(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(l=gd(l)),[l,gd(l)]}function C3(t){const e=gd(t);return[kg(t),e,kg(e)]}function kg(t){return t.replace(/start|end/g,e=>E3[e])}function T3(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:l;default:return[]}}function D3(t,e,n,r){const i=lc(t);let s=T3(Ys(t),n==="start",r);return i&&(s=s.map(l=>l+"-"+i),e&&(s=s.concat(s.map(kg)))),s}function gd(t){return t.replace(/left|right|bottom|top/g,e=>S3[e])}function O3(t){return{top:0,right:0,bottom:0,left:0,...t}}function Qw(t){return typeof t!="number"?O3(t):{top:t,right:t,bottom:t,left:t}}function vd(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Q2(t,e,n){let{reference:r,floating:i}=t;const s=qs(e),l=m0(e),c=p0(l),f=Ys(e),d=s==="y",h=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,g=r[c]/2-i[c]/2;let v;switch(f){case"top":v={x:h,y:r.y-i.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:m};break;case"left":v={x:r.x-i.width,y:m};break;default:v={x:r.x,y:r.y}}switch(lc(e)){case"start":v[l]-=g*(n&&d?-1:1);break;case"end":v[l]+=g*(n&&d?-1:1);break}return v}const R3=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:l}=n,c=s.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let d=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:m}=Q2(d,r,f),g=r,v={},_=0;for(let C=0;C<c.length;C++){const{name:T,fn:S}=c[C],{x:P,y:L,data:I,reset:j}=await S({x:h,y:m,initialPlacement:r,placement:g,strategy:i,middlewareData:v,rects:d,platform:l,elements:{reference:t,floating:e}});h=P??h,m=L??m,v={...v,[T]:{...v[T],...I}},j&&_<=50&&(_++,typeof j=="object"&&(j.placement&&(g=j.placement),j.rects&&(d=j.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):j.rects),{x:h,y:m}=Q2(d,g,f)),C=-1)}return{x:h,y:m,placement:g,strategy:i,middlewareData:v}};async function Jw(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:l,elements:c,strategy:f}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:g=!1,padding:v=0}=oc(e,t),_=Qw(v),T=c[g?m==="floating"?"reference":"floating":m],S=vd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(T)))==null||n?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:d,rootBoundary:h,strategy:f})),P=m==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,L=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),I=await(s.isElement==null?void 0:s.isElement(L))?await(s.getScale==null?void 0:s.getScale(L))||{x:1,y:1}:{x:1,y:1},j=vd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:P,offsetParent:L,strategy:f}):P);return{top:(S.top-j.top+_.top)/I.y,bottom:(j.bottom-S.bottom+_.bottom)/I.y,left:(S.left-j.left+_.left)/I.x,right:(j.right-S.right+_.right)/I.x}}const N3=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:l,elements:c,middlewareData:f}=e,{element:d,padding:h=0}=oc(t,e)||{};if(d==null)return{};const m=Qw(h),g={x:n,y:r},v=m0(i),_=p0(v),C=await l.getDimensions(d),T=v==="y",S=T?"top":"left",P=T?"bottom":"right",L=T?"clientHeight":"clientWidth",I=s.reference[_]+s.reference[v]-g[v]-s.floating[_],j=g[v]-s.reference[v],N=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let B=N?N[L]:0;(!B||!await(l.isElement==null?void 0:l.isElement(N)))&&(B=c.floating[L]||s.floating[_]);const D=I/2-j/2,O=B/2-C[_]/2-1,V=ul(m[S],O),$=ul(m[P],O),J=V,ce=B-C[_]-$,Y=B/2-C[_]/2+D,k=Ng(J,Y,ce),A=!f.arrow&&lc(i)!=null&&Y!==k&&s.reference[_]/2-(Y<J?V:$)-C[_]/2<0,R=A?Y<J?Y-J:Y-ce:0;return{[v]:g[v]+R,data:{[v]:k,centerOffset:Y-k-R,...A&&{alignmentOffset:R}},reset:A}}}),k3=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:l,initialPlacement:c,platform:f,elements:d}=e,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:C=!0,...T}=oc(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const S=Ys(i),P=qs(c),L=Ys(c)===c,I=await(f.isRTL==null?void 0:f.isRTL(d.floating)),j=g||(L||!C?[gd(c)]:C3(c)),N=_!=="none";!g&&N&&j.push(...D3(c,C,_,I));const B=[c,...j],D=await Jw(e,T),O=[];let V=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&O.push(D[S]),m){const k=A3(i,l,I);O.push(D[k[0]],D[k[1]])}if(V=[...V,{placement:i,overflows:O}],!O.every(k=>k<=0)){var $,J;const k=((($=s.flip)==null?void 0:$.index)||0)+1,A=B[k];if(A){var ce;const Q=m==="alignment"?P!==qs(A):!1,re=((ce=V[0])==null?void 0:ce.overflows[0])>0;if(!Q||re)return{data:{index:k,overflows:V},reset:{placement:A}}}let R=(J=V.filter(Q=>Q.overflows[0]<=0).sort((Q,re)=>Q.overflows[1]-re.overflows[1])[0])==null?void 0:J.placement;if(!R)switch(v){case"bestFit":{var Y;const Q=(Y=V.filter(re=>{if(N){const F=qs(re.placement);return F===P||F==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(F=>F>0).reduce((F,de)=>F+de,0)]).sort((re,F)=>re[1]-F[1])[0])==null?void 0:Y[0];Q&&(R=Q);break}case"initialPlacement":R=c;break}if(i!==R)return{reset:{placement:R}}}return{}}}};async function M3(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Ys(n),c=lc(n),f=qs(n)==="y",d=["left","top"].includes(l)?-1:1,h=s&&f?-1:1,m=oc(e,t);let{mainAxis:g,crossAxis:v,alignmentAxis:_}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof _=="number"&&(v=c==="end"?_*-1:_),f?{x:v*h,y:g*d}:{x:g*d,y:v*h}}const j3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:l,middlewareData:c}=e,f=await M3(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:s+f.y,data:{...f,placement:l}}}}},L3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:l=!1,limiter:c={fn:T=>{let{x:S,y:P}=T;return{x:S,y:P}}},...f}=oc(t,e),d={x:n,y:r},h=await Jw(e,f),m=qs(Ys(i)),g=Kw(m);let v=d[g],_=d[m];if(s){const T=g==="y"?"top":"left",S=g==="y"?"bottom":"right",P=v+h[T],L=v-h[S];v=Ng(P,v,L)}if(l){const T=m==="y"?"top":"left",S=m==="y"?"bottom":"right",P=_+h[T],L=_-h[S];_=Ng(P,_,L)}const C=c.fn({...e,[g]:v,[m]:_});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[g]:s,[m]:l}}}}}};function Pd(){return typeof window<"u"}function yl(t){return eS(t)?(t.nodeName||"").toLowerCase():"#document"}function $r(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Fi(t){var e;return(e=(eS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function eS(t){return Pd()?t instanceof Node||t instanceof $r(t).Node:!1}function gi(t){return Pd()?t instanceof Element||t instanceof $r(t).Element:!1}function Ui(t){return Pd()?t instanceof HTMLElement||t instanceof $r(t).HTMLElement:!1}function J2(t){return!Pd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof $r(t).ShadowRoot}function uc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=vi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function P3(t){return["table","td","th"].includes(yl(t))}function Bd(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function g0(t){const e=v0(),n=gi(t)?vi(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function B3(t){let e=es(t);for(;Ui(e)&&!cl(e);){if(g0(e))return e;if(Bd(e))return null;e=es(e)}return null}function v0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function cl(t){return["html","body","#document"].includes(yl(t))}function vi(t){return $r(t).getComputedStyle(t)}function Id(t){return gi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function es(t){if(yl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||J2(t)&&t.host||Fi(t);return J2(e)?e.host:e}function tS(t){const e=es(t);return cl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ui(e)&&uc(e)?e:tS(e)}function Zu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=tS(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),l=$r(i);if(s){const c=Mg(l);return e.concat(l,l.visualViewport||[],uc(i)?i:[],c&&n?Zu(c):[])}return e.concat(i,Zu(i,[],n))}function Mg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function nS(t){const e=vi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ui(t),s=i?t.offsetWidth:n,l=i?t.offsetHeight:r,c=md(n)!==s||md(r)!==l;return c&&(n=s,r=l),{width:n,height:r,$:c}}function y0(t){return gi(t)?t:t.contextElement}function rl(t){const e=y0(t);if(!Ui(e))return Bi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=nS(e);let l=(s?md(n.width):n.width)/r,c=(s?md(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const I3=Bi(0);function rS(t){const e=$r(t);return!v0()||!e.visualViewport?I3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function U3(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==$r(t)?!1:e}function Xs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=y0(t);let l=Bi(1);e&&(r?gi(r)&&(l=rl(r)):l=rl(t));const c=U3(s,n,r)?rS(s):Bi(0);let f=(i.left+c.x)/l.x,d=(i.top+c.y)/l.y,h=i.width/l.x,m=i.height/l.y;if(s){const g=$r(s),v=r&&gi(r)?$r(r):r;let _=g,C=Mg(_);for(;C&&r&&v!==_;){const T=rl(C),S=C.getBoundingClientRect(),P=vi(C),L=S.left+(C.clientLeft+parseFloat(P.paddingLeft))*T.x,I=S.top+(C.clientTop+parseFloat(P.paddingTop))*T.y;f*=T.x,d*=T.y,h*=T.x,m*=T.y,f+=L,d+=I,_=$r(C),C=Mg(_)}}return vd({width:h,height:m,x:f,y:d})}function b0(t,e){const n=Id(t).scrollLeft;return e?e.left+n:Xs(Fi(t)).left+n}function iS(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:b0(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function z3(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",l=Fi(r),c=e?Bd(e.floating):!1;if(r===l||c&&s)return n;let f={scrollLeft:0,scrollTop:0},d=Bi(1);const h=Bi(0),m=Ui(r);if((m||!m&&!s)&&((yl(r)!=="body"||uc(l))&&(f=Id(r)),Ui(r))){const v=Xs(r);d=rl(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const g=l&&!m&&!s?iS(l,f,!0):Bi(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-f.scrollLeft*d.x+h.x+g.x,y:n.y*d.y-f.scrollTop*d.y+h.y+g.y}}function F3(t){return Array.from(t.getClientRects())}function q3(t){const e=Fi(t),n=Id(t),r=t.ownerDocument.body,i=Fs(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Fs(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+b0(t);const c=-n.scrollTop;return vi(r).direction==="rtl"&&(l+=Fs(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:l,y:c}}function H3(t,e){const n=$r(t),r=Fi(t),i=n.visualViewport;let s=r.clientWidth,l=r.clientHeight,c=0,f=0;if(i){s=i.width,l=i.height;const d=v0();(!d||d&&e==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}return{width:s,height:l,x:c,y:f}}function $3(t,e){const n=Xs(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ui(t)?rl(t):Bi(1),l=t.clientWidth*s.x,c=t.clientHeight*s.y,f=i*s.x,d=r*s.y;return{width:l,height:c,x:f,y:d}}function e1(t,e,n){let r;if(e==="viewport")r=H3(t,n);else if(e==="document")r=q3(Fi(t));else if(gi(e))r=$3(e,n);else{const i=rS(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return vd(r)}function aS(t,e){const n=es(t);return n===e||!gi(n)||cl(n)?!1:vi(n).position==="fixed"||aS(n,e)}function V3(t,e){const n=e.get(t);if(n)return n;let r=Zu(t,[],!1).filter(c=>gi(c)&&yl(c)!=="body"),i=null;const s=vi(t).position==="fixed";let l=s?es(t):t;for(;gi(l)&&!cl(l);){const c=vi(l),f=g0(l);!f&&c.position==="fixed"&&(i=null),(s?!f&&!i:!f&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||uc(l)&&!f&&aS(t,l))?r=r.filter(h=>h!==l):i=c,l=es(l)}return e.set(t,r),r}function Y3(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const l=[...n==="clippingAncestors"?Bd(e)?[]:V3(e,this._c):[].concat(n),r],c=l[0],f=l.reduce((d,h)=>{const m=e1(e,h,i);return d.top=Fs(m.top,d.top),d.right=ul(m.right,d.right),d.bottom=ul(m.bottom,d.bottom),d.left=Fs(m.left,d.left),d},e1(e,c,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function X3(t){const{width:e,height:n}=nS(t);return{width:e,height:n}}function G3(t,e,n){const r=Ui(e),i=Fi(e),s=n==="fixed",l=Xs(t,!0,s,e);let c={scrollLeft:0,scrollTop:0};const f=Bi(0);function d(){f.x=b0(i)}if(r||!r&&!s)if((yl(e)!=="body"||uc(i))&&(c=Id(e)),r){const v=Xs(e,!0,s,e);f.x=v.x+e.clientLeft,f.y=v.y+e.clientTop}else i&&d();s&&!r&&i&&d();const h=i&&!r&&!s?iS(i,c):Bi(0),m=l.left+c.scrollLeft-f.x-h.x,g=l.top+c.scrollTop-f.y-h.y;return{x:m,y:g,width:l.width,height:l.height}}function Wm(t){return vi(t).position==="static"}function t1(t,e){if(!Ui(t)||vi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Fi(t)===n&&(n=n.ownerDocument.body),n}function sS(t,e){const n=$r(t);if(Bd(t))return n;if(!Ui(t)){let i=es(t);for(;i&&!cl(i);){if(gi(i)&&!Wm(i))return i;i=es(i)}return n}let r=t1(t,e);for(;r&&P3(r)&&Wm(r);)r=t1(r,e);return r&&cl(r)&&Wm(r)&&!g0(r)?n:r||B3(t)||n}const W3=async function(t){const e=this.getOffsetParent||sS,n=this.getDimensions,r=await n(t.floating);return{reference:G3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Z3(t){return vi(t).direction==="rtl"}const K3={convertOffsetParentRelativeRectToViewportRelativeRect:z3,getDocumentElement:Fi,getClippingRect:Y3,getOffsetParent:sS,getElementRects:W3,getClientRects:F3,getDimensions:X3,getScale:rl,isElement:gi,isRTL:Z3};function oS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Q3(t,e){let n=null,r;const i=Fi(t);function s(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),s();const d=t.getBoundingClientRect(),{left:h,top:m,width:g,height:v}=d;if(c||e(),!g||!v)return;const _=kf(m),C=kf(i.clientWidth-(h+g)),T=kf(i.clientHeight-(m+v)),S=kf(h),L={rootMargin:-_+"px "+-C+"px "+-T+"px "+-S+"px",threshold:Fs(0,ul(1,f))||1};let I=!0;function j(N){const B=N[0].intersectionRatio;if(B!==f){if(!I)return l();B?l(!1,B):r=setTimeout(()=>{l(!1,1e-7)},1e3)}B===1&&!oS(d,t.getBoundingClientRect())&&l(),I=!1}try{n=new IntersectionObserver(j,{...L,root:i.ownerDocument})}catch{n=new IntersectionObserver(j,L)}n.observe(t)}return l(!0),s}function lS(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,d=y0(t),h=i||s?[...d?Zu(d):[],...Zu(e)]:[];h.forEach(S=>{i&&S.addEventListener("scroll",n,{passive:!0}),s&&S.addEventListener("resize",n)});const m=d&&c?Q3(d,n):null;let g=-1,v=null;l&&(v=new ResizeObserver(S=>{let[P]=S;P&&P.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var L;(L=v)==null||L.observe(e)})),n()}),d&&!f&&v.observe(d),v.observe(e));let _,C=f?Xs(t):null;f&&T();function T(){const S=Xs(t);C&&!oS(C,S)&&n(),C=S,_=requestAnimationFrame(T)}return n(),()=>{var S;h.forEach(P=>{i&&P.removeEventListener("scroll",n),s&&P.removeEventListener("resize",n)}),m==null||m(),(S=v)==null||S.disconnect(),v=null,f&&cancelAnimationFrame(_)}}const J3=j3,e5=L3,t5=k3,n5=N3,n1=(t,e,n)=>{const r=new Map,i={platform:K3,...n},s={...i.platform,_c:r};return R3(t,e,{...i,platform:s})};var jg=se.useLayoutEffect,r5=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],yd=function(){};function i5(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function a5(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var l in e)e.hasOwnProperty(l)&&e[l]&&s.push("".concat(i5(t,l)));return s.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var bd=function(e){return p5(e)?e.filter(Boolean):Vs(e)==="object"&&e!==null?[e]:[]},uS=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=zi(e,r5);return gt({},n)},jn=function(e,n,r){var i=e.cx,s=e.getStyles,l=e.getClassNames,c=e.className;return{css:s(n,e),className:i(r??{},l(n,e),c)}};function Ud(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function s5(t){return Ud(t)?window.innerHeight:t.clientHeight}function cS(t){return Ud(t)?window.pageYOffset:t.scrollTop}function _d(t,e){if(Ud(t)){window.scrollTo(0,e);return}t.scrollTop=e}function o5(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function l5(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Mf(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:yd,i=cS(t),s=e-i,l=10,c=0;function f(){c+=l;var d=l5(c,i,s,n);_d(t,d),c<n?window.requestAnimationFrame(f):r(t)}f()}function r1(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?_d(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&_d(t,Math.max(e.offsetTop-i,0))}function u5(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function i1(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function c5(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var fS=!1,f5={get passive(){return fS=!0}},jf=typeof window<"u"?window:{};jf.addEventListener&&jf.removeEventListener&&(jf.addEventListener("p",yd,f5),jf.removeEventListener("p",yd,!1));var d5=fS;function h5(t){return t!=null}function p5(t){return Array.isArray(t)}function ku(t,e,n){return t?e:n}var m5=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(l){var c=fa(l,1),f=c[0];return!r.includes(f)});return s.reduce(function(l,c){var f=fa(c,2),d=f[0],h=f[1];return l[d]=h,l},{})},g5=["children","innerProps"],v5=["children","innerProps"];function y5(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,l=t.isFixedPosition,c=t.controlHeight,f=o5(n),d={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return d;var h=f.getBoundingClientRect(),m=h.height,g=n.getBoundingClientRect(),v=g.bottom,_=g.height,C=g.top,T=n.offsetParent.getBoundingClientRect(),S=T.top,P=l?window.innerHeight:s5(f),L=cS(f),I=parseInt(getComputedStyle(n).marginBottom,10),j=parseInt(getComputedStyle(n).marginTop,10),N=S-j,B=P-C,D=N+L,O=m-L-C,V=v-P+L+I,$=L+C-j,J=160;switch(i){case"auto":case"bottom":if(B>=_)return{placement:"bottom",maxHeight:e};if(O>=_&&!l)return s&&Mf(f,V,J),{placement:"bottom",maxHeight:e};if(!l&&O>=r||l&&B>=r){s&&Mf(f,V,J);var ce=l?B-I:O-I;return{placement:"bottom",maxHeight:ce}}if(i==="auto"||l){var Y=e,k=l?N:D;return k>=r&&(Y=Math.min(k-I-c,e)),{placement:"top",maxHeight:Y}}if(i==="bottom")return s&&_d(f,V),{placement:"bottom",maxHeight:e};break;case"top":if(N>=_)return{placement:"top",maxHeight:e};if(D>=_&&!l)return s&&Mf(f,$,J),{placement:"top",maxHeight:e};if(!l&&D>=r||l&&N>=r){var A=e;return(!l&&D>=r||l&&N>=r)&&(A=l?N-j:D-j),s&&Mf(f,$,J),{placement:"top",maxHeight:A}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return d}function b5(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var dS=function(e){return e==="auto"?"bottom":e},_5=function(e,n){var r,i=e.placement,s=e.theme,l=s.borderRadius,c=s.spacing,f=s.colors;return gt((r={label:"menu"},Nu(r,b5(i),"100%"),Nu(r,"position","absolute"),Nu(r,"width","100%"),Nu(r,"zIndex",1),r),n?{}:{backgroundColor:f.neutral0,borderRadius:l,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},hS=se.createContext(null),x5=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,l=e.menuPosition,c=e.menuShouldScrollIntoView,f=e.theme,d=se.useContext(hS)||{},h=d.setPortalPlacement,m=se.useRef(null),g=se.useState(i),v=fa(g,2),_=v[0],C=v[1],T=se.useState(null),S=fa(T,2),P=S[0],L=S[1],I=f.spacing.controlHeight;return jg(function(){var j=m.current;if(j){var N=l==="fixed",B=c&&!N,D=y5({maxHeight:i,menuEl:j,minHeight:r,placement:s,shouldScroll:B,isFixedPosition:N,controlHeight:I});C(D.maxHeight),L(D.placement),h==null||h(D.placement)}},[i,s,l,c,r,h,I]),n({ref:m,placerProps:gt(gt({},e),{},{placement:P||dS(s),maxHeight:_})})},w5=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return mt("div",xt({},jn(e,"menu",{menu:!0}),{ref:r},i),n)},S5=w5,E5=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return gt({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},A5=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return mt("div",xt({},jn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},pS=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return gt({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},C5=pS,T5=pS,D5=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,s=zi(e,g5);return mt("div",xt({},jn(gt(gt({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},O5=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,s=zi(e,v5);return mt("div",xt({},jn(gt(gt({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},R5=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},N5=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,l=e.menuPlacement,c=e.menuPosition,f=se.useRef(null),d=se.useRef(null),h=se.useState(dS(l)),m=fa(h,2),g=m[0],v=m[1],_=se.useMemo(function(){return{setPortalPlacement:v}},[]),C=se.useState(null),T=fa(C,2),S=T[0],P=T[1],L=se.useCallback(function(){if(i){var B=u5(i),D=c==="fixed"?0:window.pageYOffset,O=B[g]+D;(O!==(S==null?void 0:S.offset)||B.left!==(S==null?void 0:S.rect.left)||B.width!==(S==null?void 0:S.rect.width))&&P({offset:O,rect:B})}},[i,c,g,S==null?void 0:S.offset,S==null?void 0:S.rect.left,S==null?void 0:S.rect.width]);jg(function(){L()},[L]);var I=se.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),i&&f.current&&(d.current=lS(i,f.current,L,{elementResize:"ResizeObserver"in window}))},[i,L]);jg(function(){I()},[I]);var j=se.useCallback(function(B){f.current=B,I()},[I]);if(!n&&c!=="fixed"||!S)return null;var N=mt("div",xt({ref:j},jn(gt(gt({},e),{},{offset:S.offset,position:c,rect:S.rect}),"menuPortal",{"menu-portal":!0}),s),r);return mt(hS.Provider,{value:_},n?w3.createPortal(N,n):N)},k5=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},M5=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return mt("div",xt({},jn(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},j5=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,l=e.selectProps.controlShouldRenderValue;return gt({alignItems:"center",display:i&&s&&l?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},L5=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return mt("div",xt({},jn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},P5=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},B5=function(e){var n=e.children,r=e.innerProps;return mt("div",xt({},jn(e,"indicatorsContainer",{indicators:!0}),r),n)},a1,I5=["size"],U5=["innerProps","isRtl","size"],z5={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},mS=function(e){var n=e.size,r=zi(e,I5);return mt("svg",xt({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:z5},r))},_0=function(e){return mt(mS,xt({size:20},e),mt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},gS=function(e){return mt(mS,xt({size:20},e),mt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},vS=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,l=i.colors;return gt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?l.neutral60:l.neutral20,padding:s*2,":hover":{color:r?l.neutral80:l.neutral40}})},F5=vS,q5=function(e){var n=e.children,r=e.innerProps;return mt("div",xt({},jn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||mt(gS,null))},H5=vS,$5=function(e){var n=e.children,r=e.innerProps;return mt("div",xt({},jn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||mt(_0,null))},V5=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,l=i.colors;return gt({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?l.neutral10:l.neutral20,marginBottom:s*2,marginTop:s*2})},Y5=function(e){var n=e.innerProps;return mt("span",xt({},n,jn(e,"indicatorSeparator",{"indicator-separator":!0})))},X5=g3(a1||(a1=x3([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),G5=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,l=s.colors,c=s.spacing.baseUnit;return gt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?l.neutral60:l.neutral20,padding:c*2})},Zm=function(e){var n=e.delay,r=e.offset;return mt("span",{css:h0({animation:"".concat(X5," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},W5=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,l=zi(e,U5);return mt("div",xt({},jn(gt(gt({},l),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),mt(Zm,{delay:0,offset:r}),mt(Zm,{delay:160,offset:!0}),mt(Zm,{delay:320,offset:!r}))},Z5=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,l=s.colors,c=s.borderRadius,f=s.spacing;return gt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:f.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?l.neutral5:l.neutral0,borderColor:r?l.neutral10:i?l.primary:l.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(l.primary):void 0,"&:hover":{borderColor:i?l.primary:l.neutral30}})},K5=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,l=e.innerProps,c=e.menuIsOpen;return mt("div",xt({ref:s},jn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":c}),l,{"aria-disabled":r||void 0}),n)},Q5=K5,J5=["data"],eR=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},tR=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,l=e.Heading,c=e.headingProps,f=e.innerProps,d=e.label,h=e.theme,m=e.selectProps;return mt("div",xt({},jn(e,"group",{group:!0}),f),mt(l,xt({},c,{selectProps:m,theme:h,getStyles:i,getClassNames:s,cx:r}),d),mt("div",null,n))},nR=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return gt({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},rR=function(e){var n=uS(e);n.data;var r=zi(n,J5);return mt("div",xt({},jn(e,"groupHeading",{"group-heading":!0}),r))},iR=tR,aR=["innerRef","isDisabled","isHidden","inputClassName"],sR=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,l=s.spacing,c=s.colors;return gt(gt({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},oR),n?{}:{margin:l.baseUnit/2,paddingBottom:l.baseUnit/2,paddingTop:l.baseUnit/2,color:c.neutral80})},yS={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},oR={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":gt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},yS)},lR=function(e){return gt({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},yS)},uR=function(e){var n=e.cx,r=e.value,i=uS(e),s=i.innerRef,l=i.isDisabled,c=i.isHidden,f=i.inputClassName,d=zi(i,aR);return mt("div",xt({},jn(e,"input",{"input-container":!0}),{"data-value":r||""}),mt("input",xt({className:n({input:!0},f),ref:s,style:lR(c),disabled:l},d)))},cR=uR,fR=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,l=r.colors;return gt({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:l.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},dR=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,l=e.cropWithEllipsis;return gt({overflow:"hidden",textOverflow:l||l===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},hR=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,l=r.colors,c=e.isFocused;return gt({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:c?l.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:l.dangerLight,color:l.danger}})},bS=function(e){var n=e.children,r=e.innerProps;return mt("div",r,n)},pR=bS,mR=bS;function gR(t){var e=t.children,n=t.innerProps;return mt("div",xt({role:"button"},n),e||mt(_0,{size:14}))}var vR=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,l=e.isDisabled,c=e.removeProps,f=e.selectProps,d=r.Container,h=r.Label,m=r.Remove;return mt(d,{data:i,innerProps:gt(gt({},jn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":l})),s),selectProps:f},mt(h,{data:i,innerProps:gt({},jn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:f},n),mt(m,{data:i,innerProps:gt(gt({},jn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},c),selectProps:f}))},yR=vR,bR=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,l=e.theme,c=l.spacing,f=l.colors;return gt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?f.primary:i?f.primary25:"transparent",color:r?f.neutral20:s?f.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?f.primary:f.primary50}})},_R=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,l=e.innerRef,c=e.innerProps;return mt("div",xt({},jn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:l,"aria-disabled":r},c),n)},xR=_R,wR=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return gt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},SR=function(e){var n=e.children,r=e.innerProps;return mt("div",xt({},jn(e,"placeholder",{placeholder:!0}),r),n)},ER=SR,AR=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,l=i.colors;return gt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?l.neutral40:l.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},CR=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return mt("div",xt({},jn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},TR=CR,DR={ClearIndicator:$5,Control:Q5,DropdownIndicator:q5,DownChevron:gS,CrossIcon:_0,Group:iR,GroupHeading:rR,IndicatorsContainer:B5,IndicatorSeparator:Y5,Input:cR,LoadingIndicator:W5,Menu:S5,MenuList:A5,MenuPortal:N5,LoadingMessage:O5,NoOptionsMessage:D5,MultiValue:yR,MultiValueContainer:pR,MultiValueLabel:mR,MultiValueRemove:gR,Option:xR,Placeholder:ER,SelectContainer:M5,SingleValue:TR,ValueContainer:L5},OR=function(e){return gt(gt({},DR),e.components)},s1=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function RR(t,e){return!!(t===e||s1(t)&&s1(e))}function NR(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!RR(t[n],e[n]))return!1;return!0}function kR(t,e){e===void 0&&(e=NR);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var l=t.apply(this,i);return n={lastResult:l,lastArgs:i,lastThis:this},l}return r.clear=function(){n=null},r}var MR={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},jR=function(e){return mt("span",xt({css:MR},e))},o1=jR,LR={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,l=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return l?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,l=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return l?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,l=s===void 0?"":s,c=e.selectValue,f=e.isDisabled,d=e.isSelected,h=e.isAppleDevice,m=function(C,T){return C&&C.length?"".concat(C.indexOf(T)+1," of ").concat(C.length):""};if(n==="value"&&c)return"value ".concat(l," focused, ").concat(m(c,r),".");if(n==="menu"&&h){var g=f?" disabled":"",v="".concat(d?" selected":"").concat(g);return"".concat(l).concat(v,", ").concat(m(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},PR=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,l=e.isFocused,c=e.selectValue,f=e.selectProps,d=e.id,h=e.isAppleDevice,m=f.ariaLiveMessages,g=f.getOptionLabel,v=f.inputValue,_=f.isMulti,C=f.isOptionDisabled,T=f.isSearchable,S=f.menuIsOpen,P=f.options,L=f.screenReaderStatus,I=f.tabSelectsValue,j=f.isLoading,N=f["aria-label"],B=f["aria-live"],D=se.useMemo(function(){return gt(gt({},LR),m||{})},[m]),O=se.useMemo(function(){var k="";if(n&&D.onChange){var A=n.option,R=n.options,Q=n.removedValue,re=n.removedValues,F=n.value,de=function(pe){return Array.isArray(pe)?null:pe},ae=Q||A||de(F),K=ae?g(ae):"",U=R||re||void 0,M=U?U.map(g):[],H=gt({isDisabled:ae&&C(ae,c),label:K,labels:M},n);k=D.onChange(H)}return k},[n,D,C,c,g]),V=se.useMemo(function(){var k="",A=r||i,R=!!(r&&c&&c.includes(r));if(A&&D.onFocus){var Q={focused:A,label:g(A),isDisabled:C(A,c),isSelected:R,options:s,context:A===r?"menu":"value",selectValue:c,isAppleDevice:h};k=D.onFocus(Q)}return k},[r,i,g,C,D,s,c,h]),$=se.useMemo(function(){var k="";if(S&&P.length&&!j&&D.onFilter){var A=L({count:s.length});k=D.onFilter({inputValue:v,resultsMessage:A})}return k},[s,v,S,D,P,L,j]),J=(n==null?void 0:n.action)==="initial-input-focus",ce=se.useMemo(function(){var k="";if(D.guidance){var A=i?"value":S?"menu":"input";k=D.guidance({"aria-label":N,context:A,isDisabled:r&&C(r,c),isMulti:_,isSearchable:T,tabSelectsValue:I,isInitialFocus:J})}return k},[N,r,i,_,C,T,S,D,c,I,J]),Y=mt(se.Fragment,null,mt("span",{id:"aria-selection"},O),mt("span",{id:"aria-focused"},V),mt("span",{id:"aria-results"},$),mt("span",{id:"aria-guidance"},ce));return mt(se.Fragment,null,mt(o1,{id:d},J&&Y),mt(o1,{"aria-live":B,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},l&&!J&&Y))},BR=PR,Lg=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],IR=new RegExp("["+Lg.map(function(t){return t.letters}).join("")+"]","g"),_S={};for(var Km=0;Km<Lg.length;Km++)for(var Qm=Lg[Km],Jm=0;Jm<Qm.letters.length;Jm++)_S[Qm.letters[Jm]]=Qm.base;var xS=function(e){return e.replace(IR,function(n){return _S[n]})},UR=kR(xS),l1=function(e){return e.replace(/^\s+|\s+$/g,"")},zR=function(e){return"".concat(e.label," ").concat(e.value)},FR=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=gt({ignoreCase:!0,ignoreAccents:!0,stringify:zR,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,l=i.ignoreAccents,c=i.stringify,f=i.trim,d=i.matchFrom,h=f?l1(r):r,m=f?l1(c(n)):c(n);return s&&(h=h.toLowerCase(),m=m.toLowerCase()),l&&(h=UR(h),m=xS(m)),d==="start"?m.substr(0,h.length)===h:m.indexOf(h)>-1}},qR=["innerRef"];function HR(t){var e=t.innerRef,n=zi(t,qR),r=m5(n,"onExited","in","enter","exit","appear");return mt("input",xt({ref:e},r,{css:h0({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var $R=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function VR(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,l=se.useRef(!1),c=se.useRef(!1),f=se.useRef(0),d=se.useRef(null),h=se.useCallback(function(T,S){if(d.current!==null){var P=d.current,L=P.scrollTop,I=P.scrollHeight,j=P.clientHeight,N=d.current,B=S>0,D=I-j-L,O=!1;D>S&&l.current&&(r&&r(T),l.current=!1),B&&c.current&&(s&&s(T),c.current=!1),B&&S>D?(n&&!l.current&&n(T),N.scrollTop=I,O=!0,l.current=!0):!B&&-S>L&&(i&&!c.current&&i(T),N.scrollTop=0,O=!0,c.current=!0),O&&$R(T)}},[n,r,i,s]),m=se.useCallback(function(T){h(T,T.deltaY)},[h]),g=se.useCallback(function(T){f.current=T.changedTouches[0].clientY},[]),v=se.useCallback(function(T){var S=f.current-T.changedTouches[0].clientY;h(T,S)},[h]),_=se.useCallback(function(T){if(T){var S=d5?{passive:!1}:!1;T.addEventListener("wheel",m,S),T.addEventListener("touchstart",g,S),T.addEventListener("touchmove",v,S)}},[v,g,m]),C=se.useCallback(function(T){T&&(T.removeEventListener("wheel",m,!1),T.removeEventListener("touchstart",g,!1),T.removeEventListener("touchmove",v,!1))},[v,g,m]);return se.useEffect(function(){if(e){var T=d.current;return _(T),function(){C(T)}}},[e,_,C]),function(T){d.current=T}}var u1=["boxSizing","height","overflow","paddingRight","position"],c1={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function f1(t){t.cancelable&&t.preventDefault()}function d1(t){t.stopPropagation()}function h1(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function p1(){return"ontouchstart"in window||navigator.maxTouchPoints}var m1=!!(typeof window<"u"&&window.document&&window.document.createElement),Su=0,Go={capture:!1,passive:!1};function YR(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=se.useRef({}),s=se.useRef(null),l=se.useCallback(function(f){if(m1){var d=document.body,h=d&&d.style;if(r&&u1.forEach(function(_){var C=h&&h[_];i.current[_]=C}),r&&Su<1){var m=parseInt(i.current.paddingRight,10)||0,g=document.body?document.body.clientWidth:0,v=window.innerWidth-g+m||0;Object.keys(c1).forEach(function(_){var C=c1[_];h&&(h[_]=C)}),h&&(h.paddingRight="".concat(v,"px"))}d&&p1()&&(d.addEventListener("touchmove",f1,Go),f&&(f.addEventListener("touchstart",h1,Go),f.addEventListener("touchmove",d1,Go))),Su+=1}},[r]),c=se.useCallback(function(f){if(m1){var d=document.body,h=d&&d.style;Su=Math.max(Su-1,0),r&&Su<1&&u1.forEach(function(m){var g=i.current[m];h&&(h[m]=g)}),d&&p1()&&(d.removeEventListener("touchmove",f1,Go),f&&(f.removeEventListener("touchstart",h1,Go),f.removeEventListener("touchmove",d1,Go)))}},[r]);return se.useEffect(function(){if(e){var f=s.current;return l(f),function(){c(f)}}},[e,l,c]),function(f){s.current=f}}var XR=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},GR={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function WR(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,l=t.onBottomLeave,c=t.onTopArrive,f=t.onTopLeave,d=VR({isEnabled:i,onBottomArrive:s,onBottomLeave:l,onTopArrive:c,onTopLeave:f}),h=YR({isEnabled:n}),m=function(v){d(v),h(v)};return mt(se.Fragment,null,n&&mt("div",{onClick:XR,css:GR}),e(m))}var ZR={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},KR=function(e){var n=e.name,r=e.onFocus;return mt("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:ZR,value:"",onChange:function(){}})},QR=KR;function x0(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function JR(){return x0(/^iPhone/i)}function wS(){return x0(/^Mac/i)}function eN(){return x0(/^iPad/i)||wS()&&navigator.maxTouchPoints>1}function tN(){return JR()||eN()}function nN(){return wS()||tN()}var rN=function(e){return e.label},SS=function(e){return e.label},ES=function(e){return e.value},iN=function(e){return!!e.isDisabled},aN={clearIndicator:H5,container:k5,control:Z5,dropdownIndicator:F5,group:eR,groupHeading:nR,indicatorsContainer:P5,indicatorSeparator:V5,input:sR,loadingIndicator:G5,loadingMessage:T5,menu:_5,menuList:E5,menuPortal:R5,multiValue:fR,multiValueLabel:dR,multiValueRemove:hR,noOptionsMessage:C5,option:bR,placeholder:wR,singleValue:AR,valueContainer:j5},sN={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},oN=4,AS=4,lN=38,uN=AS*2,cN={baseUnit:AS,controlHeight:lN,menuGutter:uN},eg={borderRadius:oN,colors:sN,spacing:cN},fN={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:i1(),captureMenuScroll:!i1(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:FR(),formatGroupLabel:rN,getOptionLabel:SS,getOptionValue:ES,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:iN,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!c5(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function g1(t,e,n,r){var i=DS(t,e,n),s=OS(t,e,n),l=TS(t,e),c=xd(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:l,value:c,index:r}}function td(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(l,c){return g1(t,l,e,c)}).filter(function(l){return y1(t,l)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=g1(t,n,e,r);return y1(t,s)?s:void 0}).filter(h5)}function CS(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,tl(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function v1(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,tl(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function dN(t,e){return CS(td(t,e))}function y1(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,l=e.label,c=e.value;return(!NS(t)||!s)&&RS(t,{label:l,value:c,data:i},r)}function hN(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function pN(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var tg=function(e,n){var r,i=(r=e.find(function(s){return s.data===n}))===null||r===void 0?void 0:r.id;return i||null},TS=function(e,n){return e.getOptionLabel(n)},xd=function(e,n){return e.getOptionValue(n)};function DS(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function OS(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=xd(t,e);return n.some(function(i){return xd(t,i)===r})}function RS(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var NS=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},mN=1,kS=function(t){hO(n,t);var e=gO(n);function n(r){var i;if(fO(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=nN(),i.controlRef=null,i.getControlRef=function(f){i.controlRef=f},i.focusedOptionRef=null,i.getFocusedOptionRef=function(f){i.focusedOptionRef=f},i.menuListRef=null,i.getMenuListRef=function(f){i.menuListRef=f},i.inputRef=null,i.getInputRef=function(f){i.inputRef=f},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(f,d){var h=i.props,m=h.onChange,g=h.name;d.name=g,i.ariaOnChange(f,d),m(f,d)},i.setValue=function(f,d,h){var m=i.props,g=m.closeMenuOnSelect,v=m.isMulti,_=m.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:_}),g&&(i.setState({inputIsHiddenAfterUpdate:!v}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(f,{action:d,option:h})},i.selectOption=function(f){var d=i.props,h=d.blurInputOnSelect,m=d.isMulti,g=d.name,v=i.state.selectValue,_=m&&i.isOptionSelected(f,v),C=i.isOptionDisabled(f,v);if(_){var T=i.getOptionValue(f);i.setValue(v.filter(function(S){return i.getOptionValue(S)!==T}),"deselect-option",f)}else if(!C)m?i.setValue([].concat(tl(v),[f]),"select-option",f):i.setValue(f,"select-option");else{i.ariaOnChange(f,{action:"select-option",option:f,name:g});return}h&&i.blurInput()},i.removeValue=function(f){var d=i.props.isMulti,h=i.state.selectValue,m=i.getOptionValue(f),g=h.filter(function(_){return i.getOptionValue(_)!==m}),v=ku(d,g,g[0]||null);i.onChange(v,{action:"remove-value",removedValue:f}),i.focusInput()},i.clearValue=function(){var f=i.state.selectValue;i.onChange(ku(i.props.isMulti,[],null),{action:"clear",removedValues:f})},i.popValue=function(){var f=i.props.isMulti,d=i.state.selectValue,h=d[d.length-1],m=d.slice(0,d.length-1),g=ku(f,m,m[0]||null);h&&i.onChange(g,{action:"pop-value",removedValue:h})},i.getFocusedOptionId=function(f){return tg(i.state.focusableOptionsWithIds,f)},i.getFocusableOptionsWithIds=function(){return v1(td(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];return a5.apply(void 0,[i.props.classNamePrefix].concat(d))},i.getOptionLabel=function(f){return TS(i.props,f)},i.getOptionValue=function(f){return xd(i.props,f)},i.getStyles=function(f,d){var h=i.props.unstyled,m=aN[f](d,h);m.boxSizing="border-box";var g=i.props.styles[f];return g?g(m,d):m},i.getClassNames=function(f,d){var h,m;return(h=(m=i.props.classNames)[f])===null||h===void 0?void 0:h.call(m,d)},i.getElementId=function(f){return"".concat(i.state.instancePrefix,"-").concat(f)},i.getComponents=function(){return OR(i.props)},i.buildCategorizedOptions=function(){return td(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return CS(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(f,d){i.setState({ariaSelection:gt({value:f},d)})},i.onMenuMouseDown=function(f){f.button===0&&(f.stopPropagation(),f.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(f){i.blockOptionHover=!1},i.onControlMouseDown=function(f){if(!f.defaultPrevented){var d=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&i.onMenuClose():d&&i.openMenu("first"):(d&&(i.openAfterFocus=!0),i.focusInput()),f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&f.preventDefault()}},i.onDropdownIndicatorMouseDown=function(f){if(!(f&&f.type==="mousedown"&&f.button!==0)&&!i.props.isDisabled){var d=i.props,h=d.isMulti,m=d.menuIsOpen;i.focusInput(),m?(i.setState({inputIsHiddenAfterUpdate:!h}),i.onMenuClose()):i.openMenu("first"),f.preventDefault()}},i.onClearIndicatorMouseDown=function(f){f&&f.type==="mousedown"&&f.button!==0||(i.clearValue(),f.preventDefault(),i.openAfterFocus=!1,f.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(f){typeof i.props.closeMenuOnScroll=="boolean"?f.target instanceof HTMLElement&&Ud(f.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(f)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(f){var d=f.touches,h=d&&d.item(0);h&&(i.initialTouchX=h.clientX,i.initialTouchY=h.clientY,i.userIsDragging=!1)},i.onTouchMove=function(f){var d=f.touches,h=d&&d.item(0);if(h){var m=Math.abs(h.clientX-i.initialTouchX),g=Math.abs(h.clientY-i.initialTouchY),v=5;i.userIsDragging=m>v||g>v}},i.onTouchEnd=function(f){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(f.target)&&i.menuListRef&&!i.menuListRef.contains(f.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(f){i.userIsDragging||i.onControlMouseDown(f)},i.onClearIndicatorTouchEnd=function(f){i.userIsDragging||i.onClearIndicatorMouseDown(f)},i.onDropdownIndicatorTouchEnd=function(f){i.userIsDragging||i.onDropdownIndicatorMouseDown(f)},i.handleInputChange=function(f){var d=i.props.inputValue,h=f.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(h,{action:"input-change",prevInputValue:d}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(f){i.props.onFocus&&i.props.onFocus(f),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(f){var d=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(f),i.onInputChange("",{action:"input-blur",prevInputValue:d}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(f){if(!(i.blockOptionHover||i.state.focusedOption===f)){var d=i.getFocusableOptions(),h=d.indexOf(f);i.setState({focusedOption:f,focusedOptionId:h>-1?i.getFocusedOptionId(f):null})}},i.shouldHideSelectedOptions=function(){return NS(i.props)},i.onValueInputFocus=function(f){f.preventDefault(),f.stopPropagation(),i.focus()},i.onKeyDown=function(f){var d=i.props,h=d.isMulti,m=d.backspaceRemovesValue,g=d.escapeClearsValue,v=d.inputValue,_=d.isClearable,C=d.isDisabled,T=d.menuIsOpen,S=d.onKeyDown,P=d.tabSelectsValue,L=d.openMenuOnFocus,I=i.state,j=I.focusedOption,N=I.focusedValue,B=I.selectValue;if(!C&&!(typeof S=="function"&&(S(f),f.defaultPrevented))){switch(i.blockOptionHover=!0,f.key){case"ArrowLeft":if(!h||v)return;i.focusValue("previous");break;case"ArrowRight":if(!h||v)return;i.focusValue("next");break;case"Delete":case"Backspace":if(v)return;if(N)i.removeValue(N);else{if(!m)return;h?i.popValue():_&&i.clearValue()}break;case"Tab":if(i.isComposing||f.shiftKey||!T||!P||!j||L&&i.isOptionSelected(j,B))return;i.selectOption(j);break;case"Enter":if(f.keyCode===229)break;if(T){if(!j||i.isComposing)return;i.selectOption(j);break}return;case"Escape":T?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:v}),i.onMenuClose()):_&&g&&i.clearValue();break;case" ":if(v)return;if(!T){i.openMenu("first");break}if(!j)return;i.selectOption(j);break;case"ArrowUp":T?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":T?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!T)return;i.focusOption("pageup");break;case"PageDown":if(!T)return;i.focusOption("pagedown");break;case"Home":if(!T)return;i.focusOption("first");break;case"End":if(!T)return;i.focusOption("last");break;default:return}f.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++mN),i.state.selectValue=bd(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),l=i.buildFocusableOptions(),c=l.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=l[c],i.state.focusedOptionId=tg(s,l[c])}return i}return dO(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&r1(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,l=s.isDisabled,c=s.menuIsOpen,f=this.state.isFocused;(f&&!l&&i.isDisabled||f&&c&&!i.menuIsOpen)&&this.focusInput(),f&&l&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!f&&!l&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(r1(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,l=this.state,c=l.selectValue,f=l.isFocused,d=this.buildFocusableOptions(),h=i==="first"?0:d.length-1;if(!this.props.isMulti){var m=d.indexOf(c[0]);m>-1&&(h=m)}this.scrollToFocusedOptionOnUpdate=!(f&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[h],focusedOptionId:this.getFocusedOptionId(d[h])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,l=s.selectValue,c=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var f=l.indexOf(c);c||(f=-1);var d=l.length-1,h=-1;if(l.length){switch(i){case"previous":f===0?h=0:f===-1?h=d:h=f-1;break;case"next":f>-1&&f<d&&(h=f+1);break}this.setState({inputIsHidden:h!==-1,focusedValue:l[h]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,l=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var f=0,d=c.indexOf(l);l||(d=-1),i==="up"?f=d>0?d-1:c.length-1:i==="down"?f=(d+1)%c.length:i==="pageup"?(f=d-s,f<0&&(f=0)):i==="pagedown"?(f=d+s,f>c.length-1&&(f=c.length-1)):i==="last"&&(f=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[f],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[f])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(eg):gt(gt({},eg),this.props.theme):eg}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,l=this.getStyles,c=this.getClassNames,f=this.getValue,d=this.selectOption,h=this.setValue,m=this.props,g=m.isMulti,v=m.isRtl,_=m.options,C=this.hasValue();return{clearValue:i,cx:s,getStyles:l,getClassNames:c,getValue:f,hasValue:C,isMulti:g,isRtl:v,options:_,selectOption:d,selectProps:m,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,l=i.isMulti;return s===void 0?l:s}},{key:"isOptionDisabled",value:function(i,s){return DS(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return OS(this.props,i,s)}},{key:"filterOption",value:function(i,s){return RS(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var l=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:l,selectValue:c})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,l=i.isSearchable,c=i.inputId,f=i.inputValue,d=i.tabIndex,h=i.form,m=i.menuIsOpen,g=i.required,v=this.getComponents(),_=v.Input,C=this.state,T=C.inputIsHidden,S=C.ariaSelection,P=this.commonProps,L=c||this.getElementId("input"),I=gt(gt(gt({"aria-autocomplete":"list","aria-expanded":m,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":g,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},m&&{"aria-controls":this.getElementId("listbox")}),!l&&{"aria-readonly":!0}),this.hasValue()?(S==null?void 0:S.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return l?se.createElement(_,xt({},P,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:L,innerRef:this.getInputRef,isDisabled:s,isHidden:T,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:h,type:"text",value:f},I)):se.createElement(HR,xt({id:L,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:yd,onFocus:this.onInputFocus,disabled:s,tabIndex:d,inputMode:"none",form:h,value:""},I))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),l=s.MultiValue,c=s.MultiValueContainer,f=s.MultiValueLabel,d=s.MultiValueRemove,h=s.SingleValue,m=s.Placeholder,g=this.commonProps,v=this.props,_=v.controlShouldRenderValue,C=v.isDisabled,T=v.isMulti,S=v.inputValue,P=v.placeholder,L=this.state,I=L.selectValue,j=L.focusedValue,N=L.isFocused;if(!this.hasValue()||!_)return S?null:se.createElement(m,xt({},g,{key:"placeholder",isDisabled:C,isFocused:N,innerProps:{id:this.getElementId("placeholder")}}),P);if(T)return I.map(function(D,O){var V=D===j,$="".concat(i.getOptionLabel(D),"-").concat(i.getOptionValue(D));return se.createElement(l,xt({},g,{components:{Container:c,Label:f,Remove:d},isFocused:V,isDisabled:C,key:$,index:O,removeProps:{onClick:function(){return i.removeValue(D)},onTouchEnd:function(){return i.removeValue(D)},onMouseDown:function(ce){ce.preventDefault()}},data:D}),i.formatOptionLabel(D,"value"))});if(S)return null;var B=I[0];return se.createElement(h,xt({},g,{data:B,isDisabled:C}),this.formatOptionLabel(B,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,l=this.commonProps,c=this.props,f=c.isDisabled,d=c.isLoading,h=this.state.isFocused;if(!this.isClearable()||!s||f||!this.hasValue()||d)return null;var m={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return se.createElement(s,xt({},l,{innerProps:m,isFocused:h}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,l=this.commonProps,c=this.props,f=c.isDisabled,d=c.isLoading,h=this.state.isFocused;if(!s||!d)return null;var m={"aria-hidden":"true"};return se.createElement(s,xt({},l,{innerProps:m,isDisabled:f,isFocused:h}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,l=i.IndicatorSeparator;if(!s||!l)return null;var c=this.commonProps,f=this.props.isDisabled,d=this.state.isFocused;return se.createElement(l,xt({},c,{isDisabled:f,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var l=this.commonProps,c=this.props.isDisabled,f=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return se.createElement(s,xt({},l,{innerProps:d,isDisabled:c,isFocused:f}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),l=s.Group,c=s.GroupHeading,f=s.Menu,d=s.MenuList,h=s.MenuPortal,m=s.LoadingMessage,g=s.NoOptionsMessage,v=s.Option,_=this.commonProps,C=this.state.focusedOption,T=this.props,S=T.captureMenuScroll,P=T.inputValue,L=T.isLoading,I=T.loadingMessage,j=T.minMenuHeight,N=T.maxMenuHeight,B=T.menuIsOpen,D=T.menuPlacement,O=T.menuPosition,V=T.menuPortalTarget,$=T.menuShouldBlockScroll,J=T.menuShouldScrollIntoView,ce=T.noOptionsMessage,Y=T.onMenuScrollToTop,k=T.onMenuScrollToBottom;if(!B)return null;var A=function(K,U){var M=K.type,H=K.data,oe=K.isDisabled,pe=K.isSelected,be=K.label,ve=K.value,fe=C===H,me=oe?void 0:function(){return i.onOptionHover(H)},Ae=oe?void 0:function(){return i.selectOption(H)},Z="".concat(i.getElementId("option"),"-").concat(U),ie={id:Z,onClick:Ae,onMouseMove:me,onMouseOver:me,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:pe};return se.createElement(v,xt({},_,{innerProps:ie,data:H,isDisabled:oe,isSelected:pe,key:Z,label:be,type:M,value:ve,isFocused:fe,innerRef:fe?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(K.data,"menu"))},R;if(this.hasOptions())R=this.getCategorizedOptions().map(function(ae){if(ae.type==="group"){var K=ae.data,U=ae.options,M=ae.index,H="".concat(i.getElementId("group"),"-").concat(M),oe="".concat(H,"-heading");return se.createElement(l,xt({},_,{key:H,data:K,options:U,Heading:c,headingProps:{id:oe,data:ae.data},label:i.formatGroupLabel(ae.data)}),ae.options.map(function(pe){return A(pe,"".concat(M,"-").concat(pe.index))}))}else if(ae.type==="option")return A(ae,"".concat(ae.index))});else if(L){var Q=I({inputValue:P});if(Q===null)return null;R=se.createElement(m,_,Q)}else{var re=ce({inputValue:P});if(re===null)return null;R=se.createElement(g,_,re)}var F={minMenuHeight:j,maxMenuHeight:N,menuPlacement:D,menuPosition:O,menuShouldScrollIntoView:J},de=se.createElement(x5,xt({},_,F),function(ae){var K=ae.ref,U=ae.placerProps,M=U.placement,H=U.maxHeight;return se.createElement(f,xt({},_,F,{innerRef:K,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:L,placement:M}),se.createElement(WR,{captureEnabled:S,onTopArrive:Y,onBottomArrive:k,lockEnabled:$},function(oe){return se.createElement(d,xt({},_,{innerRef:function(be){i.getMenuListRef(be),oe(be)},innerProps:{role:"listbox","aria-multiselectable":_.isMulti,id:i.getElementId("listbox")},isLoading:L,maxHeight:H,focusedOption:C}),R)}))});return V||O==="fixed"?se.createElement(h,xt({},_,{appendTo:V,controlElement:this.controlRef,menuPlacement:D,menuPosition:O}),de):de}},{key:"renderFormField",value:function(){var i=this,s=this.props,l=s.delimiter,c=s.isDisabled,f=s.isMulti,d=s.name,h=s.required,m=this.state.selectValue;if(h&&!this.hasValue()&&!c)return se.createElement(QR,{name:d,onFocus:this.onValueInputFocus});if(!(!d||c))if(f)if(l){var g=m.map(function(C){return i.getOptionValue(C)}).join(l);return se.createElement("input",{name:d,type:"hidden",value:g})}else{var v=m.length>0?m.map(function(C,T){return se.createElement("input",{key:"i-".concat(T),name:d,type:"hidden",value:i.getOptionValue(C)})}):se.createElement("input",{name:d,type:"hidden",value:""});return se.createElement("div",null,v)}else{var _=m[0]?this.getOptionValue(m[0]):"";return se.createElement("input",{name:d,type:"hidden",value:_})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,l=s.ariaSelection,c=s.focusedOption,f=s.focusedValue,d=s.isFocused,h=s.selectValue,m=this.getFocusableOptions();return se.createElement(BR,xt({},i,{id:this.getElementId("live-region"),ariaSelection:l,focusedOption:c,focusedValue:f,isFocused:d,selectValue:h,focusableOptions:m,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,l=i.IndicatorsContainer,c=i.SelectContainer,f=i.ValueContainer,d=this.props,h=d.className,m=d.id,g=d.isDisabled,v=d.menuIsOpen,_=this.state.isFocused,C=this.commonProps=this.getCommonProps();return se.createElement(c,xt({},C,{className:h,innerProps:{id:m,onKeyDown:this.onKeyDown},isDisabled:g,isFocused:_}),this.renderLiveRegion(),se.createElement(s,xt({},C,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:g,isFocused:_,menuIsOpen:v}),se.createElement(f,xt({},C,{isDisabled:g}),this.renderPlaceholderOrValue(),this.renderInput()),se.createElement(l,xt({},C,{isDisabled:g}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var l=s.prevProps,c=s.clearFocusValueOnUpdate,f=s.inputIsHiddenAfterUpdate,d=s.ariaSelection,h=s.isFocused,m=s.prevWasFocused,g=s.instancePrefix,v=i.options,_=i.value,C=i.menuIsOpen,T=i.inputValue,S=i.isMulti,P=bd(_),L={};if(l&&(_!==l.value||v!==l.options||C!==l.menuIsOpen||T!==l.inputValue)){var I=C?dN(i,P):[],j=C?v1(td(i,P),"".concat(g,"-option")):[],N=c?hN(s,P):null,B=pN(s,I),D=tg(j,B);L={selectValue:P,focusedOption:B,focusedOptionId:D,focusableOptionsWithIds:j,focusedValue:N,clearFocusValueOnUpdate:!1}}var O=f!=null&&i!==l?{inputIsHidden:f,inputIsHiddenAfterUpdate:void 0}:{},V=d,$=h&&m;return h&&!$&&(V={value:ku(S,P,P[0]||null),options:P,action:"initial-input-focus"},$=!m),(d==null?void 0:d.action)==="initial-input-focus"&&(V=null),gt(gt(gt({},L),O),{},{prevProps:i,ariaSelection:V,prevWasFocused:$})}}]),n}(se.Component);kS.defaultProps=fN;var gN=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function vN(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,l=s===void 0?null:s,c=t.inputValue,f=t.menuIsOpen,d=t.onChange,h=t.onInputChange,m=t.onMenuClose,g=t.onMenuOpen,v=t.value,_=zi(t,gN),C=se.useState(c!==void 0?c:n),T=fa(C,2),S=T[0],P=T[1],L=se.useState(f!==void 0?f:i),I=fa(L,2),j=I[0],N=I[1],B=se.useState(v!==void 0?v:l),D=fa(B,2),O=D[0],V=D[1],$=se.useCallback(function(Q,re){typeof d=="function"&&d(Q,re),V(Q)},[d]),J=se.useCallback(function(Q,re){var F;typeof h=="function"&&(F=h(Q,re)),P(F!==void 0?F:Q)},[h]),ce=se.useCallback(function(){typeof g=="function"&&g(),N(!0)},[g]),Y=se.useCallback(function(){typeof m=="function"&&m(),N(!1)},[m]),k=c!==void 0?c:S,A=f!==void 0?f:j,R=v!==void 0?v:O;return gt(gt({},_),{},{inputValue:k,menuIsOpen:A,onChange:$,onInputChange:J,onMenuClose:Y,onMenuOpen:ce,value:R})}var yN=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],b1=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=String(e).toLowerCase(),s=String(r.getOptionValue(n)).toLowerCase(),l=String(r.getOptionLabel(n)).toLowerCase();return s===i||l===i},ng={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,n,r,i){return!(!e||n.some(function(s){return b1(e,s,i)})||r.some(function(s){return b1(e,s,i)}))},getNewOptionData:function(e,n){return{label:n,value:e,__isNew__:!0}}};function bN(t){var e=t.allowCreateWhileLoading,n=e===void 0?!1:e,r=t.createOptionPosition,i=r===void 0?"last":r,s=t.formatCreateLabel,l=s===void 0?ng.formatCreateLabel:s,c=t.isValidNewOption,f=c===void 0?ng.isValidNewOption:c,d=t.getNewOptionData,h=d===void 0?ng.getNewOptionData:d,m=t.onCreateOption,g=t.options,v=g===void 0?[]:g,_=t.onChange,C=zi(t,yN),T=C.getOptionValue,S=T===void 0?ES:T,P=C.getOptionLabel,L=P===void 0?SS:P,I=C.inputValue,j=C.isLoading,N=C.isMulti,B=C.value,D=C.name,O=se.useMemo(function(){return f(I,bd(B),v,{getOptionValue:S,getOptionLabel:L})?h(I,l(I)):void 0},[l,h,L,S,I,f,v,B]),V=se.useMemo(function(){return(n||!j)&&O?i==="first"?[O].concat(tl(v)):[].concat(tl(v),[O]):v},[n,i,j,O,v]),$=se.useCallback(function(J,ce){if(ce.action!=="select-option")return _(J,ce);var Y=Array.isArray(J)?J:[J];if(Y[Y.length-1]===O){if(m)m(I);else{var k=h(I,I),A={action:"create-option",name:D,option:k};_(ku(N,[].concat(tl(bd(B)),[k]),k),A)}return}_(J,ce)},[h,I,N,D,O,m,_,B]);return gt(gt({},C),{},{options:V,onChange:$})}var _N=se.forwardRef(function(t,e){var n=vN(t),r=bN(n);return se.createElement(kS,xt({ref:e},r))}),Qa=_N;const ar=[];for(let t=0;t<256;++t)ar.push((t+256).toString(16).slice(1));function xN(t,e=0){return(ar[t[e+0]]+ar[t[e+1]]+ar[t[e+2]]+ar[t[e+3]]+"-"+ar[t[e+4]]+ar[t[e+5]]+"-"+ar[t[e+6]]+ar[t[e+7]]+"-"+ar[t[e+8]]+ar[t[e+9]]+"-"+ar[t[e+10]]+ar[t[e+11]]+ar[t[e+12]]+ar[t[e+13]]+ar[t[e+14]]+ar[t[e+15]]).toLowerCase()}let rg;const wN=new Uint8Array(16);function SN(){if(!rg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");rg=crypto.getRandomValues.bind(crypto)}return rg(wN)}const EN=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_1={randomUUID:EN};function Gs(t,e,n){var i;if(_1.randomUUID&&!t)return _1.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??SN();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,xN(r)}const AN=({supabase:t,onSuccess:e})=>{var ae;const[n,r]=se.useState({clientType:"supplier",object:"",serial_number:"",equipment:[],is_new:!0,state:"",note:"",seal_number:"",purchase_price:"",sale_price:"",contractor:"",last_name:"",first_name:"",middle_name:"",passport_series:"",passport_number:"",category:"",photo_paths:[],quantity:"",is_original:!0}),[i,s]=se.useState([]),l=se.useRef(null),c=se.useRef(new Map),[f,d]=se.useState([]),[h,m]=se.useState([]),[g,v]=se.useState(!1),[_,C]=se.useState(!1),[T,S]=se.useState(""),[P,L]=se.useState(""),[I,j]=se.useState(!0),[N,B]=se.useState(""),[D,O]=se.useState(!1),[V,$]=se.useState({total:0,completed:0,isProcessing:!1}),J=["коробка","комплект проводов","геймпад","память"];se.useEffect(()=>{const K=U=>{D&&!U.target.closest(".memory-input-container")&&O(!1)};return document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[D]),se.useEffect(()=>()=>{c.current.forEach(K=>URL.revokeObjectURL(K)),c.current.clear()},[]),se.useEffect(()=>()=>{i.forEach(K=>{try{K.preview&&URL.revokeObjectURL(K.preview)}catch(U){console.warn("Failed to revoke URL:",U)}})},[i]);const ce=async K=>{const U=Array.from(K.target.files);if(U.length===0)return;$({total:U.length,completed:0,isProcessing:!0});const M={maxSizeMB:.5,maxWidthOrHeight:1920,useWebWorker:!0,fileType:"image/webp",initialQuality:.8,preserveExif:!1,maxIteration:10},H=await Promise.all(U.map(async oe=>{try{const pe=await Vn(oe,M);$(fe=>({...fe,completed:fe.completed+1}));const be=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,ve=URL.createObjectURL(pe);return c.current.set(be,ve),{id:be,file:pe,preview:ve}}catch(pe){console.error("Ошибка при сжатии изображения:",pe),$(fe=>({...fe,completed:fe.completed+1}));const be=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,ve=URL.createObjectURL(oe);return c.current.set(be,ve),{id:be,file:oe,preview:ve}}}));s(oe=>[...oe,...H]),l.current.value="",$(oe=>({...oe,isProcessing:!1}))},Y=K=>{s(U=>{const M=U.filter(H=>H.id!==K);return c.current.has(K)&&(URL.revokeObjectURL(c.current.get(K)),c.current.delete(K)),M})};se.useEffect(()=>{(async()=>{if(t)try{v(!0);const{data:U,error:M}=await t.from("categories").select("name").order("name",{ascending:!0});if(M)throw M;U&&Array.isArray(U)&&d(U.map(H=>H.name||""))}catch(U){console.error("Ошибка загрузки списка категорий:",U),S("Не удалось загрузить список категорий")}finally{v(!1)}})()},[t]),se.useEffect(()=>{(async()=>{if(!t||!n.category){m([]);return}try{v(!0);const{data:U,error:M}=await t.from("objects").select("name").eq("category",n.category).order("name",{ascending:!0});if(M)throw M;m((U==null?void 0:U.map(H=>H.name))||[])}catch(U){console.error("Ошибка загрузки списка изделий:",U),S("Не удалось загрузить список изделий")}finally{v(!1)}})()},[t,n.category]);const k=K=>{r({...n,clientType:K,contractor:K==="supplier"?n.contractor:"",last_name:"",first_name:"",middle_name:"",passport_series:"",passport_number:""})},A=K=>{const{name:U,value:M}=K.target;r({...n,[U]:M})},R=K=>{const{name:U,value:M}=K.target,H=M.replace(/\D/g,"");r({...n,[U]:H})},Q=(K,U)=>{U.preventDefault(),U.stopPropagation(),K==="память"?n.equipment.some(M=>M.startsWith("память"))?(r(M=>({...M,equipment:M.equipment.filter(H=>!H.startsWith("память"))})),B("")):O(!0):r(M=>{const H=M.equipment.includes(K)?M.equipment.filter(oe=>oe!==K):[...M.equipment,K];return{...M,equipment:H}})},re=(ae=n.category)==null?void 0:ae.startsWith("Консоли"),F=K=>{K.preventDefault(),K.stopPropagation(),N&&!isNaN(N)&&r(U=>({...U,equipment:[...U.equipment.filter(M=>!M.startsWith("память")),`память ${N}Gb`]})),O(!1)},de=async K=>{K.preventDefault(),S(""),C(!0);let U=[];I&&(U=[...n.equipment],re&&U.push(n.is_original?"оригинал":"модификация"));const M=n.serial_number.trim()||"Б/Н";if(!n.object||!n.category){S("Заполните все обязательные поля"),C(!1);return}if(n.clientType==="individual"){if(!n.last_name||!n.first_name){S("Заполните фамилию и имя"),C(!1);return}if(n.passport_series.length!==4){S("Серия паспорта должна содержать 4 цифры"),C(!1);return}if(n.passport_number.length!==6){S("Номер паспорта должен содержать 6 цифр"),C(!1);return}}try{const{data:H,error:oe}=await t.from("purchases").select("*").eq("object",n.object).eq("serial_number",M).eq("is_sale",!0).limit(1);if(oe)throw oe;if(H.length>0){const pe=H[0],be=Number(pe.quantity||1)+Number(n.quantity||1);let ve=pe.note||"";n.note&&n.note.trim()!==""&&(ve=ve?`${ve}
${n.note.trim()}`:n.note.trim());let fe=pe.sale_price_history||[];n.sale_price&&n.sale_price!=pe.sale_price&&(fe=[{sale_price:n.sale_price,changed_at:new Date().toISOString()},...fe]);let me=pe.purchase_history||[];me.length===0&&pe.purchase_price&&(me=[{changed_at:pe.created_at||new Date().toISOString(),quantity:pe.quantity||1,purchase_price:pe.purchase_price}]);const Ae=[{changed_at:new Date().toISOString(),quantity:n.quantity,purchase_price:n.purchase_price||pe.purchase_price},...me],{error:Z}=await t.from("purchases").update({quantity:be,purchase_price:n.purchase_price||pe.purchase_price,sale_price:n.sale_price||pe.sale_price,sale_price_history:fe,purchase_history:Ae,has_sale_price_changes:fe.length>1,note:ve}).eq("id",pe.id);if(Z)throw Z;L(`Товар обновлён! Количество увеличено до ${be}`)}else{const pe=n.purchase_price||n.quantity?[{changed_at:new Date().toISOString(),quantity:n.quantity||1,purchase_price:n.purchase_price||null}]:[],be=n.sale_price?[{sale_price:n.sale_price,changed_at:new Date().toISOString()}]:[],{data:ve,error:fe}=await t.from("purchases").select("receipt_number").order("receipt_number",{ascending:!1}).limit(1);if(fe)throw fe;const me=ve.length>0?ve[0].receipt_number+1:1,{error:Ae}=await t.from("categories").upsert({name:n.category},{onConflict:"name",ignoreDuplicates:!0});if(Ae)throw Ae;const{error:Z}=await t.from("objects").upsert({name:n.object,category:n.category},{onConflict:"name"});if(Z)throw Z;let ie=[];i.length>0&&(ie=await Promise.all(i.map(async ee=>{const q=ee.file.name.split(".").pop(),ne=`${Gs()}.${q}`,te=`purchase-photos/${me}/${ne}`,{error:le}=await t.storage.from("purchase-photos").upload(te,ee.file,{cacheControl:"3600",upsert:!1});if(le)throw le;return te})));const he={object:n.object,serial_number:M,equipment:U,is_new:n.is_new,state:n.state,note:n.note,receipt_number:me,is_sale:!0,seal_number:n.seal_number||null,purchase_price:n.purchase_price||null,purchase_history:pe,sale_price:n.sale_price||null,sale_price_history:be,has_sale_price_changes:!1,category:n.category,created_at:new Date().toISOString(),photo_paths:ie,quantity:n.quantity};n.clientType==="supplier"?(he.contractor=n.contractor||null,he.last_name=null,he.first_name=null,he.middle_name=null,he.passport_series=null,he.passport_number=null):(he.contractor=null,he.last_name=n.last_name,he.first_name=n.first_name,he.middle_name=n.middle_name||null,he.passport_series=n.passport_series,he.passport_number=n.passport_number);const{error:ge}=await t.from("purchases").insert([he]);if(ge)throw ge;L("Закуп успешно сохранен!")}r({clientType:"supplier",object:"",serial_number:"",equipment:[],is_new:!0,state:"",note:"",seal_number:"",purchase_price:"",sale_price:"",contractor:"",last_name:"",first_name:"",middle_name:"",passport_series:"",passport_number:"",category:"",photo_paths:[],quantity:"",is_original:!0}),s([]),B(""),O(!1),j(!0),setTimeout(()=>{L(""),e==null||e()},3e3)}catch(H){console.error("Ошибка при сохранении:",H),S(H.message||"Ошибка при сохранении закупа")}finally{C(!1)}};return E.jsx("form",{className:"form",onSubmit:de,children:E.jsxs("fieldset",{className:"form__fieldset",children:[E.jsx("legend",{children:"Добавить позицию"}),E.jsxs("div",{className:"view-mode-buttons",style:{marginBottom:"1rem"},children:[E.jsx("button",{type:"button",className:n.clientType==="supplier"?"active":"",onClick:()=>k("supplier"),children:"Поставщик"}),E.jsx("button",{type:"button",className:n.clientType==="individual"?"active":"",onClick:()=>k("individual"),children:"Частное лицо"})]}),E.jsxs("div",{className:"form__group",children:[E.jsx(Qa,{name:"choice-or-create-category",options:f.map(K=>({value:K,label:K})),value:n.category?{value:n.category,label:n.category}:null,onChange:K=>r({...n,category:K?K.value:"",object:""}),onCreateOption:K=>{const U=K.trim();d([...f,U]),r({...n,category:U,object:""})},placeholder:"Выбрать или создать новую категорию",required:!0,isSearchable:!0,isClearable:!0,noOptionsMessage:()=>"Нет совпадений",formatCreateLabel:K=>`Создать "${K}"`,className:"form__input form__input--30 react-select-container",classNamePrefix:"select",styles:{control:(K,U)=>({...K,background:"transparent",border:U.isFocused?"1px solid var(--text-primary)":0,boxShadow:(U.isFocused,0),"&:hover":{border:U.isFocused?"1px solid var(--text-primary)":0}}),menu:K=>({...K,backgroundColor:"var(--bg-primary)"}),option:(K,U)=>({...K,whiteSpace:"nowrap",textOverflow:"ellipsis",backgroundColor:U.isSelected?"var(--accent-color)":"","&:hover":{backgroundColor:U.isSelected?"var(--accent-color)":"color-mix(in srgb, var(--accent-color) 40%, transparent)"}}),singleValue:K=>({...K,color:"var(--text-primary)"}),placeholder:K=>({...K,color:"var(--text-secondary)",fontSize:"14px"})}}),E.jsx(Qa,{name:"choice-or-create-object",options:h.map(K=>({value:K,label:K})),value:n.object?{value:n.object,label:n.object}:null,onChange:K=>r({...n,object:K?K.value:""}),onCreateOption:K=>{if(!n.category){S("Сначала выберите или создайте категорию");return}const U=K.trim();h.includes(U)||m([...h,U]),r({...n,object:U})},placeholder:"Выбрать или ввести новое изделие",required:!0,isSearchable:!0,isClearable:!0,isDisabled:!n.category,noOptionsMessage:()=>"Нет совпадений",formatCreateLabel:K=>`Создать "${K}"`,className:"form__input form__input--30 react-select-container",classNamePrefix:"select",styles:{control:(K,U)=>({...K,background:"transparent",border:U.isFocused?"1px solid var(--text-primary)":0,boxShadow:(U.isFocused,0),"&:hover":{border:U.isFocused?"1px solid var(--text-primary)":0}}),menu:K=>({...K,backgroundColor:"var(--bg-primary)"}),option:(K,U)=>({...K,whiteSpace:"nowrap",textOverflow:"ellipsis",backgroundColor:U.isSelected?"var(--accent-color)":"","&:hover":{backgroundColor:U.isSelected?"var(--accent-color)":"color-mix(in srgb, var(--accent-color) 40%, transparent)"}}),singleValue:K=>({...K,color:"var(--text-primary)"}),placeholder:K=>({...K,color:"var(--text-secondary)",fontSize:"14px"})}}),E.jsx("input",{className:"form__input form__input--short",type:"text",inputMode:"numeric",name:"quantity",value:n.quantity,onChange:K=>{/^\d*$/.test(K.target.value)&&r({...n,quantity:K.target.value})},pattern:"[1-9]\\d*",title:"Введите число не менее 1",required:!0,placeholder:"Кол-во"}),E.jsx("input",{className:"form__input form__input--20 form__input--mob-50",type:"text",inputMode:"numeric",name:"purchase_price",value:n.purchase_price,onChange:R,placeholder:"Цена закупа, ₽ (опционально)"}),E.jsx("input",{className:"form__input form__input--20  form__input--mob-50",type:"text",inputMode:"numeric",name:"sale_price",value:n.sale_price,onChange:R,placeholder:"Цена продажи, ₽ (опционально)"})]}),E.jsxs("div",{className:"form__group",children:[E.jsx("input",{className:"form__input form__input--50",type:"text",name:"serial_number",value:n.serial_number,onChange:A,placeholder:"Серийный номер изделия или Б/Н (опционально)"}),E.jsx("input",{className:"form__input form__input--50",type:"text",name:"seal_number",value:n.seal_number,onChange:A,placeholder:"Номер внутренней пломбы (опционально)"})]}),n.clientType==="supplier"?E.jsx("div",{className:"form__group",children:E.jsx("input",{className:"form__input form__input--50",type:"text",name:"contractor",value:n.contractor,onChange:A,placeholder:"Поставщик (опционально)"})}):E.jsxs("div",{className:"form__group",children:[E.jsxs("div",{className:"form__name",children:[E.jsx("input",{className:"form__input",type:"text",name:"last_name",value:n.last_name,onChange:A,placeholder:"Фамилия",required:!0}),E.jsx("input",{className:"form__input",type:"text",name:"first_name",value:n.first_name,onChange:A,placeholder:"Имя",required:!0}),E.jsx("input",{className:"form__input",type:"text",name:"middle_name",value:n.middle_name,onChange:A,placeholder:"Отчество",required:!0})]}),E.jsxs("div",{className:"form__group",children:[E.jsx("input",{className:"form__input form__input--50",type:"text",name:"passport_series",value:n.passport_series,onChange:R,placeholder:"Серия паспорта (4 цифры)",maxLength:4,required:!0}),E.jsx("input",{className:"form__input form__input--50",type:"text",name:"passport_number",value:n.passport_number,onChange:R,placeholder:"Номер паспорта (6 цифр)",maxLength:6,required:!0})]})]}),E.jsxs("div",{className:"form__group",children:[E.jsx("div",{className:"form__group",children:E.jsx("textarea",{className:"form__input form__input--textarea",name:"state",value:n.state,onChange:A,placeholder:"Внешний вид (опционально)",rows:"3"})}),E.jsx("div",{className:"form__group",children:E.jsx("textarea",{className:"form__input form__input--textarea",name:"note",value:n.note,onChange:A,placeholder:"Заметка (опционально)",rows:"3"})})]}),E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsxs("span",{className:"form__caption",children:[n.is_new?"Новое":"Б/У"," ",E.jsx("sup",{className:"form__info",title:"Соcтояние товара: новое или Б/У",children:"ℹ"})]}),E.jsx("div",{className:"switch-container",children:E.jsxs("label",{className:"switch",children:[E.jsx("input",{id:"is_new",type:"checkbox",checked:n.is_new,onChange:()=>r({...n,is_new:!n.is_new})}),E.jsx("span",{className:`slider round ${n.is_new?"is-new":"is-used"}`})]})})]}),E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsx("div",{className:"switch-container",children:E.jsxs("div",{className:"switch-container switch-container--equipment",children:[E.jsx("span",{className:"form__caption",children:I?"Комплект":"Без комплекта"}),E.jsxs("label",{className:"switch",children:[E.jsx("input",{id:"equipment",type:"checkbox",checked:I,onChange:()=>{j(!I),I&&(r(K=>({...K,equipment:[]})),B(""),O(!1))}}),E.jsx("span",{className:"slider round"})]})]})}),E.jsx("div",{className:"chips-container",children:J.map(K=>{var U;return E.jsx("div",{className:"chip-container",children:K==="память"&&D?E.jsxs("div",{className:"memory-input-container",onClick:M=>M.stopPropagation(),children:[E.jsx("input",{type:"number",value:N,onChange:M=>B(M.target.value),placeholder:"ГБ",className:"memory-input",min:"1",onClick:M=>M.stopPropagation()}),E.jsx("button",{onClick:F,className:"memory-confirm-button",disabled:!N||isNaN(N)||N<=0,children:"✓"})]}):E.jsx("button",{type:"button",className:`button chip ${n.equipment.includes(K)||K==="память"&&n.equipment.some(M=>M.startsWith("память"))?"chip--active":""}`,onClick:M=>I&&Q(K,M),disabled:!I,children:K==="память"&&n.equipment.some(M=>M.startsWith("память"))?`память ${((U=n.equipment.find(M=>M.startsWith("память")))==null?void 0:U.split(" ")[1])||""}`:K})},K)})})]}),re&&E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsxs("span",{className:"form__caption",children:[n.is_original?"Оригинал":"Модификация"," ",E.jsx("sup",{className:"form__info",title:"Тип товара: оригинал или модификация",children:"ℹ"})]}),E.jsx("div",{className:"switch-container",children:E.jsxs("label",{className:"switch",children:[E.jsx("input",{id:"is_original",type:"checkbox",checked:n.is_original,onChange:()=>r({...n,is_original:!n.is_original})}),E.jsx("span",{className:"slider round"})]})})]}),E.jsx("div",{className:"form__photos form__photos--wrapper",children:E.jsxs("div",{className:"form__wrapper",children:[V.isProcessing&&E.jsxs("div",{className:"compression-progress",children:[E.jsx("progress",{value:V.completed,max:V.total}),E.jsxs("span",{children:["Сжатие изображений: ",V.completed,"/",V.total]})]}),E.jsx("div",{className:`photos-preview ${i.length>0?"photos-preview--miniatures":""}`,children:i.map(K=>E.jsxs("div",{className:"photo-thumbnail",children:[E.jsx("img",{src:K.preview,alt:`Предпросмотр ${K.id}`,className:"photo-thumbnail__image"}),E.jsx("button",{type:"button",className:"photo-thumbnail__delete",onClick:()=>Y(K.id),title:"Удалить фото",children:"×"})]},K.id))}),E.jsx("input",{type:"file",id:"purchase-photo-upload",ref:l,multiple:!0,accept:"image/*",onChange:ce,style:{display:"none"}}),E.jsx("label",{htmlFor:"purchase-photo-upload",className:"button button--secondary button--upload",children:"Добавить фото"})]})}),E.jsx("button",{className:"button button--main",type:"submit",disabled:_,children:_?"Сохраняю...":"Сохранить"}),T&&E.jsx("div",{className:"error",children:T}),P&&E.jsx("div",{className:"form__message",children:P})]})})},w0=({photoPaths:t,onClose:e,bucket:n="client-photos"})=>{const[r,i]=se.useState(0),[s,l]=se.useState([]),[c,f]=se.useState(!1),[d,h]=se.useState(null),m=se.useRef();se.useEffect(()=>(document.body.classList.add("modal-open"),()=>{document.body.classList.remove("modal-open")}),[]);const g=P=>{P.stopPropagation(),P.target===m.current&&e()},v=P=>`https://ljcazclnmhjdcmgefcvp.supabase.co/storage/v1/object/public/${n}/${P}`;se.useEffect(()=>{if(!t||t.length===0)return;f(!1),l([]),h(null);const P=t.map((L,I)=>new Promise(j=>{const N=new Image;N.src=v(L),N.onload=()=>j({index:I,success:!0}),N.onerror=()=>j({index:I,success:!1})}));Promise.all(P).then(L=>{const I=L.filter(j=>j.success).map(j=>j.index);l(I),f(!0),I.length===0&&h("Не удалось загрузить фотографии")}).catch(()=>{h("Ошибка при загрузке фотографий")})},[t]);const _=P=>{P.stopPropagation(),i(L=>L===0?t.length-1:L-1)},C=P=>{P.stopPropagation(),i(L=>L===t.length-1?0:L+1)},T=()=>{i(P=>P===0?t.length-1:P-1)},S=()=>{i(P=>P===t.length-1?0:P+1)};return se.useEffect(()=>{const P=L=>{L.key==="Escape"?e():L.key==="ArrowLeft"?T():L.key==="ArrowRight"&&S()};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[e,t]),!t||t.length===0?null:d?E.jsxs("div",{className:"photo-gallery",children:[E.jsx("div",{className:"gallery-overlay",onClick:g,ref:m}),E.jsxs("div",{className:"gallery-content",onClick:P=>P.stopPropagation(),children:[E.jsx("div",{className:"gallery-error",children:d}),E.jsx("button",{className:"gallery-close",onClick:P=>{P.stopPropagation(),e()},children:"×"})]})]}):c?E.jsxs("div",{className:"photo-gallery",children:[E.jsx("div",{className:"gallery-overlay",onClick:g,ref:m}),E.jsxs("div",{className:"gallery-content",children:[E.jsx("button",{className:"gallery-close",onClick:e,title:"Закрыть галерею",children:"×"}),E.jsxs("div",{className:"gallery-main",children:[t.length>1&&E.jsx("button",{className:"gallery-nav gallery-prev",onClick:_,title:"Назад",children:E.jsx("img",{src:"/documents/icons/icon--prev.svg",alt:"Назад"})}),E.jsx("div",{className:"gallery-image-container",onClick:P=>P.stopPropagation(),onTouchStart:P=>P.stopPropagation(),onTouchEnd:P=>P.stopPropagation(),children:s.includes(r)?E.jsx("img",{src:v(t[r]),alt:`Фото ${r+1}`,className:"gallery-image",style:{maxHeight:"100%",maxWidth:"100%"}}):E.jsx("div",{className:"image-error",children:"Ошибка загрузки фото"})}),t.length>1&&E.jsx("button",{className:"gallery-nav gallery-next",onClick:C,title:"Вперёд",children:E.jsx("img",{src:"/documents/icons/icon--next.svg",alt:"Вперёд"})})]}),E.jsxs("div",{className:"gallery-counter",children:[r+1," / ",t.length]})]})]}):E.jsxs("div",{className:"photo-gallery",children:[E.jsx("div",{className:"gallery-overlay",onClick:g,onTouchStart:g,ref:m}),E.jsx("div",{className:"gallery-content",children:E.jsxs("div",{className:"gallery-loader",children:[E.jsx("div",{className:"loader"}),E.jsx("p",{children:"Загрузка фотографий..."})]})})]})};var ig={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var x1;function CN(){return x1||(x1=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(s=i(s,r(c)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var l="";for(var c in s)e.call(s,c)&&s[c]&&(l=i(l,c));return l}function i(s,l){return l?s?s+" "+l:s+l:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(ig)),ig.exports}var TN=CN();const Pg=hl(TN);var w1={};const DN="react-tooltip-core-styles",ON="react-tooltip-base-styles",S1={core:!1,base:!1};function E1({css:t,id:e=ON,type:n="base",ref:r}){var i,s;if(!t||typeof document>"u"||S1[n]||n==="core"&&typeof process<"u"&&(!((i=process==null?void 0:w1)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((s=process==null?void 0:w1)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(e=DN),r||(r={});const{insertAt:l}=r;if(document.getElementById(e))return;const c=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.id=e,f.type="text/css",l==="top"&&c.firstChild?c.insertBefore(f,c.firstChild):c.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t)),S1[n]=!0}const A1=async({elementReference:t=null,tooltipReference:e=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:s="absolute",middlewares:l=[J3(Number(i)),t5({fallbackAxisSideDirection:"start"}),e5({padding:5})],border:c})=>{if(!t)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(e===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const f=l;return n?(f.push(n5({element:n,padding:5})),n1(t,e,{placement:r,strategy:s,middleware:f}).then(({x:d,y:h,placement:m,middlewareData:g})=>{var v,_;const C={left:`${d}px`,top:`${h}px`,border:c},{x:T,y:S}=(v=g.arrow)!==null&&v!==void 0?v:{x:0,y:0},P=(_={top:"bottom",right:"left",bottom:"top",left:"right"}[m.split("-")[0]])!==null&&_!==void 0?_:"bottom",L=c&&{borderBottom:c,borderRight:c};let I=0;if(c){const j=`${c}`.match(/(\d+)px/);I=j!=null&&j[1]?Number(j[1]):1}return{tooltipStyles:C,tooltipArrowStyles:{left:T!=null?`${T}px`:"",top:S!=null?`${S}px`:"",right:"",bottom:"",...L,[P]:`-${4+I}px`},place:m}})):n1(t,e,{placement:"bottom",strategy:s,middleware:f}).then(({x:d,y:h,placement:m})=>({tooltipStyles:{left:`${d}px`,top:`${h}px`},tooltipArrowStyles:{},place:m}))},C1=(t,e)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(t,e),T1=(t,e,n)=>{let r=null;const i=function(...s){const l=()=>{r=null};!r&&(t.apply(this,s),r=setTimeout(l,e))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},D1=t=>t!==null&&!Array.isArray(t)&&typeof t=="object",Bg=(t,e)=>{if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e))return t.length===e.length&&t.every((i,s)=>Bg(i,e[s]));if(Array.isArray(t)!==Array.isArray(e))return!1;if(!D1(t)||!D1(e))return t===e;const n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(i=>Bg(t[i],e[i]))},RN=t=>{if(!(t instanceof HTMLElement||t instanceof SVGElement))return!1;const e=getComputedStyle(t);return["overflow","overflow-x","overflow-y"].some(n=>{const r=e.getPropertyValue(n);return r==="auto"||r==="scroll"})},O1=t=>{if(!t)return null;let e=t.parentElement;for(;e;){if(RN(e))return e;e=e.parentElement}return document.scrollingElement||document.documentElement},NN=typeof window<"u"?se.useLayoutEffect:se.useEffect,ni=t=>{t.current&&(clearTimeout(t.current),t.current=null)},kN="DEFAULT_TOOLTIP_ID",MN={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},jN=se.createContext({getTooltipData:()=>MN});function MS(t=kN){return se.useContext(jN).getTooltipData(t)}var Wo={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},ag={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const LN=({forwardRef:t,id:e,className:n,classNameArrow:r,variant:i="dark",anchorId:s,anchorSelect:l,place:c="top",offset:f=10,events:d=["hover"],openOnClick:h=!1,positionStrategy:m="absolute",middlewares:g,wrapper:v,delayShow:_=0,delayHide:C=0,float:T=!1,hidden:S=!1,noArrow:P=!1,clickable:L=!1,closeOnEsc:I=!1,closeOnScroll:j=!1,closeOnResize:N=!1,openEvents:B,closeEvents:D,globalCloseEvents:O,imperativeModeOnly:V,style:$,position:J,afterShow:ce,afterHide:Y,disableTooltip:k,content:A,contentWrapperRef:R,isOpen:Q,defaultIsOpen:re=!1,setIsOpen:F,activeAnchor:de,setActiveAnchor:ae,border:K,opacity:U,arrowColor:M,role:H="tooltip"})=>{var oe;const pe=se.useRef(null),be=se.useRef(null),ve=se.useRef(null),fe=se.useRef(null),me=se.useRef(null),[Ae,Z]=se.useState({tooltipStyles:{},tooltipArrowStyles:{},place:c}),[ie,he]=se.useState(!1),[ge,ee]=se.useState(!1),[q,ne]=se.useState(null),te=se.useRef(!1),le=se.useRef(null),{anchorRefs:we,setActiveAnchor:je}=MS(e),Be=se.useRef(!1),[$e,Ve]=se.useState([]),Ke=se.useRef(!1),ut=h||d.includes("click"),Xe=ut||(B==null?void 0:B.click)||(B==null?void 0:B.dblclick)||(B==null?void 0:B.mousedown),lt=B?{...B}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!B&&ut&&Object.assign(lt,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const vt=D?{...D}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!D&&ut&&Object.assign(vt,{mouseleave:!1,blur:!1,mouseout:!1});const st=O?{...O}:{escape:I||!1,scroll:j||!1,resize:N||!1,clickOutsideAnchor:Xe||!1};V&&(Object.assign(lt,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(vt,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(st,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),NN(()=>(Ke.current=!0,()=>{Ke.current=!1}),[]);const rt=Ge=>{Ke.current&&(Ge&&ee(!0),setTimeout(()=>{Ke.current&&(F==null||F(Ge),Q===void 0&&he(Ge))},10))};se.useEffect(()=>{if(Q===void 0)return()=>null;Q&&ee(!0);const Ge=setTimeout(()=>{he(Q)},10);return()=>{clearTimeout(Ge)}},[Q]),se.useEffect(()=>{if(ie!==te.current)if(ni(me),te.current=ie,ie)ce==null||ce();else{const Ge=(z=>{const G=z.match(/^([\d.]+)(ms|s)$/);if(!G)return 0;const[,ye,De]=G;return Number(ye)*(De==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));me.current=setTimeout(()=>{ee(!1),ne(null),Y==null||Y()},Ge+25)}},[ie]);const Dt=Ge=>{Z(z=>Bg(z,Ge)?z:Ge)},It=(Ge=_)=>{ni(ve),ge?rt(!0):ve.current=setTimeout(()=>{rt(!0)},Ge)},Ct=(Ge=C)=>{ni(fe),fe.current=setTimeout(()=>{Be.current||rt(!1)},Ge)},Qt=Ge=>{var z;if(!Ge)return;const G=(z=Ge.currentTarget)!==null&&z!==void 0?z:Ge.target;if(!(G!=null&&G.isConnected))return ae(null),void je({current:null});_?It():rt(!0),ae(G),je({current:G}),ni(fe)},yn=()=>{L?Ct(C||100):C?Ct():rt(!1),ni(ve)},Vt=({x:Ge,y:z})=>{var G;const ye={getBoundingClientRect:()=>({x:Ge,y:z,width:0,height:0,top:z,left:Ge,right:Ge,bottom:z})};A1({place:(G=q==null?void 0:q.place)!==null&&G!==void 0?G:c,offset:f,elementReference:ye,tooltipReference:pe.current,tooltipArrowReference:be.current,strategy:m,middlewares:g,border:K}).then(De=>{Dt(De)})},xn=Ge=>{if(!Ge)return;const z=Ge,G={x:z.clientX,y:z.clientY};Vt(G),le.current=G},Mt=Ge=>{var z;if(!ie)return;const G=Ge.target;G.isConnected&&(!((z=pe.current)===null||z===void 0)&&z.contains(G)||[document.querySelector(`[id='${s}']`),...$e].some(ye=>ye==null?void 0:ye.contains(G))||(rt(!1),ni(ve)))},Wt=T1(Qt,50),it=T1(yn,50),nt=Ge=>{it.cancel(),Wt(Ge)},et=()=>{Wt.cancel(),it()},ct=se.useCallback(()=>{var Ge,z;const G=(Ge=q==null?void 0:q.position)!==null&&Ge!==void 0?Ge:J;G?Vt(G):T?le.current&&Vt(le.current):de!=null&&de.isConnected&&A1({place:(z=q==null?void 0:q.place)!==null&&z!==void 0?z:c,offset:f,elementReference:de,tooltipReference:pe.current,tooltipArrowReference:be.current,strategy:m,middlewares:g,border:K}).then(ye=>{Ke.current&&Dt(ye)})},[ie,de,A,$,c,q==null?void 0:q.place,f,m,J,q==null?void 0:q.position,T]);se.useEffect(()=>{var Ge,z;const G=new Set(we);$e.forEach(Tt=>{k!=null&&k(Tt)||G.add({current:Tt})});const ye=document.querySelector(`[id='${s}']`);ye&&!(k!=null&&k(ye))&&G.add({current:ye});const De=()=>{rt(!1)},He=O1(de),Ze=O1(pe.current);st.scroll&&(window.addEventListener("scroll",De),He==null||He.addEventListener("scroll",De),Ze==null||Ze.addEventListener("scroll",De));let pt=null;st.resize?window.addEventListener("resize",De):de&&pe.current&&(pt=lS(de,pe.current,ct,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const jt=Tt=>{Tt.key==="Escape"&&rt(!1)};st.escape&&window.addEventListener("keydown",jt),st.clickOutsideAnchor&&window.addEventListener("click",Mt);const wt=[],Jt=Tt=>!!(Tt!=null&&Tt.target&&(de!=null&&de.contains(Tt.target))),pn=Tt=>{ie&&Jt(Tt)||Qt(Tt)},er=Tt=>{ie&&Jt(Tt)&&yn()},Dn=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Ft=["click","dblclick","mousedown","mouseup"];Object.entries(lt).forEach(([Tt,tr])=>{tr&&(Dn.includes(Tt)?wt.push({event:Tt,listener:nt}):Ft.includes(Tt)&&wt.push({event:Tt,listener:pn}))}),Object.entries(vt).forEach(([Tt,tr])=>{tr&&(Dn.includes(Tt)?wt.push({event:Tt,listener:et}):Ft.includes(Tt)&&wt.push({event:Tt,listener:er}))}),T&&wt.push({event:"pointermove",listener:xn});const ur=()=>{Be.current=!0},On=()=>{Be.current=!1,yn()},bn=L&&(vt.mouseout||vt.mouseleave);return bn&&((Ge=pe.current)===null||Ge===void 0||Ge.addEventListener("mouseover",ur),(z=pe.current)===null||z===void 0||z.addEventListener("mouseout",On)),wt.forEach(({event:Tt,listener:tr})=>{G.forEach(En=>{var _r;(_r=En.current)===null||_r===void 0||_r.addEventListener(Tt,tr)})}),()=>{var Tt,tr;st.scroll&&(window.removeEventListener("scroll",De),He==null||He.removeEventListener("scroll",De),Ze==null||Ze.removeEventListener("scroll",De)),st.resize?window.removeEventListener("resize",De):pt==null||pt(),st.clickOutsideAnchor&&window.removeEventListener("click",Mt),st.escape&&window.removeEventListener("keydown",jt),bn&&((Tt=pe.current)===null||Tt===void 0||Tt.removeEventListener("mouseover",ur),(tr=pe.current)===null||tr===void 0||tr.removeEventListener("mouseout",On)),wt.forEach(({event:En,listener:_r})=>{G.forEach(kr=>{var bi;(bi=kr.current)===null||bi===void 0||bi.removeEventListener(En,_r)})})}},[de,ct,ge,we,$e,B,D,O,ut,_,C]),se.useEffect(()=>{var Ge,z;let G=(z=(Ge=q==null?void 0:q.anchorSelect)!==null&&Ge!==void 0?Ge:l)!==null&&z!==void 0?z:"";!G&&e&&(G=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`);const ye=new MutationObserver(De=>{const He=[],Ze=[];De.forEach(pt=>{if(pt.type==="attributes"&&pt.attributeName==="data-tooltip-id"&&(pt.target.getAttribute("data-tooltip-id")===e?He.push(pt.target):pt.oldValue===e&&Ze.push(pt.target)),pt.type==="childList"){if(de){const jt=[...pt.removedNodes].filter(wt=>wt.nodeType===1);if(G)try{Ze.push(...jt.filter(wt=>wt.matches(G))),Ze.push(...jt.flatMap(wt=>[...wt.querySelectorAll(G)]))}catch{}jt.some(wt=>{var Jt;return!!(!((Jt=wt==null?void 0:wt.contains)===null||Jt===void 0)&&Jt.call(wt,de))&&(ee(!1),rt(!1),ae(null),ni(ve),ni(fe),!0)})}if(G)try{const jt=[...pt.addedNodes].filter(wt=>wt.nodeType===1);He.push(...jt.filter(wt=>wt.matches(G))),He.push(...jt.flatMap(wt=>[...wt.querySelectorAll(G)]))}catch{}}}),(He.length||Ze.length)&&Ve(pt=>[...pt.filter(jt=>!Ze.includes(jt)),...He])});return ye.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{ye.disconnect()}},[e,l,q==null?void 0:q.anchorSelect,de]),se.useEffect(()=>{ct()},[ct]),se.useEffect(()=>{if(!(R!=null&&R.current))return()=>null;const Ge=new ResizeObserver(()=>{setTimeout(()=>ct())});return Ge.observe(R.current),()=>{Ge.disconnect()}},[A,R==null?void 0:R.current]),se.useEffect(()=>{var Ge;const z=document.querySelector(`[id='${s}']`),G=[...$e,z];de&&G.includes(de)||ae((Ge=$e[0])!==null&&Ge!==void 0?Ge:z)},[s,$e,de]),se.useEffect(()=>(re&&rt(!0),()=>{ni(ve),ni(fe)}),[]),se.useEffect(()=>{var Ge;let z=(Ge=q==null?void 0:q.anchorSelect)!==null&&Ge!==void 0?Ge:l;if(!z&&e&&(z=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),z)try{const G=Array.from(document.querySelectorAll(z));Ve(G)}catch{Ve([])}},[e,l,q==null?void 0:q.anchorSelect]),se.useEffect(()=>{ve.current&&(ni(ve),It(_))},[_]);const sn=(oe=q==null?void 0:q.content)!==null&&oe!==void 0?oe:A,Un=ie&&Object.keys(Ae.tooltipStyles).length>0;return se.useImperativeHandle(t,()=>({open:Ge=>{if(Ge!=null&&Ge.anchorSelect)try{document.querySelector(Ge.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${Ge.anchorSelect}" is not a valid CSS selector`)}ne(Ge??null),Ge!=null&&Ge.delay?It(Ge.delay):rt(!0)},close:Ge=>{Ge!=null&&Ge.delay?Ct(Ge.delay):rt(!1)},activeAnchor:de,place:Ae.place,isOpen:!!(ge&&!S&&sn&&Un)})),ge&&!S&&sn?or.createElement(v,{id:e,role:H,className:Pg("react-tooltip",Wo.tooltip,ag.tooltip,ag[i],n,`react-tooltip__place-${Ae.place}`,Wo[Un?"show":"closing"],Un?"react-tooltip__show":"react-tooltip__closing",m==="fixed"&&Wo.fixed,L&&Wo.clickable),onTransitionEnd:Ge=>{ni(me),ie||Ge.propertyName!=="opacity"||(ee(!1),ne(null),Y==null||Y())},style:{...$,...Ae.tooltipStyles,opacity:U!==void 0&&Un?U:void 0},ref:pe},sn,or.createElement(v,{className:Pg("react-tooltip-arrow",Wo.arrow,ag.arrow,r,P&&Wo.noArrow),style:{...Ae.tooltipArrowStyles,background:M?`linear-gradient(to right bottom, transparent 50%, ${M} 50%)`:void 0},ref:be})):null},PN=({content:t})=>or.createElement("span",{dangerouslySetInnerHTML:{__html:t}}),R1=or.forwardRef(({id:t,anchorId:e,anchorSelect:n,content:r,html:i,render:s,className:l,classNameArrow:c,variant:f="dark",place:d="top",offset:h=10,wrapper:m="div",children:g=null,events:v=["hover"],openOnClick:_=!1,positionStrategy:C="absolute",middlewares:T,delayShow:S=0,delayHide:P=0,float:L=!1,hidden:I=!1,noArrow:j=!1,clickable:N=!1,closeOnEsc:B=!1,closeOnScroll:D=!1,closeOnResize:O=!1,openEvents:V,closeEvents:$,globalCloseEvents:J,imperativeModeOnly:ce=!1,style:Y,position:k,isOpen:A,defaultIsOpen:R=!1,disableStyleInjection:Q=!1,border:re,opacity:F,arrowColor:de,setIsOpen:ae,afterShow:K,afterHide:U,disableTooltip:M,role:H="tooltip"},oe)=>{const[pe,be]=se.useState(r),[ve,fe]=se.useState(i),[me,Ae]=se.useState(d),[Z,ie]=se.useState(f),[he,ge]=se.useState(h),[ee,q]=se.useState(S),[ne,te]=se.useState(P),[le,we]=se.useState(L),[je,Be]=se.useState(I),[$e,Ve]=se.useState(m),[Ke,ut]=se.useState(v),[Xe,lt]=se.useState(C),[vt,st]=se.useState(null),[rt,Dt]=se.useState(null),It=se.useRef(Q),{anchorRefs:Ct,activeAnchor:Qt}=MS(t),yn=it=>it==null?void 0:it.getAttributeNames().reduce((nt,et)=>{var ct;return et.startsWith("data-tooltip-")&&(nt[et.replace(/^data-tooltip-/,"")]=(ct=it==null?void 0:it.getAttribute(et))!==null&&ct!==void 0?ct:null),nt},{}),Vt=it=>{const nt={place:et=>{var ct;Ae((ct=et)!==null&&ct!==void 0?ct:d)},content:et=>{be(et??r)},html:et=>{fe(et??i)},variant:et=>{var ct;ie((ct=et)!==null&&ct!==void 0?ct:f)},offset:et=>{ge(et===null?h:Number(et))},wrapper:et=>{var ct;Ve((ct=et)!==null&&ct!==void 0?ct:m)},events:et=>{const ct=et==null?void 0:et.split(" ");ut(ct??v)},"position-strategy":et=>{var ct;lt((ct=et)!==null&&ct!==void 0?ct:C)},"delay-show":et=>{q(et===null?S:Number(et))},"delay-hide":et=>{te(et===null?P:Number(et))},float:et=>{we(et===null?L:et==="true")},hidden:et=>{Be(et===null?I:et==="true")},"class-name":et=>{st(et)}};Object.values(nt).forEach(et=>et(null)),Object.entries(it).forEach(([et,ct])=>{var sn;(sn=nt[et])===null||sn===void 0||sn.call(nt,ct)})};se.useEffect(()=>{be(r)},[r]),se.useEffect(()=>{fe(i)},[i]),se.useEffect(()=>{Ae(d)},[d]),se.useEffect(()=>{ie(f)},[f]),se.useEffect(()=>{ge(h)},[h]),se.useEffect(()=>{q(S)},[S]),se.useEffect(()=>{te(P)},[P]),se.useEffect(()=>{we(L)},[L]),se.useEffect(()=>{Be(I)},[I]),se.useEffect(()=>{lt(C)},[C]),se.useEffect(()=>{It.current!==Q&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[Q]),se.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:Q==="core",disableBase:Q}}))},[]),se.useEffect(()=>{var it;const nt=new Set(Ct);let et=n;if(!et&&t&&(et=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),et)try{document.querySelectorAll(et).forEach(z=>{nt.add({current:z})})}catch{console.warn(`[react-tooltip] "${et}" is not a valid CSS selector`)}const ct=document.querySelector(`[id='${e}']`);if(ct&&nt.add({current:ct}),!nt.size)return()=>null;const sn=(it=rt??ct)!==null&&it!==void 0?it:Qt.current,Un=new MutationObserver(z=>{z.forEach(G=>{var ye;if(!sn||G.type!=="attributes"||!(!((ye=G.attributeName)===null||ye===void 0)&&ye.startsWith("data-tooltip-")))return;const De=yn(sn);Vt(De)})}),Ge={attributes:!0,childList:!1,subtree:!1};if(sn){const z=yn(sn);Vt(z),Un.observe(sn,Ge)}return()=>{Un.disconnect()}},[Ct,Qt,rt,e,n]),se.useEffect(()=>{Y!=null&&Y.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),re&&!C1("border",`${re}`)&&console.warn(`[react-tooltip] "${re}" is not a valid \`border\`.`),Y!=null&&Y.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),F&&!C1("opacity",`${F}`)&&console.warn(`[react-tooltip] "${F}" is not a valid \`opacity\`.`)},[]);let xn=g;const Mt=se.useRef(null);if(s){const it=s({content:(rt==null?void 0:rt.getAttribute("data-tooltip-content"))||pe||null,activeAnchor:rt});xn=it?or.createElement("div",{ref:Mt,className:"react-tooltip-content-wrapper"},it):null}else pe&&(xn=pe);ve&&(xn=or.createElement(PN,{content:ve}));const Wt={forwardRef:oe,id:t,anchorId:e,anchorSelect:n,className:Pg(l,vt),classNameArrow:c,content:xn,contentWrapperRef:Mt,place:me,variant:Z,offset:he,wrapper:$e,events:Ke,openOnClick:_,positionStrategy:Xe,middlewares:T,delayShow:ee,delayHide:ne,float:le,hidden:je,noArrow:j,clickable:N,closeOnEsc:B,closeOnScroll:D,closeOnResize:O,openEvents:V,closeEvents:$,globalCloseEvents:J,imperativeModeOnly:ce,style:Y,position:k,isOpen:A,defaultIsOpen:R,border:re,opacity:F,arrowColor:de,setIsOpen:ae,afterShow:K,afterHide:U,disableTooltip:M,activeAnchor:rt,setActiveAnchor:it=>Dt(it),role:H};return or.createElement(LN,{...Wt})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",t=>{t.detail.disableCore||E1({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),t.detail.disableBase||E1({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const BN=or.memo(({item:t,onUpdateQuantity:e,onUpdatePrice:n,onUpdateDiscount:r,onRemove:i,onTogglePayment:s,paymentCard:l})=>{const c=Math.round(t.sale_price*t.quantity),f=`${t.object}-${t.serial_number||"no-serial"}`,d=`${f}-price`,h=`${f}-discount`,m=`${f}-quantity`;return E.jsxs("tr",{children:[E.jsx("td",{className:"table__td--service-name",children:t.displayLabel||t.object}),E.jsx("td",{children:t.category}),E.jsx("td",{className:"table-sale__td--serial-number",children:t.serial_number||"Б/Н"}),E.jsx("td",{className:"table-sale__td--price",children:E.jsx("input",{id:d,type:"text",inputMode:"numeric",pattern:"[0-9]*",value:t.sale_price,onChange:g=>n(t,g.target.value),className:"form__input form__input--no-spinner",placeholder:"0",autoComplete:"off"})}),E.jsx("td",{className:"table-sale__td--discount",children:E.jsx("input",{id:h,type:"text",inputMode:"numeric",pattern:"[0-9]*",min:"0",value:t.discount,onChange:g=>r(t,g.target.value),className:"form__input form__input--no-spinner",placeholder:"0",autoComplete:"off"})}),E.jsx("td",{className:"table-sale__td--quantity",children:E.jsx("input",{id:m,type:"number",inputMode:"numeric",pattern:"[0-9]*",max:t.maxQuantity,value:t.quantity,onChange:g=>e(t,g.target.value),onBlur:g=>{(g.target.value===""||parseInt(g.target.value)<1)&&e(t,"1")},className:"form__input",autoComplete:"off"})}),E.jsx("td",{className:"table-sale__td--payment",children:E.jsx("button",{className:`button chip ${l?"chip--card":"chip--cash"}`,onClick:()=>s(t),type:"button",children:l?"Безнал":"Нал"})}),E.jsxs("td",{className:"table-sale__td--total-price",children:[c," ₽"]}),E.jsx("td",{className:"table-sale__td--actions",children:E.jsx("button",{className:"button button--icon",onClick:()=>i(t),title:"Удалить",children:"×"})})]},t.object)},(t,e)=>t.item===e.item&&t.item.quantity===e.item.quantity&&t.item.sale_price===e.item.sale_price&&t.paymentCard===e.paymentCard),IN=({supabase:t,stockItems:e,onClose:n,onSaleComplete:r})=>{const[i,s]=se.useState([]),[l,c]=se.useState([]),[f,d]=se.useState([]),[h,m]=se.useState([]),[g,v]=se.useState(null),[_,C]=se.useState(null),[T,S]=se.useState(null),[P,L]=se.useState([]),[I,j]=se.useState(!1),N=se.useRef(null),[B,D]=se.useState({}),[O,V]=se.useState("sale"),[$,J]=se.useState({repair_acceptance:"",repair_delivery:"",repair:"",sale:"",sale_electronics:"",sale_gift_cards:"",service:"",service_stamp:"",service_gift_card:""}),[ce,Y]=se.useState(!1),[k,A]=se.useState(!1),[R,Q]=se.useState(""),[re,F]=se.useState("");se.useEffect(()=>{(async()=>{const{data:ie,error:he}=await t.from("services").select("*");if(he)console.error("Ошибка загрузки услуг:",he);else{const ge=ie.sort((ee,q)=>ee.name.localeCompare(q));m(ge)}})()},[t]),se.useEffect(()=>{(async()=>{Y(!0);try{const{data:ie,error:he}=await t.from("allocations").select("*").limit(1).single();!he&&ie&&J({repair_acceptance:ie.repair_acceptance||0,repair_delivery:ie.repair_delivery||0,repair:ie.repair||0,sale:ie.sale||0,sale_electronics:ie.sale_electronics||0,sale_gift_cards:ie.sale_gift_cards||0,service:ie.service||0,service_stamp:ie.service_stamp||0,service_gift_card:ie.service_gift_card||0})}catch(ie){console.error("Error loading allocations:",ie)}finally{Y(!1)}})()},[t]);const de=async()=>{A(!0);try{const Z={repair_acceptance:$.repair_acceptance===""?0:$.repair_acceptance,repair_delivery:$.repair_delivery===""?0:$.repair_delivery,repair:$.repair===""?0:$.repair,sale:$.sale===""?0:$.sale,sale_electronics:$.sale_electronics===""?0:$.sale_electronics,sale_gift_cards:$.sale_gift_cards===""?0:$.sale_gift_cards,service:$.service===""?0:$.service,service_stamp:$.service_stamp===""?0:$.service_stamp,service_gift_card:$.service_gift_card===""?0:$.service_gift_card},{data:ie}=await t.from("allocations").select("id").limit(1);ie&&ie.length>0?await t.from("allocations").update(Z).eq("id",ie[0].id):await t.from("allocations").insert([Z]),F("Настройки отчислений сохранены"),setTimeout(()=>F(""),3e3)}catch(Z){console.error("Ошибка сохранения:",Z),Q(`Ошибка сохранения: ${Z.message}`)}finally{A(!1)}},ae=(Z,ie)=>{const he=ie.replace(/[^0-9]/g,"");if(he===""){J(ne=>({...ne,[Z]:""}));return}const ge=parseInt(he,10),ee=["repair_acceptance","repair_delivery"],q=["repair","sale","sale_electronics","sale_gift_cards","service","service_stamp","service_gift_card"];if(ee.includes(Z))J(ne=>({...ne,[Z]:Math.max(0,ge)}));else if(q.includes(Z)){const ne=Math.min(100,Math.max(0,ge));J(te=>({...te,[Z]:ne}))}},K=se.useCallback(()=>{const Z=Array.from(new Set(e.filter(ge=>ge.is_sale&&ge.quantity>0).map(ge=>ge.category).filter(Boolean))).sort((ge,ee)=>ge.localeCompare(ee)).map(ge=>({value:`product_${ge}`,label:ge,type:"product",originalCategory:ge})),he=[...h].sort((ge,ee)=>ge.name.localeCompare(ee.name)).map(ge=>({value:`service_${ge.name}`,label:ge.name,type:"service",originalCategory:ge.name,prices:ge.service_prices}));return[{label:"Товары",options:Z},{label:"Услуги",options:he}]},[e,h]),U=se.useCallback(()=>{if(!g)return[];const Z=g.value.startsWith("product_"),ie=g.value.startsWith("service_");if(Z){const he=g.originalCategory;return Array.from(new Set(e.filter(ge=>ge.category===he&&ge.is_sale&&ge.quantity>0).map(ge=>ge.object).filter(Boolean))).sort((ge,ee)=>ge.localeCompare(ee)).map(ge=>({value:ge,label:ge}))}if(ie){const he=h.find(ge=>ge.name===g.originalCategory);return!he||!he.service_prices?[]:Object.keys(he.service_prices).sort((ge,ee)=>{const q=parseInt(ge.value)||0,ne=parseInt(ee.value)||0;return q-ne}).map(ge=>({value:ge,label:ge,price:he.service_prices[ge]}))}return[]},[g,e,h]),M=se.useCallback(()=>{if(!_||!g)return[];if(!g.value.startsWith("product_"))return[];const ie=g.originalCategory,he=_.value,ge=e.filter(q=>q.category===ie&&q.object===he&&q.is_sale&&q.quantity>0);return Array.from(new Set(ge.map(q=>q.serial_number||"Б/Н"))).map(q=>({value:q,label:q})).sort((q,ne)=>q.value==="Б/Н"?1:ne.value==="Б/Н"?-1:q.value.localeCompare(ne.value))},[g,_,e]);se.useEffect(()=>{const Z=K();s(Z)},[K]),se.useEffect(()=>{const Z=U();c(Z),C(null),g!=null&&g.value.startsWith("product_")&&S(null),S(null),d([])},[g,U]),se.useEffect(()=>{const Z=M();if(d(Z),Z.length>0){const ie=Z.find(he=>he.value!=="Б/Н");S(ie||Z[0])}else S(null)},[_,M]),se.useEffect(()=>{document.body.classList.add("modal-open");const Z=he=>{const ge=he.target.closest(".select__clear-indicator");N.current&&!N.current.contains(he.target)&&(ge||n())},ie=he=>{he.key==="Escape"&&n()};return document.addEventListener("mousedown",Z),document.addEventListener("keydown",ie),()=>{document.body.classList.remove("modal-open"),document.removeEventListener("mousedown",Z),document.removeEventListener("keydown",ie)}},[n]);const H=()=>{if(!_||!g)return;const Z=g.value.startsWith("product_"),ie=g.value.startsWith("service_");if(Z){const he=g.originalCategory,ge=T?T.value:null;let ee=e.filter(le=>le.object===_.value&&le.category===he&&le.is_sale&&le.quantity>0);if(ge&&(ge==="Б/Н"?ee=ee.filter(le=>!le.serial_number||le.serial_number==="Б/Н"):ee=ee.filter(le=>le.serial_number===ge)),ee.length===0)return;const q=ee.reduce((le,we)=>le.sale_price<we.sale_price?le:we),ne=ee.reduce((le,we)=>le+we.quantity,0);`${_.value}${he}${ge||"no-serial"}`;const te=P.findIndex(le=>le.object===_.value&&le.category===he&&le.type==="product"&&(le.serial_number||"no-serial")===(ge||"no-serial"));L(te!==-1?le=>le.map((we,je)=>je===te?{...we,quantity:Math.min(we.quantity+1,we.maxQuantity)}:we):le=>[...le,{id:q.id,object:_.value,category:he,base_price:q.sale_price,sale_price:q.sale_price,maxQuantity:ne,quantity:1,discount:0,type:"product",editablePrice:!0,serial_number:ge}])}if(ie){const ee=h.find(te=>te.name===g.originalCategory).service_prices[_.value]||0,q=`${g.originalCategory} — ${_.value}`,ne=P.find(te=>te.displayLabel===q&&te.type==="service");L(ne?te=>te.map(le=>le.displayLabel===q&&le.type==="service"?{...le,quantity:le.quantity+1}:le):te=>[...te,{object:_.value,category:g.originalCategory,displayLabel:q,base_price:ee,sale_price:ee,quantity:1,discount:0,type:"service",editablePrice:!0}])}},oe=(Z,ie)=>{if(ie===""){L(q=>q.map(ne=>ne===Z?{...ne,quantity:""}:ne));return}const he=ie.replace(/[^0-9]/g,"");if(he==="")return;const ge=parseInt(he,10),ee=Z.maxQuantity||1/0;if(!isNaN(ge)){const q=Math.min(ge,ee);L(ne=>ne.map(te=>te===Z?{...te,quantity:q}:te))}},pe=(Z,ie)=>{const he=parseInt(ie)||0,ge=Math.max(0,he);L(ee=>ee.map(q=>{if(q===Z){const ne=Math.min(100,Math.max(0,q.base_price>0?Math.round((q.base_price-ge)/q.base_price*100):0));return{...q,sale_price:ge,discount:ne}}return q}))},be=(Z,ie)=>{const he=parseInt(ie)||0,ge=Math.max(0,Math.min(100,he));L(ee=>ee.map(q=>{if(q===Z){const ne=Math.round(q.base_price*(1-ge/100));return{...q,discount:ge,sale_price:ne}}return q}))},ve=Z=>{L(ie=>ie.filter(he=>he!==Z))},fe=Z=>{const ie=`${Z.object}-${Z.category}-${Z.type}-${Z.serial_number||"no-serial"}`;D(he=>({...he,[ie]:!he[ie]}))},me=async()=>{if(P.length!==0){j(!0);try{const{data:Z,error:ie}=await t.from("sales").select("sale_number").order("sale_number",{ascending:!1}).limit(1);if(ie)throw ie;const he=Z.length>0?Z[0].sale_number+1:1,ge=P.map(ne=>({object:ne.object,category:ne.category,sale_price:ne.sale_price,discount:ne.discount||0,quantity:ne.quantity,total_price:ne.sale_price*ne.quantity,payment_type:B[ne]?"card":"cash",type:ne.type,serial_number:ne.serial_number||null})),ee=ge.reduce((ne,te)=>ne+te.total_price,0),{error:q}=await t.from("sales").insert([{items:ge,total_amount:ee,sale_number:he,created_at:new Date().toISOString()}]);if(q)throw q;for(const ne of P)if(ne.type==="product"){const te=e.filter(we=>we.object===ne.object&&we.category===ne.category&&we.quantity>0&&we.is_sale&&(ne.serial_number?we.serial_number===ne.serial_number:!we.serial_number||we.serial_number==="Б/Н")).sort((we,je)=>we.sale_price-je.sale_price);let le=ne.quantity;for(const we of te){if(le<=0)break;const je=Math.min(le,we.quantity),Be=we.quantity-je,{error:$e}=await t.from("purchases").update({quantity:Be,is_sale:Be>0,sold_at:Be===0?new Date().toISOString():null}).eq("id",we.id);if($e)throw $e;le-=je}}r(),n()}catch(Z){console.error("Ошибка при проведении продажи:",Z),alert("Ошибка: "+Z.message)}finally{j(!1)}}},Ae=g&&g.value.startsWith("product_")&&_&&f.length>0&&!(f.length===1&&f[0].value==="Б/Н");return E.jsx("div",{className:"modal-overlay",children:E.jsxs("div",{className:"modal",ref:N,children:[E.jsx("div",{className:"modal-header",children:E.jsxs("div",{className:"view-mode-buttons",style:{marginBottom:0},children:[E.jsx("button",{className:O==="sale"?"active":"",onClick:()=>V("sale"),children:"Продажа"}),E.jsx("button",{className:O==="deductions"?"active":"",onClick:()=>V("deductions"),children:"Отчисления"})]})}),E.jsx("button",{className:"modal-close",onClick:n,title:"Закрыть",children:"×"}),E.jsx("div",{className:"modal-body",children:O==="sale"?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"modal-options",children:[E.jsxs("div",{className:"form__group",children:[E.jsx(Qa,{onCreateOption:()=>{},isValidNewOption:()=>!1,options:i,value:g,onChange:v,placeholder:"Выбрать категорию",className:"form__input form__input--30 react-select-container",classNamePrefix:"select",isSearchable:!0,isClearable:!0,noOptionsMessage:()=>"Нет доступных опций",formatGroupLabel:Z=>E.jsx("span",{style:{fontWeight:"bold"},children:Z.label}),styles:{control:(Z,ie)=>({...Z,background:"transparent",border:ie.isFocused?"1px solid var(--text-primary)":0,boxShadow:(ie.isFocused,0),"&:hover":{border:ie.isFocused?"1px solid var(--text-primary)":0}}),menu:Z=>({...Z,backgroundColor:"var(--bg-primary)"}),option:(Z,ie)=>({...Z,whiteSpace:"nowrap",textOverflow:"ellipsis",backgroundColor:ie.isSelected?"var(--accent-color)":"","&:hover":{backgroundColor:ie.isSelected?"var(--accent-color)":"color-mix(in srgb, var(--accent-color) 40%, transparent)"}}),singleValue:Z=>({...Z,color:"var(--text-primary)"}),placeholder:Z=>({...Z,color:"var(--text-secondary)",fontSize:"14px"})}}),E.jsx(Qa,{onCreateOption:()=>{},isValidNewOption:()=>!1,options:l,value:_,onChange:C,placeholder:(g==null?void 0:g.type)==="service"?"Выбрать услугу":"Выбрать изделие",className:"form__input form__input--30 react-select-container",classNamePrefix:"select",isSearchable:!0,isClearable:!0,isDisabled:!g,noOptionsMessage:()=>"Нет доступных опций",styles:{control:(Z,ie)=>({...Z,background:"transparent",border:ie.isFocused?"1px solid var(--text-primary)":0,boxShadow:(ie.isFocused,0),"&:hover":{border:ie.isFocused?"1px solid var(--text-primary)":0}}),menu:Z=>({...Z,backgroundColor:"var(--bg-primary)"}),option:(Z,ie)=>({...Z,whiteSpace:"nowrap",textOverflow:"ellipsis",backgroundColor:ie.isSelected?"var(--accent-color)":"","&:hover":{backgroundColor:ie.isSelected?"var(--accent-color)":"color-mix(in srgb, var(--accent-color) 40%, transparent)"}}),singleValue:Z=>({...Z,color:"var(--text-primary)"}),placeholder:Z=>({...Z,color:"var(--text-secondary)",fontSize:"14px"})}}),Ae&&E.jsx(Qa,{onCreateOption:()=>{},isValidNewOption:()=>!1,options:f,value:T,onChange:S,placeholder:"Выбрать сер. номер",className:"form__input form__input--30 react-select-container",classNamePrefix:"select",isSearchable:!0,isClearable:!0,noOptionsMessage:()=>"Нет доступных серийных номеров",styles:{control:(Z,ie)=>({...Z,background:"transparent",border:ie.isFocused?"1px solid var(--text-primary)":0,boxShadow:(ie.isFocused,0),"&:hover":{border:ie.isFocused?"1px solid var(--text-primary)":0}}),menu:Z=>({...Z,backgroundColor:"var(--bg-primary)"}),option:(Z,ie)=>({...Z,whiteSpace:"nowrap",textOverflow:"ellipsis",backgroundColor:ie.isSelected?"var(--accent-color)":"","&:hover":{backgroundColor:ie.isSelected?"var(--accent-color)":"color-mix(in srgb, var(--accent-color) 40%, transparent)"}}),singleValue:Z=>({...Z,color:"var(--text-primary)"}),placeholder:Z=>({...Z,color:"var(--text-secondary)",fontSize:"14px"})}})]}),E.jsx("button",{className:"button button--secondary",onClick:H,disabled:!_||Ae&&!T,title:_?Ae&&!T?"Выберите серийный номер":"":"Выберите товар или услугу",children:"Добавить позицию"})]}),P.length>0&&E.jsx("div",{className:"sale-items-table",children:E.jsxs("table",{className:"table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Наименование"}),E.jsx("th",{children:"Категория"}),E.jsx("th",{children:"Сер. номер"}),E.jsx("th",{children:"Цена, ₽"}),E.jsx("th",{children:"Скидка, %"}),E.jsx("th",{children:"Кол-во"}),E.jsx("th",{children:"Оплата"}),E.jsx("th",{children:"Итого, ₽"}),E.jsx("th",{})]})}),E.jsx("tbody",{children:P.map(Z=>{const ie=`${Z.object}-${Z.category}-${Z.type}-${Z.serial_number||"no-serial"}`;return E.jsx(BN,{item:Z,onUpdateQuantity:oe,onUpdatePrice:pe,onUpdateDiscount:be,onRemove:ve,onTogglePayment:fe,paymentCard:!!B[ie]},ie)})}),E.jsx("tfoot",{children:E.jsxs("tr",{children:[E.jsx("td",{colSpan:"6"}),E.jsx("td",{className:"table-sale__td--total-price-from-sale",children:"Итого:"}),E.jsxs("td",{className:"table-sale__td--total-price table-sale__td--total-price-from-sale",children:[P.reduce((Z,ie)=>Z+ie.sale_price*ie.quantity,0)," ","₽"]}),E.jsx("td",{})]})})]})}),E.jsxs("div",{className:"modal-footer",children:[E.jsx("button",{className:"button button--main",onClick:me,disabled:P.length===0||I,title:P.length===0?"Добавьте товар или услугу":"",children:I?"Провожу...":"Провести"}),E.jsx("button",{className:"button button--secondary",onClick:n,disabled:I,children:"Отмена"})]})]}):E.jsxs("div",{className:"deductions-form",children:[E.jsxs("div",{className:"form__group form__group--deductions",children:[E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsx("label",{htmlFor:"repair_acceptance",children:"Сервисная услуга (приёмка), ₽"}),E.jsx("input",{id:"repair_acceptance",type:"text",pattern:"[0-9]*",value:$.repair_acceptance,placeholder:"Сервисная услуга (приёмка), ₽",onChange:Z=>ae("repair_acceptance",Z.target.value),className:"form__input"})]}),E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsx("label",{htmlFor:"repair_delivery",children:"Сервисная услуга (выдача), ₽"}),E.jsx("input",{id:"repair_delivery",type:"text",pattern:"[0-9]*",value:$.repair_delivery,placeholder:"Сервисная услуга (выдача), ₽",onChange:Z=>ae("repair_delivery",Z.target.value),className:"form__input"})]}),E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsx("label",{htmlFor:"repair",children:"Сервисная услуга (ремонт), %"}),E.jsx("input",{id:"repair",type:"text",pattern:"[0-9]*",value:$.repair,placeholder:"Сервисная услуга (ремонт), %",onChange:Z=>ae("repair",Z.target.value),className:"form__input"})]})]}),E.jsxs("div",{className:"form__group form__group--deductions",children:[E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsx("label",{htmlFor:"sale",children:"Продажа (товар), %"}),E.jsx("input",{id:"sale",type:"text",pattern:"[0-9]*",value:$.sale,onChange:Z=>ae("sale",Z.target.value),className:"form__input"})]}),E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsx("label",{htmlFor:"sale_electronics",children:"Продажа (электроника), %"}),E.jsx("input",{id:"sale_electronics",type:"text",pattern:"[0-9]*",value:$.sale_electronics,onChange:Z=>ae("sale_electronics",Z.target.value),className:"form__input"})]}),E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsx("label",{htmlFor:"sale_gift_cards",children:"Продажа (подарочная карта), %"}),E.jsx("input",{id:"sale_gift_cards",type:"text",pattern:"[0-9]*",value:$.sale_gift_cards,onChange:Z=>ae("sale_gift_cards",Z.target.value),className:"form__input"})]})]}),E.jsxs("div",{className:"form__group form__group--deductions",children:[E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsx("label",{htmlFor:"service",children:"Услуга, %"}),E.jsx("input",{id:"service",type:"text",pattern:"[0-9]*",value:$.service,onChange:Z=>ae("service",Z.target.value),className:"form__input"})]}),E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsx("label",{htmlFor:"service_stamp",children:"Услуга (печать), %"}),E.jsx("input",{id:"service_stamp",type:"text",pattern:"[0-9]*",value:$.service_stamp,onChange:Z=>ae("service_stamp",Z.target.value),className:"form__input"})]}),E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsx("label",{htmlFor:"service_gift_card",children:"Услуга (Подарочная карта), %"}),E.jsx("input",{id:"service_gift_card",type:"text",pattern:"[0-9]*",value:$.service_gift_card,onChange:Z=>ae("service_gift_card",Z.target.value),className:"form__input"})]})]}),R&&E.jsx("div",{className:"error",children:R}),re&&E.jsx("div",{className:"form__message",children:re}),E.jsxs("div",{className:"modal-footer",children:[E.jsx("button",{className:"button button--main",onClick:de,disabled:k||ce,children:k?"Сохраняю...":"Сохранить"}),E.jsx("button",{className:"button button--secondary",onClick:n,disabled:k||ce,children:"Закрыть"})]})]})})]})})},UN=or.memo(({item:t,supabase:e,categoriesList:n,objectsList:r,editingId:i,editedData:s,setEditedData:l,updatingIds:c,deletingIds:f,onSave:d,onCancel:h,onEdit:m,onDelete:g,setEditingId:v,fetchObjectsByCategory:_,activeTheme:C,isExpanded:T,onToggleExpand:S,isMenuOpen:P,onMenuToggle:L,hasEquipment:I,setHasEquipment:j})=>{var me,Ae,Z,ie,he,ge;const N=["коробка","комплект проводов","геймпад","память"],[B,D]=se.useState([]),[O,V]=se.useState(!1),[$,J]=se.useState([]),[ce,Y]=se.useState([]),[k,A]=se.useState(""),[R,Q]=se.useState(!1),[re,F]=se.useState({total:0,completed:0,isProcessing:!1}),de=se.useRef(null),ae=se.useRef(null),K=se.useRef(null),U=P&&i!==t.id,M=P&&i===t.id,H=ee=>{if(!ee)return{top:"auto",bottom:"100%",transform:"translateY(-10px)"};const q=ee.getBoundingClientRect();return window.innerHeight-q.bottom<120?{top:"auto",bottom:"100%",transform:"translateY(34px)"}:{top:"100%",bottom:"auto",transform:"translateY(-34px)"}},oe=ee=>{if(!ee||ee.length===0)return null;const q=ee.filter(le=>le.purchase_price!==null&&le.purchase_price!==void 0&&le.quantity&&le.quantity>0);if(q.length===0)return null;if(q.length===1){const le=parseInt(q[0].purchase_price);return isNaN(le)?null:le}let ne=0,te=0;return q.forEach(le=>{const we=parseFloat(le.purchase_price)||0,je=parseInt(le.quantity)||0;ne+=we*je,te+=je}),te>0?Math.round(ne/te):null},pe=ee=>{ee.preventDefault(),ee.stopPropagation(),k&&!isNaN(k)&&l(q=>({...q,equipment:[...q.equipment.filter(ne=>!ne.startsWith("память")),`память ${k}Gb`]})),Q(!1)};se.useEffect(()=>{const ee=q=>{if(q.target.closest(".photo-gallery-container"))return;const ne=q.target.closest('.button--icon img[alt="Действия"]')&&q.target.closest("tr.edit-mode"),te=q.target.closest('.button--icon img[alt="Действия"]')&&!q.target.closest("tr.edit-mode");P&&!te&&!ne&&!q.target.closest(".actions-menu")&&L(null)};return document.addEventListener("click",ee),()=>{document.removeEventListener("click",ee)}},[P]);const be=async ee=>{const q=Array.from(ee.target.files);if(q.length===0)return;F({total:q.length,completed:0,isProcessing:!0});const ne={maxSizeMB:.5,maxWidthOrHeight:1920,useWebWorker:!0,fileType:"image/webp",initialQuality:.8,preserveExif:!1,maxIteration:10},te=await Promise.all(q.map(async le=>{try{const we=await Vn(le,ne);return F(je=>({...je,completed:je.completed+1})),we}catch(we){return console.error("Ошибка при сжатии изображения:",we),F(je=>({...je,completed:je.completed+1})),le}}));J(le=>[...le,...te]),de.current.value="",F(le=>({...le,isProcessing:!1}))},ve=ee=>{ee.startsWith("purchase-photos/")?(Y(q=>[...q,ee]),l(q=>({...q,photo_paths:q.photo_paths.filter(ne=>ne!==ee)}))):J(q=>q.filter((ne,te)=>te!==parseInt(ee)))};se.useEffect(()=>{s.category?_(s.category).then(ee=>{D(ee)}):D([])},[s.category,_]);const fe=(ee,q)=>{q.preventDefault(),q.stopPropagation(),ee==="память"?s.equipment.some(ne=>ne.startsWith("память"))?(l(ne=>({...ne,equipment:ne.equipment.filter(te=>!te.startsWith("память"))})),A("")):Q(!0):l(ne=>{const te=ne.equipment.includes(ee)?ne.equipment.filter(le=>le!==ee):[...ne.equipment,ee];return{...ne,equipment:te}})};return se.useCallback(async ee=>{if(!e||!ee)return[];try{const{data:q,error:ne}=await e.from("sale_price_history").select("sale_price, changed_at").eq("purchase_id",ee).order("changed_at",{ascending:!1});if(ne)throw ne;return q||[]}catch(q){return console.error("Ошибка загрузки истории цен:",q),[]}},[e]),i===t.id?E.jsxs("tr",{className:"edit-mode",children:[E.jsx("td",{colSpan:"10",className:"edit-form-cell",children:E.jsxs("div",{className:"edit-form-container",children:[E.jsx("div",{className:"form__group form__group--vertical",style:{marginBottom:"1rem"},children:E.jsxs("div",{className:"view-mode-buttons",children:[E.jsx("button",{type:"button",className:s.clientType==="supplier"?"active":"",onClick:()=>l({...s,clientType:"supplier",last_name:null,first_name:null,middle_name:null,passport_series:null,passport_number:null}),children:"Поставщик"}),E.jsx("button",{type:"button",className:s.clientType==="individual"?"active":"",onClick:()=>l({...s,clientType:"individual",contractor:null}),children:"Частное лицо"})]})}),E.jsxs("div",{className:"form__group",children:[E.jsxs("div",{className:"form__group form__group--vertical form__group--30",children:[E.jsx("label",{htmlFor:`category-select-${t.id}`,children:"Категория"}),E.jsx(Qa,{inputId:`category-select-${t.id}`,options:n.map(ee=>({value:ee,label:ee})),value:s.category?{value:s.category,label:s.category}:null,onChange:ee=>l({...s,category:ee?ee.value:"",object:""}),onCreateOption:ee=>{const q=ee.trim();n.includes(q)?l({...s,category:q}):l({...s,category:q,object:""})},placeholder:"Выбрать или создать новую категорию",required:!0,isSearchable:!0,isClearable:!0,noOptionsMessage:()=>"Нет совпадений",formatCreateLabel:ee=>`Создать "${ee}"`,className:"form__input react-select-container",classNamePrefix:"select",styles:{control:(ee,q)=>({...ee,background:"transparent",border:q.isFocused?"1px solid var(--text-primary)":0,boxShadow:(q.isFocused,0),"&:hover":{border:q.isFocused?"1px solid var(--text-primary)":0}}),menu:ee=>({...ee,backgroundColor:"var(--bg-primary)"}),option:(ee,q)=>({...ee,whiteSpace:"nowrap",textOverflow:"ellipsis",backgroundColor:q.isSelected?"var(--accent-color)":"","&:hover":{backgroundColor:q.isSelected?"var(--accent-color)":"color-mix(in srgb, var(--accent-color) 40%, transparent)"}}),singleValue:ee=>({...ee,color:"var(--text-primary)"}),placeholder:ee=>({...ee,color:"var(--text-secondary)",fontSize:"14px"})}})]}),E.jsxs("div",{className:"form__group form__group--vertical form__group--30",children:[E.jsx("label",{htmlFor:`object-select-${t.id}`,children:"Изделие"}),E.jsx(Qa,{inputId:`object-select-${t.id}`,options:B.map(ee=>({value:ee,label:ee})),value:s.object?{value:s.object,label:s.object}:null,onChange:ee=>l({...s,object:ee?ee.value:""}),onCreateOption:ee=>{if(!s.category){alert("Сначала выберите или создайте категорию");return}const q=ee.trim();B.includes(q)?l({...s,object:q}):(l({...s,object:q}),D([...B,q]))},placeholder:"Выберите или введите новое изделие",required:!0,isSearchable:!0,isClearable:!0,isDisabled:!s.category,noOptionsMessage:()=>"Нет совпадений",formatCreateLabel:ee=>`Создать "${ee}"`,className:"form__input react-select-container",classNamePrefix:"select",styles:{control:(ee,q)=>({...ee,background:"transparent",border:q.isFocused?"1px solid var(--text-primary)":0,boxShadow:(q.isFocused,0),"&:hover":{border:q.isFocused?"1px solid var(--text-primary)":0}}),menu:ee=>({...ee,backgroundColor:"var(--bg-primary)"}),option:(ee,q)=>({...ee,whiteSpace:"nowrap",textOverflow:"ellipsis",backgroundColor:q.isSelected?"var(--accent-color)":"","&:hover":{backgroundColor:q.isSelected?"var(--accent-color)":"color-mix(in srgb, var(--accent-color) 40%, transparent)"}}),singleValue:ee=>({...ee,color:"var(--text-primary)"}),placeholder:ee=>({...ee,color:"var(--text-secondary)",fontSize:"14px"})}})]}),E.jsxs("div",{className:"form__group form__group--vertical form__group--short",children:[E.jsx("label",{htmlFor:`quantity-${t.id}`,children:"Кол-во"}),E.jsx("input",{id:`quantity-${t.id}`,className:"form__input",type:"text",value:s.quantity||"",onChange:ee=>{/^\d*$/.test(ee.target.value)&&l({...s,quantity:ee.target.value})},pattern:"[1-9]\\d*",required:!0,readOnly:!0,placeholder:"Количество"})]}),E.jsxs("div",{className:"form__group form__group--vertical form__group--20",children:[E.jsx("label",{htmlFor:`serial_number-${t.id}`,children:"Серийный номер"}),E.jsx("input",{id:`serial_number-${t.id}`,className:"form__input",type:"text",value:s.serial_number||"",onChange:ee=>l({...s,serial_number:ee.target.value}),placeholder:"Серийный номер"})]}),E.jsxs("div",{className:"form__group form__group--vertical form__group--20",children:[E.jsx("label",{htmlFor:`seal_number-${t.id}`,children:"Номер пломбы"}),E.jsx("input",{id:`seal_number-${t.id}`,className:"form__input form__input--50",type:"text",value:s.seal_number||"",onChange:ee=>l({...s,seal_number:ee.target.value}),placeholder:"Номер внутренней пломбы (опционально)"})]})]}),E.jsxs("div",{className:"form__group",children:[E.jsxs("div",{className:"form__group form__group--vertical form__group--25",children:[E.jsx("label",{htmlFor:`purchase_price-${t.id}`,children:"Цена закупа, ₽"}),E.jsx("input",{id:`purchase_price-${t.id}`,className:"form__input",type:"text",value:oe(s.purchase_history)||"",onChange:ee=>l({...s,purchase_price:ee.target.value.replace(/[^0-9 ]/g,"")}),placeholder:"Цена закупа (опционально)",readOnly:!0})]}),E.jsxs("div",{className:"form__group form__group--vertical form__group--25",children:[E.jsx("label",{htmlFor:`sale_price-${t.id}`,children:"Цена продажи, ₽"}),E.jsx("input",{id:`sale_price-${t.id}`,className:"form__input",type:"text",inputMode:"numeric",value:s.sale_price||"",onChange:ee=>l({...s,sale_price:ee.target.value.replace(/[^0-9 ]/g,"")}),placeholder:"Цена продажи (опционально)"})]}),E.jsxs("div",{className:"form__group form__group--vertical form__group--25",children:[E.jsx("label",{htmlFor:`created_at-${t.id}`,children:"Дата закупа"}),E.jsx("input",{id:`created_at-${t.id}`,className:"form__input",type:"text",value:s.created_at?new Date(s.created_at).toLocaleDateString():"",readOnly:!0,placeholder:"Дата закупа"})]}),E.jsxs("div",{className:"form__group form__group--vertical form__group--25",children:[E.jsx("label",{htmlFor:`sold_at-${t.id}`,children:"Дата продажи"}),E.jsx("input",{id:`sold_at-${t.id}`,className:"form__input form__input--50",type:"text",value:s.sold_at?new Date(s.sold_at).toLocaleDateString():"",readOnly:!0,placeholder:"Дата продажи"})]})]}),s.clientType==="supplier"?E.jsx("div",{className:"form__group",children:E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsx("label",{htmlFor:`contractor-${t.id}`,children:"Поставщик"}),E.jsx("input",{id:`contractor-${t.id}`,className:"form__input form__input--50",type:"text",value:s.contractor||"",onChange:ee=>l({...s,contractor:ee.target.value}),placeholder:"Поставщик (опционально)"})]})}):E.jsxs("div",{className:"form__group",children:[E.jsxs("div",{className:"form__name",children:[E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsx("label",{htmlFor:`last_name-${t.id}`,children:"Фамилия"}),E.jsx("input",{id:`last_name-${t.id}`,className:"form__input",type:"text",value:s.last_name||"",onChange:ee=>l({...s,last_name:ee.target.value}),placeholder:"Фамилия"})]}),E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsx("label",{htmlFor:`first_name-${t.id}`,children:"Имя"}),E.jsx("input",{id:`first_name-${t.id}`,className:"form__input",type:"text",value:s.first_name||"",onChange:ee=>l({...s,first_name:ee.target.value}),placeholder:"Имя"})]}),E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsx("label",{htmlFor:`middle_name-${t.id}`,children:"Отчество"}),E.jsx("input",{id:`middle_name-${t.id}`,className:"form__input",type:"text",value:s.middle_name||"",onChange:ee=>l({...s,middle_name:ee.target.value}),placeholder:"Отчество (опционально)"})]})]}),E.jsxs("div",{className:"form__group",children:[E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsx("label",{htmlFor:`passport_series-${t.id}`,children:"Серия паспорта"}),E.jsx("input",{id:`passport_series-${t.id}`,className:"form__input form__input--50",type:"text",value:s.passport_series||"",onChange:ee=>l({...s,passport_series:ee.target.value.replace(/\D/g,"").slice(0,4)}),placeholder:"Серия паспорта (4 цифры)",maxLength:4})]}),E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsx("label",{htmlFor:`passport_number-${t.id}`,children:"Номер паспорта"}),E.jsx("input",{id:`passport_number-${t.id}`,className:"form__input form__input--50",type:"text",value:s.passport_number||"",onChange:ee=>l({...s,passport_number:ee.target.value.replace(/\D/g,"").slice(0,6)}),placeholder:"Номер паспорта (6 цифр)",maxLength:6})]})]})]}),E.jsxs("div",{className:"form__group",children:[E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsx("label",{htmlFor:`state-${t.id}`,children:"Внешний вид"}),E.jsx("textarea",{id:`state-${t.id}`,className:"form__input form__input--textarea",value:s.state||"",onChange:ee=>l({...s,state:ee.target.value}),placeholder:"Внешний вид (опционально)",rows:"3"})]}),E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsx("label",{htmlFor:`note-${t.id}`,children:"Заметка"}),E.jsx("textarea",{id:`note-${t.id}`,className:"form__input form__input--textarea",value:s.note||"",onChange:ee=>l({...s,note:ee.target.value}),placeholder:"Заметка (опционально)",rows:"3"})]})]}),E.jsxs("div",{className:"form__group form__group form__group--vertical",children:[E.jsxs("span",{className:"form__caption",children:[s.is_new?"Новое":"Б/У",E.jsx("sup",{className:"form__info form__info--edited",title:"Соcтояние товара: новое или Б/У",children:"ℹ"})]}),E.jsxs("label",{className:"switch",children:[E.jsx("input",{id:"is_new",type:"checkbox",checked:s.is_new||!1,onChange:ee=>l({...s,is_new:ee.target.checked})}),E.jsx("span",{className:`slider round ${s.is_new?"is-new":"is-used"}`})]})]}),E.jsxs("div",{className:"form__group form__group form__group--vertical",children:[E.jsx("div",{className:"form__group form__group--vertical",children:E.jsxs("div",{className:"switch-container switch-container--equipment",children:[E.jsx("span",{className:"form__caption",children:I?"Комплект":"Без комплекта"}),E.jsxs("label",{className:"switch",children:[E.jsx("input",{id:"equipment",type:"checkbox",checked:I,onChange:()=>{j(!I),I&&(l(ee=>({...ee,equipment:[]})),A(""),Q(!1))}}),E.jsx("span",{className:"slider round"})]})]})}),E.jsx("div",{className:"chips-container",children:N.map(ee=>{var q,ne,te,le;return E.jsx("div",{className:"chip-container",children:ee==="память"&&R?E.jsxs("div",{className:"memory-input-container",onClick:we=>we.stopPropagation(),children:[E.jsx("input",{type:"number",value:k,onChange:we=>A(we.target.value),placeholder:"ГБ",className:"memory-input",min:"1",onClick:we=>we.stopPropagation()}),E.jsx("button",{onClick:pe,className:"memory-confirm-button",disabled:!k||isNaN(k)||k<=0,children:"✓"})]}):E.jsx("button",{type:"button",className:`button chip ${(q=s.equipment)!=null&&q.includes(ee)||ee==="память"&&((ne=s.equipment)!=null&&ne.some(we=>we.startsWith("память")))?"chip--active":""}`,onClick:we=>I&&fe(ee,we),disabled:!I,children:ee==="память"&&((te=s.equipment)!=null&&te.some(we=>we.startsWith("память")))?`память ${((le=s.equipment.find(we=>we.startsWith("память")))==null?void 0:le.split(" ")[1])||""}`:ee})},ee)})})]}),((me=s.category)==null?void 0:me.startsWith("Консоли"))&&E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsxs("span",{className:"form__caption",children:[s.is_original?"Оригинал":"Модификация",E.jsx("sup",{className:"form__info form__info--edited",title:"Тип товара: оригинал или модификация",children:"ℹ"})]}),E.jsxs("label",{className:"switch",children:[E.jsx("input",{id:"is_original",type:"checkbox",checked:s.is_original||!1,onChange:()=>{const ee=!s.is_original;let q=[...s.equipment||[]];ee?(q=q.filter(ne=>ne!=="модификация"),q.includes("оригинал")||q.push("оригинал")):(q=q.filter(ne=>ne!=="оригинал"),q.includes("модификация")||q.push("модификация")),l({...s,is_original:ee,equipment:q})}}),E.jsx("span",{className:"slider round"})]})]}),E.jsx("div",{className:"form__photos form__photos--wrapper",children:E.jsxs("div",{className:"form__wrapper",children:[re.isProcessing&&E.jsxs("div",{className:"compression-progress",children:[E.jsx("progress",{value:re.completed,max:re.total}),E.jsxs("span",{children:["Сжатие изображений: ",re.completed,"/",re.total]})]}),E.jsxs("div",{className:"photos-preview--edit",children:[(Ae=s.photo_paths)==null?void 0:Ae.map((ee,q)=>E.jsxs("div",{className:"photo-thumbnail",children:[E.jsx("img",{src:`https://ljcazclnmhjdcmgefcvp.supabase.co/storage/v1/object/public/purchase-photos/${ee}`,alt:`Фото ${q+1}`,className:"photo-thumbnail__image",onError:ne=>{ne.target.src="/documents/icons/icon--photo.svg"}}),E.jsx("button",{type:"button",className:"photo-thumbnail__delete",onClick:()=>ve(ee),title:"Удалить фото",children:"×"})]},ee)),$.map((ee,q)=>E.jsxs("div",{className:"photo-thumbnail",children:[E.jsx("img",{src:URL.createObjectURL(ee),alt:`Новое фото ${q+1}`,className:"photo-thumbnail__image"}),E.jsx("button",{type:"button",className:"photo-thumbnail__delete",onClick:()=>ve(q.toString()),children:"×"})]},`new-${q}`))]}),E.jsx("input",{type:"file",id:`photo-upload-${t.id}`,ref:de,multiple:!0,accept:"image/*",onChange:be,style:{display:"none"}}),E.jsx("label",{htmlFor:`photo-upload-${t.id}`,className:"button button--secondary button--upload",children:"Добавить фото"})]})})]})}),E.jsx("td",{className:"form__status",children:E.jsx("span",{className:t.is_sale?"active":"archived",children:t.is_sale?"В продаже":"Продано"})}),E.jsx("td",{className:"form__buttons",children:E.jsxs("div",{className:"table__buttons",onClick:ee=>ee.stopPropagation(),children:[E.jsx("button",{className:"button button--icon",onClick:ee=>{ee.stopPropagation(),L(t.id)},ref:K,title:"Действия",children:E.jsx("img",{src:`/documents/icons/icon--more-${C}.svg`,alt:"Действия"})}),M&&E.jsxs("div",{className:"actions-menu",style:{position:"absolute",...H(K.current),right:32,zIndex:1e3},children:[E.jsx("button",{className:"button button--icon",onClick:async()=>{var q;if(!s.object||!s.category){alert("Пожалуйста, заполните все обязательные поля");return}const ee=((q=s.serial_number)==null?void 0:q.trim())||"Б/Н";await d(t.id,{...s,serial_number:ee,newPhotos:$,photosToDelete:ce,receipt_number:t.receipt_number}).then(()=>{v(null),J([]),Y([])}),L(null)},disabled:c.includes(t.id)||f.includes(t.id),children:c.includes(t.id)?E.jsx("img",{src:`/documents/icons/icon--loading-${C}.svg`,alt:"В процессе",className:"loading-icon"}):E.jsx("img",{src:`/documents/icons/icon--save-${C}.svg`,alt:"Сохранить",title:"Сохранить"})}),E.jsx("button",{className:"button button--icon",onClick:()=>{v(null),L(null)},disabled:c.includes(t.id)||f.includes(t.id),children:E.jsx("img",{src:`/documents/icons/icon--cancel-${C}.svg`,alt:"Отменить",title:"Отменить"})}),E.jsx("button",{className:"button button--icon",onClick:async ee=>{ee.stopPropagation();try{await g(t.id),L(null)}catch(q){console.error("Ошибка при удалении:",q)}},disabled:c.includes(t.id)||f.includes(t.id),title:f.includes(t.id)?"Удаление...":"Удалить",children:f.includes(t.id)?E.jsx("img",{src:`/documents/icons/icon--loading-${C}.svg`,alt:"Удаление...",className:"loading-icon"}):E.jsx("img",{src:`/documents/icons/icon--delete-${C}.svg`,alt:"Удалить"})})]})]})})]}):E.jsxs("tr",{className:`${t.is_sale?"":"archived-row"}  ${T?"table__row--expanded":""}`,onClick:ee=>{O||ee.target.closest(".photo-gallery")||ee.target.closest(".actions-menu")||ee.target.closest('.button--icon img[alt="Действия"]')||S(t.id)},children:[E.jsx("td",{className:`form__receipt-number ${T?"table__cell--expanded":"table__cell--collapsed"}`,children:t.receipt_number}),E.jsx("td",{className:`${t.is_new?"table__td--new":"table__td--not-new"} ${T?"table__cell--expanded":"table__cell--collapsed"}`,children:E.jsx("span",{children:t.object||"—"})}),E.jsx("td",{className:T?"table__cell--expanded":"table__cell--collapsed",children:t.category}),E.jsx("td",{className:`table__td--serial-number ${T?"table__cell--expanded":"table__cell--collapsed"}`,children:t.serial_number||"—"}),E.jsx("td",{className:`table__td--equipment ${T?"table__cell--expanded":"table__cell--collapsed"}`,children:((Z=t.equipment)==null?void 0:Z.length)===0||!t.equipment?"Без комплекта":E.jsxs("div",{children:[((ie=t.category)==null?void 0:ie.startsWith("Консоли"))&&E.jsxs(E.Fragment,{children:[t.equipment.includes("оригинал")&&E.jsx("img",{src:`/documents/icons/icon--original-${C}.svg`,alt:"оригинал",className:"icon icon--equipment-icon",title:"оригинал"}),t.equipment.includes("модификация")&&E.jsx("img",{src:`/documents/icons/icon--modification-${C}.svg`,alt:"модификация",className:"icon icon--equipment-icon",title:"модификация"})]}),t.equipment.includes("коробка")&&E.jsx("img",{src:`/documents/icons/icon--box-${C}.svg`,alt:"коробка",className:"icon icon--equipment-icon",title:"коробка"}),t.equipment.includes("комплект проводов")&&E.jsx("img",{src:`/documents/icons/icon--wire-${C}.svg`,alt:"комплект проводов",className:"icon icon--equipment-icon",title:"комплект проводов"}),t.equipment.includes("геймпад")&&E.jsx("img",{src:`/documents/icons/icon--gamepad-${C}.svg`,alt:"геймпад",className:"icon icon--equipment-icon",title:"геймпад"}),t.equipment.some(ee=>ee.startsWith("память"))&&E.jsx("img",{src:`/documents/icons/icon--memory-${C}.svg`,alt:"память",className:"icon icon--equipment-icon",title:t.equipment.find(ee=>ee.startsWith("память"))})]})}),E.jsx("td",{className:`table__td--long ${t.state?"":"table__td--center"} ${T?"table__cell--expanded":"table__cell--collapsed"}`,children:t.state||"—"}),E.jsx("td",{className:`table__td--long ${t.note?"":"table__td--center"} ${T?"table__cell--expanded":"table__cell--collapsed"}`,children:t.note||"—"}),E.jsx("td",{className:`table__td--purchase-price ${oe(t.purchase_history)?"":"table__td--center"} ${T?"table__cell--expanded":"table__cell--collapsed"}`,children:oe(t.purchase_history)||"—"}),E.jsx("td",{className:T?"table__cell--expanded":"table__cell--collapsed",children:E.jsxs("div",{className:"table__td--flex",children:[t.sale_price||"—",((he=t.sale_price_history)==null?void 0:he.length)>1&&E.jsxs(E.Fragment,{children:[E.jsx("img",{src:`/documents/icons/icon--history-${C}.svg`,alt:"История цен",className:"price-history-icon","data-tooltip-id":`price-history-${t.id}`}),E.jsx(R1,{id:`price-history-${t.id}`,place:"left",clickable:!0,className:"price-history-tooltip",content:E.jsxs("div",{className:"price-history-popup",children:[E.jsx("h4",{className:"price-history-title",children:"История изменения цены"}),E.jsxs("table",{className:"table--price-history",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Дата изменения"}),E.jsx("th",{children:"Цена продажи, ₽"})]})}),E.jsx("tbody",{children:[...t.sale_price_history].sort((ee,q)=>new Date(q.changed_at)-new Date(ee.changed_at)).map((ee,q)=>E.jsxs("tr",{children:[E.jsx("td",{children:ee.changed_at?new Date(ee.changed_at).toLocaleString():"Дата не указана"}),E.jsx("td",{children:ee.sale_price})]},q))})]})]})})]})]})}),E.jsx("td",{className:`table__td--quantity ${T?"table__cell--expanded":"table__cell--collapsed"}`,children:E.jsxs("div",{className:"table__td--flex table__td--flex-right",children:[t.quantity,((ge=t.purchase_history)==null?void 0:ge.length)>1&&E.jsxs(E.Fragment,{children:[E.jsx("img",{src:`/documents/icons/icon--history-${C}.svg`,alt:"История закупа",className:"price-history-icon","data-tooltip-id":`purchase-history-${t.id}`}),E.jsx(R1,{id:`purchase-history-${t.id}`,place:"left",clickable:!0,className:"price-history-tooltip",content:E.jsxs("div",{className:"price-history-popup",children:[E.jsx("h4",{className:"price-history-title",children:"История закупа"}),E.jsxs("table",{className:"table--price-history",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Дата изменения"}),E.jsx("th",{children:"Кол-во"}),E.jsx("th",{children:"Цена закупа, ₽"})]})}),E.jsx("tbody",{children:t.purchase_history.map((ee,q)=>E.jsxs("tr",{children:[E.jsx("td",{children:ee.changed_at?new Date(ee.changed_at).toLocaleString():"Дата не указана"}),E.jsx("td",{children:ee.quantity}),E.jsx("td",{children:ee.purchase_price||"—"})]},q))})]})]})})]})]})}),E.jsx("td",{className:`form__status ${T?"table__cell--expanded":"table__cell--collapsed"}`,children:E.jsx("span",{className:t.is_sale?"active":"archived",children:t.is_sale?"В продаже":"Продано"})}),E.jsxs("td",{className:"form__buttons",children:[E.jsxs("div",{className:"table__buttons",onClick:ee=>ee.stopPropagation(),children:[E.jsx("button",{className:"button button--icon",onClick:ee=>{ee.stopPropagation(),L(t.id)},ref:ae,title:"Действия",children:E.jsx("img",{src:`/documents/icons/icon--more-${C}.svg`,alt:"Действия"})}),U&&E.jsxs("div",{className:"actions-menu",style:{position:"absolute",...H(ae.current),right:32,zIndex:1e3},children:[E.jsx("button",{className:"button button--icon",onClick:()=>{m(t),L(null)},title:"Редактировать",children:E.jsx("img",{src:`/documents/icons/icon--edit-${C}.svg`,alt:"Редактировать"})}),t.photo_paths&&t.photo_paths.length>0&&E.jsx("button",{className:"button button--icon",onClick:ee=>{ee.stopPropagation(),V(!0),L(null)},disabled:!t.photo_paths||t.photo_paths.length===0,title:"Просмотреть фото",children:E.jsx("img",{src:`/documents/icons/icon--photo-${C}.svg`,alt:"Просмотреть фото"})})]})]}),O&&E.jsx(w0,{photoPaths:t.photo_paths,supabase:e,bucket:"purchase-photos",onClose:()=>V(!1)})]})]})}),zN=({supabase:t,items:e,loadItems:n,onStatusChange:r,activeTheme:i,isLoading:s})=>{const[l,c]=se.useState(e||[]),[f,d]=se.useState(""),[h,m]=se.useState("all"),[g,v]=se.useState(""),[_,C]=se.useState(null),[T,S]=se.useState({}),[P,L]=se.useState([]),[I,j]=se.useState([]),[N,B]=se.useState([]),[D,O]=se.useState([]),[V,$]=se.useState(null),[J,ce]=se.useState(null),[Y,k]=se.useState(null),[A,R]=se.useState(!0),[Q,re]=se.useState(!1),F=ve=>{v(ve.target.value)},de=()=>{v("")},ae=se.useCallback(ve=>{ve.key==="Escape"&&de()},[]),K=se.useCallback(async ve=>{if(!t||!ve)return[];try{const{data:fe,error:me}=await t.from("objects").select("name").eq("category",ve).order("name",{ascending:!0});if(me)throw me;return fe?fe.map(Ae=>Ae.name):[]}catch(fe){return console.error("Ошибка загрузки объектов:",fe),[]}},[t]);se.useEffect(()=>{(async()=>{if(t)try{const{data:fe,error:me}=await t.from("categories").select("name").order("name",{ascending:!0});if(me)throw me;fe&&B(fe.map(Ae=>Ae.name))}catch(fe){console.error("Ошибка загрузки категорий:",fe)}})()},[t]),se.useEffect(()=>{(async()=>{if(t)try{const{data:fe,error:me}=await t.from("objects").select("name, category").order("name",{ascending:!0});if(me)throw me;fe&&O(fe.map(Ae=>Ae.name))}catch(fe){console.error("Ошибка загрузки объектов:",fe)}})()},[t]);const U=se.useCallback(async()=>{try{const{data:ve,error:fe}=await t.from("purchases").select("*").order("is_sale",{ascending:!1}).order("receipt_number",{ascending:!1});if(fe)throw fe;c(ve)}catch(ve){d("Не удалось загрузить список остатков"),console.error("Ошибка загрузки остатков:",ve)}},[t]);se.useEffect(()=>{t&&(n?n():U())},[t,n,U]);const M=se.useCallback(ve=>{ce(fe=>fe===ve?null:ve)},[]),H=se.useMemo(()=>{let ve=e||[];if(h==="sold"&&(ve=ve.filter(fe=>!fe.is_sale)),V&&(ve=ve.filter(fe=>fe.category===V)),g.trim()){const fe=g.toLowerCase().trim();ve=ve.filter(me=>{var Ae,Z;return((Ae=me.object)==null?void 0:Ae.toLowerCase().includes(fe))||((Z=me.serial_number)==null?void 0:Z.toLowerCase().includes(fe))})}return ve},[g,h,e,V]);se.useCallback(async ve=>{var fe;try{const{data:me,error:Ae}=await t.from("purchases").select("receipt_number").order("receipt_number",{ascending:!1}).limit(1);if(Ae)throw Ae;const Z=me.length>0?me[0].receipt_number+1:1,ie=(fe=ve.category)==null?void 0:fe.startsWith("Консоли");let he=ve.equipment||[];ie&&(he=[...he,ve.is_original?"оригинал":"модификация"]);const{data:ge,error:ee}=await t.from("purchases").insert([{...ve,receipt_number:Z,is_sale:!0,sale_price_history:ve.sale_price?[{sale_price:ve.sale_price,changed_at:new Date().toISOString()}]:[],has_sale_price_changes:!1}]).select();if(ee)throw ee;return ve.sale_price&&await t.from("sale_price_history").insert([{purchase_id:ge[0].id,sale_price:ve.sale_price,changed_at:new Date().toISOString()}]),await U(),ge[0]}catch(me){throw console.error("Ошибка при создании записи:",me),me}},[t,U]);const oe=se.useCallback(async(ve,fe)=>{var me,Ae;L(Z=>[...Z,ve]);try{((me=fe.photosToDelete)==null?void 0:me.length)>0&&await t.storage.from("purchase-photos").remove(fe.photosToDelete);let Z=[];((Ae=fe.newPhotos)==null?void 0:Ae.length)>0&&(Z=await Promise.all(fe.newPhotos.map(async we=>{const je=we.name.split(".").pop(),Be=`${Gs()}.${je}`,$e=`purchase-photos/${fe.receipt_number}/${Be}`,{error:Ve}=await t.storage.from("purchase-photos").upload($e,we,{cacheControl:"3600",upsert:!1});if(Ve)throw Ve;return $e})));const{data:ie,error:he}=await t.from("purchases").select("sale_price, sale_price_history").eq("id",ve).single();if(he)throw he;const ge=ie.sale_price_history||[],ee=ie.sale_price,q=fe.sale_price;String(ee)!==String(q)&&q&&ge.unshift({sale_price:q,changed_at:new Date().toISOString()});const te={object:fe.object,serial_number:fe.serial_number,equipment:fe.equipment,is_new:fe.is_new,state:fe.state,note:fe.note,seal_number:fe.seal_number,purchase_price:fe.purchase_price,sale_price:fe.sale_price,sale_price_history:ge,has_sale_price_changes:ge.length>1,category:fe.category,quantity:fe.quantity,photo_paths:[...(fe.photo_paths||[]).filter(we=>{var je;return!((je=fe.photosToDelete)!=null&&je.includes(we))}),...Z],purchase_history:fe.purchase_history||[]};String(ie.sale_price)!==String(fe.sale_price)&&(te.has_sale_price_changes=!0),fe.clientType==="supplier"?(te.contractor=fe.contractor||null,te.last_name=null,te.first_name=null,te.middle_name=null,te.passport_series=null,te.passport_number=null):(te.contractor=null,te.last_name=fe.last_name,te.first_name=fe.first_name,te.middle_name=fe.middle_name||null,te.passport_series=fe.passport_series,te.passport_number=fe.passport_number);const{error:le}=await t.from("purchases").update(te).eq("id",ve);if(le)throw le;return U&&await U(),!0}catch(Z){return alert("Ошибка при обновлении данных: "+Z.message),!1}finally{L(Z=>Z.filter(ie=>ie!==ve))}},[t,U]),pe=se.useCallback(async ve=>{if(window.confirm("Вы уверены, что хотите удалить эту запись?")){j(fe=>[...fe,ve]);try{const{data:fe,error:me}=await t.from("purchases").select("receipt_number, photo_paths").eq("id",ve).single();if(me)throw me;const Ae=fe.receipt_number,Z=fe.photo_paths||[];if(Z.length>0){const he=Z.map(ee=>`purchase-photos/${Ae}/${ee.split("/").pop()}`),{error:ge}=await t.storage.from("purchase-photos").remove(he);if(ge)throw ge}const{error:ie}=await t.from("purchases").delete().eq("id",ve);if(ie)throw ie;U?await U():n&&await n()}catch(fe){console.error("Ошибка при удалении:",fe),alert("Ошибка при удалении: "+fe.message)}finally{j(fe=>fe.filter(me=>me!==ve))}}},[t,U,n]),be=se.useCallback(async ve=>{var me,Ae,Z,ie;C(ve.id);let fe=ve.category||"";if(!fe&&ve.object)try{const{data:he,error:ge}=await t.from("objects").select("category").eq("name",ve.object).single();!ge&&he&&(fe=he.category)}catch(he){console.error("Ошибка получения категории:",he)}S({...ve,sale_price_history:ve.sale_price_history||[],purchase_history:ve.purchase_history||[],...!((me=ve.purchase_history)!=null&&me.length)&&ve.purchase_price?{purchase_history:[{changed_at:ve.created_at||new Date().toISOString(),quantity:ve.quantity||1,purchase_price:ve.purchase_price}]}:{},equipment:ve.equipment||[],category:fe||"",clientType:ve.contractor!==null&&ve.contractor!==void 0?"supplier":ve.last_name||ve.first_name||ve.middle_name?"individual":"supplier",quantity:ve.quantity||1,is_original:(Ae=ve.equipment)!=null&&Ae.includes("оригинал")?!0:!((Z=ve.equipment)!=null&&Z.includes("модификация"))}),R(((ie=ve.equipment)==null?void 0:ie.length)>0||!0)},[t]);return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"table__settings table__settings--purchases",children:[E.jsxs("div",{className:"view-mode-buttons",children:[E.jsx("button",{className:h==="all"?"active":"",onClick:()=>m("all"),children:"Все"}),E.jsx("button",{className:h==="sold"?"active":"",onClick:()=>m("sold"),children:"Проданные"})]}),E.jsx("button",{className:"button button--main",onClick:()=>re(!0),disabled:s,title:s?"Загрузка данных...":"",children:"+ Новая продажа"}),E.jsx(Qa,{options:[{value:"",label:"Все категории"},...N.map(ve=>({value:ve,label:ve}))],value:V?{value:V,label:V}:{value:"",label:"Все категории"},onChange:ve=>$((ve==null?void 0:ve.value)||null),placeholder:"Выберите категорию",isClearable:!0,isSearchable:!0,noOptionsMessage:()=>"Нет доступных категорий",className:"form__input form__input--select react-select-container",classNamePrefix:"select",styles:{control:(ve,fe)=>({...ve,minHeight:"36px",height:"36px",boxSizing:"border-box",lineHeight:1,background:"transparent",border:fe.isFocused?"1px solid var(--text-primary)":0,boxShadow:(fe.isFocused,0),"&:hover":{border:fe.isFocused?"1px solid var(--text-primary)":0}}),menu:ve=>({...ve,backgroundColor:"var(--bg-primary)"}),option:(ve,fe)=>({...ve,whiteSpace:"nowrap",textOverflow:"ellipsis",backgroundColor:fe.isSelected?"var(--accent-color)":"","&:hover":{backgroundColor:fe.isSelected?"var(--accent-color)":"color-mix(in srgb, var(--accent-color) 40%, transparent)"}}),singleValue:ve=>({...ve,color:"var(--text-primary)"}),placeholder:ve=>({...ve,color:"var(--text-secondary)",fontSize:"14px"})}}),E.jsxs("div",{className:"search-container",children:[E.jsx("input",{id:"search-stock",name:"search-stock",className:"form__input form__input--search",type:"text",placeholder:"Поиск по изделию или серийному номеру",autoComplete:"off",value:g,onChange:F,onKeyDown:ae}),g&&E.jsx("button",{className:"clear-search-button",onClick:de,title:"Очистить",children:"⨯"})]})]}),E.jsx("div",{className:"error",children:f}),Q&&E.jsx(IN,{supabase:t,stockItems:e||[],onClose:()=>re(!1),onSaleComplete:()=>{U()}}),s?E.jsx("div",{className:"loader-container",children:E.jsx("div",{className:"loader"})}):H.length===0?E.jsxs("div",{className:"table__empty",children:[E.jsx("img",{src:`/documents/icons/icon--empty-${i}.svg`,alt:"Нет данных",className:"no-data-icon",width:"128"}),E.jsx("div",{children:h==="all"?"Остатков не найдено":"Проданных товаров не найдено"})]}):E.jsx("div",{className:"table-container",children:E.jsxs("table",{className:"table table--purchases",cellSpacing:"0",cellPadding:"0",children:[E.jsx("thead",{className:"table__row-sticky",children:E.jsxs("tr",{children:[E.jsx("th",{children:"#"}),E.jsx("th",{className:"table__th--object",children:"Изделие"}),E.jsx("th",{className:"table__th--category",children:"Категория"}),E.jsx("th",{children:"Сер. номер"}),E.jsx("th",{children:"Комплект"}),E.jsx("th",{children:"Внешний вид"}),E.jsx("th",{children:"Заметка"}),E.jsx("th",{className:"table__th--purchase",children:"Закуп, ₽"}),E.jsx("th",{className:"table__th--sale",children:"Продажа, ₽"}),E.jsx("th",{children:"Кол-во"}),E.jsx("th",{children:"Статус"}),E.jsx("th",{className:"table__td--actions"})]})}),E.jsx("tbody",{children:H.map(ve=>E.jsx(UN,{item:ve,supabase:t,categoriesList:N,fetchObjectsByCategory:K,objectsList:D,editingId:_,editedData:T,setEditedData:S,updatingIds:P,deletingIds:I,onSave:oe,onCancel:()=>C(null),onEdit:be,onDelete:pe,setEditingId:C,activeTheme:i,isExpanded:J===ve.id,onToggleExpand:M,onMenuToggle:fe=>k(fe===Y?null:fe),isMenuOpen:Y===ve.id,hasEquipment:A,setHasEquipment:R},`${ve.id}-${_===ve.id?"editing":"view"}`))})]})})]})},FN=({client:t,editingId:e,editedData:n,setEditedData:r,archivingIds:i,updatingIds:s,deletingIds:l,onSave:c,onCancel:f,onDelete:d,onArchive:h,onGenerateDocx:m,onEdit:g,onViewPhotos:v,supabase:_,activeTheme:C,isExpanded:T,onToggleExpand:S,isMenuOpen:P,onMenuToggle:L,tableContainerRef:I})=>{var U,M,H,oe,pe,be,ve,fe;const[j,N]=se.useState({}),[B,D]=se.useState(!1),[O,V]=se.useState({total:0,completed:0,isProcessing:!1}),$=P&&e!==t.id,J=P&&e===t.id,ce=se.useRef(null),Y=se.useRef(null),k=se.useRef(null),A=se.useRef(null);se.useLayoutEffect(()=>{if(!I||!I.current||!$&&!J)return;const me=$&&k.current,Ae=J&&A.current;if(!me&&!Ae)return;const Z=me?k:A;if(!Z.current)return;const he=setTimeout(()=>{if(!Z.current||!I.current)return;const ge=Z.current.getBoundingClientRect(),ee=I.current.getBoundingClientRect(),q=ge.bottom>window.innerHeight,ne=ge.bottom>ee.bottom;if(q||ne){const te=ge.bottom-window.innerHeight,le=ge.bottom-ee.bottom,we=Math.max(te,le,0);we>0&&I.current.scrollBy({top:we+10,behavior:"smooth"})}},0);return()=>{he&&clearTimeout(he)}},[$,J,I]),se.useEffect(()=>{const me=Ae=>{if(Ae.target.closest(".photo-gallery-container"))return;const Z=Ae.target.closest('.button--icon img[alt="Действия"]')&&Ae.target.closest("tr.edit-mode"),ie=Ae.target.closest('.button--icon img[alt="Действия"]')&&!Ae.target.closest("tr.edit-mode");P&&!ie&&!Z&&!Ae.target.closest(".actions-menu")&&L(null)};return document.addEventListener("click",me),()=>{document.removeEventListener("click",me)}},[$,J]);const R=me=>{if(!me)return{top:"auto",bottom:"100%",transform:"translateY(-10px)"};const Ae=me.getBoundingClientRect();return window.innerHeight-Ae.bottom<120?{top:"auto",bottom:"100%",transform:"translateY(35px)"}:{top:"100%",bottom:"auto",transform:"translateY(-34px)"}};se.useLayoutEffect(()=>{$&&ce.current&&R(ce.current)},[$]);const Q=se.useCallback(me=>{const{name:Ae,value:Z}=me.target;(Ae==="state"||Ae==="repair_type")&&Z.length>200||r(ie=>({...ie,[Ae]:Z}))},[]),re=me=>{if(!me.target.value.startsWith("+7-")){const ie="+7-"+me.target.value.replace(/\D/g,"");r({...n,phone:ie});return}const Ae=me.target.value.slice(3).replace(/\D/g,"");let Z="+7-";Z+=(Ae.length>0?Ae.slice(0,3):"")+(Ae.length>3?"—"+Ae.slice(3,6):"")+(Ae.length>6?"—"+Ae.slice(6,8):"")+(Ae.length>8?"—"+Ae.slice(8,10):""),r({...n,phone:Z})},F=me=>{me.key==="Backspace"&&me.target.selectionStart<=3&&me.preventDefault(),me.key==="ArrowLeft"&&me.target.selectionStart<=3&&me.target.setSelectionRange(3,3)},de=me=>{me.target.selectionStart<3&&me.target.setSelectionRange(3,3)},ae=me=>{r(Ae=>({...Ae,clientType:me,last_name:me==="organization"?null:Ae.last_name,first_name:me==="organization"?null:Ae.first_name,middle_name:me==="organization"?null:Ae.middle_name,org_name:me==="individual"?null:Ae.org_name,phone:me==="individual"?"+7-":""}))},K=async me=>{const Ae=Array.from(me.target.files);if(Ae.length===0)return;me.target.value="",V({total:Ae.length,completed:0,isProcessing:!0});const Z={maxSizeMB:.5,maxWidthOrHeight:1920,useWebWorker:!0,fileType:"image/webp",initialQuality:.8,preserveExif:!1};try{const ie=await Promise.all(Ae.map(async he=>{try{const ge=await Vn(he,Z);return V(ee=>({...ee,completed:ee.completed+1})),ge}catch(ge){return console.error("Ошибка сжатия:",ge),V(ee=>({...ee,completed:ee.completed+1})),he}}));r(he=>({...he,newPhotos:[...he.newPhotos||[],...ie]}))}catch(ie){console.error("Ошибка при обработке файлов:",ie)}finally{V(ie=>({...ie,isProcessing:!1}))}};if(e===t.id){const me=n.clientType||(n.org_name?"organization":"individual"),Ae=Z=>{r(ie=>{var he,ge;return{...ie,social:{...ie.social,is_avito:Z,is_yandex:!Z&&((he=ie.social)==null?void 0:he.is_yandex),is_2gis:!Z&&((ge=ie.social)==null?void 0:ge.is_2gis)}}})};return E.jsxs("tr",{className:"edit-mode",children:[E.jsx("td",{colSpan:"8",className:"edit-form-cell",children:E.jsxs("div",{className:"edit-form-container",children:[E.jsxs("div",{className:"view-mode-buttons",style:{marginBottom:"1rem"},children:[E.jsx("button",{type:"button",className:me==="individual"?"active":"",onClick:()=>ae("individual"),children:"Частное лицо"}),E.jsx("button",{type:"button",className:me==="organization"?"active":"",onClick:()=>ae("organization"),children:"Организация"})]}),me==="individual"?E.jsxs("div",{className:"form__name",children:[E.jsxs("div",{className:"form__group--vertical",children:[E.jsx("label",{htmlFor:`last_name_${t.id}`,children:"Фамилия"}),E.jsx("input",{id:`last_name_${t.id}`,className:"form__input",type:"text",value:n.last_name||"",onChange:Z=>r({...n,last_name:Z.target.value}),placeholder:"Фамилия",required:!0})]}),E.jsxs("div",{className:"form__group--vertical",children:[E.jsx("label",{htmlFor:`first_name_${t.id}`,children:"Имя"}),E.jsx("input",{id:`first_name_${t.id}`,className:"form__input",type:"text",value:n.first_name||"",onChange:Z=>r({...n,first_name:Z.target.value}),placeholder:"Имя",required:!0})]}),E.jsxs("div",{className:"form__group--vertical",children:[E.jsx("label",{htmlFor:`middle_name_${t.id}`,children:"Отчество"}),E.jsx("input",{id:`middle_name_${t.id}`,className:"form__input",type:"text",value:n.middle_name||"",onChange:Z=>r({...n,middle_name:Z.target.value}),placeholder:"Отчество",required:!0})]})]}):E.jsx("div",{className:"form__name",children:E.jsxs("div",{className:"form__group--vertical",children:[E.jsx("label",{htmlFor:`org_name_${t.id}`,children:"Название организации"}),E.jsx("input",{id:`org_name_${t.id}`,className:"form__input",type:"text",value:n.org_name||"",onChange:Z=>r({...n,org_name:Z.target.value}),placeholder:"Название организации",required:!0,style:{width:"100%"}})]})}),E.jsxs("div",{className:"form__tel-number",children:[me==="individual"?E.jsxs("div",{className:"form__group--vertical",children:[E.jsx("label",{htmlFor:`phone_${t.id}`,children:"Телефон"}),E.jsx("input",{id:`phone_${t.id}`,className:"form__input",type:"tel",value:n.phone||"+7-",onChange:re,onKeyDown:F,onClick:de,placeholder:"+7-___-___-__-__",maxLength:"16",required:!0})]}):E.jsxs("div",{className:"form__group--vertical",children:[E.jsx("label",{htmlFor:`phone_${t.id}`,children:"Телефон (опционально)"}),E.jsx("input",{id:`phone_${t.id}`,className:"form__input",type:"tel",value:n.phone||"",onChange:Z=>r({...n,phone:Z.target.value}),placeholder:"Телефон (опционально)"})]}),E.jsxs("div",{className:"form__group--vertical",children:[E.jsx("label",{htmlFor:`object_${t.id}`,children:"Изделие"}),E.jsx("input",{id:`object_${t.id}`,className:"form__input",type:"text",value:n.object||"",onChange:Z=>r({...n,object:Z.target.value}),placeholder:"Изделие",required:!0})]}),E.jsxs("div",{className:"form__group--vertical",children:[E.jsx("label",{htmlFor:`serial_number_${t.id}`,children:"Серийный номер"}),E.jsx("input",{id:`serial_number_${t.id}`,className:"form__input",type:"text",value:n.serial_number||"",onChange:Z=>r({...n,serial_number:Z.target.value}),placeholder:"Серийный номер",required:!0})]})]}),E.jsxs("div",{className:"form__description",children:[E.jsxs("div",{className:"form__state",children:[E.jsxs("div",{className:"form__group--vertical",children:[E.jsx("label",{htmlFor:`state_${t.id}`,children:"Внешнее состояние (максимум 200 символов)"}),E.jsx("textarea",{id:`state_${t.id}`,className:"form__input form__input--textarea",name:"state",value:n.state||"",onChange:Q,placeholder:"Внешнее состояние (максимум 200 символов)",maxLength:200,required:!0})]}),E.jsxs("div",{className:"character-counter",children:[((U=n.state)==null?void 0:U.length)||0,"/200 символов",(((M=n.state)==null?void 0:M.length)||0)>=200&&E.jsx("span",{className:"counter-warning",children:" (лимит достигнут)"})]})]}),E.jsxs("div",{className:"form__problem",children:[E.jsxs("div",{className:"form__group--vertical",children:[E.jsx("label",{htmlFor:`repair_type_${t.id}`,children:"Неисправность (максимум 200 символов)"}),E.jsx("textarea",{id:`repair_type_${t.id}`,className:"form__input form__input--textarea",name:"repair_type",value:n.repair_type||"",onChange:Q,placeholder:"Неисправность (максимум 200 символов)",maxLength:200,required:!0})]}),E.jsxs("div",{className:"character-counter",children:[((H=n.repair_type)==null?void 0:H.length)||0,"/200 символов",(((oe=n.repair_type)==null?void 0:oe.length)||0)>=200&&E.jsx("span",{className:"counter-warning",children:" (лимит достигнут)"})]})]}),E.jsxs("div",{className:"form__group--vertical",children:[E.jsx("label",{htmlFor:`note_${t.id}`,children:"Заметка"}),E.jsx("textarea",{id:`note_${t.id}`,className:"form__input form__input--textarea form__input--note",value:n.note||"",onChange:Z=>r({...n,note:Z.target.value}),placeholder:"Заметка"})]})]}),E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsx("span",{className:"form__caption",children:"С Авито?"}),E.jsxs("div",{className:"switch-container",children:[E.jsxs("label",{className:"switch",children:[E.jsx("input",{id:"is_avito",type:"checkbox",checked:((pe=n.social)==null?void 0:pe.is_avito)||!1,onChange:()=>{var Z;return Ae(!((Z=n.social)!=null&&Z.is_avito))}}),E.jsx("span",{className:"slider round"})]}),E.jsx("span",{className:"form__caption",children:(be=n.social)!=null&&be.is_avito?"Да":"Нет"})]})]}),E.jsx("div",{className:"form__photos form__photos--wrapper",children:E.jsxs("div",{className:"form__wrapper",children:[O.isProcessing&&E.jsxs("div",{className:"compression-progress",children:[E.jsx("progress",{value:O.completed,max:O.total}),E.jsxs("span",{children:["Сжатие: ",O.completed,"/",O.total]})]}),E.jsxs("div",{className:"photos-preview--edit",children:[(ve=n.photo_paths)==null?void 0:ve.map((Z,ie)=>E.jsxs("div",{className:"photo-thumbnail",children:[E.jsx("img",{src:`https://ljcazclnmhjdcmgefcvp.supabase.co/storage/v1/object/public/client-photos/${Z}`,alt:`Фото ${ie+1}`,className:"photo-thumbnail__image",onError:he=>{he.target.src="/documents/icons/icon--photo.svg"}}),E.jsx("button",{type:"button",className:"photo-thumbnail__delete",onClick:()=>{const he=n.photo_paths.filter(ge=>ge!==Z);r({...n,photo_paths:he,photosToDelete:[...n.photosToDelete||[],Z]})},title:"Удалить фото",children:"×"})]},Z)),(fe=n.newPhotos)==null?void 0:fe.map((Z,ie)=>E.jsxs("div",{className:"photo-thumbnail",children:[E.jsx("img",{src:URL.createObjectURL(Z),alt:`Новое фото ${ie+1}`,className:"photo-thumbnail__image"}),E.jsx("button",{type:"button",className:"photo-thumbnail__delete",onClick:()=>{const he=n.newPhotos.filter((ge,ee)=>ee!==ie);r({...n,newPhotos:he})},children:"×"})]},`new-${ie}`))]}),E.jsx("input",{type:"file",id:`photo-upload-${t.id}`,multiple:!0,accept:"image/*",onChange:K,style:{display:"none"}}),E.jsx("label",{htmlFor:`photo-upload-${t.id}`,className:"button button--secondary button--upload",children:"Добавить фото"})]})})]})}),E.jsx("td",{children:new Date(t.created_at).toLocaleDateString("ru-RU")}),E.jsx("td",{children:t.closed_at?new Date(t.closed_at).toLocaleDateString("ru-RU"):"—"}),E.jsx("td",{className:"form__status",children:E.jsx("span",{className:t.is_archive?"archived":"active",children:t.is_archive?"В архиве":"Активно"})}),E.jsx("td",{className:"form__buttons",children:E.jsxs("div",{className:"table__buttons",onClick:Z=>Z.stopPropagation(),children:[E.jsx("button",{className:"button button--icon",onClick:Z=>{Z.stopPropagation(),L(t.id)},ref:Y,title:"Действия",children:E.jsx("img",{src:`/documents/icons/icon--more-${C}.svg`,alt:"Действия"})}),J&&E.jsxs("div",{className:"actions-menu",style:{position:"absolute",...R(Y.current),right:32,zIndex:1e3},children:[E.jsx("button",{className:"button button--icon",onClick:async()=>{try{await c(t.id)}catch(Z){console.error("Ошибка при сохранении:",Z)}},disabled:s.includes(t.id)||l.includes(t.id),children:s.includes(t.id)?E.jsx("img",{src:`/documents/icons/icon--loading-${C}.svg`,alt:"В процессе",className:"loading-icon"}):E.jsx("img",{src:`/documents/icons/icon--save-${C}.svg`,alt:"Сохранить",title:"Сохранить"})}),E.jsx("button",{className:"button button--icon",onClick:()=>{f(),L(null)},disabled:s.includes(t.id)||l.includes(t.id),children:E.jsx("img",{src:`/documents/icons/icon--cancel-${C}.svg`,alt:"Отменить",title:"Отменить"})}),E.jsx("button",{className:"button button--icon",onClick:async Z=>{Z.stopPropagation();try{await d(t.id),L(null)}catch(ie){console.error("Ошибка при удалении:",ie)}},disabled:s.includes(t.id)||l.includes(t.id),title:l.includes(t.id)?"Удаление...":"Удалить",children:l.includes(t.id)?E.jsx("img",{src:`/documents/icons/icon--loading-${C}.svg`,alt:"Удаление...",className:"loading-icon"}):E.jsx("img",{src:`/documents/icons/icon--delete-${C}.svg`,alt:"Удалить"})})]})]})})]})}return E.jsxs("tr",{className:`${t.is_archive?"archived-row":""} ${T?"table__row--expanded":""}`,onClick:me=>{B||me.target.closest(".photo-gallery")||me.target.closest(".actions-menu")||S(t.id)},children:[E.jsx("td",{className:`form__receipt-number ${T?"table__cell--expanded":"table__cell--collapsed"}`,children:t.receipt_number}),E.jsx("td",{className:T?"table__cell--expanded":"table__cell--collapsed",children:t.org_name?t.org_name:`${t.last_name||""} ${t.first_name||""} ${t.middle_name||""}`.trim()||"—"}),E.jsx("td",{className:`form__phone ${t.phone?"":"table__td--center"} ${T?"table__cell--expanded":"table__cell--collapsed"}`,children:t.phone||"—"}),E.jsx("td",{className:T?"table__cell--expanded":"table__cell--collapsed",children:t.object||"—"}),E.jsx("td",{className:T?"table__cell--expanded":"table__cell--collapsed",children:t.serial_number||"—"}),E.jsx("td",{className:`table__td--long ${t.state?"":"table__td--center"} ${T?"table__cell--expanded":"table__cell--collapsed"}`,children:t.state||"—"}),E.jsx("td",{className:`table__td--long form__repair-type ${T?"table__cell--expanded":"table__cell--collapsed"}`,children:t.repair_type}),E.jsx("td",{className:`table__td--long ${t.note?"":"table__td--center"} ${T?"table__cell--expanded":"table__cell--collapsed"}`,children:t.note||"—"}),E.jsx("td",{className:`table__td--open ${T?"table__cell--expanded":"table__cell--collapsed"}`,children:new Date(t.created_at).toLocaleDateString("ru-RU")}),E.jsx("td",{className:`table__td--closed ${t.closed_at?"":"table__td--center"} ${T?"table__cell--expanded":"table__cell--collapsed"}`,children:t.closed_at?new Date(t.closed_at).toLocaleDateString("ru-RU"):"—"}),E.jsx("td",{className:`form__status ${T?"table__cell--expanded":"table__cell--collapsed"}`,children:E.jsx("span",{className:t.is_archive?"archived":"active",children:t.is_archive?"В архиве":"Активно"})}),E.jsxs("td",{className:"form__buttons",children:[E.jsxs("div",{className:"table__buttons",onClick:me=>me.stopPropagation(),children:[E.jsx("button",{className:"button button--icon",onClick:me=>{me.stopPropagation(),L(t.id)},ref:ce,title:"Действия",children:E.jsx("img",{src:`/documents/icons/icon--more-${C}.svg`,alt:"Действия"})}),$&&E.jsxs("div",{className:"actions-menu",style:{position:"absolute",...R(ce.current),right:32,zIndex:1e3},children:[E.jsx("button",{className:"button button--icon",onClick:()=>{g(t),L(null)},title:"Редактировать",children:E.jsx("img",{src:`/documents/icons/icon--edit-${C}.svg`,alt:"Редактировать"})}),E.jsx("button",{className:"button button--icon",onClick:()=>{h(t.id,!t.is_archive),L(null)},disabled:i.includes(t.id),title:i.includes(t.id)?"Идет обработка...":t.is_archive?"Восстановить":"В архив",children:i.includes(t.id)?E.jsx("img",{src:`/documents/icons/icon--loading-${C}.svg`,alt:"В процессе",className:"loading-icon"}):E.jsx("img",{src:t.is_archive?`/documents/icons/icon--restore-${C}.svg`:`/documents/icons/icon--archive-${C}.svg`,alt:t.is_archive?"Восстановить":"В архив"})}),t.photo_paths&&t.photo_paths.length>0&&E.jsx("button",{className:"button button--icon",onClick:me=>{me.stopPropagation(),D(!0),L(null)},disabled:!t.photo_paths||t.photo_paths.length===0,title:"Просмотреть фото",children:E.jsx("img",{src:`/documents/icons/icon--photo-${C}.svg`,alt:"Просмотреть фото"})}),E.jsx("button",{className:"button button--icon",onClick:()=>{m(t),L(null)},title:"Скачать квитанцию",children:E.jsx("img",{src:`/documents/icons/icon--doc-${C}.svg`,alt:"Скачать квитанцию"})})]})]}),B&&E.jsx(w0,{photoPaths:t.photo_paths,supabase:_,onClose:()=>D(!1)})]})]})},qN=or.memo(FN),HN=({clients:t,loading:e,initialLoadComplete:n,supabase:r,loadClients:i,generateDocx:s,onViewPhotos:l,onStatusChange:c,activeTheme:f})=>{const[d,h]=se.useState("active"),[m,g]=se.useState("all"),[v,_]=se.useState(""),[C,T]=se.useState(null),[S,P]=se.useState({}),[L,I]=se.useState([]),[j,N]=se.useState(""),[B,D]=se.useState([]),[O,V]=se.useState([]),[$,J]=se.useState(null),[ce,Y]=se.useState(null),k=se.useRef(null),A=H=>H==null?void 0:H.replace(/\s+/g," ").trim(),R=H=>{_(H.target.value)},Q=()=>{_("")},re=se.useCallback(H=>{H.key==="Escape"&&Q()},[]),F=se.useCallback(H=>{J(oe=>oe===H?null:H)},[]),de=se.useMemo(()=>{let H=d==="archive"?t.filter(oe=>oe.is_archive):[...t];if(m!=="all"&&(H=H.filter(oe=>m==="individual"?!oe.org_name&&(oe.first_name||oe.last_name):!!oe.org_name)),v.trim()){const oe=v.toLowerCase().trim();H=H.filter(pe=>{if(!pe.org_name){const be=`${pe.last_name||""} ${pe.first_name||""} ${pe.middle_name||""}`.toLowerCase();if(be.includes(oe)||oe.split(" ").every(fe=>be.includes(fe)))return!0}return pe.org_name&&pe.org_name.toLowerCase().includes(oe)?!0:pe.phone&&pe.phone.includes(oe)||pe.serial_number&&pe.serial_number.toLowerCase().includes(oe)||pe.object&&pe.object.toLowerCase().includes(oe)})}return H},[v,d,t,m]),ae=se.useCallback(async(H,oe)=>{I(pe=>[...pe,H]);try{const pe={is_archive:oe,closed_at:oe?new Date().toISOString().split("T")[0]:null},{error:be}=await r.from("clients").update(pe).eq("id",H);if(be)throw be;await i(r),c&&c()}catch(pe){N("Ошибка архивации: "+pe.message)}finally{I(pe=>pe.filter(be=>be!==H))}},[r,i,c]),K=se.useCallback(async H=>{if(window.confirm("Вы уверены, что хотите удалить эту запись?")){V(oe=>[...oe,H]);try{const{data:oe,error:pe}=await r.from("clients").select("receipt_number, photo_paths").eq("id",H).single();if(pe)throw pe;const be=oe.receipt_number;if((oe.photo_paths||[]).length>0){const{data:me,error:Ae}=await r.storage.from("client-photos").list(`client-photos/${be}`);if(Ae)throw Ae;const Z=me.map(ie=>`client-photos/${be}/${ie.name}`);if(Z.length>0){const{error:ie}=await r.storage.from("client-photos").remove(Z);if(ie)throw ie}}const{error:fe}=await r.from("clients").delete().eq("id",H);if(fe)throw fe;await i(r)}catch(oe){N("Ошибка при удалении записи: "+oe.message)}finally{V(oe=>oe.filter(pe=>pe!==H))}}},[r,i]),U=se.useCallback(H=>{T(H.id),P({...H,phone:H.org_name?"":H.phone.startsWith("+7-")?H.phone:"+7-"+H.phone.replace(/\D/g,""),clientType:H.org_name?"organization":"individual",social:H.social||{is_avito:!1,is_yandex:!1,is_2gis:!1}}),T(H.id),Y(null)},[]),M=se.useCallback(async(H,oe)=>{var pe,be,ve,fe;if(S.clientType==="individual"){if(!S.last_name||!S.first_name||!S.phone||!S.object||!S.serial_number||!S.state||!S.repair_type){alert("Пожалуйста, заполните все обязательные поля для частного лица");return}if(((pe=S.state)==null?void 0:pe.length)>200||((be=S.repair_type)==null?void 0:be.length)>200){alert("Поля 'Внешнее состояние' и 'Неисправность' должны содержать не более 200 символов");return}if(!/^\+7-\d{3}-\d{3}-\d{2}-\d{2}$/.test(S.phone)){alert("Неверный формат телефона. Используйте формат +7-XXX-XXX-XX-XX");return}}else if(!S.org_name||!S.object||!S.serial_number||!S.state||!S.repair_type){alert("Пожалуйста, заполните все обязательные поля для организации");return}D(me=>[...me,H]);try{const{data:me,error:Ae}=await r.from("clients").select("receipt_number").eq("id",H).single();if(Ae)throw Ae;const Z=me.receipt_number;((ve=S.photosToDelete)==null?void 0:ve.length)>0&&await r.storage.from("client-photos").remove(S.photosToDelete);let ie=[];((fe=S.newPhotos)==null?void 0:fe.length)>0&&(ie=await Promise.all(S.newPhotos.map(async ee=>{const q=ee.name.split(".").pop(),ne=`${Gs()}.${q}`,te=`client-photos/${Z}/${ne}`,{error:le}=await r.storage.from("client-photos").upload(te,ee,{cacheControl:"3600",upsert:!1});if(le)throw le;return te})));const he={object:S.object,serial_number:S.serial_number,state:A(S.state),repair_type:A(S.repair_type),note:A(S.note),phone:S.clientType==="individual"?S.phone:null,social:S.social||{is_avito:!1,is_yandex:!1,is_2gis:!1},photo_paths:[...(S.photo_paths||[]).filter(ee=>{var q;return!((q=S.photosToDelete)!=null&&q.includes(ee))}),...ie]};S.clientType==="individual"?(he.last_name=S.last_name,he.first_name=S.first_name,he.middle_name=S.middle_name,he.org_name=null):(he.org_name=S.org_name,he.last_name=null,he.first_name=null,he.middle_name=null);const{error:ge}=await r.from("clients").update(he).eq("id",H);if(ge)throw ge;return T(null),Y(null),await i(r),!0}catch(me){throw N("Ошибка при сохранении данных: "+me.message),me}finally{D(me=>me.filter(Ae=>Ae!==H))}},[S,r,i,A]);return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"table__settings",children:[E.jsxs("div",{className:"view-mode-buttons",children:[E.jsx("button",{className:d==="active"?"active":"",onClick:()=>h("active"),children:"Все"}),E.jsx("button",{className:d==="archive"?"active":"",onClick:()=>h("archive"),children:"Архив"})]}),E.jsxs("div",{className:"client-type-filter",children:[E.jsx("button",{className:m==="all"?"tab tab--chart tab--active":"tab tab--chart",onClick:()=>g("all"),children:"Все"}),E.jsx("button",{className:m==="individual"?"tab tab--chart tab--active":"tab tab--chart",onClick:()=>g("individual"),children:"Частные лица"}),E.jsx("button",{className:m==="organization"?"tab tab--chart tab--active":"tab tab--chart",onClick:()=>g("organization"),children:"Организации"})]}),E.jsxs("div",{className:"search-container search-container--clients",children:[E.jsx("input",{name:"search-clients",id:"search-clients",className:"form__input form__input--search form__input--search-clients",type:"text",placeholder:"Поиск по ФИО, орг-ии, телефону или серийному номеру",autoComplete:"off",value:v,onChange:R,onKeyDown:re}),v&&E.jsx("button",{className:"clear-search-button",onClick:Q,title:"Очистить",children:"⨯"})]})]}),E.jsx("div",{className:"error",children:j}),e&&!n?E.jsx("div",{className:"loader-container",children:E.jsx("div",{className:"loader"})}):de.length===0&&n?E.jsxs("div",{className:"table__empty",children:[E.jsx("img",{src:`/documents/icons/icon--empty-${f}.svg`,alt:"Нет данных",className:"no-data-icon",width:"128"}),E.jsx("div",{children:d==="active"?"Активных клиентов не найдено":"Архив пуст"})]}):E.jsx("div",{className:"table-container",ref:k,children:E.jsxs("table",{className:"table",id:"clientsTable",cellSpacing:"0",cellPadding:"0",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"table__row-sticky",children:[E.jsx("th",{children:"#"}),E.jsx("th",{children:"ФИО / Орг-ия"}),E.jsx("th",{children:"Телефон"}),E.jsx("th",{children:"Изделие"}),E.jsx("th",{children:"Сер. номер"}),E.jsx("th",{children:"Состояние"}),E.jsx("th",{children:"Неисправность"}),E.jsx("th",{children:"Заметка"}),E.jsx("th",{children:"Принят"}),E.jsx("th",{children:"Выдан"}),E.jsx("th",{children:"Статус"}),E.jsx("th",{className:"table__td--actions"})]})}),E.jsx("tbody",{children:de.map(H=>E.jsx(qN,{client:H,editingId:C,editedData:S,setEditedData:P,archivingIds:L,updatingIds:B,deletingIds:O,onSave:M,onCancel:()=>T(null),onDelete:K,onArchive:ae,onStatusChange:c,onGenerateDocx:s,onEdit:U,supabase:r,activeTheme:f,isExpanded:$===H.id,onToggleExpand:F,onMenuToggle:oe=>Y(oe===ce?null:oe),isMenuOpen:ce===H.id,tableContainerRef:k},`${H.id}-${C===H.id?"editing":"view"}`))})]})})]})},$N=or.memo(({item:t,supabase:e,editingId:n,editedData:r,setEditedData:i,updatingIds:s,deletingIds:l,onSave:c,onCancel:f,onEdit:d,onDelete:h,setEditingId:m,activeTheme:g,isExpanded:v,onToggleExpand:_,isMenuOpen:C,onMenuToggle:T})=>{const[S,P]=se.useState(!1),[L,I]=se.useState([]),[j,N]=se.useState([]);se.useRef(null);const B=se.useRef(null),D=se.useRef(null),O=C&&n!==t.id,V=C&&n===t.id,[$,J]=se.useState([]);se.useEffect(()=>{n===t.id&&J(Object.entries(r.service_prices||{}).map(([Q,re])=>({duration:Q,price:re,id:Gs()})))},[n,r.service_prices]),se.useEffect(()=>{const Q=re=>{re.target.closest(".photo-gallery-container")||re.target.closest('.button--icon img[alt="Действия"]')||re.target.closest(".actions-menu")||C&&T(null)};return document.addEventListener("click",Q),()=>{document.removeEventListener("click",Q)}},[C,T]);const ce=(Q,re,F)=>{if(re==="price"){const de=F.replace(/[^0-9.,]/g,"");J(ae=>ae.map(K=>K.id===Q?{...K,[re]:de}:K))}else J(de=>de.map(ae=>ae.id===Q?{...ae,[re]:F}:ae))},Y=()=>{J(Q=>[...Q,{duration:"",price:"",id:Gs()}])},k=Q=>{J(re=>re.filter(F=>F.id!==Q))},A=()=>$.reduce((Q,re)=>(re.duration&&(re.price||re.price===0||re.price==="0")&&(Q[re.duration]=Number(re.price)),Q),{}),R=Q=>{if(!Q)return{top:"auto",bottom:"100%",transform:"translateY(-10px)"};const re=Q.getBoundingClientRect();return window.innerHeight-re.bottom<120?{top:"auto",bottom:"100%",transform:"translateY(34px)"}:{top:"100%",bottom:"auto",transform:"translateY(-34px)"}};return n===t.id?E.jsxs("tr",{className:"edit-mode",children:[E.jsx("td",{colSpan:"4",className:"edit-form-cell",children:E.jsxs("div",{className:"edit-form-container",children:[E.jsxs("div",{className:"form__group",children:[E.jsxs("div",{className:"form__group form__group--vertical form__group--40",children:[E.jsx("label",{htmlFor:`name-${t.id}`,children:"Наименование"}),E.jsx("input",{id:`name-${t.id}`,className:"form__input",type:"text",value:r.name||"",onChange:Q=>i({...r,name:Q.target.value}),placeholder:"Наименование услуги",required:!0})]}),E.jsxs("div",{className:"form__group form__group--vertical form__group--20",children:[E.jsx("label",{htmlFor:`purchase_price-${t.id}`,children:"Цена закупа, ₽"}),E.jsx("input",{id:`purchase_price-${t.id}`,className:"form__input",type:"number",value:r.purchase_price||0,onChange:Q=>i({...r,purchase_price:Q.target.value}),placeholder:"0",min:"0"})]})]}),E.jsxs("div",{className:"form__group",children:[E.jsx("div",{className:"form__group form__group--vertical",children:E.jsxs("fieldset",{className:"price-editor__fieldset",children:[E.jsx("legend",{className:"form__legend",children:"Прайс услуг"}),E.jsx(VN,{items:$,onChange:ce,onAdd:Y,onRemove:k})]})}),E.jsxs("div",{className:"form__group form__group--vertical",children:[E.jsx("label",{htmlFor:`note-${t.id}`,children:"Заметка"}),E.jsx("textarea",{id:`note-${t.id}`,className:"form__input form__input--textarea",value:r.note||"",onChange:Q=>i({...r,note:Q.target.value}),placeholder:"Заметка (опционально)",rows:"3"})]})]})]})}),E.jsx("td",{className:"form__buttons",children:E.jsxs("div",{className:"table__buttons",onClick:Q=>Q.stopPropagation(),children:[E.jsx("button",{className:"button button--icon",onClick:Q=>{Q.stopPropagation(),T(t.id)},ref:D,title:"Действия",children:E.jsx("img",{src:`/documents/icons/icon--more-${g}.svg`,alt:"Действия"})}),V&&E.jsxs("div",{className:"actions-menu",style:{position:"absolute",...R(D.current),right:32,zIndex:1e3},children:[E.jsx("button",{className:"button button--icon",onClick:async Q=>{if(Q.stopPropagation(),!r.name){alert("Пожалуйста, заполните наименование услуги");return}const re=$.filter(de=>de.duration&&(de.price||de.price===0||de.price==="0")),F=$.filter(de=>!de.duration||de.price!==0&&de.price!=="0"&&!de.price);F.length>0&&!window.confirm(`Обнаружены незавершённые строки в прайсе (${F.length}). Продолжить без них?`)||re.length===0&&Object.keys(r.service_prices||{}).length===0&&!window.confirm("Прайс пуст. Сохранить без прайса?")||(await c(t.id,{...r,service_prices:A(),newPhotos:L,photosToDelete:j}).then(()=>{m(null),I([]),N([])}),T(null))},disabled:s.includes(t.id),children:s.includes(t.id)?E.jsx("img",{src:`/documents/icons/icon--loading-${g}.svg`,alt:"В процессе",className:"loading-icon"}):E.jsx("img",{src:`/documents/icons/icon--save-${g}.svg`,alt:"Сохранить",title:"Сохранить"})}),E.jsx("button",{className:"button button--icon",onClick:()=>{m(null),T(null)},disabled:s.includes(t.id),children:E.jsx("img",{src:`/documents/icons/icon--cancel-${g}.svg`,alt:"Отменить",title:"Отменить"})}),E.jsx("button",{className:"button button--icon",onClick:async Q=>{Q.stopPropagation();try{await h(t.id),T(null)}catch(re){console.error("Ошибка при удалении:",re)}},disabled:s.includes(t.id)||l.includes(t.id),title:l.includes(t.id)?"Удаление...":"Удалить",children:l.includes(t.id)?E.jsx("img",{src:`/documents/icons/icon--loading-${g}.svg`,alt:"Удаление...",className:"loading-icon"}):E.jsx("img",{src:`/documents/icons/icon--delete-${g}.svg`,alt:"Удалить"})})]})]})})]}):E.jsxs("tr",{className:v?"table__row--expanded":"",onClick:Q=>{S||Q.target.closest(".photo-gallery")||Q.target.closest(".actions-menu")||Q.target.closest('.button--icon img[alt="Действия"]')||_(t.id)},children:[E.jsx("td",{className:`form__receipt-number ${v?"table__cell--expanded":"table__cell--collapsed"}`,children:t.id}),E.jsx("td",{className:`table__td--service-name ${v?"table__cell--expanded":"table__cell--collapsed"}`,children:E.jsx("span",{children:t.name||"-"})}),E.jsx("td",{className:v?"table__cell--expanded":"table__cell--collapsed",children:t.service_prices?E.jsx("div",{className:"service-prices-container",children:v?E.jsx("div",{className:"service-prices-expanded",children:Object.entries(t.service_prices).map(([Q,re])=>E.jsxs("div",{children:[Q,": ",re,"₽"]},Q))}):E.jsx("div",{className:"service-prices-compact",children:Object.entries(t.service_prices).length>0?E.jsxs(E.Fragment,{children:[Object.entries(t.service_prices)[0][0],":"," ",Object.entries(t.service_prices)[0][1],"₽",Object.entries(t.service_prices).length>1&&E.jsxs("span",{className:"more-prices-indicator",children:["+",Object.entries(t.service_prices).length-1]})]}):"-"})}):"-"}),E.jsx("td",{className:v?"table__cell--expanded":"table__cell--collapsed",children:t.note||"-"}),E.jsxs("td",{className:"form__buttons",children:[E.jsxs("div",{className:"table__buttons",onClick:Q=>Q.stopPropagation(),children:[E.jsx("button",{className:"button button--icon",onClick:Q=>{Q.stopPropagation(),T(t.id)},ref:B,title:"Действия",children:E.jsx("img",{src:`/documents/icons/icon--more-${g}.svg`,alt:"Действия"})}),O&&E.jsxs("div",{className:"actions-menu",style:{position:"absolute",...R(B.current),right:32,zIndex:1e3},children:[E.jsx("button",{className:"button button--icon",onClick:()=>{d(t),T(null)},title:"Редактировать",children:E.jsx("img",{src:`/documents/icons/icon--edit-${g}.svg`,alt:"Редактировать"})}),t.photo_paths&&t.photo_paths.length>0&&E.jsx("button",{className:"button button--icon",onClick:Q=>{Q.stopPropagation(),P(!0),T(null)},disabled:!t.photo_paths||t.photo_paths.length===0,title:"Просмотреть фото",children:E.jsx("img",{src:`/documents/icons/icon--photo-${g}.svg`,alt:"Просмотреть фото"})})]})]}),S&&E.jsx(w0,{photoPaths:t.photo_paths,supabase:e,bucket:"service-photos",onClose:()=>P(!1)})]})]})}),VN=({items:t,onChange:e,onAdd:n,onRemove:r,invalidItems:i=[]})=>E.jsxs("div",{className:"price-editor",children:[t.map(s=>{const l=i.includes(s.id),c=`option-${s.id}`,f=`option-price-${s.id}`;return E.jsxs("div",{className:`price-editor__row ${l?"price-editor__row--invalid":""}`,children:[E.jsx("input",{id:c,type:"text",value:s.duration,onChange:d=>e(s.id,"duration",d.target.value),placeholder:"Опция",className:"form__input"}),E.jsx("input",{id:f,type:"text",inputMode:"numeric",pattern:"[0-9]*",value:s.price,onChange:d=>e(s.id,"price",d.target.value),placeholder:"Цена",className:"form__input",min:"0"}),E.jsx("button",{type:"button",className:"button button--secondary",onClick:()=>r(s.id),children:"Удалить"})]},s.id)}),E.jsx("button",{type:"button",className:"button button--secondary",onClick:n,children:"+ Вариант"})]}),YN=({supabase:t,activeTheme:e})=>{const[n,r]=se.useState([]),[i,s]=se.useState(!1),[l,c]=se.useState(""),[f,d]=se.useState(""),[h,m]=se.useState(null),[g,v]=se.useState({}),[_,C]=se.useState([]),[T,S]=se.useState([]),[P,L]=se.useState(null),[I,j]=se.useState(null),N=A=>{d(A.target.value)},B=()=>{d("")},D=se.useCallback(A=>{A.key==="Escape"&&B()},[]),O=se.useCallback(async()=>{s(!0);try{const{data:A,error:R}=await t.from("services").select("*").order("id",{ascending:!1});if(R)throw R;r(A)}catch(A){c("Не удалось загрузить список услуг"),console.error("Ошибка загрузки услуг:",A)}finally{s(!1)}},[t]);se.useEffect(()=>{t&&O()},[t,O]);const V=se.useCallback(A=>{L(R=>R===A?null:A)},[]),$=se.useMemo(()=>{let A=n||[];if(f.trim()){const R=f.toLowerCase().trim();A=A.filter(Q=>{var re,F;return((re=Q.name)==null?void 0:re.toLowerCase().includes(R))||((F=Q.note)==null?void 0:F.toLowerCase().includes(R))})}return A},[f,n]),J=se.useCallback(async()=>{try{const{data:A,error:R}=await t.from("services").insert([{name:"Новая услуга",purchase_price:0,service_prices:{},note:""}]).select();if(R)throw R;return await O(),A[0]}catch(A){throw console.error("Ошибка при создании услуги:",A),A}},[t,O]),ce=se.useCallback(async(A,R)=>{var Q,re;C(F=>[...F,A]);try{((Q=R.photosToDelete)==null?void 0:Q.length)>0&&await t.storage.from("service-photos").remove(R.photosToDelete);let F=[];((re=R.newPhotos)==null?void 0:re.length)>0&&(F=await Promise.all(R.newPhotos.map(async K=>{const U=K.name.split(".").pop(),M=`${Gs()}.${U}`,H=`service-photos/${A}/${M}`,{error:oe}=await t.storage.from("service-photos").upload(H,K,{cacheControl:"3600",upsert:!1});if(oe)throw oe;return H})));const de={name:R.name,purchase_price:R.purchase_price||0,note:R.note||"",service_prices:R.service_prices||{},photo_paths:[...(R.photo_paths||[]).filter(K=>{var U;return!((U=R.photosToDelete)!=null&&U.includes(K))}),...F]},{error:ae}=await t.from("services").update(de).eq("id",A);if(ae)throw ae;return await O(),!0}catch(F){return alert("Ошибка при обновлении данных: "+F.message),!1}finally{C(F=>F.filter(de=>de!==A))}},[t,O]),Y=se.useCallback(async A=>{if(window.confirm("Вы уверены, что хотите удалить эту услугу?")){S(R=>[...R,A]);try{const{data:R,error:Q}=await t.from("services").select("photo_paths").eq("id",A).single();if(Q)throw Q;const re=R.photo_paths||[];if(re.length>0){const{error:de}=await t.storage.from("service-photos").remove(re);if(de)throw de}const{error:F}=await t.from("services").delete().eq("id",A);if(F)throw F;await O()}catch(R){console.error("Ошибка при удалении:",R),alert("Ошибка при удалении: "+R.message)}finally{S(R=>R.filter(Q=>Q!==A))}}},[t,O]),k=se.useCallback(A=>{m(A.id),v({...A,service_prices:A.service_prices||{}})},[]);return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"table__settings table__settings--services",children:[E.jsx("button",{className:"button button--main",onClick:J,disabled:i,title:i?"Загрузка данных...":"",children:"+ Новая услуга"}),E.jsxs("div",{className:"search-container search-container--services",children:[E.jsx("input",{id:"search-services",name:"search-services",className:"form__input form__input--search",type:"text",placeholder:"Поиск по наименованию или заметке",autoComplete:"off",value:f,onChange:N,onKeyDown:D}),f&&E.jsx("button",{className:"clear-search-button",onClick:B,title:"Очистить",children:"⨯"})]})]}),E.jsx("div",{className:"error",children:l}),i?E.jsx("div",{className:"loader-container",children:E.jsx("div",{className:"loader"})}):$.length===0?E.jsxs("div",{className:"table__empty",children:[E.jsx("img",{src:`/documents/icons/icon--empty-${e}.svg`,alt:"Нет данных",className:"no-data-icon",width:"128"}),E.jsx("div",{children:"Услуг не найдено"})]}):E.jsx("div",{className:"table-container",children:E.jsxs("table",{className:"table table--services",cellSpacing:"0",cellPadding:"0",children:[E.jsx("thead",{className:"table__row-sticky",children:E.jsxs("tr",{children:[E.jsx("th",{children:"#"}),E.jsx("th",{className:"table__th--name",children:"Наименование"}),E.jsx("th",{children:"Прайс"}),E.jsx("th",{children:"Заметка"}),E.jsx("th",{className:"table__td--actions"})]})}),E.jsx("tbody",{children:$.map(A=>E.jsx($N,{item:A,supabase:t,editingId:h,editedData:g,setEditedData:v,updatingIds:_,deletingIds:T,onSave:ce,onCancel:()=>m(null),onEdit:k,onDelete:Y,setEditingId:m,activeTheme:e,isExpanded:P===A.id,onToggleExpand:V,onMenuToggle:R=>j(R===I?null:R),isMenuOpen:I===A.id},`${A.id}-${h===A.id?"editing":"view"}`))})]})})]})},XN=({supabase:t,activeTheme:e,salesUpdated:n})=>{const[r,i]=se.useState([]),[s,l]=se.useState(!0),c=se.useCallback(async()=>{try{const{data:f,error:d}=await t.from("sales").select("*").order("created_at",{ascending:!1});if(d)throw d;i(f)}catch(f){console.error("Ошибка загрузки продаж:",f)}finally{l(!1)}},[t]);return se.useEffect(()=>{t&&c()},[t,c,n]),s?E.jsx("div",{className:"loader-container",children:E.jsx("div",{className:"loader"})}):E.jsx("div",{className:"table-container",children:E.jsxs("table",{className:"table",cellSpacing:"0",cellPadding:"0",children:[E.jsx("thead",{className:"table__row-sticky",children:E.jsxs("tr",{children:[E.jsx("th",{className:"table--sales__td--number",children:"#"}),E.jsx("th",{children:"Продажа"}),E.jsx("th",{children:"Сумма, ₽"}),E.jsx("th",{children:"Дата продажи"})]})}),E.jsx("tbody",{children:r.map(f=>E.jsxs("tr",{children:[E.jsx("td",{children:f.sale_number}),E.jsx("td",{children:E.jsx("ol",{className:"table__ol",children:f.items.map((d,h)=>E.jsxs("li",{children:[d.object," - ",d.quantity," шт. ×",d.discount>0?E.jsxs(E.Fragment,{children:[E.jsxs("span",{style:{textDecoration:"line-through"},children:[d.sale_price," ₽"]})," ",Math.round(d.sale_price*(1-d.discount/100))," ","₽",d.discount>0&&` (${d.discount}% скидка)`]}):`${d.sale_price} ₽`]},h))})}),E.jsx("td",{children:f.total_amount}),E.jsx("td",{children:new Date(f.created_at).toLocaleDateString()})]},f.id))})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function cc(t){return t+.5|0}const Wa=(t,e,n)=>Math.max(Math.min(t,n),e);function Mu(t){return Wa(cc(t*2.55),0,255)}function Ja(t){return Wa(cc(t*255),0,255)}function ua(t){return Wa(cc(t/2.55)/100,0,1)}function N1(t){return Wa(cc(t*100),0,100)}const ri={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ig=[..."0123456789ABCDEF"],GN=t=>Ig[t&15],WN=t=>Ig[(t&240)>>4]+Ig[t&15],Lf=t=>(t&240)>>4===(t&15),ZN=t=>Lf(t.r)&&Lf(t.g)&&Lf(t.b)&&Lf(t.a);function KN(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ri[t[1]]*17,g:255&ri[t[2]]*17,b:255&ri[t[3]]*17,a:e===5?ri[t[4]]*17:255}:(e===7||e===9)&&(n={r:ri[t[1]]<<4|ri[t[2]],g:ri[t[3]]<<4|ri[t[4]],b:ri[t[5]]<<4|ri[t[6]],a:e===9?ri[t[7]]<<4|ri[t[8]]:255})),n}const QN=(t,e)=>t<255?e(t):"";function JN(t){var e=ZN(t)?GN:WN;return t?"#"+e(t.r)+e(t.g)+e(t.b)+QN(t.a,e):void 0}const ek=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function jS(t,e,n){const r=e*Math.min(n,1-n),i=(s,l=(s+t/30)%12)=>n-r*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function tk(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function nk(t,e,n){const r=jS(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function rk(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function S0(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),l=Math.min(n,r,i),c=(s+l)/2;let f,d,h;return s!==l&&(h=s-l,d=c>.5?h/(2-s-l):h/(s+l),f=rk(n,r,i,h,s),f=f*60+.5),[f|0,d||0,c]}function E0(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Ja)}function A0(t,e,n){return E0(jS,t,e,n)}function ik(t,e,n){return E0(nk,t,e,n)}function ak(t,e,n){return E0(tk,t,e,n)}function LS(t){return(t%360+360)%360}function sk(t){const e=ek.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Mu(+e[5]):Ja(+e[5]));const i=LS(+e[2]),s=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=ik(i,s,l):e[1]==="hsv"?r=ak(i,s,l):r=A0(i,s,l),{r:r[0],g:r[1],b:r[2],a:n}}function ok(t,e){var n=S0(t);n[0]=LS(n[0]+e),n=A0(n),t.r=n[0],t.g=n[1],t.b=n[2]}function lk(t){if(!t)return;const e=S0(t),n=e[0],r=N1(e[1]),i=N1(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${ua(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const k1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},M1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function uk(){const t={},e=Object.keys(M1),n=Object.keys(k1);let r,i,s,l,c;for(r=0;r<e.length;r++){for(l=c=e[r],i=0;i<n.length;i++)s=n[i],c=c.replace(s,k1[s]);s=parseInt(M1[l],16),t[c]=[s>>16&255,s>>8&255,s&255]}return t}let Pf;function ck(t){Pf||(Pf=uk(),Pf.transparent=[0,0,0,0]);const e=Pf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const fk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function dk(t){const e=fk.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const l=+e[7];n=e[8]?Mu(l):Wa(l*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Mu(r):Wa(r,0,255)),i=255&(e[4]?Mu(i):Wa(i,0,255)),s=255&(e[6]?Mu(s):Wa(s,0,255)),{r,g:i,b:s,a:n}}}function hk(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ua(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const sg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Zo=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function pk(t,e,n){const r=Zo(ua(t.r)),i=Zo(ua(t.g)),s=Zo(ua(t.b));return{r:Ja(sg(r+n*(Zo(ua(e.r))-r))),g:Ja(sg(i+n*(Zo(ua(e.g))-i))),b:Ja(sg(s+n*(Zo(ua(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Bf(t,e,n){if(t){let r=S0(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=A0(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function PS(t,e){return t&&Object.assign(e||{},t)}function j1(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ja(t[3]))):(e=PS(t,{r:0,g:0,b:0,a:1}),e.a=Ja(e.a)),e}function mk(t){return t.charAt(0)==="r"?dk(t):sk(t)}class Ku{constructor(e){if(e instanceof Ku)return e;const n=typeof e;let r;n==="object"?r=j1(e):n==="string"&&(r=KN(e)||ck(e)||mk(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=PS(this._rgb);return e&&(e.a=ua(e.a)),e}set rgb(e){this._rgb=j1(e)}rgbString(){return this._valid?hk(this._rgb):void 0}hexString(){return this._valid?JN(this._rgb):void 0}hslString(){return this._valid?lk(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const l=n===s?.5:n,c=2*l-1,f=r.a-i.a,d=((c*f===-1?c:(c+f)/(1+c*f))+1)/2;s=1-d,r.r=255&d*r.r+s*i.r+.5,r.g=255&d*r.g+s*i.g+.5,r.b=255&d*r.b+s*i.b+.5,r.a=l*r.a+(1-l)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=pk(this._rgb,e._rgb,n)),this}clone(){return new Ku(this.rgb)}alpha(e){return this._rgb.a=Ja(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=cc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Bf(this._rgb,2,e),this}darken(e){return Bf(this._rgb,2,-e),this}saturate(e){return Bf(this._rgb,1,e),this}desaturate(e){return Bf(this._rgb,1,-e),this}rotate(e){return ok(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function aa(){}const gk=(()=>{let t=0;return()=>t++})();function un(t){return t==null}function Yn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function en(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ai(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Oi(t,e){return ai(t)?t:e}function $t(t,e){return typeof t>"u"?e:t}const vk=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,BS=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function An(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function hn(t,e,n,r){let i,s,l;if(Yn(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(en(t))for(l=Object.keys(t),s=l.length,i=0;i<s;i++)e.call(n,t[l[i]],l[i])}function wd(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Sd(t){if(Yn(t))return t.map(Sd);if(en(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Sd(t[n[i]]);return e}return t}function IS(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function yk(t,e,n,r){if(!IS(t))return;const i=e[t],s=n[t];en(i)&&en(s)?Qu(i,s,r):e[t]=Sd(s)}function Qu(t,e,n){const r=Yn(e)?e:[e],i=r.length;if(!en(t))return t;n=n||{};const s=n.merger||yk;let l;for(let c=0;c<i;++c){if(l=r[c],!en(l))continue;const f=Object.keys(l);for(let d=0,h=f.length;d<h;++d)s(f[d],t,l,n)}return t}function qu(t,e){return Qu(t,e,{merger:bk})}function bk(t,e,n){if(!IS(t))return;const r=e[t],i=n[t];en(r)&&en(i)?qu(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Sd(i))}const L1={"":t=>t,x:t=>t.x,y:t=>t.y};function _k(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function xk(t){const e=_k(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Ws(t,e){return(L1[e]||(L1[e]=xk(e)))(t)}function C0(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ju=t=>typeof t<"u",ts=t=>typeof t=="function",P1=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function wk(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ln=Math.PI,Mn=2*Ln,Sk=Mn+Ln,Ed=Number.POSITIVE_INFINITY,Ek=Ln/180,Xn=Ln/2,ks=Ln/4,B1=Ln*2/3,US=Math.log10,Ii=Math.sign;function Hu(t,e,n){return Math.abs(t-e)<n}function I1(t){const e=Math.round(t);t=Hu(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(US(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Ak(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function Ck(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ec(t){return!Ck(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Tk(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Dk(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ca(t){return t*(Ln/180)}function Ok(t){return t*(180/Ln)}function U1(t){if(!ai(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function zS(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Ln&&(s+=Mn),{angle:s,distance:i}}function Ug(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Rk(t,e){return(t-e+Sk)%Mn-Ln}function Ya(t){return(t%Mn+Mn)%Mn}function tc(t,e,n,r){const i=Ya(t),s=Ya(e),l=Ya(n),c=Ya(s-i),f=Ya(l-i),d=Ya(i-s),h=Ya(i-l);return i===s||i===l||r&&s===l||c>f&&d<h}function gr(t,e,n){return Math.max(e,Math.min(n,t))}function Nk(t){return gr(t,-32768,32767)}function Za(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function T0(t,e,n){n=n||(l=>t[l]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const zs=(t,e,n,r)=>T0(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),kk=(t,e,n)=>T0(t,n,r=>t[r][e]>=n);function Mk(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const FS=["push","pop","shift","splice","unshift"];function jk(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),FS.forEach(n=>{const r="_onData"+C0(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const l=i.apply(this,s);return t._chartjs.listeners.forEach(c=>{typeof c[r]=="function"&&c[r](...s)}),l}})})}function z1(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(FS.forEach(s=>{delete t[s]}),delete t._chartjs)}function qS(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const HS=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function $S(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,HS.call(window,()=>{r=!1,t.apply(e,n)}))}}function Lk(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const D0=t=>t==="start"?"left":t==="end"?"right":"center",mr=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Pk=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function Bk(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:l,vScale:c,_parsed:f}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=l.axis,{min:m,max:g,minDefined:v,maxDefined:_}=l.getUserBounds();if(v){if(i=Math.min(zs(f,h,m).lo,n?r:zs(e,h,l.getPixelForValue(m)).lo),d){const C=f.slice(0,i+1).reverse().findIndex(T=>!un(T[c.axis]));i-=Math.max(0,C)}i=gr(i,0,r-1)}if(_){let C=Math.max(zs(f,l.axis,g,!0).hi+1,n?0:zs(e,h,l.getPixelForValue(g),!0).hi+1);if(d){const T=f.slice(C-1).findIndex(S=>!un(S[c.axis]));C+=Math.max(0,T)}s=gr(C,i,r)-i}else s=r-i}return{start:i,count:s}}function Ik(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const If=t=>t===0||t===1,F1=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Mn/n)),q1=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Mn/n)+1,$u={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Xn)+1,easeOutSine:t=>Math.sin(t*Xn),easeInOutSine:t=>-.5*(Math.cos(Ln*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>If(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>If(t)?t:F1(t,.075,.3),easeOutElastic:t=>If(t)?t:q1(t,.075,.3),easeInOutElastic(t){return If(t)?t:t<.5?.5*F1(t*2,.1125,.45):.5+.5*q1(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-$u.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?$u.easeInBounce(t*2)*.5:$u.easeOutBounce(t*2-1)*.5+.5};function O0(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function H1(t){return O0(t)?t:new Ku(t)}function og(t){return O0(t)?t:new Ku(t).saturate(.5).darken(.1).hexString()}const Uk=["x","y","borderWidth","radius","tension"],zk=["color","borderColor","backgroundColor"];function Fk(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:zk},numbers:{type:"number",properties:Uk}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function qk(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const $1=new Map;function Hk(t,e){e=e||{};const n=t+JSON.stringify(e);let r=$1.get(n);return r||(r=new Intl.NumberFormat(t,e),$1.set(n,r)),r}function R0(t,e,n){return Hk(e,n).format(t)}const $k={values(t){return Yn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),s=Vk(t,n)}const l=US(Math.abs(s)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:i,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(f,this.options.ticks.format),R0(t,r,f)}};function Vk(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var VS={formatters:$k};function Yk(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:VS.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Zs=Object.create(null),zg=Object.create(null);function Vu(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function lg(t,e,n){return typeof e=="string"?Qu(Vu(t,e),n):Qu(Vu(t,""),e)}class Xk{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>og(i.backgroundColor),this.hoverBorderColor=(r,i)=>og(i.borderColor),this.hoverColor=(r,i)=>og(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return lg(this,e,n)}get(e){return Vu(this,e)}describe(e,n){return lg(zg,e,n)}override(e,n){return lg(Zs,e,n)}route(e,n,r,i){const s=Vu(this,e),l=Vu(this,r),c="_"+n;Object.defineProperties(s,{[c]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[c],d=l[i];return en(f)?Object.assign({},d,f):$t(f,d)},set(f){this[c]=f}}})}apply(e){e.forEach(n=>n(this))}}var In=new Xk({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Fk,qk,Yk]);function Gk(t){return!t||un(t.size)||un(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function V1(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function Ms(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function Y1(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Fg(t,e,n,r){YS(t,e,n,r,null)}function YS(t,e,n,r,i){let s,l,c,f,d,h,m,g;const v=e.pointStyle,_=e.rotation,C=e.radius;let T=(_||0)*Ek;if(v&&typeof v=="object"&&(s=v.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(T),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(C)||C<=0)){switch(t.beginPath(),v){default:i?t.ellipse(n,r,i/2,C,0,0,Mn):t.arc(n,r,C,0,Mn),t.closePath();break;case"triangle":h=i?i/2:C,t.moveTo(n+Math.sin(T)*h,r-Math.cos(T)*C),T+=B1,t.lineTo(n+Math.sin(T)*h,r-Math.cos(T)*C),T+=B1,t.lineTo(n+Math.sin(T)*h,r-Math.cos(T)*C),t.closePath();break;case"rectRounded":d=C*.516,f=C-d,l=Math.cos(T+ks)*f,m=Math.cos(T+ks)*(i?i/2-d:f),c=Math.sin(T+ks)*f,g=Math.sin(T+ks)*(i?i/2-d:f),t.arc(n-m,r-c,d,T-Ln,T-Xn),t.arc(n+g,r-l,d,T-Xn,T),t.arc(n+m,r+c,d,T,T+Xn),t.arc(n-g,r+l,d,T+Xn,T+Ln),t.closePath();break;case"rect":if(!_){f=Math.SQRT1_2*C,h=i?i/2:f,t.rect(n-h,r-f,2*h,2*f);break}T+=ks;case"rectRot":m=Math.cos(T)*(i?i/2:C),l=Math.cos(T)*C,c=Math.sin(T)*C,g=Math.sin(T)*(i?i/2:C),t.moveTo(n-m,r-c),t.lineTo(n+g,r-l),t.lineTo(n+m,r+c),t.lineTo(n-g,r+l),t.closePath();break;case"crossRot":T+=ks;case"cross":m=Math.cos(T)*(i?i/2:C),l=Math.cos(T)*C,c=Math.sin(T)*C,g=Math.sin(T)*(i?i/2:C),t.moveTo(n-m,r-c),t.lineTo(n+m,r+c),t.moveTo(n+g,r-l),t.lineTo(n-g,r+l);break;case"star":m=Math.cos(T)*(i?i/2:C),l=Math.cos(T)*C,c=Math.sin(T)*C,g=Math.sin(T)*(i?i/2:C),t.moveTo(n-m,r-c),t.lineTo(n+m,r+c),t.moveTo(n+g,r-l),t.lineTo(n-g,r+l),T+=ks,m=Math.cos(T)*(i?i/2:C),l=Math.cos(T)*C,c=Math.sin(T)*C,g=Math.sin(T)*(i?i/2:C),t.moveTo(n-m,r-c),t.lineTo(n+m,r+c),t.moveTo(n+g,r-l),t.lineTo(n-g,r+l);break;case"line":l=i?i/2:Math.cos(T)*C,c=Math.sin(T)*C,t.moveTo(n-l,r-c),t.lineTo(n+l,r+c);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(T)*(i?i/2:C),r+Math.sin(T)*C);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function nc(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function N0(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function k0(t){t.restore()}function Wk(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Zk(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Kk(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),un(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Qk(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),l=e-s.actualBoundingBoxLeft,c=e+s.actualBoundingBoxRight,f=n-s.actualBoundingBoxAscent,d=n+s.actualBoundingBoxDescent,h=i.strikethrough?(f+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(l,h),t.lineTo(c,h),t.stroke()}}function Jk(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function rc(t,e,n,r,i,s={}){const l=Yn(e)?e:[e],c=s.strokeWidth>0&&s.strokeColor!=="";let f,d;for(t.save(),t.font=i.string,Kk(t,s),f=0;f<l.length;++f)d=l[f],s.backdrop&&Jk(t,s.backdrop),c&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),un(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(d,n,r,s.maxWidth)),t.fillText(d,n,r,s.maxWidth),Qk(t,n,r,d,s),r+=Number(i.lineHeight);t.restore()}function Ad(t,e){const{x:n,y:r,w:i,h:s,radius:l}=e;t.arc(n+l.topLeft,r+l.topLeft,l.topLeft,1.5*Ln,Ln,!0),t.lineTo(n,r+s-l.bottomLeft),t.arc(n+l.bottomLeft,r+s-l.bottomLeft,l.bottomLeft,Ln,Xn,!0),t.lineTo(n+i-l.bottomRight,r+s),t.arc(n+i-l.bottomRight,r+s-l.bottomRight,l.bottomRight,Xn,0,!0),t.lineTo(n+i,r+l.topRight),t.arc(n+i-l.topRight,r+l.topRight,l.topRight,0,-Xn,!0),t.lineTo(n+l.topLeft,r)}const eM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,tM=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function nM(t,e){const n=(""+t).match(eM);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const rM=t=>+t||0;function M0(t,e){const n={},r=en(e),i=r?Object.keys(e):e,s=en(t)?r?l=>$t(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of i)n[l]=rM(s(l));return n}function XS(t){return M0(t,{top:"y",right:"x",bottom:"y",left:"x"})}function il(t){return M0(t,["topLeft","topRight","bottomLeft","bottomRight"])}function si(t){const e=XS(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function vr(t,e){t=t||{},e=e||In.font;let n=$t(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=$t(t.style,e.style);r&&!(""+r).match(tM)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:$t(t.family,e.family),lineHeight:nM($t(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:$t(t.weight,e.weight),string:""};return i.string=Gk(i),i}function Uf(t,e,n,r){let i,s,l;for(i=0,s=t.length;i<s;++i)if(l=t[i],l!==void 0&&l!==void 0)return l}function iM(t,e,n){const{min:r,max:i}=t,s=BS(e,(i-r)/2),l=(c,f)=>n&&c===0?0:c+f;return{min:l(r,-Math.abs(s)),max:l(i,s)}}function Js(t,e){return Object.assign(Object.create(t),e)}function j0(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=KS("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:c=>j0([c,...t],e,s,r)};return new Proxy(l,{deleteProperty(c,f){return delete c[f],delete c._keys,delete t[0][f],!0},get(c,f){return WS(c,f,()=>dM(f,e,t,c))},getOwnPropertyDescriptor(c,f){return Reflect.getOwnPropertyDescriptor(c._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,f){return G1(c).includes(f)},ownKeys(c){return G1(c)},set(c,f,d){const h=c._storage||(c._storage=i());return c[f]=h[f]=d,delete c._keys,!0}})}function fl(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:GS(t,r),setContext:s=>fl(t,s,n,r),override:s=>fl(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,l){return delete s[l],delete t[l],!0},get(s,l,c){return WS(s,l,()=>sM(s,l,c))},getOwnPropertyDescriptor(s,l){return s._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(s,l,c){return t[l]=c,delete s[l],!0}})}function GS(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:ts(n)?n:()=>n,isIndexable:ts(r)?r:()=>r}}const aM=(t,e)=>t?t+C0(e):e,L0=(t,e)=>en(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function WS(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function sM(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:l}=t;let c=r[e];return ts(c)&&l.isScriptable(e)&&(c=oM(e,c,t,n)),Yn(c)&&c.length&&(c=lM(e,c,t,l.isIndexable)),L0(e,c)&&(c=fl(c,i,s&&s[e],l)),c}function oM(t,e,n,r){const{_proxy:i,_context:s,_subProxy:l,_stack:c}=n;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let f=e(s,l||r);return c.delete(t),L0(t,f)&&(f=P0(i._scopes,i,t,f)),f}function lM(t,e,n,r){const{_proxy:i,_context:s,_subProxy:l,_descriptors:c}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(en(e[0])){const f=e,d=i._scopes.filter(h=>h!==f);e=[];for(const h of f){const m=P0(d,i,t,h);e.push(fl(m,s,l&&l[t],c))}}return e}function ZS(t,e,n){return ts(t)?t(e,n):t}const uM=(t,e)=>t===!0?e:typeof t=="string"?Ws(e,t):void 0;function cM(t,e,n,r,i){for(const s of e){const l=uM(n,s);if(l){t.add(l);const c=ZS(l._fallback,n,i);if(typeof c<"u"&&c!==n&&c!==r)return c}else if(l===!1&&typeof r<"u"&&n!==r)return null}return!1}function P0(t,e,n,r){const i=e._rootScopes,s=ZS(e._fallback,n,r),l=[...t,...i],c=new Set;c.add(r);let f=X1(c,l,n,s||n,r);return f===null||typeof s<"u"&&s!==n&&(f=X1(c,l,s,f,r),f===null)?!1:j0(Array.from(c),[""],i,s,()=>fM(e,n,r))}function X1(t,e,n,r,i){for(;n;)n=cM(t,e,n,r,i);return n}function fM(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Yn(i)&&en(n)?n:i||{}}function dM(t,e,n,r){let i;for(const s of e)if(i=KS(aM(s,t),n),typeof i<"u")return L0(t,i)?P0(n,r,t,i):i}function KS(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function G1(t){let e=t._keys;return e||(e=t._keys=hM(t._scopes)),e}function hM(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const pM=Number.EPSILON||1e-14,dl=(t,e)=>e<t.length&&!t[e].skip&&t[e],QS=t=>t==="x"?"y":"x";function mM(t,e,n,r){const i=t.skip?e:t,s=e,l=n.skip?e:n,c=Ug(s,i),f=Ug(l,s);let d=c/(c+f),h=f/(c+f);d=isNaN(d)?0:d,h=isNaN(h)?0:h;const m=r*d,g=r*h;return{previous:{x:s.x-m*(l.x-i.x),y:s.y-m*(l.y-i.y)},next:{x:s.x+g*(l.x-i.x),y:s.y+g*(l.y-i.y)}}}function gM(t,e,n){const r=t.length;let i,s,l,c,f,d=dl(t,0);for(let h=0;h<r-1;++h)if(f=d,d=dl(t,h+1),!(!f||!d)){if(Hu(e[h],0,pM)){n[h]=n[h+1]=0;continue}i=n[h]/e[h],s=n[h+1]/e[h],c=Math.pow(i,2)+Math.pow(s,2),!(c<=9)&&(l=3/Math.sqrt(c),n[h]=i*l*e[h],n[h+1]=s*l*e[h])}}function vM(t,e,n="x"){const r=QS(n),i=t.length;let s,l,c,f=dl(t,0);for(let d=0;d<i;++d){if(l=c,c=f,f=dl(t,d+1),!c)continue;const h=c[n],m=c[r];l&&(s=(h-l[n])/3,c[`cp1${n}`]=h-s,c[`cp1${r}`]=m-s*e[d]),f&&(s=(f[n]-h)/3,c[`cp2${n}`]=h+s,c[`cp2${r}`]=m+s*e[d])}}function yM(t,e="x"){const n=QS(e),r=t.length,i=Array(r).fill(0),s=Array(r);let l,c,f,d=dl(t,0);for(l=0;l<r;++l)if(c=f,f=d,d=dl(t,l+1),!!f){if(d){const h=d[e]-f[e];i[l]=h!==0?(d[n]-f[n])/h:0}s[l]=c?d?Ii(i[l-1])!==Ii(i[l])?0:(i[l-1]+i[l])/2:i[l-1]:i[l]}gM(t,i,s),vM(t,s,e)}function zf(t,e,n){return Math.max(Math.min(t,n),e)}function bM(t,e){let n,r,i,s,l,c=nc(t[0],e);for(n=0,r=t.length;n<r;++n)l=s,s=c,c=n<r-1&&nc(t[n+1],e),s&&(i=t[n],l&&(i.cp1x=zf(i.cp1x,e.left,e.right),i.cp1y=zf(i.cp1y,e.top,e.bottom)),c&&(i.cp2x=zf(i.cp2x,e.left,e.right),i.cp2y=zf(i.cp2y,e.top,e.bottom)))}function _M(t,e,n,r,i){let s,l,c,f;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")yM(t,i);else{let d=r?t[t.length-1]:t[0];for(s=0,l=t.length;s<l;++s)c=t[s],f=mM(d,c,t[Math.min(s+1,l-(r?0:1))%l],e.tension),c.cp1x=f.previous.x,c.cp1y=f.previous.y,c.cp2x=f.next.x,c.cp2y=f.next.y,d=c}e.capBezierPoints&&bM(t,n)}function B0(){return typeof window<"u"&&typeof document<"u"}function I0(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Cd(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const zd=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function xM(t,e){return zd(t).getPropertyValue(e)}const wM=["top","right","bottom","left"];function Hs(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=wM[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const SM=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function EM(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let l=!1,c,f;if(SM(i,s,t.target))c=i,f=s;else{const d=e.getBoundingClientRect();c=r.clientX-d.left,f=r.clientY-d.top,l=!0}return{x:c,y:f,box:l}}function Ps(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=zd(n),s=i.boxSizing==="border-box",l=Hs(i,"padding"),c=Hs(i,"border","width"),{x:f,y:d,box:h}=EM(t,n),m=l.left+(h&&c.left),g=l.top+(h&&c.top);let{width:v,height:_}=e;return s&&(v-=l.width+c.width,_-=l.height+c.height),{x:Math.round((f-m)/v*n.width/r),y:Math.round((d-g)/_*n.height/r)}}function AM(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&I0(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const l=s.getBoundingClientRect(),c=zd(s),f=Hs(c,"border","width"),d=Hs(c,"padding");e=l.width-d.width-f.width,n=l.height-d.height-f.height,r=Cd(c.maxWidth,s,"clientWidth"),i=Cd(c.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||Ed,maxHeight:i||Ed}}const Ff=t=>Math.round(t*10)/10;function CM(t,e,n,r){const i=zd(t),s=Hs(i,"margin"),l=Cd(i.maxWidth,t,"clientWidth")||Ed,c=Cd(i.maxHeight,t,"clientHeight")||Ed,f=AM(t,e,n);let{width:d,height:h}=f;if(i.boxSizing==="content-box"){const g=Hs(i,"border","width"),v=Hs(i,"padding");d-=v.width+g.width,h-=v.height+g.height}return d=Math.max(0,d-s.width),h=Math.max(0,r?d/r:h-s.height),d=Ff(Math.min(d,l,f.maxWidth)),h=Ff(Math.min(h,c,f.maxHeight)),d&&!h&&(h=Ff(d/2)),(e!==void 0||n!==void 0)&&r&&f.height&&h>f.height&&(h=f.height,d=Ff(Math.floor(h*r))),{width:d,height:h}}function W1(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const l=t.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||l.height!==i||l.width!==s?(t.currentDevicePixelRatio=r,l.height=i,l.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const TM=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};B0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Z1(t,e){const n=xM(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Bs(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function DM(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function OM(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},l=Bs(t,i,n),c=Bs(i,s,n),f=Bs(s,e,n),d=Bs(l,c,n),h=Bs(c,f,n);return Bs(d,h,n)}const RM=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},NM=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function al(t,e,n){return t?RM(e,n):NM()}function JS(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function eE(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function tE(t){return t==="angle"?{between:tc,compare:Rk,normalize:Ya}:{between:Za,compare:(e,n)=>e-n,normalize:e=>e}}function K1({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function kM(t,e,n){const{property:r,start:i,end:s}=n,{between:l,normalize:c}=tE(r),f=e.length;let{start:d,end:h,loop:m}=t,g,v;if(m){for(d+=f,h+=f,g=0,v=f;g<v&&l(c(e[d%f][r]),i,s);++g)d--,h--;d%=f,h%=f}return h<d&&(h+=f),{start:d,end:h,loop:m,style:t.style}}function MM(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,l=e.length,{compare:c,between:f,normalize:d}=tE(r),{start:h,end:m,loop:g,style:v}=kM(t,e,n),_=[];let C=!1,T=null,S,P,L;const I=()=>f(i,L,S)&&c(i,L)!==0,j=()=>c(s,S)===0||f(s,L,S),N=()=>C||I(),B=()=>!C||j();for(let D=h,O=h;D<=m;++D)P=e[D%l],!P.skip&&(S=d(P[r]),S!==L&&(C=f(S,i,s),T===null&&N()&&(T=c(S,i)===0?D:O),T!==null&&B()&&(_.push(K1({start:T,end:D,loop:g,count:l,style:v})),T=null),O=D,L=S));return T!==null&&_.push(K1({start:T,end:m,loop:g,count:l,style:v})),_}function jM(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=MM(r[i],t.points,e);s.length&&n.push(...s)}return n}function LM(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function PM(t,e,n,r){const i=t.length,s=[];let l=e,c=t[e],f;for(f=e+1;f<=n;++f){const d=t[f%i];d.skip||d.stop?c.skip||(r=!1,s.push({start:e%i,end:(f-1)%i,loop:r}),e=l=d.stop?f:null):(l=f,c.skip&&(e=f)),c=d}return l!==null&&s.push({start:e%i,end:l%i,loop:r}),s}function BM(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:l,end:c}=LM(n,i,s,r);if(r===!0)return Q1(t,[{start:l,end:c,loop:s}],n,e);const f=c<l?c+i:c,d=!!t._fullLoop&&l===0&&c===i-1;return Q1(t,PM(n,l,f,d),n,e)}function Q1(t,e,n,r){return!r||!r.setContext||!n?e:IM(t,e,n,r)}function IM(t,e,n,r){const i=t._chart.getContext(),s=J1(t.options),{_datasetIndex:l,options:{spanGaps:c}}=t,f=n.length,d=[];let h=s,m=e[0].start,g=m;function v(_,C,T,S){const P=c?-1:1;if(_!==C){for(_+=f;n[_%f].skip;)_-=P;for(;n[C%f].skip;)C+=P;_%f!==C%f&&(d.push({start:_%f,end:C%f,loop:T,style:S}),h=S,m=C%f)}}for(const _ of e){m=c?m:_.start;let C=n[m%f],T;for(g=m+1;g<=_.end;g++){const S=n[g%f];T=J1(r.setContext(Js(i,{type:"segment",p0:C,p1:S,p0DataIndex:(g-1)%f,p1DataIndex:g%f,datasetIndex:l}))),UM(T,h)&&v(m,g-1,_.loop,h),C=S,h=T}m<g-1&&v(m,g-1,_.loop,h)}return d}function J1(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function UM(t,e){if(!e)return!1;const n=[],r=function(i,s){return O0(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function qf(t,e,n){return t.options.clip?t[n]:e[n]}function zM(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:qf(n,e,"left"),right:qf(n,e,"right"),top:qf(r,e,"top"),bottom:qf(r,e,"bottom")}:e}function FM(t,e){const n=e._clip;if(n.disabled)return!1;const r=zM(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class qM{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],l=n.duration;s.forEach(c=>c({chart:e,initial:n.initial,numSteps:l,currentStep:Math.min(r-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=HS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let l=s.length-1,c=!1,f;for(;l>=0;--l)f=s[l],f._active?(f._total>r.duration&&(r.duration=f._total),f.tick(e),c=!0):(s[l]=s[s.length-1],s.pop());c&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var sa=new qM;const ex="transparent",HM={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=H1(t||ex),i=r.valid&&H1(e||ex);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class $M{constructor(e,n,r,i){const s=n[r];i=Uf([e.to,i,s,e.from]);const l=Uf([e.from,s,i]);this._active=!0,this._fn=e.fn||HM[e.type||typeof l],this._easing=$u[e.easing]||$u.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,l=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Uf([e.to,n,i,e.from]),this._from=Uf([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,l=this._loop,c=this._to;let f;if(this._active=s!==c&&(l||n<r),!this._active){this._target[i]=c,this._notify(!0);return}if(n<0){this._target[i]=s;return}f=n/r%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[i]=this._fn(s,c,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class nE{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!en(e))return;const n=Object.keys(In.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!en(s))return;const l={};for(const c of n)l[c]=s[c];(Yn(s.properties)&&s.properties||[i]).forEach(c=>{(c===i||!r.has(c))&&r.set(c,l)})})}_animateOptions(e,n){const r=n.options,i=YM(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&VM(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),l=Object.keys(n),c=Date.now();let f;for(f=l.length-1;f>=0;--f){const d=l[f];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(e,n));continue}const h=n[d];let m=s[d];const g=r.get(d);if(m)if(g&&m.active()){m.update(g,h,c);continue}else m.cancel();if(!g||!g.duration){e[d]=h;continue}s[d]=m=new $M(g,e,d,h),i.push(m)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return sa.add(this._chart,r),!0}}function VM(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function YM(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function tx(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function XM(t,e,n){if(n===!1)return!1;const r=tx(t,n),i=tx(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function GM(t){let e,n,r,i;return en(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function rE(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function nx(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let l,c,f,d;if(e===null)return;let h=!1;for(l=0,c=i.length;l<c;++l){if(f=+i[l],f===n){if(h=!0,r.all)continue;break}d=t.values[f],ai(d)&&(s||e===0||Ii(e)===Ii(d))&&(e+=d)}return!h&&!r.all?0:e}function WM(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",l=Object.keys(t),c=new Array(l.length);let f,d,h;for(f=0,d=l.length;f<d;++f)h=l[f],c[f]={[i]:h,[s]:t[h]};return c}function ug(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function ZM(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function KM(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function QM(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function rx(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function ix(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:l,index:c}=r,f=s.axis,d=l.axis,h=ZM(s,l,r),m=e.length;let g;for(let v=0;v<m;++v){const _=e[v],{[f]:C,[d]:T}=_,S=_._stacks||(_._stacks={});g=S[d]=QM(i,h,C),g[c]=T,g._top=rx(g,l,!0,r.type),g._bottom=rx(g,l,!1,r.type);const P=g._visualValues||(g._visualValues={});P[c]=T}}function cg(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function JM(t,e){return Js(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function ej(t,e,n){return Js(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Eu(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const fg=t=>t==="reset"||t==="none",ax=(t,e)=>e?t:Object.assign({},t),tj=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:rE(n,!0),values:null};class $s{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ug(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Eu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(m,g,v,_)=>m==="x"?g:m==="r"?_:v,s=n.xAxisID=$t(r.xAxisID,cg(e,"x")),l=n.yAxisID=$t(r.yAxisID,cg(e,"y")),c=n.rAxisID=$t(r.rAxisID,cg(e,"r")),f=n.indexAxis,d=n.iAxisID=i(f,s,l,c),h=n.vAxisID=i(f,l,s,c);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&z1(this._data,this),e._stacked&&Eu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(en(n)){const i=this._cachedMeta;this._data=WM(n,i)}else if(r!==n){if(r){z1(r,this);const i=this._cachedMeta;Eu(i),i._parsed=[]}n&&Object.isExtensible(n)&&jk(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=ug(n.vScale,n),n.stack!==r.stack&&(i=!0,Eu(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(ix(this,n._parsed),n._stacked=ug(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:l}=r,c=s.axis;let f=e===0&&n===i.length?!0:r._sorted,d=e>0&&r._parsed[e-1],h,m,g;if(this._parsing===!1)r._parsed=i,r._sorted=!0,g=i;else{Yn(i[e])?g=this.parseArrayData(r,i,e,n):en(i[e])?g=this.parseObjectData(r,i,e,n):g=this.parsePrimitiveData(r,i,e,n);const v=()=>m[c]===null||d&&m[c]<d[c];for(h=0;h<n;++h)r._parsed[h+e]=m=g[h],f&&(v()&&(f=!1),d=m);r._sorted=f}l&&ix(this,g)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:l}=e,c=s.axis,f=l.axis,d=s.getLabels(),h=s===l,m=new Array(i);let g,v,_;for(g=0,v=i;g<v;++g)_=g+r,m[g]={[c]:h||s.parse(d[_],_),[f]:l.parse(n[_],_)};return m}parseArrayData(e,n,r,i){const{xScale:s,yScale:l}=e,c=new Array(i);let f,d,h,m;for(f=0,d=i;f<d;++f)h=f+r,m=n[h],c[f]={x:s.parse(m[0],h),y:l.parse(m[1],h)};return c}parseObjectData(e,n,r,i){const{xScale:s,yScale:l}=e,{xAxisKey:c="x",yAxisKey:f="y"}=this._parsing,d=new Array(i);let h,m,g,v;for(h=0,m=i;h<m;++h)g=h+r,v=n[g],d[h]={x:s.parse(Ws(v,c),g),y:l.parse(Ws(v,f),g)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,l=n[e.axis],c={keys:rE(i,!0),values:n._stacks[e.axis]._visualValues};return nx(c,l,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let l=s===null?NaN:s;const c=i&&r._stacks[n.axis];i&&c&&(i.values=c,l=nx(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,l=i.length,c=this._getOtherScale(e),f=tj(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:m}=KM(c);let g,v;function _(){v=i[g];const C=v[c.axis];return!ai(v[e.axis])||h>C||m<C}for(g=0;g<l&&!(!_()&&(this.updateRangeFromParsed(d,e,v,f),s));++g);if(s){for(g=l-1;g>=0;--g)if(!_()){this.updateRangeFromParsed(d,e,v,f);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,l;for(i=0,s=n.length;i<s;++i)l=n[i][e.axis],ai(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=GM($t(this.options.clip,XM(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,l=[],c=this._drawStart||0,f=this._drawCount||i.length-c,d=this.options.drawActiveElementsOnTop;let h;for(r.dataset&&r.dataset.draw(e,s,c,f),h=c;h<c+f;++h){const m=i[h];m.hidden||(m.active&&d?l.push(m):m.draw(e,s))}for(h=0;h<l.length;++h)l[h].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];s=l.$context||(l.$context=ej(this.getContext(),e,l)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=JM(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,l=e+"-"+n,c=s[l],f=this.enableOptionSharing&&Ju(r);if(c)return ax(c,f);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),m=i?[`${e}Hover`,"hover",e,""]:[e,""],g=d.getOptionScopes(this.getDataset(),h),v=Object.keys(In.elements[e]),_=()=>this.getContext(r,i,n),C=d.resolveNamedOptions(g,v,_,m);return C.$shared&&(C.$shared=f,s[l]=Object.freeze(ax(C,f))),C}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,l=`animation-${n}`,c=s[l];if(c)return c;let f;if(i.options.animation!==!1){const h=this.chart.config,m=h.datasetAnimationScopeKeys(this._type,n),g=h.getOptionScopes(this.getDataset(),m);f=h.createResolver(g,this.getContext(e,r,n))}const d=new nE(i,f&&f.animations);return f&&f._cacheable&&(s[l]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||fg(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),l=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:l}}updateElement(e,n,r,i){fg(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!fg(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[c,f,d]of this._syncList)this[c](f,d);this._syncList=[];const i=r.length,s=n.length,l=Math.min(s,i);l&&this.parse(0,l),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,l=e+n;let c;const f=d=>{for(d.length+=n,c=d.length-1;c>=l;c--)d[c]=d[c-n]};for(f(s),c=e;c<l;++c)s[c]=new this.dataElementType;this._parsing&&f(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Eu(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ot($s,"defaults",{}),ot($s,"datasetElementType",null),ot($s,"dataElementType",null);function nj(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=qS(r.sort((i,s)=>i-s))}return t._cache.$bar}function rj(t){const e=t.iScale,n=nj(e,t.type);let r=e._length,i,s,l,c;const f=()=>{l===32767||l===-32768||(Ju(c)&&(r=Math.min(r,Math.abs(l-c)||r)),c=l)};for(i=0,s=n.length;i<s;++i)l=e.getPixelForValue(n[i]),f();for(c=void 0,i=0,s=e.ticks.length;i<s;++i)l=e.getPixelForTick(i),f();return r}function ij(t,e,n,r){const i=n.barThickness;let s,l;return un(i)?(s=e.min*n.categoryPercentage,l=n.barPercentage):(s=i*r,l=1),{chunk:s/r,ratio:l,start:e.pixels[t]-s/2}}function aj(t,e,n,r){const i=e.pixels,s=i[t];let l=t>0?i[t-1]:null,c=t<i.length-1?i[t+1]:null;const f=n.categoryPercentage;l===null&&(l=s-(c===null?e.end-e.start:c-s)),c===null&&(c=s+s-l);const d=s-(s-Math.min(l,c))/2*f;return{chunk:Math.abs(c-l)/2*f/r,ratio:n.barPercentage,start:d}}function sj(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),l=Math.min(i,s),c=Math.max(i,s);let f=l,d=c;Math.abs(l)>Math.abs(c)&&(f=c,d=l),e[n.axis]=d,e._custom={barStart:f,barEnd:d,start:i,end:s,min:l,max:c}}function iE(t,e,n,r){return Yn(t)?sj(t,e,n,r):e[n.axis]=n.parse(t,r),e}function sx(t,e,n,r){const i=t.iScale,s=t.vScale,l=i.getLabels(),c=i===s,f=[];let d,h,m,g;for(d=n,h=n+r;d<h;++d)g=e[d],m={},m[i.axis]=c||i.parse(l[d],d),f.push(iE(g,m,s,d));return f}function dg(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function oj(t,e,n){return t!==0?Ii(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function lj(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function uj(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:f,top:d,bottom:h}=lj(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=d:(n._bottom||0)===r?i=h:(s[ox(h,l,c,f)]=!0,i=d)),s[ox(i,l,c,f)]=!0,t.borderSkipped=s}function ox(t,e,n,r){return r?(t=cj(t,e,n),t=lx(t,n,e)):t=lx(t,e,n),t}function cj(t,e,n){return t===e?n:t===n?e:t}function lx(t,e,n){return t==="start"?e:t==="end"?n:t}function fj(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class nd extends $s{parsePrimitiveData(e,n,r,i){return sx(e,n,r,i)}parseArrayData(e,n,r,i){return sx(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:l}=e,{xAxisKey:c="x",yAxisKey:f="y"}=this._parsing,d=s.axis==="x"?c:f,h=l.axis==="x"?c:f,m=[];let g,v,_,C;for(g=r,v=r+i;g<v;++g)C=n[g],_={},_[s.axis]=s.parse(Ws(C,d),g),m.push(iE(Ws(C,h),_,l,g));return m}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),l=s._custom,c=dg(l)?"["+l.start+", "+l.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:l,_cachedMeta:{vScale:c}}=this,f=c.getBasePixel(),d=c.isHorizontal(),h=this._getRuler(),{sharedOptions:m,includeOptions:g}=this._getSharedOptions(n,i);for(let v=n;v<n+r;v++){const _=this.getParsed(v),C=s||un(_[c.axis])?{base:f,head:f}:this._calculateBarValuePixels(v),T=this._calculateBarIndexPixels(v,h),S=(_._stacks||{})[c.axis],P={horizontal:d,base:C.base,enableBorderRadius:!S||dg(_._custom)||l===S._top||l===S._bottom,x:d?C.head:T.center,y:d?T.center:C.head,height:d?T.size:Math.abs(C.size),width:d?Math.abs(C.size):T.size};g&&(P.options=m||this.resolveDataElementOptions(v,e[v].active?"active":i));const L=P.options||e[v].options;uj(P,L,S,l),fj(P,L,h.ratio),this.updateElement(e[v],v,P,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=r.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(n),f=c&&c[r.axis],d=h=>{const m=h._parsed.find(v=>v[r.axis]===f),g=m&&m[h.vScale.axis];if(un(g)||isNaN(g))return!0};for(const h of i)if(!(n!==void 0&&d(h))&&((s===!1||l.indexOf(h.stack)===-1||s===void 0&&h.stack===void 0)&&l.push(h.stack),h.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,l;for(s=0,l=n.data.length;s<l;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const c=e.barThickness;return{min:c||rj(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:l}}=this,c=s||0,f=this.getParsed(e),d=f._custom,h=dg(d);let m=f[n.axis],g=0,v=r?this.applyStack(n,f,r):m,_,C;v!==m&&(g=v-m,v=m),h&&(m=d.barStart,v=d.barEnd-d.barStart,m!==0&&Ii(m)!==Ii(d.barEnd)&&(g=0),g+=m);const T=!un(s)&&!h?s:g;let S=n.getPixelForValue(T);if(this.chart.getDataVisibility(e)?_=n.getPixelForValue(g+v):_=S,C=_-S,Math.abs(C)<l){C=oj(C,n,c)*l,m===c&&(S-=C/2);const P=n.getPixelForDecimal(0),L=n.getPixelForDecimal(1),I=Math.min(P,L),j=Math.max(P,L);S=Math.max(Math.min(S,j),I),_=S+C,r&&!h&&(f._stacks[n.axis]._visualValues[i]=n.getValueForPixel(_)-n.getValueForPixel(S))}if(S===n.getPixelForValue(c)){const P=Ii(C)*n.getLineWidthForValue(c)/2;S+=P,C-=P}return{size:C,base:S,head:_,center:_+C/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,l=$t(i.maxBarThickness,1/0);let c,f;if(n.grouped){const d=s?this._getStackCount(e):n.stackCount,h=i.barThickness==="flex"?aj(e,n,i,d):ij(e,n,i,d),m=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);c=h.start+h.chunk*m+h.chunk/2,f=Math.min(l,h.chunk*h.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),f=Math.min(l,n.min*n.ratio);return{base:c-f/2,head:c+f/2,center:c,size:f}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}ot(nd,"id","bar"),ot(nd,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ot(nd,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function dj(t,e,n){let r=1,i=1,s=0,l=0;if(e<Mn){const c=t,f=c+e,d=Math.cos(c),h=Math.sin(c),m=Math.cos(f),g=Math.sin(f),v=(L,I,j)=>tc(L,c,f,!0)?1:Math.max(I,I*n,j,j*n),_=(L,I,j)=>tc(L,c,f,!0)?-1:Math.min(I,I*n,j,j*n),C=v(0,d,m),T=v(Xn,h,g),S=_(Ln,d,m),P=_(Ln+Xn,h,g);r=(C-S)/2,i=(T-P)/2,s=-(C+S)/2,l=-(T+P)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:l}}class ju extends $s{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=f=>+r[f];if(en(r[e])){const{key:f="value"}=this._parsing;s=d=>+Ws(r[d],f)}let l,c;for(l=e,c=e+n;l<c;++l)i._parsed[l]=s(l)}}_getRotation(){return ca(this.options.rotation-90)}_getCircumference(){return ca(this.options.circumference)}_getRotationExtents(){let e=Mn,n=-Mn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),l=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+l)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,l=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-l)/2,0),f=Math.min(vk(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:h,rotation:m}=this._getRotationExtents(),{ratioX:g,ratioY:v,offsetX:_,offsetY:C}=dj(m,h,f),T=(r.width-l)/g,S=(r.height-l)/v,P=Math.max(Math.min(T,S)/2,0),L=BS(this.options.radius,P),I=Math.max(L*f,0),j=(L-I)/this._getVisibleDatasetWeightTotal();this.offsetX=_*L,this.offsetY=C*L,i.total=this.calculateTotal(),this.outerRadius=L-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Mn)}updateElements(e,n,r,i){const s=i==="reset",l=this.chart,c=l.chartArea,d=l.options.animation,h=(c.left+c.right)/2,m=(c.top+c.bottom)/2,g=s&&d.animateScale,v=g?0:this.innerRadius,_=g?0:this.outerRadius,{sharedOptions:C,includeOptions:T}=this._getSharedOptions(n,i);let S=this._getRotation(),P;for(P=0;P<n;++P)S+=this._circumference(P,s);for(P=n;P<n+r;++P){const L=this._circumference(P,s),I=e[P],j={x:h+this.offsetX,y:m+this.offsetY,startAngle:S,endAngle:S+L,circumference:L,outerRadius:_,innerRadius:v};T&&(j.options=C||this.resolveDataElementOptions(P,I.active?"active":i)),S+=L,this.updateElement(I,P,j,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Mn*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=R0(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,l,c,f;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){l=r.getDatasetMeta(i),e=l.data,c=l.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)f=c.resolveDataElementOptions(i),f.borderAlign!=="inner"&&(n=Math.max(n,f.borderWidth||0,f.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max($t(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ot(ju,"id","doughnut"),ot(ju,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ot(ju,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ot(ju,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,l)=>{const f=e.getDatasetMeta(0).controller.getStyle(l);return{text:s,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:i,lineWidth:f.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class rd extends $s{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,l=this.chart._animationsDisabled;let{start:c,count:f}=Bk(n,i,l);this._drawStart=c,this._drawCount=f,Ik(n)&&(c=0,f=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:d},e),this.updateElements(i,c,f,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:l,vScale:c,_stacked:f,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:m}=this._getSharedOptions(n,i),g=l.axis,v=c.axis,{spanGaps:_,segment:C}=this.options,T=ec(_)?_:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||s||i==="none",P=n+r,L=e.length;let I=n>0&&this.getParsed(n-1);for(let j=0;j<L;++j){const N=e[j],B=S?N:{};if(j<n||j>=P){B.skip=!0;continue}const D=this.getParsed(j),O=un(D[v]),V=B[g]=l.getPixelForValue(D[g],j),$=B[v]=s||O?c.getBasePixel():c.getPixelForValue(f?this.applyStack(c,D,f):D[v],j);B.skip=isNaN(V)||isNaN($)||O,B.stop=j>0&&Math.abs(D[g]-I[g])>T,C&&(B.parsed=D,B.raw=d.data[j]),m&&(B.options=h||this.resolveDataElementOptions(j,N.active?"active":i)),S||this.updateElement(N,j,B,i),I=D}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),l=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ot(rd,"id","line"),ot(rd,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ot(rd,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class qg extends ju{}ot(qg,"id","pie"),ot(qg,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function js(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class U0{constructor(e){ot(this,"options");this.options=e||{}}static override(e){Object.assign(U0.prototype,e)}init(){}formats(){return js()}parse(){return js()}format(){return js()}add(){return js()}diff(){return js()}startOf(){return js()}endOf(){return js()}}var hj={_date:U0};function pj(t,e,n,r){const{controller:i,data:s,_sorted:l}=t,c=i._cachedMeta.iScale,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&l&&s.length){const d=c._reversePixels?kk:zs;if(r){if(i._sharedOptions){const h=s[0],m=typeof h.getRange=="function"&&h.getRange(e);if(m){const g=d(s,e,n-m),v=d(s,e,n+m);return{lo:g.lo,hi:v.hi}}}}else{const h=d(s,e,n);if(f){const{vScale:m}=i._cachedMeta,{_parsed:g}=t,v=g.slice(0,h.lo+1).reverse().findIndex(C=>!un(C[m.axis]));h.lo-=Math.max(0,v);const _=g.slice(h.hi).findIndex(C=>!un(C[m.axis]));h.hi+=Math.max(0,_)}return h}}return{lo:0,hi:s.length-1}}function Fd(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),l=n[e];for(let c=0,f=s.length;c<f;++c){const{index:d,data:h}=s[c],{lo:m,hi:g}=pj(s[c],e,l,i);for(let v=m;v<=g;++v){const _=h[v];_.skip||r(_,d,v)}}}function mj(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,l=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(l,2))}}function hg(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Fd(t,n,e,function(c,f,d){!i&&!nc(c,t.chartArea,0)||c.inRange(e.x,e.y,r)&&s.push({element:c,datasetIndex:f,index:d})},!0),s}function gj(t,e,n,r){let i=[];function s(l,c,f){const{startAngle:d,endAngle:h}=l.getProps(["startAngle","endAngle"],r),{angle:m}=zS(l,{x:e.x,y:e.y});tc(m,d,h)&&i.push({element:l,datasetIndex:c,index:f})}return Fd(t,n,e,s),i}function vj(t,e,n,r,i,s){let l=[];const c=mj(n);let f=Number.POSITIVE_INFINITY;function d(h,m,g){const v=h.inRange(e.x,e.y,i);if(r&&!v)return;const _=h.getCenterPoint(i);if(!(!!s||t.isPointInArea(_))&&!v)return;const T=c(e,_);T<f?(l=[{element:h,datasetIndex:m,index:g}],f=T):T===f&&l.push({element:h,datasetIndex:m,index:g})}return Fd(t,n,e,d),l}function pg(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?gj(t,e,n,i):vj(t,e,n,r,i,s)}function ux(t,e,n,r,i){const s=[],l=n==="x"?"inXRange":"inYRange";let c=!1;return Fd(t,n,e,(f,d,h)=>{f[l]&&f[l](e[n],i)&&(s.push({element:f,datasetIndex:d,index:h}),c=c||f.inRange(e.x,e.y,i))}),r&&!c?[]:s}var yj={modes:{index(t,e,n,r){const i=Ps(e,t),s=n.axis||"x",l=n.includeInvisible||!1,c=n.intersect?hg(t,i,s,r,l):pg(t,i,s,!1,r,l),f=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const h=c[0].index,m=d.data[h];m&&!m.skip&&f.push({element:m,datasetIndex:d.index,index:h})}),f):[]},dataset(t,e,n,r){const i=Ps(e,t),s=n.axis||"xy",l=n.includeInvisible||!1;let c=n.intersect?hg(t,i,s,r,l):pg(t,i,s,!1,r,l);if(c.length>0){const f=c[0].datasetIndex,d=t.getDatasetMeta(f).data;c=[];for(let h=0;h<d.length;++h)c.push({element:d[h],datasetIndex:f,index:h})}return c},point(t,e,n,r){const i=Ps(e,t),s=n.axis||"xy",l=n.includeInvisible||!1;return hg(t,i,s,r,l)},nearest(t,e,n,r){const i=Ps(e,t),s=n.axis||"xy",l=n.includeInvisible||!1;return pg(t,i,s,n.intersect,r,l)},x(t,e,n,r){const i=Ps(e,t);return ux(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Ps(e,t);return ux(t,i,"y",n.intersect,r)}}};const aE=["left","top","right","bottom"];function Au(t,e){return t.filter(n=>n.pos===e)}function cx(t,e){return t.filter(n=>aE.indexOf(n.pos)===-1&&n.box.axis===e)}function Cu(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function bj(t){const e=[];let n,r,i,s,l,c;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:l,stackWeight:c=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&s+l,stackWeight:c});return e}function _j(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!aE.includes(i))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=s}return e}function xj(t,e){const n=_j(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,l,c;for(s=0,l=t.length;s<l;++s){c=t[s];const{fullSize:f}=c.box,d=n[c.stack],h=d&&c.stackWeight/d.weight;c.horizontal?(c.width=h?h*r:f&&e.availableWidth,c.height=i):(c.width=r,c.height=h?h*i:f&&e.availableHeight)}return n}function wj(t){const e=bj(t),n=Cu(e.filter(d=>d.box.fullSize),!0),r=Cu(Au(e,"left"),!0),i=Cu(Au(e,"right")),s=Cu(Au(e,"top"),!0),l=Cu(Au(e,"bottom")),c=cx(e,"x"),f=cx(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(f).concat(l).concat(c),chartArea:Au(e,"chartArea"),vertical:r.concat(i).concat(f),horizontal:s.concat(l).concat(c)}}function fx(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function sE(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Sj(t,e,n,r){const{pos:i,box:s}=n,l=t.maxPadding;if(!en(i)){n.size&&(t[i]-=n.size);const m=r[n.stack]||{size:0,count:1};m.size=Math.max(m.size,n.horizontal?s.height:s.width),n.size=m.size/m.count,t[i]+=n.size}s.getPadding&&sE(l,s.getPadding());const c=Math.max(0,e.outerWidth-fx(l,t,"left","right")),f=Math.max(0,e.outerHeight-fx(l,t,"top","bottom")),d=c!==t.w,h=f!==t.h;return t.w=c,t.h=f,n.horizontal?{same:d,other:h}:{same:h,other:d}}function Ej(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Aj(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{s[l]=Math.max(e[l],n[l])}),s}return r(t?["left","right"]:["top","bottom"])}function Lu(t,e,n,r){const i=[];let s,l,c,f,d,h;for(s=0,l=t.length,d=0;s<l;++s){c=t[s],f=c.box,f.update(c.width||e.w,c.height||e.h,Aj(c.horizontal,e));const{same:m,other:g}=Sj(e,n,c,r);d|=m&&i.length,h=h||g,f.fullSize||i.push(c)}return d&&Lu(i,e,n,r)||h}function Hf(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function dx(t,e,n,r){const i=n.padding;let{x:s,y:l}=e;for(const c of t){const f=c.box,d=r[c.stack]||{placed:0,weight:1},h=c.stackWeight/d.weight||1;if(c.horizontal){const m=e.w*h,g=d.size||f.height;Ju(d.start)&&(l=d.start),f.fullSize?Hf(f,i.left,l,n.outerWidth-i.right-i.left,g):Hf(f,e.left+d.placed,l,m,g),d.start=l,d.placed+=m,l=f.bottom}else{const m=e.h*h,g=d.size||f.width;Ju(d.start)&&(s=d.start),f.fullSize?Hf(f,s,i.top,g,n.outerHeight-i.bottom-i.top):Hf(f,s,e.top+d.placed,g,m),d.start=s,d.placed+=m,s=f.right}}e.x=s,e.y=l}var ii={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=si(t.options.layout.padding),s=Math.max(e-i.width,0),l=Math.max(n-i.height,0),c=wj(t.boxes),f=c.vertical,d=c.horizontal;hn(t.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const h=f.reduce((C,T)=>T.box.options&&T.box.options.display===!1?C:C+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:l,vBoxMaxWidth:s/2/h,hBoxMaxHeight:l/2}),g=Object.assign({},i);sE(g,si(r));const v=Object.assign({maxPadding:g,w:s,h:l,x:i.left,y:i.top},i),_=xj(f.concat(d),m);Lu(c.fullSize,v,m,_),Lu(f,v,m,_),Lu(d,v,m,_)&&Lu(f,v,m,_),Ej(v),dx(c.leftAndTop,v,m,_),v.x+=v.w,v.y+=v.h,dx(c.rightAndBottom,v,m,_),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},hn(c.chartArea,C=>{const T=C.box;Object.assign(T,t.chartArea),T.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class oE{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class Cj extends oE{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const id="$chartjs",Tj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},hx=t=>t===null||t==="";function Dj(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[id]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",hx(i)){const s=Z1(t,"width");s!==void 0&&(t.width=s)}if(hx(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=Z1(t,"height");s!==void 0&&(t.height=s)}return t}const lE=TM?{passive:!0}:!1;function Oj(t,e,n){t&&t.addEventListener(e,n,lE)}function Rj(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,lE)}function Nj(t,e){const n=Tj[t.type]||t.type,{x:r,y:i}=Ps(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Td(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function kj(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let l=!1;for(const c of s)l=l||Td(c.addedNodes,r),l=l&&!Td(c.removedNodes,r);l&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function Mj(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let l=!1;for(const c of s)l=l||Td(c.removedNodes,r),l=l&&!Td(c.addedNodes,r);l&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const ic=new Map;let px=0;function uE(){const t=window.devicePixelRatio;t!==px&&(px=t,ic.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function jj(t,e){ic.size||window.addEventListener("resize",uE),ic.set(t,e)}function Lj(t){ic.delete(t),ic.size||window.removeEventListener("resize",uE)}function Pj(t,e,n){const r=t.canvas,i=r&&I0(r);if(!i)return;const s=$S((c,f)=>{const d=i.clientWidth;n(c,f),d<i.clientWidth&&n()},window),l=new ResizeObserver(c=>{const f=c[0],d=f.contentRect.width,h=f.contentRect.height;d===0&&h===0||s(d,h)});return l.observe(i),jj(t,s),l}function mg(t,e,n){n&&n.disconnect(),e==="resize"&&Lj(t)}function Bj(t,e,n){const r=t.canvas,i=$S(s=>{t.ctx!==null&&n(Nj(s,t))},t);return Oj(r,e,i),i}class Ij extends oE{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(Dj(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[id])return!1;const r=n[id].initial;["height","width"].forEach(s=>{const l=r[s];un(l)?n.removeAttribute(s):n.setAttribute(s,l)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[id],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),l={attach:kj,detach:Mj,resize:Pj}[n]||Bj;i[n]=l(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:mg,detach:mg,resize:mg}[n]||Rj)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return CM(e,n,r,i)}isAttached(e){const n=e&&I0(e);return!!(n&&n.isConnected)}}function Uj(t){return!B0()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Cj:Ij}var Wf;let da=(Wf=class{constructor(){ot(this,"x");ot(this,"y");ot(this,"active",!1);ot(this,"options");ot(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return ec(this.x)&&ec(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},ot(Wf,"defaults",{}),ot(Wf,"defaultRoutes"),Wf);function zj(t,e){const n=t.options.ticks,r=Fj(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?Hj(e):[],l=s.length,c=s[0],f=s[l-1],d=[];if(l>i)return $j(e,d,s,l/i),d;const h=qj(s,e,i);if(l>0){let m,g;const v=l>1?Math.round((f-c)/(l-1)):null;for($f(e,d,h,un(v)?0:c-v,c),m=0,g=l-1;m<g;m++)$f(e,d,h,s[m],s[m+1]);return $f(e,d,h,f,un(v)?e.length:f+v),d}return $f(e,d,h),d}function Fj(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function qj(t,e,n){const r=Vj(t),i=e.length/n;if(!r)return Math.max(i,1);const s=Ak(r);for(let l=0,c=s.length-1;l<c;l++){const f=s[l];if(f>i)return f}return Math.max(i,1)}function Hj(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function $j(t,e,n,r){let i=0,s=n[0],l;for(r=Math.ceil(r),l=0;l<t.length;l++)l===s&&(e.push(t[l]),i++,s=n[i*r])}function $f(t,e,n,r,i){const s=$t(r,0),l=Math.min($t(i,t.length),t.length);let c=0,f,d,h;for(n=Math.ceil(n),i&&(f=i-r,n=f/Math.floor(f/n)),h=s;h<0;)c++,h=Math.round(s+c*n);for(d=Math.max(s,0);d<l;d++)d===h&&(e.push(t[d]),c++,h=Math.round(s+c*n))}function Vj(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const Yj=t=>t==="left"?"right":t==="right"?"left":t,mx=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,gx=(t,e)=>Math.min(e||t,t);function vx(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function Xj(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,l=t._endPixel,c=1e-6;let f=t.getPixelForTick(i),d;if(!(n&&(r===1?d=Math.max(f-s,l-f):e===0?d=(t.getPixelForTick(1)-f)/2:d=(f-t.getPixelForTick(i-1))/2,f+=i<e?d:-d,f<s-c||f>l+c)))return f}function Gj(t,e){hn(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Tu(t){return t.drawTicks?t.tickLength:0}function yx(t,e){if(!t.display)return 0;const n=vr(t.font,e),r=si(t.padding);return(Yn(t.text)?t.text.length:1)*n.lineHeight+r.height}function Wj(t,e){return Js(t,{scale:e,type:"scale"})}function Zj(t,e,n){return Js(t,{tick:n,index:e,type:"tick"})}function Kj(t,e,n){let r=D0(t);return(n&&e!=="right"||!n&&e==="right")&&(r=Yj(r)),r}function Qj(t,e,n,r){const{top:i,left:s,bottom:l,right:c,chart:f}=t,{chartArea:d,scales:h}=f;let m=0,g,v,_;const C=l-i,T=c-s;if(t.isHorizontal()){if(v=mr(r,s,c),en(n)){const S=Object.keys(n)[0],P=n[S];_=h[S].getPixelForValue(P)+C-e}else n==="center"?_=(d.bottom+d.top)/2+C-e:_=mx(t,n,e);g=c-s}else{if(en(n)){const S=Object.keys(n)[0],P=n[S];v=h[S].getPixelForValue(P)-T+e}else n==="center"?v=(d.left+d.right)/2-T+e:v=mx(t,n,e);_=mr(r,l,i),m=n==="left"?-Xn:Xn}return{titleX:v,titleY:_,maxWidth:g,rotation:m}}class bl extends da{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Oi(e,Number.POSITIVE_INFINITY),n=Oi(n,Number.NEGATIVE_INFINITY),r=Oi(r,Number.POSITIVE_INFINITY),i=Oi(i,Number.NEGATIVE_INFINITY),{min:Oi(e,r),max:Oi(n,i),minDefined:ai(e),maxDefined:ai(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),l;if(i&&s)return{min:n,max:r};const c=this.getMatchingVisibleMetas();for(let f=0,d=c.length;f<d;++f)l=c[f].controller.getMinMax(this,e),i||(n=Math.min(n,l.min)),s||(r=Math.max(r,l.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Oi(n,Oi(r,n)),max:Oi(r,Oi(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){An(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=iM(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=c<this.ticks.length;this._convertTicksToLabels(f?vx(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=zj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){An(this.options.afterUpdate,[this])}beforeSetDimensions(){An(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){An(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),An(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){An(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=An(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){An(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){An(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=gx(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let l=i,c,f,d;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const h=this._getLabelSizes(),m=h.widest.width,g=h.highest.height,v=gr(this.chart.width-m,0,this.maxWidth);c=e.offset?this.maxWidth/r:v/(r-1),m+6>c&&(c=v/(r-(e.offset?.5:1)),f=this.maxHeight-Tu(e.grid)-n.padding-yx(e.title,this.chart.options.font),d=Math.sqrt(m*m+g*g),l=Ok(Math.min(Math.asin(gr((h.highest.height+6)/c,-1,1)),Math.asin(gr(f/d,-1,1))-Math.asin(gr(g/d,-1,1)))),l=Math.max(i,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){An(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){An(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const f=yx(i,n.options.font);if(c?(e.width=this.maxWidth,e.height=Tu(s)+f):(e.height=this.maxHeight,e.width=Tu(s)+f),r.display&&this.ticks.length){const{first:d,last:h,widest:m,highest:g}=this._getLabelSizes(),v=r.padding*2,_=ca(this.labelRotation),C=Math.cos(_),T=Math.sin(_);if(c){const S=r.mirror?0:T*m.width+C*g.height;e.height=Math.min(this.maxHeight,e.height+S+v)}else{const S=r.mirror?0:C*m.width+T*g.height;e.width=Math.min(this.maxWidth,e.width+S+v)}this._calculatePadding(d,h,T,C)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:l},position:c}=this.options,f=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,v=0;f?d?(g=i*e.width,v=r*n.height):(g=r*e.height,v=i*n.width):s==="start"?v=n.width:s==="end"?g=e.width:s!=="inner"&&(g=e.width/2,v=n.width/2),this.paddingLeft=Math.max((g-h+l)*this.width/(this.width-h),0),this.paddingRight=Math.max((v-m+l)*this.width/(this.width-m),0)}else{let h=n.height/2,m=e.height/2;s==="start"?(h=0,m=e.height):s==="end"&&(h=n.height,m=0),this.paddingTop=h+l,this.paddingBottom=m+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){An(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)un(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=vx(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,l=[],c=[],f=Math.floor(n/gx(n,r));let d=0,h=0,m,g,v,_,C,T,S,P,L,I,j;for(m=0;m<n;m+=f){if(_=e[m].label,C=this._resolveTickFontOptions(m),i.font=T=C.string,S=s[T]=s[T]||{data:{},gc:[]},P=C.lineHeight,L=I=0,!un(_)&&!Yn(_))L=V1(i,S.data,S.gc,L,_),I=P;else if(Yn(_))for(g=0,v=_.length;g<v;++g)j=_[g],!un(j)&&!Yn(j)&&(L=V1(i,S.data,S.gc,L,j),I+=P);l.push(L),c.push(I),d=Math.max(L,d),h=Math.max(I,h)}Gj(s,n);const N=l.indexOf(d),B=c.indexOf(h),D=O=>({width:l[O]||0,height:c[O]||0});return{first:D(0),last:D(n-1),widest:D(N),highest:D(B),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Nk(this._alignToPixels?Ms(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Zj(this.getContext(),e,r))}return this.$context||(this.$context=Wj(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ca(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),l=e.autoSkipPadding||0,c=s?s.widest.width+l:0,f=s?s.highest.height+l:0;return this.isHorizontal()?f*r>c*i?c/r:f/i:f*i<c*r?f/r:c/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:l,border:c}=i,f=s.offset,d=this.isHorizontal(),m=this.ticks.length+(f?1:0),g=Tu(s),v=[],_=c.setContext(this.getContext()),C=_.display?_.width:0,T=C/2,S=function(A){return Ms(r,A,C)};let P,L,I,j,N,B,D,O,V,$,J,ce;if(l==="top")P=S(this.bottom),B=this.bottom-g,O=P-T,$=S(e.top)+T,ce=e.bottom;else if(l==="bottom")P=S(this.top),$=e.top,ce=S(e.bottom)-T,B=P+T,O=this.top+g;else if(l==="left")P=S(this.right),N=this.right-g,D=P-T,V=S(e.left)+T,J=e.right;else if(l==="right")P=S(this.left),V=e.left,J=S(e.right)-T,N=P+T,D=this.left+g;else if(n==="x"){if(l==="center")P=S((e.top+e.bottom)/2+.5);else if(en(l)){const A=Object.keys(l)[0],R=l[A];P=S(this.chart.scales[A].getPixelForValue(R))}$=e.top,ce=e.bottom,B=P+T,O=B+g}else if(n==="y"){if(l==="center")P=S((e.left+e.right)/2);else if(en(l)){const A=Object.keys(l)[0],R=l[A];P=S(this.chart.scales[A].getPixelForValue(R))}N=P-T,D=N-g,V=e.left,J=e.right}const Y=$t(i.ticks.maxTicksLimit,m),k=Math.max(1,Math.ceil(m/Y));for(L=0;L<m;L+=k){const A=this.getContext(L),R=s.setContext(A),Q=c.setContext(A),re=R.lineWidth,F=R.color,de=Q.dash||[],ae=Q.dashOffset,K=R.tickWidth,U=R.tickColor,M=R.tickBorderDash||[],H=R.tickBorderDashOffset;I=Xj(this,L,f),I!==void 0&&(j=Ms(r,I,re),d?N=D=V=J=j:B=O=$=ce=j,v.push({tx1:N,ty1:B,tx2:D,ty2:O,x1:V,y1:$,x2:J,y2:ce,width:re,color:F,borderDash:de,borderDashOffset:ae,tickWidth:K,tickColor:U,tickBorderDash:M,tickBorderDashOffset:H}))}return this._ticksLength=m,this._borderValue=P,v}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,l=this.isHorizontal(),c=this.ticks,{align:f,crossAlign:d,padding:h,mirror:m}=s,g=Tu(r.grid),v=g+h,_=m?-h:v,C=-ca(this.labelRotation),T=[];let S,P,L,I,j,N,B,D,O,V,$,J,ce="middle";if(i==="top")N=this.bottom-_,B=this._getXAxisLabelAlignment();else if(i==="bottom")N=this.top+_,B=this._getXAxisLabelAlignment();else if(i==="left"){const k=this._getYAxisLabelAlignment(g);B=k.textAlign,j=k.x}else if(i==="right"){const k=this._getYAxisLabelAlignment(g);B=k.textAlign,j=k.x}else if(n==="x"){if(i==="center")N=(e.top+e.bottom)/2+v;else if(en(i)){const k=Object.keys(i)[0],A=i[k];N=this.chart.scales[k].getPixelForValue(A)+v}B=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")j=(e.left+e.right)/2-v;else if(en(i)){const k=Object.keys(i)[0],A=i[k];j=this.chart.scales[k].getPixelForValue(A)}B=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(f==="start"?ce="top":f==="end"&&(ce="bottom"));const Y=this._getLabelSizes();for(S=0,P=c.length;S<P;++S){L=c[S],I=L.label;const k=s.setContext(this.getContext(S));D=this.getPixelForTick(S)+s.labelOffset,O=this._resolveTickFontOptions(S),V=O.lineHeight,$=Yn(I)?I.length:1;const A=$/2,R=k.color,Q=k.textStrokeColor,re=k.textStrokeWidth;let F=B;l?(j=D,B==="inner"&&(S===P-1?F=this.options.reverse?"left":"right":S===0?F=this.options.reverse?"right":"left":F="center"),i==="top"?d==="near"||C!==0?J=-$*V+V/2:d==="center"?J=-Y.highest.height/2-A*V+V:J=-Y.highest.height+V/2:d==="near"||C!==0?J=V/2:d==="center"?J=Y.highest.height/2-A*V:J=Y.highest.height-$*V,m&&(J*=-1),C!==0&&!k.showLabelBackdrop&&(j+=V/2*Math.sin(C))):(N=D,J=(1-$)*V/2);let de;if(k.showLabelBackdrop){const ae=si(k.backdropPadding),K=Y.heights[S],U=Y.widths[S];let M=J-ae.top,H=0-ae.left;switch(ce){case"middle":M-=K/2;break;case"bottom":M-=K;break}switch(B){case"center":H-=U/2;break;case"right":H-=U;break;case"inner":S===P-1?H-=U:S>0&&(H-=U/2);break}de={left:H,top:M,width:U+ae.width,height:K+ae.height,color:k.backdropColor}}T.push({label:I,font:O,textOffset:J,options:{rotation:C,color:R,strokeColor:Q,strokeWidth:re,textAlign:F,textBaseline:ce,translation:[j,N],backdrop:de}})}return T}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ca(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,l=this._getLabelSizes(),c=e+s,f=l.widest.width;let d,h;return n==="left"?i?(h=this.right+s,r==="near"?d="left":r==="center"?(d="center",h+=f/2):(d="right",h+=f)):(h=this.right-c,r==="near"?d="right":r==="center"?(d="center",h-=f/2):(d="left",h=this.left)):n==="right"?i?(h=this.left+s,r==="near"?d="right":r==="center"?(d="center",h-=f/2):(d="left",h-=f)):(h=this.left+c,r==="near"?d="left":r==="center"?(d="center",h+=f/2):(d="right",h=this.right)):d="right",{textAlign:d,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:l}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,l),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,l;const c=(f,d,h)=>{!h.width||!h.color||(r.save(),r.lineWidth=h.width,r.strokeStyle=h.color,r.setLineDash(h.borderDash||[]),r.lineDashOffset=h.borderDashOffset,r.beginPath(),r.moveTo(f.x,f.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(n.display)for(s=0,l=i.length;s<l;++s){const f=i[s];n.drawOnChartArea&&c({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&c({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),l=r.display?s.width:0;if(!l)return;const c=i.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,h,m,g;this.isHorizontal()?(d=Ms(e,this.left,l)-l/2,h=Ms(e,this.right,c)+c/2,m=g=f):(m=Ms(e,this.top,l)-l/2,g=Ms(e,this.bottom,c)+c/2,d=h=f),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(d,m),n.lineTo(h,g),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&N0(r,i);const s=this.getLabelItems(e);for(const l of s){const c=l.options,f=l.font,d=l.label,h=l.textOffset;rc(r,d,0,h,f,c)}i&&k0(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=vr(r.font),l=si(r.padding),c=r.align;let f=s.lineHeight/2;n==="bottom"||n==="center"||en(n)?(f+=l.bottom,Yn(r.text)&&(f+=s.lineHeight*(r.text.length-1))):f+=l.top;const{titleX:d,titleY:h,maxWidth:m,rotation:g}=Qj(this,f,n,c);rc(e,r.text,0,0,s,{color:r.color,maxWidth:m,rotation:g,textAlign:Kj(c,n,i),textBaseline:"middle",translation:[d,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=$t(e.grid&&e.grid.z,-1),i=$t(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==bl.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,l;for(s=0,l=n.length;s<l;++s){const c=n[s];c[r]===this.id&&(!e||c.type===e)&&i.push(c)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return vr(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Vf{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;t6(n)&&(r=this.register(n));const i=this.items,s=e.id,l=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,Jj(e,l,r),this.override&&In.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in In[i]&&(delete In[i][r],this.override&&delete Zs[r])}}function Jj(t,e,n){const r=Qu(Object.create(null),[n?In.get(n):{},In.get(e),t.defaults]);In.set(e,r),t.defaultRoutes&&e6(e,t.defaultRoutes),t.descriptors&&In.describe(e,t.descriptors)}function e6(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),l=e[n].split("."),c=l.pop(),f=l.join(".");In.route(s,i,f,c)})}function t6(t){return"id"in t&&"defaults"in t}class n6{constructor(){this.controllers=new Vf($s,"datasets",!0),this.elements=new Vf(da,"elements"),this.plugins=new Vf(Object,"plugins"),this.scales=new Vf(bl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):hn(i,l=>{const c=r||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,n,r){const i=C0(e);An(r["before"+i],[],r),n[e](r),An(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var ki=new n6;class r6{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),l=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,n,r,i){i=i||{};for(const s of e){const l=s.plugin,c=l[r],f=[n,i,s.options];if(An(c,f,l)===!1&&i.cancelable)return!1}return!0}invalidate(){un(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=$t(r.options&&r.options.plugins,{}),s=i6(r);return i===!1&&!n?[]:s6(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,l)=>s.filter(c=>!l.some(f=>c.plugin.id===f.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function i6(t){const e={},n=[],r=Object.keys(ki.plugins.items);for(let s=0;s<r.length;s++)n.push(ki.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const l=i[s];n.indexOf(l)===-1&&(n.push(l),e[l.id]=!0)}return{plugins:n,localIds:e}}function a6(t,e){return!e&&t===!1?null:t===!0?{}:t}function s6(t,{plugins:e,localIds:n},r,i){const s=[],l=t.getContext();for(const c of e){const f=c.id,d=a6(r[f],i);d!==null&&s.push({plugin:c,options:o6(t.config,{plugin:c,local:n[f]},d,l)})}return s}function o6(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),l=t.getOptionScopes(r,s);return n&&e.defaults&&l.push(e.defaults),t.createResolver(l,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Hg(t,e){const n=In.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function l6(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function u6(t,e){return t===e?"_index_":"_value_"}function bx(t){if(t==="x"||t==="y"||t==="r")return t}function c6(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function $g(t,...e){if(bx(t))return t;for(const n of e){const r=n.axis||c6(n.position)||t.length>1&&bx(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function _x(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function f6(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return _x(t,"x",n[0])||_x(t,"y",n[0])}return{}}function d6(t,e){const n=Zs[t.type]||{scales:{}},r=e.scales||{},i=Hg(t.type,e),s=Object.create(null);return Object.keys(r).forEach(l=>{const c=r[l];if(!en(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=$g(l,c,f6(l,t),In.scales[c.type]),d=u6(f,i),h=n.scales||{};s[l]=qu(Object.create(null),[{axis:f},c,h[f],h[d]])}),t.data.datasets.forEach(l=>{const c=l.type||t.type,f=l.indexAxis||Hg(c,e),h=(Zs[c]||{}).scales||{};Object.keys(h).forEach(m=>{const g=l6(m,f),v=l[g+"AxisID"]||g;s[v]=s[v]||Object.create(null),qu(s[v],[{axis:g},r[v],h[m]])})}),Object.keys(s).forEach(l=>{const c=s[l];qu(c,[In.scales[c.type],In.scale])}),s}function cE(t){const e=t.options||(t.options={});e.plugins=$t(e.plugins,{}),e.scales=d6(t,e)}function fE(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function h6(t){return t=t||{},t.data=fE(t.data),cE(t),t}const xx=new Map,dE=new Set;function Yf(t,e){let n=xx.get(t);return n||(n=e(),xx.set(t,n),dE.add(n)),n}const Du=(t,e,n)=>{const r=Ws(e,n);r!==void 0&&t.add(r)};class p6{constructor(e){this._config=h6(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=fE(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),cE(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Yf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Yf(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Yf(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Yf(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,l=this._cachedScopes(e,r),c=l.get(n);if(c)return c;const f=new Set;n.forEach(h=>{e&&(f.add(e),h.forEach(m=>Du(f,e,m))),h.forEach(m=>Du(f,i,m)),h.forEach(m=>Du(f,Zs[s]||{},m)),h.forEach(m=>Du(f,In,m)),h.forEach(m=>Du(f,zg,m))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),dE.has(n)&&l.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,Zs[n]||{},In.datasets[n]||{},{type:n},In,zg]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:l,subPrefixes:c}=wx(this._resolverCache,e,i);let f=l;if(g6(l,n)){s.$shared=!1,r=ts(r)?r():r;const d=this.createResolver(e,r,c);f=fl(l,r,d)}for(const d of n)s[d]=f[d];return s}createResolver(e,n,r=[""],i){const{resolver:s}=wx(this._resolverCache,e,r);return en(n)?fl(s,n,void 0,i):s}}function wx(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:j0(e,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},r.set(i,s)),s}const m6=t=>en(t)&&Object.getOwnPropertyNames(t).some(e=>ts(t[e]));function g6(t,e){const{isScriptable:n,isIndexable:r}=GS(t);for(const i of e){const s=n(i),l=r(i),c=(l||s)&&t[i];if(s&&(ts(c)||m6(c))||l&&Yn(c))return!0}return!1}var v6="4.4.9";const y6=["top","bottom","left","right","chartArea"];function Sx(t,e){return t==="top"||t==="bottom"||y6.indexOf(t)===-1&&e==="x"}function Ex(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function Ax(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),An(n&&n.onComplete,[t],e)}function b6(t){const e=t.chart,n=e.options.animation;An(n&&n.onProgress,[t],e)}function hE(t){return B0()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ad={},Cx=t=>{const e=hE(t);return Object.values(ad).filter(n=>n.canvas===e).pop()};function _6(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const l=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=l)}}}function x6(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Ha;let qd=(Ha=class{static register(...e){ki.add(...e),Tx()}static unregister(...e){ki.remove(...e),Tx()}constructor(e,n){const r=this.config=new p6(n),i=hE(e),s=Cx(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Uj(i)),this.platform.updateConfig(r);const c=this.platform.acquireContext(i,l.aspectRatio),f=c&&c.canvas,d=f&&f.height,h=f&&f.width;if(this.id=gk(),this.ctx=c,this.canvas=f,this.width=h,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new r6,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Lk(m=>this.update(m),l.resizeDelay||0),this._dataChanges=[],ad[this.id]=this,!c||!f){console.error("Failed to create chart: can't acquire context from the given item");return}sa.listen(this,"complete",Ax),sa.listen(this,"progress",b6),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return un(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ki}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():W1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Y1(this.canvas,this.ctx),this}stop(){return sa.stop(this),this}resize(e,n){sa.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,e,n,s),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,W1(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),An(r.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};hn(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((l,c)=>(l[c]=!1,l),{});let s=[];n&&(s=s.concat(Object.keys(n).map(l=>{const c=n[l],f=$g(l,c),d=f==="r",h=f==="x";return{options:c,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),hn(s,l=>{const c=l.options,f=c.id,d=$g(f,c),h=$t(c.type,l.dtype);(c.position===void 0||Sx(c.position,d)!==Sx(l.dposition))&&(c.position=l.dposition),i[f]=!0;let m=null;if(f in r&&r[f].type===h)m=r[f];else{const g=ki.getScale(h);m=new g({id:f,type:h,ctx:this.ctx,chart:this}),r[m.id]=m}m.init(c,e)}),hn(i,(l,c)=>{l||delete r[c]}),hn(r,l=>{ii.configure(this,l,l.options),ii.addBox(this,l)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(Ex("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let l=this.getDatasetMeta(r);const c=s.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=c,l.indexAxis=s.indexAxis||Hg(c,this.options),l.order=s.order||0,l.index=r,l.label=""+s.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const f=ki.getController(c),{datasetElementType:d,dataElementType:h}=In.datasets[c];Object.assign(f,{dataElementType:ki.getElement(h),datasetElementType:d&&ki.getElement(d)}),l.controller=new f(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){hn(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:m}=this.getDatasetMeta(d),g=!i&&s.indexOf(m)===-1;m.buildOrUpdateElements(g),l=Math.max(+m.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),i||hn(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ex("z","_idx"));const{_active:c,_lastEvent:f}=this;f?this._eventHandler(f,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){hn(this.scales,e=>{ii.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!P1(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const l=r==="_removeElements"?-s:s;_6(e,i,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(l=>l[0]===s).map((l,c)=>c+","+l.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!P1(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ii.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],hn(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ts(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(sa.has(this)?this.attached&&!sa.running(this)&&sa.start(this):(this.draw(),Ax({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const l=n[i];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=FM(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&N0(n,i),e.controller.draw(),i&&k0(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return nc(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=yj.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Js(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),l=s.controller._resolveAnimations(void 0,i);Ju(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(s,{visible:r}),this.update(c=>c.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),sa.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Y1(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete ad[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,l)=>{n.addEventListener(this,s,l),e[s]=l},i=(s,l,c)=>{s.offsetX=l,s.offsetY=c,this._eventHandler(s)};hn(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(f,d)=>{n.addEventListener(this,f,d),e[f]=d},i=(f,d)=>{e[f]&&(n.removeEventListener(this,f,d),delete e[f])},s=(f,d)=>{this.canvas&&this.resize(f,d)};let l;const c=()=>{i("attach",c),this.attached=!0,this.resize(),r("resize",s),r("detach",l)};l=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",c)},n.isAttached(this.canvas)?c():l()}unbindEvents(){hn(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},hn(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,l,c,f;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),c=0,f=e.length;c<f;++c){l=e[c];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:l})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[l],index:l}});!wd(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(f,d)=>f.filter(h=>!d.some(m=>h.datasetIndex===m.datasetIndex&&h.index===m.index)),l=s(n,e),c=r?e:s(e,n);l.length&&this.updateHoverStyle(l,i.mode,!1),c.length&&i.mode&&this.updateHoverStyle(c,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,l=n,c=this._getActiveElements(e,i,r,l),f=wk(e),d=x6(e,this._lastEvent,r,f);r&&(this._lastEvent=null,An(s.onHover,[e,c,this],this),f&&An(s.onClick,[e,c,this],this));const h=!wd(c,i);return(h||n)&&(this._active=c,this._updateHoverStyles(c,i,n)),this._lastEvent=d,h}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},ot(Ha,"defaults",In),ot(Ha,"instances",ad),ot(Ha,"overrides",Zs),ot(Ha,"registry",ki),ot(Ha,"version",v6),ot(Ha,"getChart",Cx),Ha);function Tx(){return hn(qd.instances,t=>t._plugins.invalidate())}function w6(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:l,outerRadius:c,innerRadius:f}=e;let d=i/c;t.beginPath(),t.arc(s,l,c,r-d,n+d),f>i?(d=i/f,t.arc(s,l,f,n+d,r-d,!0)):t.arc(s,l,i,n+Xn,r-Xn),t.closePath(),t.clip()}function S6(t){return M0(t,["outerStart","outerEnd","innerStart","innerEnd"])}function E6(t,e,n,r){const i=S6(t.options.borderRadius),s=(n-e)/2,l=Math.min(s,r*e/2),c=f=>{const d=(n-Math.min(s,f))*r/2;return gr(f,0,Math.min(s,d))};return{outerStart:c(i.outerStart),outerEnd:c(i.outerEnd),innerStart:gr(i.innerStart,0,l),innerEnd:gr(i.innerEnd,0,l)}}function Ko(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Dd(t,e,n,r,i,s){const{x:l,y:c,startAngle:f,pixelMargin:d,innerRadius:h}=e,m=Math.max(e.outerRadius+r+n-d,0),g=h>0?h+r+n+d:0;let v=0;const _=i-f;if(r){const k=h>0?h-r:0,A=m>0?m-r:0,R=(k+A)/2,Q=R!==0?_*R/(R+r):_;v=(_-Q)/2}const C=Math.max(.001,_*m-n/Ln)/m,T=(_-C)/2,S=f+T+v,P=i-T-v,{outerStart:L,outerEnd:I,innerStart:j,innerEnd:N}=E6(e,g,m,P-S),B=m-L,D=m-I,O=S+L/B,V=P-I/D,$=g+j,J=g+N,ce=S+j/$,Y=P-N/J;if(t.beginPath(),s){const k=(O+V)/2;if(t.arc(l,c,m,O,k),t.arc(l,c,m,k,V),I>0){const re=Ko(D,V,l,c);t.arc(re.x,re.y,I,V,P+Xn)}const A=Ko(J,P,l,c);if(t.lineTo(A.x,A.y),N>0){const re=Ko(J,Y,l,c);t.arc(re.x,re.y,N,P+Xn,Y+Math.PI)}const R=(P-N/g+(S+j/g))/2;if(t.arc(l,c,g,P-N/g,R,!0),t.arc(l,c,g,R,S+j/g,!0),j>0){const re=Ko($,ce,l,c);t.arc(re.x,re.y,j,ce+Math.PI,S-Xn)}const Q=Ko(B,S,l,c);if(t.lineTo(Q.x,Q.y),L>0){const re=Ko(B,O,l,c);t.arc(re.x,re.y,L,S-Xn,O)}}else{t.moveTo(l,c);const k=Math.cos(O)*m+l,A=Math.sin(O)*m+c;t.lineTo(k,A);const R=Math.cos(V)*m+l,Q=Math.sin(V)*m+c;t.lineTo(R,Q)}t.closePath()}function A6(t,e,n,r,i){const{fullCircles:s,startAngle:l,circumference:c}=e;let f=e.endAngle;if(s){Dd(t,e,n,r,f,i);for(let d=0;d<s;++d)t.fill();isNaN(c)||(f=l+(c%Mn||Mn))}return Dd(t,e,n,r,f,i),t.fill(),f}function C6(t,e,n,r,i){const{fullCircles:s,startAngle:l,circumference:c,options:f}=e,{borderWidth:d,borderJoinStyle:h,borderDash:m,borderDashOffset:g}=f,v=f.borderAlign==="inner";if(!d)return;t.setLineDash(m||[]),t.lineDashOffset=g,v?(t.lineWidth=d*2,t.lineJoin=h||"round"):(t.lineWidth=d,t.lineJoin=h||"bevel");let _=e.endAngle;if(s){Dd(t,e,n,r,_,i);for(let C=0;C<s;++C)t.stroke();isNaN(c)||(_=l+(c%Mn||Mn))}v&&w6(t,e,_),s||(Dd(t,e,n,r,_,i),t.stroke())}class Pu extends da{constructor(n){super();ot(this,"circumference");ot(this,"endAngle");ot(this,"fullCircles");ot(this,"innerRadius");ot(this,"outerRadius");ot(this,"pixelMargin");ot(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:l,distance:c}=zS(s,{x:n,y:r}),{startAngle:f,endAngle:d,innerRadius:h,outerRadius:m,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=(this.options.spacing+this.options.borderWidth)/2,_=$t(g,d-f),C=tc(l,f,d)&&f!==d,T=_>=Mn||C,S=Za(c,h+v,m+v);return T&&S}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:l,innerRadius:c,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:d,spacing:h}=this.options,m=(s+l)/2,g=(c+f+h+d)/2;return{x:r+Math.cos(m)*g,y:i+Math.sin(m)*g}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,l=(r.spacing||0)/2,c=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Mn?Math.floor(i/Mn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const f=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(f)*s,Math.sin(f)*s);const d=1-Math.sin(Math.min(Ln,i||0)),h=s*d;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,A6(n,this,h,l,c),C6(n,this,h,l,c),n.restore()}}ot(Pu,"id","arc"),ot(Pu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ot(Pu,"defaultRoutes",{backgroundColor:"backgroundColor"}),ot(Pu,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function pE(t,e,n=e){t.lineCap=$t(n.borderCapStyle,e.borderCapStyle),t.setLineDash($t(n.borderDash,e.borderDash)),t.lineDashOffset=$t(n.borderDashOffset,e.borderDashOffset),t.lineJoin=$t(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=$t(n.borderWidth,e.borderWidth),t.strokeStyle=$t(n.borderColor,e.borderColor)}function T6(t,e,n){t.lineTo(n.x,n.y)}function D6(t){return t.stepped?Wk:t.tension||t.cubicInterpolationMode==="monotone"?Zk:T6}function mE(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:l,end:c}=e,f=Math.max(i,l),d=Math.min(s,c),h=i<l&&s<l||i>c&&s>c;return{count:r,start:f,loop:e.loop,ilen:d<f&&!h?r+d-f:d-f}}function O6(t,e,n,r){const{points:i,options:s}=e,{count:l,start:c,loop:f,ilen:d}=mE(i,n,r),h=D6(s);let{move:m=!0,reverse:g}=r||{},v,_,C;for(v=0;v<=d;++v)_=i[(c+(g?d-v:v))%l],!_.skip&&(m?(t.moveTo(_.x,_.y),m=!1):h(t,C,_,g,s.stepped),C=_);return f&&(_=i[(c+(g?d:0))%l],h(t,C,_,g,s.stepped)),!!f}function R6(t,e,n,r){const i=e.points,{count:s,start:l,ilen:c}=mE(i,n,r),{move:f=!0,reverse:d}=r||{};let h=0,m=0,g,v,_,C,T,S;const P=I=>(l+(d?c-I:I))%s,L=()=>{C!==T&&(t.lineTo(h,T),t.lineTo(h,C),t.lineTo(h,S))};for(f&&(v=i[P(0)],t.moveTo(v.x,v.y)),g=0;g<=c;++g){if(v=i[P(g)],v.skip)continue;const I=v.x,j=v.y,N=I|0;N===_?(j<C?C=j:j>T&&(T=j),h=(m*h+I)/++m):(L(),t.lineTo(I,j),_=N,m=0,C=T=j),S=j}L()}function Vg(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?R6:O6}function N6(t){return t.stepped?DM:t.tension||t.cubicInterpolationMode==="monotone"?OM:Bs}function k6(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),pE(t,e.options),t.stroke(i)}function M6(t,e,n,r){const{segments:i,options:s}=e,l=Vg(e);for(const c of i)pE(t,s,c.style),t.beginPath(),l(t,e,c,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const j6=typeof Path2D=="function";function L6(t,e,n,r){j6&&!e.options.segment?k6(t,e,n,r):M6(t,e,n,r)}class Bu extends da{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;_M(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=BM(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,l=jM(this,{property:n,start:i,end:i});if(!l.length)return;const c=[],f=N6(r);let d,h;for(d=0,h=l.length;d<h;++d){const{start:m,end:g}=l[d],v=s[m],_=s[g];if(v===_){c.push(v);continue}const C=Math.abs((i-v[n])/(_[n]-v[n])),T=f(v,_,C,r.stepped);T[n]=e[n],c.push(T)}return c.length===1?c[0]:c}pathSegment(e,n,r){return Vg(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=Vg(this);let l=this._loop;n=n||0,r=r||this.points.length-n;for(const c of i)l&=s(e,this,c,{start:n,end:n+r-1});return!!l}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),L6(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ot(Bu,"id","line"),ot(Bu,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ot(Bu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ot(Bu,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Dx(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class sd extends da{constructor(n){super();ot(this,"parsed");ot(this,"skip");ot(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:l,y:c}=this.getProps(["x","y"],i);return Math.pow(n-l,2)+Math.pow(r-c,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return Dx(this,n,"x",r)}inYRange(n,r){return Dx(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!nc(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Fg(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ot(sd,"id","point"),ot(sd,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ot(sd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function gE(t,e){const{x:n,y:r,base:i,width:s,height:l}=t.getProps(["x","y","base","width","height"],e);let c,f,d,h,m;return t.horizontal?(m=l/2,c=Math.min(n,i),f=Math.max(n,i),d=r-m,h=r+m):(m=s/2,c=n-m,f=n+m,d=Math.min(r,i),h=Math.max(r,i)),{left:c,top:d,right:f,bottom:h}}function Ka(t,e,n,r){return t?0:gr(e,n,r)}function P6(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=XS(r);return{t:Ka(i.top,s.top,0,n),r:Ka(i.right,s.right,0,e),b:Ka(i.bottom,s.bottom,0,n),l:Ka(i.left,s.left,0,e)}}function B6(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=il(i),l=Math.min(e,n),c=t.borderSkipped,f=r||en(i);return{topLeft:Ka(!f||c.top||c.left,s.topLeft,0,l),topRight:Ka(!f||c.top||c.right,s.topRight,0,l),bottomLeft:Ka(!f||c.bottom||c.left,s.bottomLeft,0,l),bottomRight:Ka(!f||c.bottom||c.right,s.bottomRight,0,l)}}function I6(t){const e=gE(t),n=e.right-e.left,r=e.bottom-e.top,i=P6(t,n/2,r/2),s=B6(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function gg(t,e,n,r){const i=e===null,s=n===null,c=t&&!(i&&s)&&gE(t,r);return c&&(i||Za(e,c.left,c.right))&&(s||Za(n,c.top,c.bottom))}function U6(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function z6(t,e){t.rect(e.x,e.y,e.w,e.h)}function vg(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,l=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+l,radius:t.radius}}class od extends da{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:l}=I6(this),c=U6(l.radius)?Ad:z6;e.save(),(l.w!==s.w||l.h!==s.h)&&(e.beginPath(),c(e,vg(l,n,s)),e.clip(),c(e,vg(s,-n,l)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),c(e,vg(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return gg(this,e,n,r)}inXRange(e,n){return gg(this,e,null,n)}inYRange(e,n){return gg(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ot(od,"id","bar"),ot(od,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ot(od,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Ox=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},F6=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Rx extends da{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=An(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=vr(r.font),s=i.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:f}=Ox(r,s);let d,h;n.font=i.string,this.isHorizontal()?(d=this.maxWidth,h=this._fitRows(l,s,c,f)+10):(h=this.maxHeight,d=this._fitCols(l,i,c,f)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:l,options:{labels:{padding:c}}}=this,f=this.legendHitBoxes=[],d=this.lineWidths=[0],h=i+c;let m=e;s.textAlign="left",s.textBaseline="middle";let g=-1,v=-h;return this.legendItems.forEach((_,C)=>{const T=r+n/2+s.measureText(_.text).width;(C===0||d[d.length-1]+T+2*c>l)&&(m+=h,d[d.length-(C>0?0:1)]=0,v+=h,g++),f[C]={left:0,top:v,row:g,width:T,height:i},d[d.length-1]+=T+c}),m}_fitCols(e,n,r,i){const{ctx:s,maxHeight:l,options:{labels:{padding:c}}}=this,f=this.legendHitBoxes=[],d=this.columnSizes=[],h=l-e;let m=c,g=0,v=0,_=0,C=0;return this.legendItems.forEach((T,S)=>{const{itemWidth:P,itemHeight:L}=q6(r,n,s,T,i);S>0&&v+L+2*c>h&&(m+=g+c,d.push({width:g,height:v}),_+=g+c,C++,g=v=0),f[S]={left:_,top:v,col:C,width:P,height:L},g=Math.max(g,P),v+=L+c}),m+=g,d.push({width:g,height:v}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,l=al(s,this.left,this.width);if(this.isHorizontal()){let c=0,f=mr(r,this.left+i,this.right-this.lineWidths[c]);for(const d of n)c!==d.row&&(c=d.row,f=mr(r,this.left+i,this.right-this.lineWidths[c])),d.top+=this.top+e+i,d.left=l.leftForLtr(l.x(f),d.width),f+=d.width+i}else{let c=0,f=mr(r,this.top+e+i,this.bottom-this.columnSizes[c].height);for(const d of n)d.col!==c&&(c=d.col,f=mr(r,this.top+e+i,this.bottom-this.columnSizes[c].height)),d.top=f,d.left+=this.left+i,d.left=l.leftForLtr(l.x(d.left),d.width),f+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;N0(e,this),this._draw(),k0(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:l}=e,c=In.color,f=al(e.rtl,this.left,this.width),d=vr(l.font),{padding:h}=l,m=d.size,g=m/2;let v;this.drawTitle(),i.textAlign=f.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:_,boxHeight:C,itemHeight:T}=Ox(l,m),S=function(N,B,D){if(isNaN(_)||_<=0||isNaN(C)||C<0)return;i.save();const O=$t(D.lineWidth,1);if(i.fillStyle=$t(D.fillStyle,c),i.lineCap=$t(D.lineCap,"butt"),i.lineDashOffset=$t(D.lineDashOffset,0),i.lineJoin=$t(D.lineJoin,"miter"),i.lineWidth=O,i.strokeStyle=$t(D.strokeStyle,c),i.setLineDash($t(D.lineDash,[])),l.usePointStyle){const V={radius:C*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:O},$=f.xPlus(N,_/2),J=B+g;YS(i,V,$,J,l.pointStyleWidth&&_)}else{const V=B+Math.max((m-C)/2,0),$=f.leftForLtr(N,_),J=il(D.borderRadius);i.beginPath(),Object.values(J).some(ce=>ce!==0)?Ad(i,{x:$,y:V,w:_,h:C,radius:J}):i.rect($,V,_,C),i.fill(),O!==0&&i.stroke()}i.restore()},P=function(N,B,D){rc(i,D.text,N,B+T/2,d,{strikethrough:D.hidden,textAlign:f.textAlign(D.textAlign)})},L=this.isHorizontal(),I=this._computeTitleHeight();L?v={x:mr(s,this.left+h,this.right-r[0]),y:this.top+h+I,line:0}:v={x:this.left+h,y:mr(s,this.top+I+h,this.bottom-n[0].height),line:0},JS(this.ctx,e.textDirection);const j=T+h;this.legendItems.forEach((N,B)=>{i.strokeStyle=N.fontColor,i.fillStyle=N.fontColor;const D=i.measureText(N.text).width,O=f.textAlign(N.textAlign||(N.textAlign=l.textAlign)),V=_+g+D;let $=v.x,J=v.y;f.setWidth(this.width),L?B>0&&$+V+h>this.right&&(J=v.y+=j,v.line++,$=v.x=mr(s,this.left+h,this.right-r[v.line])):B>0&&J+j>this.bottom&&($=v.x=$+n[v.line].width+h,v.line++,J=v.y=mr(s,this.top+I+h,this.bottom-n[v.line].height));const ce=f.x($);if(S(ce,J,N),$=Pk(O,$+_+g,L?$+V:this.right,e.rtl),P(f.x($),J,N),L)v.x+=V+h;else if(typeof N.text!="string"){const Y=d.lineHeight;v.y+=vE(N,Y)+h}else v.y+=j}),eE(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=vr(n.font),i=si(n.padding);if(!n.display)return;const s=al(e.rtl,this.left,this.width),l=this.ctx,c=n.position,f=r.size/2,d=i.top+f;let h,m=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),h=this.top+d,m=mr(e.align,m,this.right-g);else{const _=this.columnSizes.reduce((C,T)=>Math.max(C,T.height),0);h=d+mr(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const v=mr(c,m,m+g);l.textAlign=s.textAlign(D0(c)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=r.string,rc(l,n.text,v,h,r)}_computeTitleHeight(){const e=this.options.title,n=vr(e.font),r=si(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Za(e,this.left,this.right)&&Za(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Za(e,i.left,i.left+i.width)&&Za(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!V6(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=F6(i,r);i&&!s&&An(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&An(n.onHover,[e,r,this],this)}else r&&An(n.onClick,[e,r,this],this)}}function q6(t,e,n,r,i){const s=H6(r,t,e,n),l=$6(i,r,e.lineHeight);return{itemWidth:s,itemHeight:l}}function H6(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,l)=>s.length>l.length?s:l)),e+n.size/2+r.measureText(i).width}function $6(t,e,n){let r=t;return typeof e.text!="string"&&(r=vE(e,n)),r}function vE(t,e){const n=t.text?t.text.length:0;return e*n}function V6(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Y6={id:"legend",_element:Rx,start(t,e,n){const r=t.legend=new Rx({ctx:t.ctx,options:n,chart:t});ii.configure(t,r,n),ii.addBox(t,r)},stop(t){ii.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;ii.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:l,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(f=>{const d=f.controller.getStyle(n?0:void 0),h=si(d.borderWidth);return{text:e[f.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!f.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:l&&(c||d.borderRadius),datasetIndex:f.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class yE extends da{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Yn(r.text)?r.text.length:1;this._padding=si(r.padding);const s=i*vr(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:l}=this,c=l.align;let f=0,d,h,m;return this.isHorizontal()?(h=mr(c,r,s),m=n+e,d=s-r):(l.position==="left"?(h=r+e,m=mr(c,i,n),f=Ln*-.5):(h=s-e,m=mr(c,n,i),f=Ln*.5),d=i-n),{titleX:h,titleY:m,maxWidth:d,rotation:f}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=vr(n.font),s=r.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:f,rotation:d}=this._drawArgs(s);rc(e,n.text,0,0,r,{color:n.color,maxWidth:f,rotation:d,textAlign:D0(n.align),textBaseline:"middle",translation:[l,c]})}}function X6(t,e){const n=new yE({ctx:t.ctx,options:e,chart:t});ii.configure(t,n,e),ii.addBox(t,n),t.titleBlock=n}var G6={id:"title",_element:yE,start(t,e,n){X6(t,n)},stop(t){const e=t.titleBlock;ii.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;ii.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Iu={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const c=t[e].element;if(c&&c.hasValue()){const f=c.tooltipPosition();r.add(f.x),i+=f.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((c,f)=>c+f)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,l,c;for(s=0,l=t.length;s<l;++s){const f=t[s].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),h=Ug(e,d);h<i&&(i=h,c=f)}}if(c){const f=c.tooltipPosition();n=f.x,r=f.y}return{x:n,y:r}}};function Ni(t,e){return e&&(Yn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function oa(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function W6(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:l,value:c}=s.getLabelAndValue(i);return{chart:t,label:l,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:c,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Nx(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:l,boxHeight:c}=e,f=vr(e.bodyFont),d=vr(e.titleFont),h=vr(e.footerFont),m=s.length,g=i.length,v=r.length,_=si(e.padding);let C=_.height,T=0,S=r.reduce((I,j)=>I+j.before.length+j.lines.length+j.after.length,0);if(S+=t.beforeBody.length+t.afterBody.length,m&&(C+=m*d.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),S){const I=e.displayColors?Math.max(c,f.lineHeight):f.lineHeight;C+=v*I+(S-v)*f.lineHeight+(S-1)*e.bodySpacing}g&&(C+=e.footerMarginTop+g*h.lineHeight+(g-1)*e.footerSpacing);let P=0;const L=function(I){T=Math.max(T,n.measureText(I).width+P)};return n.save(),n.font=d.string,hn(t.title,L),n.font=f.string,hn(t.beforeBody.concat(t.afterBody),L),P=e.displayColors?l+2+e.boxPadding:0,hn(r,I=>{hn(I.before,L),hn(I.lines,L),hn(I.after,L)}),P=0,n.font=h.string,hn(t.footer,L),n.restore(),T+=_.width,{width:T,height:C}}function Z6(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function K6(t,e,n,r){const{x:i,width:s}=r,l=n.caretSize+n.caretPadding;if(t==="left"&&i+s+l>e.width||t==="right"&&i-s-l<0)return!0}function Q6(t,e,n,r){const{x:i,width:s}=n,{width:l,chartArea:{left:c,right:f}}=t;let d="center";return r==="center"?d=i<=(c+f)/2?"left":"right":i<=s/2?d="left":i>=l-s/2&&(d="right"),K6(d,t,e,n)&&(d="center"),d}function kx(t,e,n){const r=n.yAlign||e.yAlign||Z6(t,n);return{xAlign:n.xAlign||e.xAlign||Q6(t,e,n,r),yAlign:r}}function J6(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function e4(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function Mx(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:l}=t,{xAlign:c,yAlign:f}=n,d=i+s,{topLeft:h,topRight:m,bottomLeft:g,bottomRight:v}=il(l);let _=J6(e,c);const C=e4(e,f,d);return f==="center"?c==="left"?_+=d:c==="right"&&(_-=d):c==="left"?_-=Math.max(h,g)+i:c==="right"&&(_+=Math.max(m,v)+i),{x:gr(_,0,r.width-e.width),y:gr(C,0,r.height-e.height)}}function Xf(t,e,n){const r=si(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function jx(t){return Ni([],oa(t))}function t4(t,e,n){return Js(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Lx(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const bE={beforeTitle:aa,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:aa,beforeBody:aa,beforeLabel:aa,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return un(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:aa,afterBody:aa,beforeFooter:aa,footer:aa,afterFooter:aa};function Dr(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?bE[e].call(n,r):i}class Yg extends da{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new nE(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=t4(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Dr(r,"beforeTitle",this,e),s=Dr(r,"title",this,e),l=Dr(r,"afterTitle",this,e);let c=[];return c=Ni(c,oa(i)),c=Ni(c,oa(s)),c=Ni(c,oa(l)),c}getBeforeBody(e,n){return jx(Dr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return hn(e,s=>{const l={before:[],lines:[],after:[]},c=Lx(r,s);Ni(l.before,oa(Dr(c,"beforeLabel",this,s))),Ni(l.lines,Dr(c,"label",this,s)),Ni(l.after,oa(Dr(c,"afterLabel",this,s))),i.push(l)}),i}getAfterBody(e,n){return jx(Dr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Dr(r,"beforeFooter",this,e),s=Dr(r,"footer",this,e),l=Dr(r,"afterFooter",this,e);let c=[];return c=Ni(c,oa(i)),c=Ni(c,oa(s)),c=Ni(c,oa(l)),c}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],l=[];let c=[],f,d;for(f=0,d=n.length;f<d;++f)c.push(W6(this.chart,n[f]));return e.filter&&(c=c.filter((h,m,g)=>e.filter(h,m,g,r))),e.itemSort&&(c=c.sort((h,m)=>e.itemSort(h,m,r))),hn(c,h=>{const m=Lx(e.callbacks,h);i.push(Dr(m,"labelColor",this,h)),s.push(Dr(m,"labelPointStyle",this,h)),l.push(Dr(m,"labelTextColor",this,h))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=l,this.dataPoints=c,c}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,l=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const c=Iu[r.position].call(this,i,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const f=this._size=Nx(this,r),d=Object.assign({},c,f),h=kx(this.chart,r,d),m=Mx(r,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:m.x,y:m.y,width:f.width,height:f.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:l,cornerRadius:c}=r,{topLeft:f,topRight:d,bottomLeft:h,bottomRight:m}=il(c),{x:g,y:v}=e,{width:_,height:C}=n;let T,S,P,L,I,j;return s==="center"?(I=v+C/2,i==="left"?(T=g,S=T-l,L=I+l,j=I-l):(T=g+_,S=T+l,L=I-l,j=I+l),P=T):(i==="left"?S=g+Math.max(f,h)+l:i==="right"?S=g+_-Math.max(d,m)-l:S=this.caretX,s==="top"?(L=v,I=L-l,T=S-l,P=S+l):(L=v+C,I=L+l,T=S+l,P=S-l),j=L),{x1:T,x2:S,x3:P,y1:L,y2:I,y3:j}}drawTitle(e,n,r){const i=this.title,s=i.length;let l,c,f;if(s){const d=al(r.rtl,this.x,this.width);for(e.x=Xf(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",l=vr(r.titleFont),c=r.titleSpacing,n.fillStyle=r.titleColor,n.font=l.string,f=0;f<s;++f)n.fillText(i[f],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,f+1===s&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,n,r,i,s){const l=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:f,boxWidth:d}=s,h=vr(s.bodyFont),m=Xf(this,"left",s),g=i.x(m),v=f<h.lineHeight?(h.lineHeight-f)/2:0,_=n.y+v;if(s.usePointStyle){const C={radius:Math.min(d,f)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},T=i.leftForLtr(g,d)+d/2,S=_+f/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Fg(e,C,T,S),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Fg(e,C,T,S)}else{e.lineWidth=en(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const C=i.leftForLtr(g,d),T=i.leftForLtr(i.xPlus(g,1),d-2),S=il(l.borderRadius);Object.values(S).some(P=>P!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Ad(e,{x:C,y:_,w:d,h:f,radius:S}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),Ad(e,{x:T,y:_+1,w:d-2,h:f-2,radius:S}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(C,_,d,f),e.strokeRect(C,_,d,f),e.fillStyle=l.backgroundColor,e.fillRect(T,_+1,d-2,f-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:l,displayColors:c,boxHeight:f,boxWidth:d,boxPadding:h}=r,m=vr(r.bodyFont);let g=m.lineHeight,v=0;const _=al(r.rtl,this.x,this.width),C=function(D){n.fillText(D,_.x(e.x+v),e.y+g/2),e.y+=g+s},T=_.textAlign(l);let S,P,L,I,j,N,B;for(n.textAlign=l,n.textBaseline="middle",n.font=m.string,e.x=Xf(this,T,r),n.fillStyle=r.bodyColor,hn(this.beforeBody,C),v=c&&T!=="right"?l==="center"?d/2+h:d+2+h:0,I=0,N=i.length;I<N;++I){for(S=i[I],P=this.labelTextColors[I],n.fillStyle=P,hn(S.before,C),L=S.lines,c&&L.length&&(this._drawColorBox(n,e,I,_,r),g=Math.max(m.lineHeight,f)),j=0,B=L.length;j<B;++j)C(L[j]),g=m.lineHeight;hn(S.after,C)}v=0,g=m.lineHeight,hn(this.afterBody,C),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let l,c;if(s){const f=al(r.rtl,this.x,this.width);for(e.x=Xf(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=f.textAlign(r.footerAlign),n.textBaseline="middle",l=vr(r.footerFont),n.fillStyle=r.footerColor,n.font=l.string,c=0;c<s;++c)n.fillText(i[c],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:l}=this,{x:c,y:f}=e,{width:d,height:h}=r,{topLeft:m,topRight:g,bottomLeft:v,bottomRight:_}=il(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(c+m,f),l==="top"&&this.drawCaret(e,n,r,i),n.lineTo(c+d-g,f),n.quadraticCurveTo(c+d,f,c+d,f+g),l==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(c+d,f+h-_),n.quadraticCurveTo(c+d,f+h,c+d-_,f+h),l==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(c+v,f+h),n.quadraticCurveTo(c,f+h,c,f+h-v),l==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(c,f+m),n.quadraticCurveTo(c,f,c+m,f),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const l=Iu[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=Nx(this,e),f=Object.assign({},l,this._size),d=kx(n,e,f),h=Mx(e,f,d,n);(i._to!==h.x||s._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=si(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),JS(e,n.textDirection),s.y+=l.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),eE(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:c,index:f})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[f],index:f}}),s=!wd(r,i),l=this._positionChanged(i,n);(s||l)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],l=this._getActiveElements(e,s,n,r),c=this._positionChanged(l,e),f=n||!wd(l,s)||c;return f&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),f}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&l.reverse(),l}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,l=Iu[s.position].call(this,e,n);return l!==!1&&(r!==l.x||i!==l.y)}}ot(Yg,"positioners",Iu);var n4={id:"tooltip",_element:Yg,positioners:Iu,afterInit(t,e,n){n&&(t.tooltip=new Yg({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:bE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const r4=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function i4(t,e,n,r){const i=t.indexOf(e);if(i===-1)return r4(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const a4=(t,e)=>t===null?null:gr(Math.round(t),0,e);function Px(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Xg extends bl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(un(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:i4(r,e,$t(n,e),this._addedLabels),a4(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=e;l<=n;l++)i.push({value:l});return i}getLabelForValue(e){return Px.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ot(Xg,"id","category"),ot(Xg,"defaults",{ticks:{callback:Px}});function s4(t,e){const n=[],{bounds:i,step:s,min:l,max:c,precision:f,count:d,maxTicks:h,maxDigits:m,includeBounds:g}=t,v=s||1,_=h-1,{min:C,max:T}=e,S=!un(l),P=!un(c),L=!un(d),I=(T-C)/(m+1);let j=I1((T-C)/_/v)*v,N,B,D,O;if(j<1e-14&&!S&&!P)return[{value:C},{value:T}];O=Math.ceil(T/j)-Math.floor(C/j),O>_&&(j=I1(O*j/_/v)*v),un(f)||(N=Math.pow(10,f),j=Math.ceil(j*N)/N),i==="ticks"?(B=Math.floor(C/j)*j,D=Math.ceil(T/j)*j):(B=C,D=T),S&&P&&s&&Tk((c-l)/s,j/1e3)?(O=Math.round(Math.min((c-l)/j,h)),j=(c-l)/O,B=l,D=c):L?(B=S?l:B,D=P?c:D,O=d-1,j=(D-B)/O):(O=(D-B)/j,Hu(O,Math.round(O),j/1e3)?O=Math.round(O):O=Math.ceil(O));const V=Math.max(U1(j),U1(B));N=Math.pow(10,un(f)?V:f),B=Math.round(B*N)/N,D=Math.round(D*N)/N;let $=0;for(S&&(g&&B!==l?(n.push({value:l}),B<l&&$++,Hu(Math.round((B+$*j)*N)/N,l,Bx(l,I,t))&&$++):B<l&&$++);$<O;++$){const J=Math.round((B+$*j)*N)/N;if(P&&J>c)break;n.push({value:J})}return P&&g&&D!==c?n.length&&Hu(n[n.length-1].value,c,Bx(c,I,t))?n[n.length-1].value=c:n.push({value:c}):(!P||D===c)&&n.push({value:D}),n}function Bx(t,e,{horizontal:n,minRotation:r}){const i=ca(r),s=(n?Math.sin(i):Math.cos(i))||.001,l=.75*e*(""+t).length;return Math.min(e/s,l)}class o4 extends bl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return un(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const l=f=>i=n?i:f,c=f=>s=r?s:f;if(e){const f=Ii(i),d=Ii(s);f<0&&d<0?c(0):f>0&&d>0&&l(0)}if(i===s){let f=s===0?1:Math.abs(s*.05);c(s+f),e||l(i-f)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,l=s4(i,s);return e.bounds==="ticks"&&Dk(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return R0(e,this.chart.options.locale,this.options.ticks.format)}}class Gg extends o4{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ai(e)?e:0,this.max=ai(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=ca(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ot(Gg,"id","linear"),ot(Gg,"defaults",{ticks:{callback:VS.formatters.numeric}});const Hd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rr=Object.keys(Hd);function Ix(t,e){return t-e}function Ux(t,e){if(un(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),ai(l)||(l=typeof r=="string"?n.parse(l,r):n.parse(l)),l===null?null:(i&&(l=i==="week"&&(ec(s)||s===!0)?n.startOf(l,"isoWeek",s):n.startOf(l,i)),+l)}function zx(t,e,n,r){const i=Rr.length;for(let s=Rr.indexOf(t);s<i-1;++s){const l=Hd[Rr[s]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-e)/(c*l.size))<=r)return Rr[s]}return Rr[i-1]}function l4(t,e,n,r,i){for(let s=Rr.length-1;s>=Rr.indexOf(n);s--){const l=Rr[s];if(Hd[l].common&&t._adapter.diff(i,r,l)>=e-1)return l}return Rr[n?Rr.indexOf(n):0]}function u4(t){for(let e=Rr.indexOf(t)+1,n=Rr.length;e<n;++e)if(Hd[Rr[e]].common)return Rr[e]}function Fx(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=T0(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function c4(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),l=e[e.length-1].value;let c,f;for(c=s;c<=l;c=+i.add(c,1,r))f=n[c],f>=0&&(e[f].major=!0);return e}function qx(t,e,n){const r=[],i={},s=e.length;let l,c;for(l=0;l<s;++l)c=e[l],i[c]=l,r.push({value:c,major:!1});return s===0||!n?r:c4(t,r,i,n)}class Od extends bl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new hj._date(e.adapters.date);i.init(n),qu(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Ux(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:l,maxDefined:c}=this.getUserBounds();function f(d){!l&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!c&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!l||!c)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),i=ai(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=ai(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,l=this.max,c=Mk(i,s,l);return this._unit=n.unit||(r.autoSkip?zx(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):l4(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:u4(this._unit),this.initOffsets(i),e.reverse&&c.reverse(),qx(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;n=gr(n,0,l),r=gr(r,0,l),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,l=s.unit||zx(s.minUnit,n,r,this._getLabelCapacity(n)),c=$t(i.ticks.stepSize,1),f=l==="week"?s.isoWeekday:!1,d=ec(f)||f===!0,h={};let m=n,g,v;if(d&&(m=+e.startOf(m,"isoWeek",f)),m=+e.startOf(m,d?"day":l),e.diff(r,n,l)>1e5*c)throw new Error(n+" and "+r+" are too far apart with stepSize of "+c+" "+l);const _=i.ticks.source==="data"&&this.getDataTimestamps();for(g=m,v=0;g<r;g=+e.add(g,c,l),v++)Fx(h,g,_);return(g===r||i.bounds==="ticks"||v===1)&&Fx(h,g,_),Object.keys(h).sort(Ix).map(C=>+C)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,l=n||i[s];return this._adapter.format(e,l)}_tickFormatFunction(e,n,r,i){const s=this.options,l=s.ticks.callback;if(l)return An(l,[e,n,r],this);const c=s.time.displayFormats,f=this._unit,d=this._majorUnit,h=f&&c[f],m=d&&c[d],g=r[n],v=d&&m&&g&&g.major;return this._adapter.format(e,i||(v?m:h))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=ca(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),l=Math.sin(i),c=this._resolveTickFontOptions(0).size;return{w:r*s+c*l,h:r*l+c*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,qx(this,[e],this._majorUnit),i),l=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(Ux(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return qS(e.sort(Ix))}}ot(Od,"id","time"),ot(Od,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Gf(t,e,n){let r=0,i=t.length-1,s,l,c,f;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=zs(t,"pos",e)),{pos:s,time:c}=t[r],{pos:l,time:f}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=zs(t,"time",e)),{time:s,pos:c}=t[r],{time:l,pos:f}=t[i]);const d=l-s;return d?c+(f-c)*(e-s)/d:c}class Hx extends Od{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Gf(n,this.min),this._tableRange=Gf(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let l,c,f,d,h;for(l=0,c=e.length;l<c;++l)d=e[l],d>=n&&d<=r&&i.push(d);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(l=0,c=i.length;l<c;++l)h=i[l+1],f=i[l-1],d=i[l],Math.round((h+f)/2)!==d&&s.push({time:d,pos:l/(c-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Gf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Gf(this._table,r*this._tableRange+this._minPos,!0)}}ot(Hx,"id","timeseries"),ot(Hx,"defaults",Od.defaults);const _E="label";function $x(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function f4(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function xE(t,e){t.labels=e}function wE(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_E;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(l=>l[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function d4(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_E;const n={labels:[],datasets:[]};return xE(n,t.labels),wE(n,t.datasets,e),n}function h4(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:l,data:c,options:f,plugins:d=[],fallbackContent:h,updateMode:m,...g}=t,v=se.useRef(null),_=se.useRef(null),C=()=>{v.current&&(_.current=new qd(v.current,{type:l,data:d4(c,s),options:f&&{...f},plugins:d}),$x(e,_.current))},T=()=>{$x(e,null),_.current&&(_.current.destroy(),_.current=null)};return se.useEffect(()=>{!i&&_.current&&f&&f4(_.current,f)},[i,f]),se.useEffect(()=>{!i&&_.current&&xE(_.current.config.data,c.labels)},[i,c.labels]),se.useEffect(()=>{!i&&_.current&&c.datasets&&wE(_.current.config.data,c.datasets,s)},[i,c.datasets]),se.useEffect(()=>{_.current&&(i?(T(),setTimeout(C)):_.current.update(m))},[i,f,c.labels,c.datasets,m]),se.useEffect(()=>{_.current&&(T(),setTimeout(C))},[l]),se.useEffect(()=>(C(),()=>T()),[]),or.createElement("canvas",{ref:v,role:"img",height:n,width:r,...g},h)}const p4=se.forwardRef(h4);function z0(t,e){return qd.register(e),se.forwardRef((n,r)=>or.createElement(p4,{...n,ref:r,type:t}))}const m4=z0("line",rd),g4=z0("bar",nd),v4=z0("pie",qg);qd.register(Xg,Gg,sd,Bu,od,G6,n4,Y6,Pu);const y4=({supabase:t,salesDataUpdated:e,clientsDataUpdated:n})=>{const[r,i]=se.useState([]),[s,l]=se.useState([]),[c,f]=se.useState([]),[d,h]=se.useState([]),[m,g]=se.useState([]),[v,_]=se.useState(""),[C,T]=se.useState(""),[S,P]=se.useState(!1),[L,I]=se.useState(""),[j,N]=se.useState("line"),[B,D]=se.useState("service"),[O,V]=se.useState({width:window.innerWidth,height:window.innerHeight}),[$,J]=se.useState(!1);se.useEffect(()=>{const H=new Date().toISOString().split("T")[0];_("2025-01-01"),T(H);const pe=()=>{V({width:window.innerWidth,height:window.innerHeight})},be=()=>{J(document.documentElement.classList.contains("dark-theme"))};be();const ve=new MutationObserver(be);return ve.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),window.addEventListener("resize",pe),()=>{window.removeEventListener("resize",pe),ve.disconnect()}},[]),se.useEffect(()=>{t&&(ce(),Y(),k(),A())},[t,v,C,e,n]);const ce=se.useCallback(async()=>{try{const{data:M,error:H}=await t.from("categories").select("name").order("name",{ascending:!0});if(H)throw H;M&&(h(M.map(oe=>oe.name)),g(M.map(oe=>oe.name)))}catch(M){console.error("Ошибка загрузки категорий:",M),I("Не удалось загрузить категории")}},[t]),Y=se.useCallback(async()=>{if(t){P(!0);try{let M=t.from("purchases").select("id, sold_at, sale_price, category").eq("is_sale",!1).not("sold_at","is",null);if(v&&C){const pe=`${v}T00:00:00`,be=`${C}T23:59:59`;M=M.gte("sold_at",pe).lte("sold_at",be)}const{data:H,error:oe}=await M;if(oe)throw oe;i(H||[])}catch(M){console.error("Ошибка загрузки данных о продажах:",M),I("Не удалось загрузить данные о продажах")}finally{P(!1)}}},[t,v,C,e]),k=se.useCallback(async()=>{if(t){P(!0);try{let M=t.from("purchases").select("id, created_at, category, purchase_price");if(v&&C){const pe=`${v}T00:00:00`,be=`${C}T23:59:59`;M=M.gte("created_at",pe).lte("created_at",be)}const{data:H,error:oe}=await M;if(oe)throw oe;l(H||[])}catch(M){console.error("Ошибка загрузки данных о закупках:",M),I("Не удалось загрузить данные о закупках")}finally{P(!1)}}},[t,v,C]),A=se.useCallback(async()=>{if(t){P(!0);try{let M=t.from("clients").select("id, created_at, closed_at, is_archive");if(v&&C){const pe=`${v}T00:00:00`,be=`${C}T23:59:59`;M=M.gte("created_at",pe).lte("created_at",be)}const{data:H,error:oe}=await M;if(oe)throw oe;f(H||[])}catch(M){console.error("Ошибка загрузки данных сервиса:",M),I("Не удалось загрузить данные сервиса")}finally{P(!1)}}},[t,v,C]),R=se.useMemo(()=>{const M=$?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.7)",H=$?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)";return{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Статистика продаж и закупок по месяцам",font:{size:O.width<768?14:16},color:M},tooltip:{mode:"point",intersect:!0,callbacks:{title:function(oe){return oe[0].label},label:function(oe){const pe=oe.dataset.label||"",be=Math.round(oe.raw).toLocaleString();return`${pe}: ${be} ₽`}}},legend:{position:"top",labels:{boxWidth:O.width<768?10:12,font:{size:O.width<768?10:12},color:M}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1e4,callback:function(oe){return oe.toLocaleString()},font:{size:O.width<768?10:12},color:M},grid:{color:H}},x:{ticks:{autoSkip:!0,maxRotation:O.width<768?45:0,minRotation:O.width<768?45:0,font:{size:O.width<768?10:12},color:M},grid:{color:H}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}},[$,O.width]),Q=se.useMemo(()=>{const M=$?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.7)";return{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Распределение продаж и закупок по категориям",font:{size:O.width<768?14:16},color:M},tooltip:{callbacks:{label:function(H){const oe=H.dataset.label||"",pe=H.label||"",be=H.raw||0;return`${oe} ${pe}: ${be.toLocaleString()} ₽`}}},legend:{position:"top",labels:{boxWidth:O.width<768?10:12,font:{size:O.width<768?10:12},color:M}}}}},[$,O.width]),re=se.useMemo(()=>{const M=$?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.7)",H=$?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)";return{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Статистика сервисных записей по месяцам",font:{size:O.width<768?14:16},color:M},tooltip:{mode:"nearest",intersect:!0,callbacks:{label:function(oe){const pe=oe.dataset.label||"",be=oe.raw||0;return oe.label==="Всего"?`${pe}: ${be}`:`${pe}: ${be}`},title:function(oe){return oe[0].label==="Всего"?"Весь период":oe[0].label}}},legend:{position:"top",labels:{boxWidth:O.width<768?10:12,font:{size:O.width<768?10:12},color:M}}},scales:{y:{beginAtZero:!0,title:{display:!0,font:{size:O.width<768?10:12},color:M},ticks:{stepSize:1,font:{size:O.width<768?10:12},color:M},grid:{color:H}},x:{title:{display:!0,font:{size:O.width<768?10:12},color:M},ticks:{autoSkip:!0,maxRotation:O.width<768?45:0,minRotation:O.width<768?45:0,font:{size:O.width<768?10:12},color:M},grid:{color:H}}},interaction:{mode:"nearest",axis:"x",intersect:!0}}},[$,O.width]),F=()=>{if(!c.length)return{labels:[],datasets:[]};const M=["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],H=new Date(v),oe=new Date(C);oe.setDate(oe.getDate()+1);const pe=[];let be=new Date(H);for(;be<=oe;){const ge=M[be.getMonth()],ee=be.getFullYear();pe.push(`${ge} ${ee}`),be.setMonth(be.getMonth()+1)}const ve={},fe={};let me=0,Ae=0;c.forEach(ge=>{const ee=new Date(ge.created_at),q=M[ee.getMonth()],ne=ee.getFullYear(),te=`${q} ${ne}`;if(ge.is_archive||(ve[te]||(ve[te]=0),ve[te]++,me++),ge.closed_at){const le=new Date(ge.closed_at),we=M[le.getMonth()],je=le.getFullYear(),Be=`${we} ${je}`;fe[Be]||(fe[Be]=0),fe[Be]++,Ae++}});const Z=[...pe,"Всего"],ie=pe.map(ge=>ve[ge]||0),he=pe.map(ge=>fe[ge]||0);return ie.push(me),he.push(Ae),{labels:Z,datasets:[{label:"Активные записи",data:ie,backgroundColor:ge=>ge.dataIndex===ie.length-1?"rgba(76, 175, 80, 0.9)":"rgba(76, 175, 80, 0.7)",borderColor:ge=>(ge.dataIndex===ie.length-1,"rgba(76, 175, 80, 1)"),borderWidth:1},{label:"Закрытые записи",data:he,backgroundColor:ge=>ge.dataIndex===he.length-1?"rgba(158, 158, 158, 0.9)":"rgba(158, 158, 158, 0.7)",borderColor:ge=>(ge.dataIndex===he.length-1,"rgba(158, 158, 158, 1)"),borderWidth:1}]}},de=()=>{if(!r.length&&!s.length)return{labels:[],datasets:[]};const M={},H={},oe=["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],pe=new Date(v),be=new Date(C),ve=[];let fe=new Date(pe);for(;fe<=be;){const Ae=oe[fe.getMonth()],Z=fe.getFullYear();ve.push(`${Ae} ${Z}`),fe.setMonth(fe.getMonth()+1)}r.forEach(Ae=>{const Z=new Date(Ae.sold_at),ie=oe[Z.getMonth()],he=Z.getFullYear(),ge=`${ie} ${he}`;let ee=Ae.category||"Неизвестно";M[ee]||(M[ee]={}),M[ee][ge]||(M[ee][ge]=0);const q=parseFloat(Ae.sale_price)||0;M[ee][ge]+=q}),s.forEach(Ae=>{const Z=new Date(Ae.created_at),ie=oe[Z.getMonth()],he=Z.getFullYear(),ge=`${ie} ${he}`;let ee=Ae.category||"Неизвестно";H[ee]||(H[ee]={}),H[ee][ge]||(H[ee][ge]=0);const q=parseFloat(Ae.purchase_price)||0;H[ee][ge]+=q});const me=[];if(B==="purchases"||B==="both"){const Ae=ve.map(Z=>Object.keys(H).reduce((ie,he)=>ie+(H[he][Z]||0),0));me.push({label:"Все закупки",data:Ae,borderColor:$?"#aaa":"#666",backgroundColor:"transparent",borderWidth:2,borderDash:[5,5],tension:.1,pointBackgroundColor:$?"#aaa":"#666",pointBorderColor:$?"#333":"#fff",pointRadius:3,pointHoverRadius:5}),m.forEach(Z=>{if(!H[Z])return;const he=`hsl(${d.indexOf(Z)*360/d.length%360}, 70%, ${$?"60%":"50%"})`,ge=B==="both"?`${Z} (закупки)`:Z;me.push({label:ge,data:ve.map(ee=>H[Z][ee]||0),borderColor:he,backgroundColor:"transparent",borderWidth:2,borderDash:[5,5],tension:.1,pointBackgroundColor:he,pointBorderColor:$?"#333":"#fff",pointRadius:3,pointHoverRadius:5})})}if(B==="sales"||B==="both"){const Ae=ve.map(Z=>Object.keys(M).reduce((ie,he)=>ie+(M[he][Z]||0),0));me.push({label:"Все продажи",data:Ae,borderColor:$?"#fff":"#000",backgroundColor:$?"#fff":"#000",tension:.1,borderWidth:2,borderDash:void 0}),m.forEach(Z=>{if(!M[Z])return;const he=`hsl(${d.indexOf(Z)*360/d.length%360}, 70%, ${$?"60%":"50%"})`,ge=B==="both"?`${Z} (продажи)`:Z;me.push({label:ge,data:ve.map(ee=>M[Z][ee]||0),borderColor:he,backgroundColor:he,tension:.1,borderWidth:2,borderDash:void 0})})}return{labels:ve,datasets:me}},ae=()=>{if(!r.length&&!s.length)return{labels:[],datasets:[]};const M={},H={};r.forEach(fe=>{let me=fe.category||"Неизвестно";M[me]||(M[me]=0);const Ae=parseFloat(fe.sale_price)||0;M[me]+=Ae}),s.forEach(fe=>{let me=fe.category||"Неизвестно";H[me]||(H[me]=0);const Ae=parseFloat(fe.purchase_price)||0;H[me]+=Ae});let oe=[];B==="sales"?oe=Object.keys(M):B==="purchases"?oe=Object.keys(H):oe=[...new Set([...Object.keys(M),...Object.keys(H)])];const pe=oe.map((fe,me)=>`hsl(${me*360/oe.length}, 70%, ${$?"60%":"50%"})`),be=oe.map((fe,me)=>`hsl(${me*360/oe.length}, 70%, ${$?"80%":"70%"})`),ve=[];return(B==="sales"||B==="both")&&ve.push({label:"Продажи",data:oe.map(fe=>M[fe]||0),backgroundColor:pe,borderWidth:1,borderColor:$?"#333":"#fff"}),(B==="purchases"||B==="both")&&ve.push({label:"Закупки",data:oe.map(fe=>H[fe]||0),backgroundColor:be,borderWidth:1,borderColor:$?"#333":"#fff"}),{labels:oe,datasets:ve}},K=()=>{const H=new Date().toISOString().split("T")[0];_("2025-01-01"),T(H)},U=()=>{if(B==="service"){const oe=F();return E.jsx(g4,{data:oe,options:re,height:O.width<768?250:400},`bar-${O.width}-${$}`)}const M=j==="line"?de():ae(),H=j==="line"?R:Q;return j==="line"?E.jsx(m4,{data:M,options:H,height:O.width<768?250:400},`line-${O.width}-${$}-${B}`):E.jsx(v4,{data:M,options:H,height:O.width<768?250:400},`pie-${O.width}-${$}-${B}`)};return E.jsxs("div",{className:"sales-container",children:[E.jsxs("div",{className:"sales-controls",children:[E.jsxs("div",{className:"date-filters",children:[E.jsxs("div",{className:"date-filter-group",children:[E.jsx("label",{htmlFor:"start-date",className:"form__label",children:"От:"}),E.jsx("input",{id:"start-date",type:"date",value:v,onChange:M=>_(M.target.value),className:"form__input",max:C})]}),E.jsxs("div",{className:"date-filter-group",children:[E.jsx("label",{htmlFor:"end-date",className:"form__label",children:"До:"}),E.jsx("input",{id:"end-date",type:"date",value:C,onChange:M=>T(M.target.value),className:"form__input",min:v,max:new Date().toISOString().split("T")[0]})]}),E.jsx("button",{className:"button button--main",onClick:K,children:"Сбросить даты"})]}),E.jsxs("div",{className:"chart-mode-tabs",children:[E.jsx("button",{className:`tab tab--chart ${B==="service"?"tab--active":""}`,onClick:()=>D("service"),children:"Сервис"}),E.jsx("button",{className:`tab tab--chart ${B==="sales"?"tab--active":""}`,onClick:()=>D("sales"),children:"Только продажи"}),E.jsx("button",{className:`tab tab--chart ${B==="purchases"?"tab--active":""}`,onClick:()=>D("purchases"),children:"Только закупки"}),E.jsx("button",{className:`tab tab--chart ${B==="both"?"tab--active":""}`,onClick:()=>D("both"),children:"Оба"})]}),B!=="service"&&E.jsxs("div",{className:"chart-type-tabs",children:[E.jsx("button",{className:`tab tab--chart ${j==="line"?"tab--active":""}`,onClick:()=>N("line"),children:"Линейный"}),E.jsx("button",{className:`tab tab--chart ${j==="pie"?"tab--active":""}`,onClick:()=>N("pie"),children:"Круговой"})]})]}),L&&E.jsx("div",{className:"error",children:L}),S?E.jsx("div",{className:"loader-container",children:E.jsx("div",{className:"loader"})}):E.jsx("div",{className:"chart-container",style:{backgroundColor:$?"var(--card-bg)":"#fff",border:$?"1px solid var(--border-primary)":"none"},children:U()})]})};or.memo(({value:t,onChange:e})=>{const n=s=>{if(!s.target.value.startsWith("+7-")){const f="+7-"+s.target.value.replace(/\D/g,"");e(f);return}const l=s.target.value.slice(3).replace(/\D/g,"");let c="+7-";c+=(l.length>0?l.slice(0,3):"")+(l.length>3?"-"+l.slice(3,6):"")+(l.length>6?"-"+l.slice(6,8):"")+(l.length>8?"-"+l.slice(8,10):""),e(c)},r=s=>{s.key==="Backspace"&&s.target.selectionStart<=3&&s.preventDefault(),s.key==="ArrowLeft"&&s.target.selectionStart<=3&&s.target.setSelectionRange(3,3)},i=s=>{s.target.selectionStart<3&&s.target.setSelectionRange(3,3)};return E.jsx("input",{className:"form__input",type:"tel",value:t,onChange:n,onKeyDown:r,onClick:i,placeholder:"+7-___-___-__-__",pattern:"\\+7-\\d{3}-\\d{3}-\\d{2}-\\d{2}",required:!0,maxLength:"16"})});function b4(){const t="https://ljcazclnmhjdcmgefcvp.supabase.co",e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqY2F6Y2xubWhqZGNtZ2VmY3ZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDczMTIwMzgsImV4cCI6MjA2Mjg4ODAzOH0.9NvbehpZ9SpewAC86T6LAkcRl5ZBKFLK_czeWg0O3JY",[n,r]=se.useState(null),i=se.useRef(null),[s,l]=se.useState(!1),[c,f]=se.useState(!0),[d,h]=se.useState("form"),[m,g]=se.useState([]),[v,_]=se.useState([]),[C,T]=se.useState(!1),[S,P]=se.useState(""),[L,I]=se.useState(!1),[j,N]=se.useState(""),[B,D]=se.useState(!1),[O,V]=se.useState(!1),[$,J]=se.useState(!1),[ce,Y]=se.useState(!1),[k,A]=se.useState(()=>localStorage.getItem("themePreference")||"system"),R=fe=>fe==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":fe,[Q,re]=se.useState(R(k)),F=fe=>{if(i.current)return i.current;const me=uD(t,e,{global:{headers:{Authorization:`Bearer ${fe}`,apikey:e}},auth:{persistSession:!1}});return i.current=me,r(me),me},de=async fe=>{const me=F(fe);r(me),l(!0),H(me)},ae=()=>{localStorage.removeItem("supabaseAuthData"),r(null),l(!1)},K=()=>{A(fe=>{switch(fe){case"light":return"dark";case"dark":return"system";default:return"light"}})},U=()=>k==="system"?"🌓":k==="dark"?"🌙":"☀️",M=()=>{switch(k){case"light":return"Тема: светлая";case"dark":return"Тема: тёмная";default:return`Тема: системная (${Q==="dark"?"тёмная":"светлая"})`}};se.useEffect(()=>{const fe=R(k);re(fe),document.documentElement.className=`${fe}-theme`,localStorage.setItem("themePreference",k);const me=window.matchMedia("(prefers-color-scheme: dark)"),Ae=Z=>{if(k==="system"){const ie=Z.matches?"dark":"light";re(ie),document.documentElement.className=`${ie}-theme`}};return me.addListener(Ae),()=>{me.removeListener(Ae)}},[k]),se.useEffect(()=>{const fe=()=>Q==="dark"?"#121212":"#f9f9f9",me=document.querySelector('meta[name="theme-color"]');me&&me.setAttribute("content",fe());const Ae=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');Ae&&Ae.setAttribute("content",Q==="dark"?"black":"default")},[Q]),se.useEffect(()=>{(async()=>{const me=localStorage.getItem("supabaseAuthData");if(me)try{const{token:Ae,expiresAt:Z}=JSON.parse(me);if(new Date().getTime()>=Z){localStorage.removeItem("supabaseAuthData"),l(!1),f(!1);return}const he=F(Ae);r(he),l(!0),H(he)}catch(Ae){console.error("Auth check error:",Ae),localStorage.removeItem("supabaseAuthData"),l(!1)}f(!1)})()},[]);const H=async fe=>{T(!0);try{const{data:me,error:Ae}=await fe.from("clients").select("*").order("receipt_number",{ascending:!1});if(Ae){if(Ae.message.includes("JWT expired")||Ae.message.includes("Invalid JWT")){ae();return}throw Ae}const Z=me.sort((ie,he)=>ie.is_archive===he.is_archive?he.receipt_number-ie.receipt_number:ie.is_archive?1:-1);g(Z),D(!0)}catch(me){console.error("Ошибка загрузки клиентов:",me)}finally{T(!1)}},oe=se.useCallback(async()=>{if(n){Y(!0);try{const{data:fe,error:me}=await n.from("purchases").select("*").order("is_sale",{ascending:!1}).order("receipt_number",{ascending:!1});if(me)throw me;_(fe)}catch(fe){console.error("Ошибка загрузки остатков:",fe)}finally{Y(!1)}}},[n]),pe=async(fe,me)=>{const Ae=[];for(const Z of me){const ie=Z.name.split(".").pop(),he=`${Gs()}.${ie}`,ge=`client-photos/${fe}/${he}`,{error:ee}=await n.storage.from("client-photos").upload(ge,Z,{cacheControl:"3600",upsert:!1});if(ee)throw ee;Ae.push(ge)}return Ae},be=se.useCallback(async(fe,me)=>{var Ae;try{const{data:Z,error:ie}=await n.from("clients").insert([fe]).select();if(ie)throw ie;const ge=Z[0].receipt_number;let ee=[];if(((Ae=fe.photo_paths)==null?void 0:Ae.length)>0){ee=await pe(ge,fe.photo_paths);const{error:q}=await n.from("clients").update({photo_paths:ee}).eq("receipt_number",ge);if(q)throw q}N("Запись успешно создана!"),setTimeout(()=>N(""),3e3),H(n)}catch(Z){P(Z.message||"Ошибка при отправке формы")}finally{}},[n]),ve=async fe=>{var me,Ae,Z;try{let ie="template.docx";(me=fe.social)!=null&&me.is_avito?ie="template_avito.docx":(Ae=fe.social)!=null&&Ae.is_yandex?ie="template_yandex.docx":(Z=fe.social)!=null&&Z.is_2gis&&(ie="template_2gis.docx");const he=await fetch(`/documents/${ie}`);if(!he.ok)throw new Error(`Ошибка HTTP: ${he.status}`);const ge=await he.arrayBuffer(),ee=new WD(ge),q=new LD(ee,{paragraphLoop:!0,linebreaks:!0}),ne=fe.org_name?fe.org_name:`${fe.last_name||""} ${fe.first_name||""} ${fe.middle_name||""}`.trim(),te={receipt_number:fe.receipt_number.toString(),last_name:fe.last_name||"",first_name:fe.first_name||"",middle_name:fe.middle_name||"",org_name:fe.org_name||"",customer_name:ne,phone:fe.phone||"",object:fe.object||"не указано",serial_number:fe.serial_number||"не указан",state:fe.state||"не указано",repair_type:fe.repair_type||"",current_date:new Date(fe.created_at).toLocaleDateString("ru-RU")};q.render(te);const le=q.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),we=new Date(fe.created_at).toLocaleDateString("ru-RU"),je=fe.org_name?`Квитанция_${fe.receipt_number}_${fe.org_name}_${we}`:`Квитанция_${fe.receipt_number}_${fe.last_name}_${we}`;QD.saveAs(le,`${je}.docx`)}catch(ie){alert(`Не удалось создать документ: ${ie.message}`)}};return c?E.jsx("div",{className:"loader-container",children:E.jsx("div",{className:"loader"})}):s?E.jsxs("div",{className:"app",children:[E.jsxs("div",{className:"app__header",children:[E.jsxs("div",{className:"app__header-logo",children:[E.jsxs("span",{className:"app__subtitle",children:["DriV3R",E.jsx("span",{className:"app__subtitle--crm",children:" CRM"})]}),E.jsx("span",{className:"app__beta",title:"Бета-версия",children:"β"})]}),E.jsxs("div",{className:"header__buttons",children:[E.jsx("button",{className:`theme-switch ${k}`,onClick:K,title:M(),"aria-label":"Переключить тему",children:E.jsx("span",{className:"theme-icon",children:U()})}),E.jsxs("button",{className:"button button--main button--logout",onClick:ae,title:"Выйти из системы",children:[E.jsx("span",{className:"button--logout__caption",children:"Выйти"}),E.jsx("img",{src:"/documents/icons/icon--exit.svg",alt:"Выйти из системы",width:"20"})]})]}),E.jsxs("div",{className:"tabs-container",children:[E.jsx("div",{className:`tab ${d==="form"?"tab--active":""}`,onClick:()=>h("form"),children:"Новая запись"}),E.jsx("div",{className:`tab ${d==="clients"?"tab--active":""}`,onClick:()=>h("clients"),children:"Список клиентов"}),E.jsx("div",{className:`tab ${d==="purchase"?"tab--active":""}`,onClick:()=>h("purchase"),children:"Закуп товара"}),E.jsx("div",{className:`tab ${d==="stock"?"tab--active":""}`,onClick:()=>h("stock"),children:"Остатки"}),E.jsx("div",{className:`tab ${d==="services"?"tab--active":""}`,onClick:()=>h("services"),children:"Услуги"}),E.jsx("div",{className:`tab ${d==="sales"?"tab--active":""}`,onClick:()=>h("sales"),children:"Продажи"}),E.jsx("div",{className:`tab ${d==="stats"?"tab--active":""}`,onClick:()=>h("stats"),children:"Стата"})]})]}),E.jsx("div",{className:`tab-content ${d==="form"?"active":""}`,children:E.jsx(uO,{supabase:n,onSubmit:be,isSaving:L,formError:S,setFormError:P,tempMessage:j})}),E.jsx("div",{className:`tab-content ${d==="clients"?"active":""}`,children:E.jsx(HN,{clients:m,loading:C,initialLoadComplete:B,supabase:n,loadClients:H,generateDocx:ve,onStatusChange:()=>J(fe=>!fe),activeTheme:Q})}),E.jsx("div",{className:`tab-content ${d==="purchase"?"active":""}`,children:E.jsx(AN,{supabase:n,onSuccess:oe})}),E.jsx("div",{className:`tab-content ${d==="stock"?"active":""}`,children:E.jsx(zN,{supabase:n,items:v,loadItems:oe,activeTheme:Q,isLoading:ce})}),E.jsx("div",{className:`tab-content ${d==="services"?"active":""}`,children:E.jsx(YN,{supabase:n,activeTheme:Q})}),E.jsx("div",{className:`tab-content ${d==="sales"?"active":""}`,children:E.jsx(XN,{supabase:n,activeTheme:Q,salesUpdated:O})}),E.jsx("div",{className:`tab-content ${d==="stats"?"active":""}`,children:E.jsx(y4,{supabase:n,salesDataUpdated:O,clientsDataUpdated:$})})]}):E.jsx(JD,{onLogin:de,onAuthCheck:fe=>f(fe)})}sC.createRoot(document.getElementById("root")).render(E.jsx(or.StrictMode,{children:E.jsx(b4,{})}));export{hl as g};
